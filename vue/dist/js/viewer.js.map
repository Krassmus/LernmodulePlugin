{"version":3,"file":"js/viewer.js","mappings":"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","sources":["webpack://vue101/./src/models/TaskDefinition.ts","webpack://vue101/./src/components/LernmoduleViewer.vue?d643","webpack://vue101/./src/components/LernmoduleViewer.vue","webpack://vue101/./src/components/LernmoduleViewer.vue?9aff","webpack://vue101/./src/viewer-main.ts","webpack://vue101/webpack/bootstrap","webpack://vue101/webpack/runtime/chunk loaded","webpack://vue101/webpack/runtime/compat get default export","webpack://vue101/webpack/runtime/define property getters","webpack://vue101/webpack/runtime/global","webpack://vue101/webpack/runtime/hasOwnProperty shorthand","webpack://vue101/webpack/runtime/make namespace object","webpack://vue101/webpack/runtime/node module decorator","webpack://vue101/webpack/runtime/runtimeId","webpack://vue101/webpack/runtime/jsonp chunk loading","webpack://vue101/webpack/runtime/nonce","webpack://vue101/webpack/startup"],"sourcesContent":["import { v4 } from 'uuid';\nimport { z } from 'zod';\nimport { $gettext } from '@/language/gettext';\nimport CrosswordEditor from '@/components/crossword/CrosswordEditor.vue';\nimport CrosswordViewer from '@/components/crossword/CrosswordViewer.vue';\nimport DragTheWordsEditor from '@/components/DragTheWordsEditor.vue';\nimport DragTheWordsViewer from '@/components/DragTheWordsViewer.vue';\nimport FillInTheBlanksEditor from '@/components/FillInTheBlanksEditor.vue';\nimport FillInTheBlanksViewer from '@/components/FillInTheBlanksViewer.vue';\nimport FindTheHotspotsEditor from '@/components/findTheHotspots/FindTheHotspotsEditor.vue';\nimport FindTheHotspotsViewer from '@/components/findTheHotspots/FindTheHotspotsViewer.vue';\nimport FindTheWordsEditor from '@/components/findTheWords/FindTheWordsEditor.vue';\nimport FindTheWordsViewer from '@/components/findTheWords/FindTheWordsViewer.vue';\nimport InteractiveVideoEditor from '@/components/interactiveVideo/InteractiveVideoEditor.vue';\nimport InteractiveVideoViewer from '@/components/interactiveVideo/InteractiveVideoViewer.vue';\nimport MarkTheWordsEditor from '@/components/MarkTheWordsEditor.vue';\nimport MarkTheWordsViewer from '@/components/MarkTheWordsViewer.vue';\nimport MemoryEditor from '@/components/MemoryEditor.vue';\nimport MemoryViewer from '@/components/MemoryViewer.vue';\nimport PairingEditor from '@/components/PairingEditor.vue';\nimport PairingViewer from '@/components/PairingViewer.vue';\nimport QuestionEditor from '@/components/QuestionEditor.vue';\nimport QuestionViewer from '@/components/QuestionViewer.vue';\nimport SequencingEditor from '@/components/SequencingEditor.vue';\nimport SequencingViewer from '@/components/SequencingViewer.vue';\nimport { interactiveVideoTaskSchema } from '@/models/InteractiveVideoTask';\nimport { findTheHotspotsTaskSchema } from '@/models/FindTheHotspotsTask';\nimport { imageFileSchema, feedbackSchema, Feedback } from '@/models/common';\n\n/**\n * @return The Stud.IP download URL for the file with the given ID, or '' if id is ''\n */\nexport function fileIdToUrl(fileId: string): string {\n  if (fileId === '') {\n    return '';\n  }\n  return window.STUDIP.URLHelper.getURL('sendfile.php', {\n    file_id: fileId,\n  });\n}\n\n/**\n * @return The Stud.IP URL to view 'details' about the file with the given ID.\n */\nexport function fileDetailsUrl(fileId: string): string {\n  return window.STUDIP.URLHelper.getURL(`dispatch.php/file/details/${fileId}`);\n}\n\n// TODO Pull these things out into common.ts as well next to ImageElement/imageElementSchema.\nconst audioElementSchema = z.object({\n  uuid: z.string(),\n  type: z.literal('audio'),\n  file_id: z.string(),\n  altText: z.string(),\n});\nexport type AudioElement = z.infer<typeof audioElementSchema>;\n\nconst textElementSchema = z.object({\n  uuid: z.string(),\n  type: z.literal('text'),\n  content: z.string(),\n});\n\nexport const multimediaElementSchema = z.union([\n  imageFileSchema,\n  audioElementSchema,\n  textElementSchema,\n]);\nexport type LernmoduleMultimediaElement = z.infer<\n  typeof multimediaElementSchema\n>;\nexport type MultimediaElementType = LernmoduleMultimediaElement['type'];\n\nexport const crosswordTaskSchema = z.object({\n  task_type: z.literal('Crossword'),\n  words: z.string(),\n  strings: z.object({\n    checkButton: z.string().default(''),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n});\nexport type CrosswordTask = z.infer<typeof crosswordTaskSchema>;\n\nexport const dragTheWordsTaskSchema = z.object({\n  task_type: z.literal('DragTheWords'),\n  template: z.string(),\n  distractors: z.string().optional().default(''),\n  retryAllowed: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  instantFeedback: z.boolean(),\n  allBlanksMustBeFilledForSolutions: z.boolean(),\n  alphabeticOrder: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    fillInAllBlanksMessage: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type DragTheWordsTask = z.infer<typeof dragTheWordsTaskSchema>;\n\nexport const findTheWordsTaskSchema = z.object({\n  task_type: z.literal('FindTheWords'),\n  words: z.string(),\n  size: z.number().optional().default(12),\n  alphabet: z.string(),\n  showWordList: z.boolean().default(true),\n  directions: z\n    .object({\n      n: z.boolean(),\n      ne: z.boolean(),\n      e: z.boolean(),\n      se: z.boolean(),\n      s: z.boolean(),\n      sw: z.boolean(),\n      w: z.boolean(),\n      nw: z.boolean(),\n    })\n    .optional(),\n  strings: z.object({\n    checkButton: z.string().default(''),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n    wordListTitle: z.string().default('Wörter'),\n    timer: z.string(),\n  }),\n});\nexport type FindTheWordsTask = z.infer<typeof findTheWordsTaskSchema>;\n\nexport const fillInTheBlanksTaskSchema = z.object({\n  task_type: z.literal('FillInTheBlanks'),\n  template: z.string(),\n  retryAllowed: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  caseSensitive: z.boolean(),\n  autoCorrect: z.boolean(),\n  allBlanksMustBeFilledForSolutions: z.boolean(),\n  acceptTypos: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    fillInAllBlanksMessage: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type FillInTheBlanksTask = z.infer<typeof fillInTheBlanksTaskSchema>;\n\nexport const markTheWordsTaskSchema = z.object({\n  task_type: z.literal('MarkTheWords'),\n  template: z.string(),\n  retryAllowed: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema).default(() => defaultFeedback()),\n});\nexport type MarkTheWordsTask = z.infer<typeof markTheWordsTaskSchema>;\n\nexport const memoryCardSchema = z.object({\n  uuid: z.string(),\n  first: multimediaElementSchema,\n  second: multimediaElementSchema.optional(),\n});\nexport type MemoryCard = z.infer<typeof memoryCardSchema>;\n\nexport const memoryTaskSchema = z.object({\n  task_type: z.literal('Memory'),\n  cards: z.array(memoryCardSchema),\n  squareLayout: z.boolean(),\n  flipside: imageFileSchema.optional(),\n  retryAllowed: z.boolean(),\n  strings: z.object({\n    retryButton: z.string(),\n    resultMessage: z.string(),\n  }),\n});\nexport type MemoryTask = z.infer<typeof memoryTaskSchema>;\n\nexport const pairSchema = z.object({\n  uuid: z.string(),\n  draggableElement: multimediaElementSchema,\n  targetElement: multimediaElementSchema,\n});\nexport type Pair = z.infer<typeof pairSchema>;\n\nexport const pairingTaskSchema = z.object({\n  task_type: z.literal('Pairing'),\n  pairs: z.array(pairSchema),\n  retryAllowed: z.boolean().optional().default(true),\n  showSolutionsAllowed: z.boolean().optional().default(true),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type PairingTask = z.infer<typeof pairingTaskSchema>;\n\nexport const questionAnswerSchema = z.object({\n  uuid: z.string().optional().default(v4()),\n  text: z.string(),\n  correct: z.boolean(),\n  strings: z.object({\n    hint: z.string(),\n    feedbackSelected: z.string(),\n    feedbackNotSelected: z.string(),\n  }),\n});\nexport type QuestionAnswer = z.infer<typeof questionAnswerSchema>;\n\nexport const questionTaskSchema = z.object({\n  task_type: z.literal('Question'),\n  question: z.string(),\n  answers: z.array(questionAnswerSchema),\n  canAnswerMultiple: z.boolean(),\n  retryAllowed: z.boolean(),\n  randomOrder: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string().optional(),\n  }),\n  feedback: z.array(feedbackSchema).default(() => defaultFeedback()),\n});\nexport type QuestionTask = z.infer<typeof questionTaskSchema>;\n\nexport const sequencingTaskSchema = z.object({\n  task_type: z.literal('Sequencing'),\n  cards: z.array(multimediaElementSchema),\n  retryAllowed: z.boolean().optional().default(true),\n  resumeAllowed: z.boolean().optional().default(true),\n  showSolutionsAllowed: z.boolean().optional().default(true),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    resumeButton: z.string().optional().default($gettext('Fortsetzen')),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type SequencingTask = z.infer<typeof sequencingTaskSchema>;\n\nexport const taskDefinitionSchema = z.discriminatedUnion('task_type', [\n  crosswordTaskSchema,\n  dragTheWordsTaskSchema,\n  fillInTheBlanksTaskSchema,\n  findTheHotspotsTaskSchema,\n  findTheWordsTaskSchema,\n  interactiveVideoTaskSchema,\n  markTheWordsTaskSchema,\n  memoryTaskSchema,\n  pairingTaskSchema,\n  questionTaskSchema,\n  sequencingTaskSchema,\n]);\nexport type TaskDefinition = z.infer<typeof taskDefinitionSchema>;\n\n// Allowed lmb task types to be inserted in the Interactive Video Editor.\n// Excludes the type 'interactive video' to avoid a recursive reference, which\n// is cumbersome to solve in Typescript/Zod.\n// I at first used the workaround described at https://github.com/colinhacks/zod#recursive-types\n// but I later ran into hard-to-resolve typechecking errors when I started to\n// use .optional() inside of schemas. I decided this is the better option for now. -Ann\nexport const taskDefinitionSchemaMinusInteractiveVideo = z.discriminatedUnion(\n  'task_type',\n  [\n    crosswordTaskSchema,\n    dragTheWordsTaskSchema,\n    fillInTheBlanksTaskSchema,\n    findTheHotspotsTaskSchema,\n    findTheWordsTaskSchema,\n    markTheWordsTaskSchema,\n    memoryTaskSchema,\n    pairingTaskSchema,\n    questionTaskSchema,\n    sequencingTaskSchema,\n  ]\n);\n\n// Here, a bit of boilerplate is required to create a schema for the union of\n// all possible 'task_type' values\nexport const taskTypeSchema = z.union([\n  crosswordTaskSchema.shape.task_type,\n  dragTheWordsTaskSchema.shape.task_type,\n  fillInTheBlanksTaskSchema.shape.task_type,\n  findTheHotspotsTaskSchema.shape.task_type,\n  findTheWordsTaskSchema.shape.task_type,\n  interactiveVideoTaskSchema.shape.task_type,\n  markTheWordsTaskSchema.shape.task_type,\n  memoryTaskSchema.shape.task_type,\n  pairingTaskSchema.shape.task_type,\n  questionTaskSchema.shape.task_type,\n  sequencingTaskSchema.shape.task_type,\n]);\n\nfunction defaultFeedback(): Feedback[] {\n  return [\n    { percentage: 0, message: 'Versuchen Sie es noch einmal.' },\n    { percentage: 50, message: 'Gut.' },\n    { percentage: 75, message: 'Sehr gut.' },\n    { percentage: 100, message: 'Perfekt!' },\n  ];\n}\n\nexport function newTask(type: TaskDefinition['task_type']): TaskDefinition {\n  switch (type) {\n    case 'Crossword':\n      return {\n        task_type: 'Crossword',\n        words: 'Apfel, Banane, Orange',\n        strings: {\n          checkButton: 'Überprüfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lösungen anzeigen',\n          resultMessage: ':correct von :total Wörter gefunden.',\n        },\n      };\n    case 'DragTheWords':\n      return {\n        task_type: 'DragTheWords',\n        template: 'Drag the *words* to the matching *gaps*.',\n        distractors: '',\n        retryAllowed: true,\n        showSolutionsAllowed: true,\n        instantFeedback: false,\n        allBlanksMustBeFilledForSolutions: false,\n        alphabeticOrder: false,\n        strings: {\n          checkButton: 'Antworten überprüfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lösungen anzeigen',\n          fillInAllBlanksMessage:\n            'Alle Lücken müssen ausgefüllt sein, um Lösungen anzuzeigen.',\n          resultMessage: ':correct von :total Lücken richtig ausgefüllt.',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'InteractiveVideo':\n      return {\n        task_type: 'InteractiveVideo',\n        interactions: [],\n        video: {\n          type: 'none',\n        },\n        autoplay: false,\n        startAt: 0,\n        disableNavigation: 'not disabled',\n      };\n    case 'FillInTheBlanks':\n      return {\n        task_type: 'FillInTheBlanks',\n        template: 'Hier entsteht der *Lücken*text.',\n        retryAllowed: true,\n        showSolutionsAllowed: true,\n        caseSensitive: true,\n        autoCorrect: false,\n        allBlanksMustBeFilledForSolutions: false,\n        acceptTypos: false,\n        strings: {\n          checkButton: 'Antworten überprüfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lösungen anzeigen',\n          fillInAllBlanksMessage:\n            'Alle Lücken müssen ausgefüllt sein, um Lösungen anzuzeigen.',\n          resultMessage: ':correct von :total Lücken richtig ausgefüllt.',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'FindTheHotspots':\n      return {\n        task_type: 'FindTheHotspots',\n        image: {\n          type: 'none',\n        },\n        hotspots: [],\n        allowedClicks: 0,\n        hotspotsToFind: 0,\n        strings: {\n          retryButton: 'Erneut versuchen',\n          resultMessage: ':correct von :total Hotspots gefunden.',\n          feedbackWhenClickingBackground: 'Hier ist kein Hotspot.',\n          feedbackWhenClickingHotspotAgain:\n            'Du hast diesen Hotspot bereits gefunden.',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'FindTheWords':\n      return {\n        task_type: 'FindTheWords',\n        words: 'Apfel, Banane, Orange',\n        size: 12,\n        alphabet: 'abcdefghijklmnopqrstuvwxyz',\n        showWordList: true,\n        directions: {\n          n: false,\n          ne: true,\n          e: true,\n          se: true,\n          s: true,\n          sw: false,\n          w: false,\n          nw: false,\n        },\n        strings: {\n          checkButton: 'Überprüfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lösungen anzeigen',\n          resultMessage: ':correct von :total Wörter gefunden.',\n          wordListTitle: 'Wörter',\n          timer: 'Zeit:',\n        },\n      };\n    case 'MarkTheWords':\n      return {\n        task_type: 'MarkTheWords',\n        template:\n          '*The* moon is our natural satellite, *i.e.* it revolves around the *Earth!*',\n        retryAllowed: true,\n        showSolutionsAllowed: true,\n        strings: {\n          checkButton: 'Antworten überprüfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lösungen anzeigen',\n          resultMessage: ':correct von :total Wörtern richtig ausgewählt.',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'Memory':\n      return {\n        task_type: 'Memory',\n        cards: [\n          {\n            uuid: v4(),\n            first: {\n              type: 'image',\n              uuid: v4(),\n              file_id: '',\n              altText: '',\n            },\n          },\n        ],\n        retryAllowed: true,\n        squareLayout: true,\n        strings: {\n          retryButton: 'Erneut versuchen',\n          resultMessage: 'Gut gemacht!',\n        },\n      };\n    case 'Pairing':\n      return {\n        task_type: 'Pairing',\n        pairs: [\n          {\n            uuid: v4(),\n            draggableElement: {\n              uuid: v4(),\n              type: 'image',\n              file_id: '',\n              altText: '',\n            },\n            targetElement: {\n              uuid: v4(),\n              type: 'image',\n              file_id: '',\n              altText: '',\n            },\n          },\n        ],\n        retryAllowed: true,\n        showSolutionsAllowed: true,\n        strings: {\n          checkButton: 'Antworten überprüfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lösungen anzeigen',\n          resultMessage: ':correct von :total Bildern richtig zugeordnet.',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'Question':\n      return {\n        task_type: 'Question',\n        question:\n          'Wie nennt man die strukturell abgrenzbaren Bereiche einer Zelle?',\n        answers: [\n          {\n            uuid: v4(),\n            text: 'Organellen',\n            correct: true,\n            strings: {\n              hint: '',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n          {\n            uuid: v4(),\n            text: 'Mitochondrien',\n            correct: false,\n            strings: {\n              hint: '',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n          {\n            uuid: v4(),\n            text: 'Ribosomen',\n            correct: false,\n            strings: {\n              hint: '',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n          {\n            uuid: v4(),\n            text: 'Plasma',\n            correct: false,\n            strings: {\n              hint: '',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n        ],\n        canAnswerMultiple: true,\n        retryAllowed: true,\n        randomOrder: true,\n        showSolutionsAllowed: true,\n        strings: {\n          checkButton: 'Antworten überprüfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lösungen anzeigen',\n          resultMessage: ':correct/:total',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'Sequencing':\n      return {\n        task_type: 'Sequencing',\n        cards: [\n          {\n            type: 'image',\n            uuid: v4(),\n            file_id: '',\n            altText: '',\n          },\n        ],\n        retryAllowed: true,\n        resumeAllowed: true,\n        showSolutionsAllowed: true,\n        strings: {\n          checkButton: 'Reihenfolge überprüfen',\n          retryButton: 'Erneut versuchen',\n          resumeButton: 'Fortsetzen',\n          solutionsButton: 'Lösungen anzeigen',\n          resultMessage: ':correct von :total Elementen richtig sortiert.',\n        },\n        feedback: defaultFeedback(),\n      };\n    default:\n      throw new Error('Unimplemented type: ' + type);\n  }\n}\n\nexport function viewerForTaskType(type: TaskDefinition['task_type']) {\n  switch (type) {\n    case 'Crossword':\n      return CrosswordViewer;\n    case 'DragTheWords':\n      return DragTheWordsViewer;\n    case 'InteractiveVideo':\n      return InteractiveVideoViewer;\n    case 'FillInTheBlanks':\n      return FillInTheBlanksViewer;\n    case 'FindTheHotspots':\n      return FindTheHotspotsViewer;\n    case 'FindTheWords':\n      return FindTheWordsViewer;\n    case 'MarkTheWords':\n      return MarkTheWordsViewer;\n    case 'Memory':\n      return MemoryViewer;\n    case 'Pairing':\n      return PairingViewer;\n    case 'Question':\n      return QuestionViewer;\n    case 'Sequencing':\n      return SequencingViewer;\n    default:\n      throw new Error('Unimplemented task type: ' + type);\n  }\n}\n\nexport function editorForTaskType(type: TaskDefinition['task_type']) {\n  switch (type) {\n    case 'Crossword':\n      return CrosswordEditor;\n    case 'DragTheWords':\n      return DragTheWordsEditor;\n    case 'InteractiveVideo':\n      return InteractiveVideoEditor;\n    case 'FillInTheBlanks':\n      return FillInTheBlanksEditor;\n    case 'FindTheHotspots':\n      return FindTheHotspotsEditor;\n    case 'FindTheWords':\n      return FindTheWordsEditor;\n    case 'MarkTheWords':\n      return MarkTheWordsEditor;\n    case 'Memory':\n      return MemoryEditor;\n    case 'Pairing':\n      return PairingEditor;\n    case 'Question':\n      return QuestionEditor;\n    case 'Sequencing':\n      return SequencingEditor;\n    default:\n      throw new Error('Unimplemented task type: ' + type);\n  }\n}\n\nexport function printTaskType(type: TaskDefinition['task_type']): string {\n  switch (type) {\n    case 'Crossword':\n      return $gettext('Crossword');\n    case 'DragTheWords':\n      return $gettext('Drag The Words');\n    case 'InteractiveVideo':\n      return $gettext('Interactive Video');\n    case 'FillInTheBlanks':\n      return $gettext('Fill In The Blanks');\n    case 'FindTheHotspots':\n      return $gettext('Find The Hotspots');\n    case 'FindTheWords':\n      return $gettext('Find The Words');\n    case 'MarkTheWords':\n      return $gettext('Mark The Words');\n    case 'Memory':\n      return $gettext('Memory');\n    case 'Pairing':\n      return $gettext('Pairing');\n    case 'Question':\n      return $gettext('Question');\n    case 'Sequencing':\n      return $gettext('Sequencing');\n  }\n}\n\n/**\n * @return true if the viewer for the given task type should be visible\n * while the editor for that task type is open.\n */\nexport function showViewerAboveEditor(\n  type: TaskDefinition['task_type']\n): boolean {\n  switch (type) {\n    case 'InteractiveVideo':\n      return false;\n    default:\n      return true;\n  }\n}\n\nexport function iconForTaskType(type: TaskDefinition['task_type']): string {\n  switch (type) {\n    case 'DragTheWords':\n      return 'tan3';\n    case 'InteractiveVideo':\n      break;\n    case 'FillInTheBlanks':\n      return 'file-office';\n    case 'FindTheWords':\n      break;\n    case 'MarkTheWords':\n      return 'tan3';\n    case 'Memory':\n      break;\n    case 'Pairing':\n      break;\n    case 'Question':\n      return 'question';\n    case 'Sequencing':\n      break;\n  }\n  return 'question';\n}\n","import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.viewerForTaskType(_ctx.taskDefinition.task_type)), {\n      task: _ctx.taskDefinition,\n      onUpdateAttempt: _ctx.onUpdateAttempt\n    }, null, 8, [\"task\", \"onUpdateAttempt\"]))\n  ]))\n}","<template>\n  <div>\n    <!--  <h1>Variables passed from server:</h1>-->\n    <!--  <pre>{{ LernmoduleVueJS }}</pre>-->\n    <component\n      :is=\"viewerForTaskType(taskDefinition.task_type)\"\n      :task=\"taskDefinition\"\n      @updateAttempt=\"onUpdateAttempt\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport {\n  taskDefinitionSchema,\n  viewerForTaskType,\n} from '@/models/TaskDefinition';\nimport { updateAttempt } from '@/routes/lernmodule';\n\nexport default defineComponent({\n  name: 'LernmoduleViewer',\n  computed: {\n    LernmoduleVueJS: () => window.STUDIP.LernmoduleVueJS,\n    taskDefinition: () =>\n      taskDefinitionSchema.parse(\n        window.STUDIP.LernmoduleVueJS.module.customdata\n      ),\n  },\n  methods: {\n    viewerForTaskType,\n    onUpdateAttempt(payload: {\n      points: Record<string, number>;\n      success: boolean;\n    }) {\n      console.log(`onUpdateAttempt.  ${JSON.stringify(payload)}`);\n      updateAttempt(payload.points, payload.success);\n    },\n  },\n});\n</script>\n","import { render } from \"./LernmoduleViewer.vue?vue&type=template&id=647c4131&ts=true\"\nimport script from \"./LernmoduleViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./LernmoduleViewer.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue';\nimport LernmoduleViewer from '@/components/LernmoduleViewer.vue';\nimport { gettextPlugin } from '@/language/gettext';\nimport { disableDrag } from '@/directives/vDisableDrag';\nimport './assets/global.css';\n\nconst app = createApp(LernmoduleViewer);\napp.directive('disable-drag', disableDrag);\napp.use(gettextPlugin);\napp.mount('#stud5p-app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 869;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t869: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue101\"] = self[\"webpackChunkvue101\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504,996], function() { return __webpack_require__(2567); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["fileIdToUrl","fileId","window","STUDIP","URLHelper","getURL","file_id","fileDetailsUrl","audioElementSchema","z","object","uuid","string","type","literal","altText","textElementSchema","content","multimediaElementSchema","union","imageFileSchema","crosswordTaskSchema","task_type","words","strings","checkButton","default","retryButton","solutionsButton","resultMessage","dragTheWordsTaskSchema","template","distractors","optional","retryAllowed","boolean","showSolutionsAllowed","instantFeedback","allBlanksMustBeFilledForSolutions","alphabeticOrder","fillInAllBlanksMessage","feedback","array","feedbackSchema","findTheWordsTaskSchema","size","number","alphabet","showWordList","directions","n","ne","e","se","s","sw","w","nw","wordListTitle","timer","fillInTheBlanksTaskSchema","caseSensitive","autoCorrect","acceptTypos","markTheWordsTaskSchema","defaultFeedback","memoryCardSchema","first","second","memoryTaskSchema","cards","squareLayout","flipside","pairSchema","draggableElement","targetElement","pairingTaskSchema","pairs","questionAnswerSchema","v4","text","correct","hint","feedbackSelected","feedbackNotSelected","questionTaskSchema","question","answers","canAnswerMultiple","randomOrder","sequencingTaskSchema","resumeAllowed","resumeButton","$gettext","taskDefinitionSchema","discriminatedUnion","findTheHotspotsTaskSchema","interactiveVideoTaskSchema","taskDefinitionSchemaMinusInteractiveVideo","shape","percentage","message","newTask","interactions","video","autoplay","startAt","disableNavigation","image","hotspots","allowedClicks","hotspotsToFind","feedbackWhenClickingBackground","feedbackWhenClickingHotspotAgain","Error","viewerForTaskType","CrosswordViewer","DragTheWordsViewer","InteractiveVideoViewer","FillInTheBlanksViewer","FindTheHotspotsViewer","FindTheWordsViewer","MarkTheWordsViewer","MemoryViewer","PairingViewer","QuestionViewer","SequencingViewer","editorForTaskType","CrosswordEditor","DragTheWordsEditor","InteractiveVideoEditor","FillInTheBlanksEditor","FindTheHotspotsEditor","FindTheWordsEditor","MarkTheWordsEditor","MemoryEditor","PairingEditor","QuestionEditor","SequencingEditor","printTaskType","showViewerAboveEditor","iconForTaskType","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_createBlock","_resolveDynamicComponent","taskDefinition","task","onUpdateAttempt","defineComponent","name","computed","LernmoduleVueJS","parse","module","customdata","methods","payload","console","log","JSON","stringify","updateAttempt","points","success","__exports__","app","createApp","LernmoduleViewer","directive","disableDrag","use","gettextPlugin","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","id","loaded","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","Object","keys","every","key","splice","r","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","value","nmd","paths","children","b","document","baseURI","self","location","href","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","forEach","bind","push","nc","__webpack_exports__"],"sourceRoot":""}