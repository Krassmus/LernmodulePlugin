(function(){"use strict";var e={9491:function(e,t,n){n(1703);var i=n(9242),o=n(9381),a=n(5700),r=n(5678),s=n(4806),c=n(7029),l=n(3396),u=n(7139);const d={class:"save-cancel-buttons"};function f(e,t,n,i,o,a){return(0,l.wg)(),(0,l.iD)(l.HY,null,[!e.showEditingUI||e.showViewerAboveEditor(e.taskDefinition.task_type)?((0,l.wg)(),(0,l.j4)((0,l.LL)(e.viewerForTaskType(e.taskDefinition.task_type)),{key:0,task:e.taskDefinition,class:"lernmodule-viewer"},null,8,["task"])):(0,l.kq)("",!0),e.showEditingUI?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[((0,l.wg)(),(0,l.j4)((0,l.LL)(e.editorForTaskType(e.taskDefinition.task_type)),{taskDefinition:e.taskDefinition},null,8,["taskDefinition"])),(0,l._)("div",d,[(0,l._)("button",{class:"button accept",onClick:t[0]||(t[0]=(...t)=>e.saveBlock&&e.saveBlock(...t))},(0,u.zw)(e.$gettext("Speichern")),1),(0,l._)("button",{class:"button cancel",onClick:t[1]||(t[1]=(...t)=>e.cancelEditing&&e.cancelEditing(...t))},(0,u.zw)(e.$gettext("Abbrechen")),1)])],64)):(0,l.kq)("",!0)],64)}var b=(0,l.aZ)({name:"CoursewareBlock",methods:{showViewerAboveEditor:c.T5,viewerForTaskType:c.PC,$gettext:r.R,editorForTaskType:c.DC},computed:{showEditingUI:()=>o.f7.showEditorUI,taskDefinition:()=>o.h4.taskDefinition,saveStatus:()=>o.h4.saveStatus,saveBlock:()=>o.f7.saveBlock,cancelEditing:()=>o.f7.cancelEditing}}),p=n(89);const k=(0,p.Z)(b,[["render",f],["__scopeId","data-v-3e75f152"]]);var w=k,v=n(4484);const h=v.z.union([v.z.object({type:v.z.union([v.z.literal("webpackProgress"),v.z.literal("webpackOk"),v.z.literal("webpackClose"),v.z.literal("webpackInvalid"),v.z.literal("webpackErrors"),v.z.literal("webpackStillOk")])}),v.z.string().startsWith("webpackHotUpdate")]),g=v.z.string().startsWith("[iFrameSizer]"),z=v.z.object({type:v.z.literal("ShowEditChange"),state:v.z.boolean()}),y=v.z.union([v.z.object({initialized:v.z.literal(!1),task_type:c.rl}),v.z.object({initialized:v.z.literal(!0),task_json:c.LI})]),m=v.z.object({id:v.z.string(),type:v.z.string()}),j=v.z.object({type:v.z.literal("InitializeCoursewareBlock"),block:v.z.object({attributes:v.z.object({payload:y})}),canEdit:v.z.boolean(),isTeacher:v.z.boolean(),context:m}),E=v.z.union([j,z,h,g]);if(!window.frameElement)throw new Error("This script appears not to be running in an iframe.  It is only meant to be run in an iframe inside of Stud.IP");function C(e){if(e.block.attributes.payload.initialized){const t=c.LI.parse(e.block.attributes.payload.task_json);o.h4.initializeCourseware(t)}else{const t=(0,c.nJ)(e.block.attributes.payload.task_type);o.h4.initializeCourseware(t)}o.f7.setContext(e.context);const t=(0,i.ri)(w);t.directive("model-undoable",a.j),t.use(o.h),t.use(r.v),t.config.unwrapInjectedRef=!0,t.mount("#app")}window.addEventListener("message",(e=>{const t=E.safeParse(e.data);if(t.success){if(!(0,s.isString)(t.data))switch(t.data.type){case"webpackProgress":case"webpackOk":case"webpackClose":case"webpackInvalid":case"webpackErrors":case"webpackStillOk":break;case"InitializeCoursewareBlock":console.warn("message posted to Window: ",e,"data: ",e.data),C(t.data);break;case"ShowEditChange":console.warn("message posted to Window: ",e,"data: ",e.data),o.f7.setShowEditorUI(t.data.state);break;default:}}else"InitializeCoursewareBlock"===e.data?.type&&console.info("Message not recognized: ",e.data,t.error)}))}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,function(){var e=[];n.O=function(t,i,o,a){if(!i){var r=1/0;for(u=0;u<e.length;u++){i=e[u][0],o=e[u][1],a=e[u][2];for(var s=!0,c=0;c<i.length;c++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](i[c])}))?i.splice(c--,1):(s=!1,a<r&&(r=a));if(s){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[i,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.j=65}(),function(){n.b=document.baseURI||self.location.href;var e={65:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,a,r=i[0],s=i[1],c=i[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var u=c(n)}for(t&&t(i);l<r.length;l++)a=r[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},i=self["webpackChunkvue101"]=self["webpackChunkvue101"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998,64],(function(){return n(9491)}));i=n.O(i)})();
//# sourceMappingURL=courseware.js.map