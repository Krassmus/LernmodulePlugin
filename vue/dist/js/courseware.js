(function(){"use strict";var e={1724:function(e,t,n){var o=n(5130),i=n(2859),a=n(9539),r=n(4638),s=n(8626),c=n(5019),l=n(6768),d=n(4232);const u=["disabled"],f=["disabled"],b={class:"save-cancel-buttons"};function k(e,t,n,o,i,a){return(0,l.uX)(),(0,l.CE)(l.FK,null,[!e.showEditingUI||e.showViewerAboveEditor(e.taskDefinition.task_type)?((0,l.uX)(),(0,l.Wv)((0,l.$y)(e.viewerForTaskType(e.taskDefinition.task_type)),{key:0,task:e.taskDefinition,class:"lernmodule-viewer"},null,8,["task"])):(0,l.Q3)("",!0),e.showEditingUI?((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[e.debug?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.undo&&e.undo(...t)),disabled:!e.canUndo},"undo",8,u),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...t)=>e.redo&&e.redo(...t)),disabled:!e.canRedo},"redo",8,f)],64)):(0,l.Q3)("",!0),((0,l.uX)(),(0,l.Wv)((0,l.$y)(e.editorForTaskType(e.taskDefinition.task_type)),{taskDefinition:e.taskDefinition},null,8,["taskDefinition"])),(0,l.Lk)("div",b,[(0,l.Lk)("button",{class:"button accept",onClick:t[2]||(t[2]=(...t)=>e.saveBlock&&e.saveBlock(...t))},(0,d.v_)(e.$gettext("Speichern")),1),(0,l.Lk)("button",{class:"button cancel",onClick:t[3]||(t[3]=(...t)=>e.cancelEditing&&e.cancelEditing(...t))},(0,d.v_)(e.$gettext("Abbrechen")),1)])],64)):(0,l.Q3)("",!0)],64)}var p=n(3139),w=(0,l.pM)({name:"CoursewareBlock",provide(){return{[p.c]:{performEdit:i.SL.performEdit}}},methods:{showViewerAboveEditor:c._N,viewerForTaskType:c.hj,$gettext:r.o_,editorForTaskType:c.WV},computed:{showEditingUI:()=>i.Nl.showEditorUI,taskDefinition:()=>i.SL.taskDefinition,saveStatus:()=>i.SL.saveStatus,saveBlock:()=>i.Nl.saveBlock,cancelEditing:()=>i.Nl.cancelEditing,undo:()=>i.SL.undo,redo:()=>i.SL.redo,canUndo:()=>i.SL.canUndo,canRedo:()=>i.SL.canRedo,debug:()=>window.STUDIP.LernmoduleVueJS.LERNMODULE_DEBUG}}),v=n(1241);const g=(0,v.A)(w,[["render",k],["__scopeId","data-v-3fa15d34"]]);var z=g,y=n(6377);const h=y.z.union([y.z.object({type:y.z.union([y.z.literal("webpackProgress"),y.z.literal("webpackOk"),y.z.literal("webpackClose"),y.z.literal("webpackInvalid"),y.z.literal("webpackErrors"),y.z.literal("webpackStillOk")])}),y.z.string().startsWith("webpackHotUpdate")]),E=y.z.string().startsWith("[iFrameSizer]"),m=y.z.object({type:y.z.literal("ShowEditChange"),state:y.z.boolean()}),S=y.z.union([y.z.object({initialized:y.z.literal(!1),task_type:c.Lu}),y.z.object({initialized:y.z.literal(!0),task_json:y.z.unknown()})]),j=y.z.object({id:y.z.string(),type:y.z.string()}),_=y.z.object({type:y.z.literal("InitializeCoursewareBlock"),block:y.z.object({id:y.z.string(),attributes:y.z.object({payload:S})}),canEdit:y.z.boolean(),isTeacher:y.z.boolean(),context:j}),C=y.z.union([_,m,h,E]);var L=n(5951),O=n(7576),I=n(7778);if(!window.frameElement)throw new Error("This script appears not to be running in an iframe.  It is only meant to be run in an iframe inside of Stud.IP");function T(e){if(e.block.attributes.payload.initialized){let t;try{t=c.cW.parse(e.block.attributes.payload.task_json)}catch(n){const t=(0,O.w)(n,e.block.attributes.payload.task_json);console.error(t,n),console.error("task_json: ",e.block.attributes.payload.task_json);const i=(0,o.Ef)(L.A,{error:t});return void i.mount("#app")}i.SL.initializeCourseware({initializeMessage:e,task_json:t})}else{const t=(0,c.eI)(e.block.attributes.payload.task_type);i.SL.initializeCourseware({initializeMessage:e,task_json:t})}i.Nl.setContext(e.context);const t=(0,o.Ef)(z);t.directive("model-undoable",a.a),t.directive("disable-drag",I.N),t.use(i.M_),t.use(r.TA),t.config.unwrapInjectedRef=!0,t.mount("#app")}window.addEventListener("message",(e=>{const t=C.safeParse(e.data);if(t.success){if(!(0,s.isString)(t.data))switch(t.data.type){case"webpackProgress":case"webpackOk":case"webpackClose":case"webpackInvalid":case"webpackErrors":case"webpackStillOk":break;case"InitializeCoursewareBlock":console.warn("message posted to Window: ",e,"data: ",e.data),T(t.data);break;case"ShowEditChange":console.warn("message posted to Window: ",e,"data: ",e.data),i.Nl.setShowEditorUI(t.data.state);break;default:}}else"InitializeCoursewareBlock"===e.data?.type&&console.info("Message not recognized: ",e.data,t.error)}))}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,a){if(!o){var r=1/0;for(d=0;d<e.length;d++){o=e[d][0],i=e[d][1],a=e[d][2];for(var s=!0,c=0;c<o.length;c++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(s=!1,a<r&&(r=a));if(s){e.splice(d--,1);var l=i();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,i,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.b=document.baseURI||self.location.href;var e={727:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,a,r=o[0],s=o[1],c=o[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(c)var d=c(n)}for(t&&t(o);l<r.length;l++)a=r[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},o=self["webpackChunkvue101"]=self["webpackChunkvue101"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}(),function(){n.nc=void 0}();var o=n.O(void 0,[504,996],(function(){return n(1724)}));o=n.O(o)})();
//# sourceMappingURL=courseware.js.map