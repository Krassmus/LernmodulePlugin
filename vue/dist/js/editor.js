(function(){"use strict";var e={6548:function(e,t,n){var r=n(9242),s=n(3396),o=n(7139);const a={class:"default"},i=["value"],u={style:{"margin-bottom":"1em","margin-top":"1em"}},l=["value"],c={value:"FillInTheBlanks"},d={value:"Question"},g={value:"DragTheWords"},h={value:"MarkTheWords"},p={value:"FindTheHotspot"},f={value:"Memory"},k={value:"FindTheWords"},z={value:"Pairing"},b={value:"Sequencing"},v={class:"editor"},m={class:"save-undo-redo"},y=["disabled"],w={class:"viewer"},T={style:{"margin-top":"1em"}};function _(e,t,n,r,_,S){const B=(0,s.up)("studip-wysiwyg");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"#sidebar-actions .sidebar-widget-content .widget-list"},[(0,s._)("li",{class:(0,o.C_)(["save-row","saving"!==e.saveStatus.status?"action":"action disabled"]),onClick:t[0]||(t[0]=(...t)=>e.saveTask&&e.saveTask(...t))},[(0,s._)("span",null,(0,o.zw)(e.$gettext("Speichern")),1),(0,s._)("span",{class:(0,o.C_)("saved"===e.saveStatus.status&&this.hasUnsavedChanges?"save-status-modified":"")},(0,o.zw)(e.saveStatusText),3)],2),e.LernmoduleVueJS.LERNMODULE_DEBUG?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("li",{onClick:t[1]||(t[1]=(...t)=>e.undo&&e.undo(...t)),class:(0,o.C_)(e.canUndo?"action":"action disabled")},(0,o.zw)(e.$pgettext("Im Sinne von undo/redo","Rückgängig")),3),(0,s._)("li",{onClick:t[2]||(t[2]=(...t)=>e.redo&&e.redo(...t)),class:(0,o.C_)(e.canRedo?"action":"action disabled")},(0,o.zw)(e.$pgettext("Im Sinne von undo/redo","Wiederherstellen")),3)],64)):(0,s.kq)("",!0)])),(0,s._)("form",a,[(0,s._)("fieldset",null,[(0,s._)("legend",null,(0,o.zw)(e.$gettext("Grunddaten")),1),(0,s._)("label",null,[(0,s.Uk)((0,o.zw)(e.$gettext("Titel"))+" ",1),(0,s._)("input",{type:"text",value:e.moduleName,onInput:t[3]||(t[3]=(...t)=>e.onInputModuleName&&e.onInputModuleName(...t))},null,40,i)]),(0,s._)("label",null,[(0,s.Uk)((0,o.zw)(e.$gettext("Aufgabenbeschreibung"))+" ",1),(0,s.Wm)(B,{"model-value":e.infotext,id:"ckeditorElement","onUpdate:modelValue":e.onInputInfotext,"insert-html-comment":"","remove-wrapping-p-tag":""},null,8,["model-value","onUpdate:modelValue"])])])]),(0,s._)("div",u,[(0,s._)("label",null,(0,o.zw)(e.$gettext("Aufgabentyp auswählen:")),1),(0,s._)("select",{value:e.taskDefinition.task_type,onInput:t[4]||(t[4]=(...t)=>e.onSelectTaskType&&e.onSelectTaskType(...t)),style:{"margin-left":"0.5em"}},[(0,s._)("option",c,(0,o.zw)(e.$gettext("Fill In The Blanks")),1),(0,s._)("option",d,(0,o.zw)(e.$gettext("Question")),1),(0,s._)("option",g,(0,o.zw)(e.$gettext("Drag The Words")),1),(0,s._)("option",h,(0,o.zw)(e.$gettext("Mark The Words")),1),e.LernmoduleVueJS.LERNMODULE_DEBUG?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("option",p,(0,o.zw)(e.$gettext("Find The Hotspot")),1),(0,s._)("option",f,(0,o.zw)(e.$gettext("Memory")),1),(0,s._)("option",k,(0,o.zw)(e.$gettext("Find The Words")),1),(0,s._)("option",z,(0,o.zw)(e.$gettext("Pairing")),1),(0,s._)("option",b,(0,o.zw)(e.$gettext("Sequencing")),1)],64)):(0,s.kq)("",!0)],40,l)]),(0,s._)("div",null,[(0,s._)("div",v,[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.editorForTaskType(e.taskDefinition.task_type)),{taskDefinition:e.taskDefinition},null,8,["taskDefinition"]))]),(0,s._)("div",m,[(0,s._)("button",{class:"button",onClick:t[5]||(t[5]=(...t)=>e.saveTask&&e.saveTask(...t)),disabled:"saving"===e.saveStatus.status},(0,o.zw)(e.$gettext("Speichern")),9,y)]),(0,s._)("div",w,[(0,s._)("h1",T,(0,o.zw)(e.$gettext("Vorschau")),1),((0,s.wg)(),(0,s.j4)((0,s.LL)(e.viewerForTaskType(e.taskDefinition.task_type)),{task:e.taskDefinition},null,8,["task"]))])])],64)}var S=n(7570),B=n(9381),M=n(5678),x=n(7251),A=(0,s.aZ)({name:"LernmoduleEditor",components:{StudipWysiwyg:x.Z},mounted(){window.addEventListener("beforeunload",this.onBeforeUnload,{capture:!0})},unmounted(){window.removeEventListener("beforeunload",this.onBeforeUnload,{capture:!0})},computed:{LernmoduleVueJS:()=>window.STUDIP.LernmoduleVueJS,taskDefinition:()=>B.h4.taskDefinition,moduleName:()=>B.h4.moduleName,infotext:()=>B.h4.infotext,saveStatus:()=>B.h4.saveStatus,hasUnsavedChanges:()=>B.h4.hasUnsavedChanges,canUndo:()=>B.h4.canUndo,canRedo:()=>B.h4.canRedo,saveStatusText(){switch(this.saveStatus.status){case"saved":return this.hasUnsavedChanges?(0,M.RA)("Modifiziert"):(0,M.RA)("Gespeichert");case"saving":return(0,M.RA)("Wird gespeichert...");case"error":return(0,M.RA)("Beim Speichern ist ein Fehler aufgetreten.")}return""}},methods:{$pgettext:M.rn,$gettext:M.RA,editorForTaskType:S.DC,viewerForTaskType:S.PC,saveTask:B.h4.saveTask,onBeforeUnload(e){if(this.hasUnsavedChanges)return e.preventDefault(),e.returnValue=!0},undo:B.h4.undo,redo:B.h4.redo,onInputModuleName(e){const t=e.target.value;B.h4.setModuleName(t)},onInputInfotext(e){B.h4.setInfoText(e)},onSelectTaskType(e){const t=e.target.value;B.h4.performEdit({newTaskDefinition:(0,S.nJ)(t),undoBatch:{}})}}}),F=n(89);const I=(0,F.Z)(A,[["render",_],["__scopeId","data-v-248b3c42"]]);var j=I,D=n(5700);B.h4.initializeNonCourseware();const W=(0,r.ri)(j);W.directive("model-undoable",D.j),W.use(B.h),W.use(M.v),W.config.unwrapInjectedRef=!0,W.mount("#app")},7570:function(e,t,n){n.d(t,{DC:function(){return ee},Ee:function(){return ne},KI:function(){return I},LI:function(){return G},PC:function(){return X},aL:function(){return J},by:function(){return te},ft:function(){return j},nJ:function(){return K}});n(6314),n(1703);var r=n(223),s=n(9331),o=n(3485),a=n(6915),i=n(9143),u=n(2395),l=n(5157),c=n(2392),d=n(2884),g=n(354),h=n(9030),p=n(8115),f=n(4404),k=n(9280),z=n(6518),b=n(8539),v=n(536),m=n(4484),y=n(5482),w=n(9011),T=n(1378),_=n(5678),S=n(4690),B=n(4861);const M=m.z.object({percentage:m.z.number(),message:m.z.string()}),x=m.z.object({uuid:m.z.string(),imageUrl:m.z.string(),altText:m.z.string()}),A=m.z.object({v:m.z.literal(2),uuid:m.z.string(),file_id:m.z.string(),altText:m.z.string()}),F=m.z.union([x,A]).transform((e=>{if(Object.hasOwn(e,"v"))return e;{const t=e,n=new URLSearchParams(t.imageUrl),r=n.get("file_id");if(!r)throw new Error('Could not migrate imageUrl to file_id. The query param "file_id" was not found in the imageUrl string.');const s={v:2,uuid:t.uuid,altText:t.altText,file_id:r};return console.log("Migrating from imageSchema_v1 to imageSchema_v2","v1:",t,"v2:",s),s}}));function I(e){return""===e?"":window.STUDIP.URLHelper.getURL("sendfile.php",{file_id:e})}function j(e){return window.STUDIP.URLHelper.getURL(`dispatch.php/file/details/${e}`)}const D=m.z.object({task_type:m.z.literal("DragTheWords"),template:m.z.string(),retryAllowed:m.z.boolean(),showSolutionsAllowed:m.z.boolean(),instantFeedback:m.z.boolean(),allBlanksMustBeFilledForSolutions:m.z.boolean(),alphabeticOrder:m.z.boolean(),strings:m.z.object({checkButton:m.z.string(),retryButton:m.z.string(),solutionsButton:m.z.string(),fillInAllBlanksMessage:m.z.string(),resultMessage:m.z.string()}),feedback:m.z.array(M)}),W=m.z.object({task_type:m.z.literal("FindTheHotspot"),image:F}),L=m.z.object({task_type:m.z.literal("FindTheWords"),words:m.z.array(m.z.string())}),U=m.z.object({task_type:m.z.literal("MarkTheWords"),template:m.z.string(),retryAllowed:m.z.boolean(),showSolutionsAllowed:m.z.boolean(),strings:m.z.object({checkButton:m.z.string(),retryButton:m.z.string(),solutionsButton:m.z.string(),resultMessage:m.z.string()}),feedback:m.z.array(M).default((()=>Y()))}),E=F,R=m.z.object({task_type:m.z.literal("Memory"),cards:m.z.array(E),strings:m.z.object({checkButton:m.z.string(),retryButton:m.z.string(),solutionsButton:m.z.string(),resultMessage:m.z.string()})}),Z=m.z.object({task_type:m.z.literal("FillInTheBlanks"),template:m.z.string(),retryAllowed:m.z.boolean(),showSolutionsAllowed:m.z.boolean(),caseSensitive:m.z.boolean(),autoCorrect:m.z.boolean(),allBlanksMustBeFilledForSolutions:m.z.boolean(),acceptTypos:m.z.boolean(),strings:m.z.object({checkButton:m.z.string(),retryButton:m.z.string(),solutionsButton:m.z.string(),fillInAllBlanksMessage:m.z.string(),resultMessage:m.z.string()}),feedback:m.z.array(M)}),P=m.z.object({text:m.z.string(),correct:m.z.boolean(),strings:m.z.object({hint:m.z.string(),feedbackSelected:m.z.string(),feedbackNotSelected:m.z.string()})}),C=m.z.object({task_type:m.z.literal("Question"),question:m.z.string(),answers:m.z.array(P),canAnswerMultiple:m.z.boolean(),retryAllowed:m.z.boolean(),randomOrder:m.z.boolean(),showSolutionsAllowed:m.z.boolean(),strings:m.z.object({checkButton:m.z.string(),retryButton:m.z.string(),solutionsButton:m.z.string()})}),N=m.z.object({uuid:m.z.string(),type:m.z.literal("image"),file_id:m.z.string(),altText:m.z.string()}),O=m.z.object({uuid:m.z.string(),type:m.z.literal("audio"),file_id:m.z.string(),altText:m.z.string()}),$=m.z.object({uuid:m.z.string(),type:m.z.literal("text"),content:m.z.string()}),q=m.z.union([N,O,$]),H=m.z.object({uuid:m.z.string(),draggableElement:q,targetElement:q}),V=m.z.object({task_type:m.z.literal("Pairing"),pairs:m.z.array(H),strings:m.z.object({checkButton:m.z.string(),retryButton:m.z.string(),solutionsButton:m.z.string(),resultMessage:m.z.string()}),feedback:m.z.array(M)}),Q=m.z.object({task_type:m.z.literal("Sequencing"),images:m.z.array(F),strings:m.z.object({checkButton:m.z.string(),retryButton:m.z.string(),solutionsButton:m.z.string(),resultMessage:m.z.string()}),feedback:m.z.array(M)}),G=m.z.union([D,Z,W,L,Q,T.PN,U,R,V,C]),J=m.z.union([D,Z,W,L,Q,U,R,V,C]);m.z.union([D.shape.task_type,Z.shape.task_type,W.shape.task_type,L.shape.task_type,Q.shape.task_type,T.PN.shape.task_type,U.shape.task_type,R.shape.task_type,V.shape.task_type,C.shape.task_type]);function Y(){return[{percentage:0,message:"Versuchen Sie es noch einmal."},{percentage:50,message:"Gut."},{percentage:75,message:"Sehr gut."},{percentage:100,message:"Perfekt!"}]}function K(e){switch(e){case"DragTheWords":return{task_type:"DragTheWords",template:"Drag the *words* to the matching *gaps*.",retryAllowed:!0,showSolutionsAllowed:!0,instantFeedback:!1,allBlanksMustBeFilledForSolutions:!1,alphabeticOrder:!1,strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",fillInAllBlanksMessage:"Alle Lücken müssen ausgefüllt sein, um Lösungen anzuzeigen.",resultMessage:":correct von :total Lücken richtig ausgefüllt."},feedback:Y()};case"FillInTheBlanks":return{task_type:"FillInTheBlanks",template:"Hier entsteht der *Lücken*text.",retryAllowed:!0,showSolutionsAllowed:!0,caseSensitive:!1,autoCorrect:!1,allBlanksMustBeFilledForSolutions:!1,acceptTypos:!0,strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",fillInAllBlanksMessage:"Alle Lücken müssen ausgefüllt sein, um Lösungen anzuzeigen.",resultMessage:":correct von :total Lücken richtig ausgefüllt."},feedback:Y()};case"FindTheHotspot":return{task_type:"FindTheHotspot",image:{v:2,uuid:(0,v.Z)(),file_id:"",altText:""}};case"FindTheWords":return{task_type:"FindTheWords",words:["apple","banana","orange"]};case"Pairing":return{task_type:"Pairing",pairs:[{uuid:(0,v.Z)(),draggableElement:{uuid:(0,v.Z)(),type:"image",file_id:"",altText:""},targetElement:{uuid:(0,v.Z)(),type:"image",file_id:"",altText:""}}],strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",resultMessage:":correct von :total Bilder richtig zugeordnet."},feedback:Y()};case"Sequencing":return{task_type:"Sequencing",images:[{uuid:(0,v.Z)(),v:2,file_id:"",altText:""}],strings:{checkButton:"Reihenfolge überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",resultMessage:":correct von :total Elemente richtig sortiert."},feedback:Y()};case"InteractiveVideo":return{task_type:"InteractiveVideo",interactions:[],video:{type:"none"},autoplay:!1,startAt:0,disableNavigation:"not disabled"};case"MarkTheWords":return{task_type:"MarkTheWords",template:"*The* moon is our natural satellite, *i.e.* it revolves around the *Earth!*",retryAllowed:!0,showSolutionsAllowed:!0,strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",resultMessage:":correct von :total Wörter richtig ausgewählt."},feedback:Y()};case"Memory":return{task_type:"Memory",cards:[{uuid:(0,v.Z)(),v:2,file_id:"",altText:""}],strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",resultMessage:":correct von :total Wörter richtig ausgewählt."}};case"Question":return{task_type:"Question",question:"Welche dieser Himmelskörper sind Planeten in unserem Sonnensystem?",answers:[{text:"Mond",correct:!1,strings:{hint:"",feedbackSelected:"Dies ist ein Mond, kein Planet.",feedbackNotSelected:"Genau, der Mond ist ein Mond."}},{text:"Merkur",correct:!0,strings:{hint:"",feedbackSelected:"",feedbackNotSelected:""}},{text:"Venus",correct:!0,strings:{hint:"",feedbackSelected:"",feedbackNotSelected:""}},{text:"Mars",correct:!0,strings:{hint:"",feedbackSelected:"",feedbackNotSelected:""}},{text:"Pluto",correct:!1,strings:{hint:"Hat sich hier was geändert?",feedbackSelected:"",feedbackNotSelected:""}},{text:"Titan",correct:!1,strings:{hint:"",feedbackSelected:"Das ist leider nicht richtig. Der Titan ist ein Mond vom Saturn.",feedbackNotSelected:"Genau, der Titan ist ein Mond vom Saturn."}},{text:"Sonne",correct:!1,strings:{hint:"",feedbackSelected:"Das ist leider nicht richtig. Die Sonne ist ein Stern.",feedbackNotSelected:"Genau, die Sonne ist ein Stern."}}],canAnswerMultiple:!0,retryAllowed:!0,randomOrder:!0,showSolutionsAllowed:!0,strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen"}};default:throw new Error("Unimplemented type: "+e)}}function X(e){switch(e){case"DragTheWords":return l.Z;case"FillInTheBlanks":return r.Z;case"FindTheHotspot":return w.Z;case"FindTheWords":return a.Z;case"Pairing":return f.Z;case"Sequencing":return z.Z;case"InteractiveVideo":return B.Z;case"MarkTheWords":return d.Z;case"Memory":return p.Z;case"Question":return u.Z;default:throw new Error("Unimplemented task type: "+e)}}function ee(e){switch(e){case"DragTheWords":return c.Z;case"FillInTheBlanks":return s.Z;case"FindTheHotspot":return y.Z;case"FindTheWords":return o.Z;case"Pairing":return k.Z;case"Sequencing":return b.Z;case"InteractiveVideo":return S.Z;case"MarkTheWords":return g.Z;case"Memory":return h.Z;case"Question":return i.Z;default:throw new Error("Unimplemented task type: "+e)}}function te(e){switch(e){case"DragTheWords":return(0,_.RA)("Drag The Words");case"FillInTheBlanks":return(0,_.RA)("Fill In The Blanks");case"FindTheHotspot":return(0,_.RA)("Find The Hotspot");case"FindTheWords":return(0,_.RA)("Find The Words");case"Pairing":return(0,_.RA)("Pairing");case"Sequencing":return(0,_.RA)("Sequencing");case"InteractiveVideo":return(0,_.RA)("Interactive Video");case"MarkTheWords":return(0,_.RA)("Mark The Words");case"Memory":return(0,_.RA)("Memory");case"Question":return(0,_.RA)("Question")}}function ne(e){switch(e){case"Memory":break;case"FillInTheBlanks":return"file-office";case"FindTheWords":break;case"Question":return"question";case"DragTheWords":return"tan3";case"MarkTheWords":return"tan3";case"Pairing":break;case"Sequencing":break;case"InteractiveVideo":break}return"question"}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,function(){var e=[];n.O=function(t,r,s,o){if(!r){var a=1/0;for(c=0;c<e.length;c++){r=e[c][0],s=e[c][1],o=e[c][2];for(var i=!0,u=0;u<r.length;u++)(!1&o||a>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(i=!1,o<a&&(a=o));if(i){e.splice(c--,1);var l=s();void 0!==l&&(t=l)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,s,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.j=189}(),function(){n.b=document.baseURI||self.location.href;var e={189:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,o,a=r[0],i=r[1],u=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(u)var c=u(n)}for(t&&t(r);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=self["webpackChunkvue101"]=self["webpackChunkvue101"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998,64],(function(){return n(6548)}));r=n.O(r)})();
//# sourceMappingURL=editor.js.map