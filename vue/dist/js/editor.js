(function(){"use strict";var e={667:function(e,t,n){var r=n(9242),s=n(3396),a=n(7139);const o={class:"default"},i=["value"],l={style:{"margin-bottom":"1em","margin-top":"1em"}},u=["value"],c={value:"FillInTheBlanks"},d={value:"Question"},g={value:"DragTheWords"},h={value:"MarkTheWords"},p={class:"save-undo-redo"},k=["disabled"],f={style:{"margin-top":"1em"}};function z(e,t,n,r,z,v){const m=(0,s.up)("studip-wysiwyg");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"#sidebar-actions .sidebar-widget-content .widget-list"},[(0,s._)("li",{class:(0,a.C_)(["save-row","saving"!==e.saveStatus.status?"action":"action disabled"]),onClick:t[0]||(t[0]=(...t)=>e.saveTask&&e.saveTask(...t))},[(0,s._)("span",null,(0,a.zw)(e.$gettext("Speichern")),1),(0,s._)("span",{class:(0,a.C_)("Modified"===e.saveStatusText?"save-status-modified":"")},(0,a.zw)(e.saveStatusText),3)],2),(0,s._)("li",{onClick:t[1]||(t[1]=(...t)=>e.undo&&e.undo(...t)),class:(0,a.C_)(e.canUndo?"action":"action disabled")},"Undo",2),(0,s._)("li",{onClick:t[2]||(t[2]=(...t)=>e.redo&&e.redo(...t)),class:(0,a.C_)(e.canRedo?"action":"action disabled")},"Redo",2)])),(0,s._)("form",o,[(0,s._)("fieldset",null,[(0,s._)("legend",null,(0,a.zw)(e.$gettext("Grunddaten")),1),(0,s._)("label",null,[(0,s.Uk)((0,a.zw)(e.$gettext("Titel"))+" ",1),(0,s._)("input",{type:"text",value:e.moduleName,onInput:t[3]||(t[3]=(...t)=>e.onInputModuleName&&e.onInputModuleName(...t))},null,40,i)]),(0,s._)("label",null,[(0,s.Uk)((0,a.zw)(e.$gettext("Aufgabenbeschreibung"))+" ",1),(0,s.Wm)(m,{"model-value":e.infotext,id:"ckeditorElement","onUpdate:modelValue":e.onInputInfotext},null,8,["model-value","onUpdate:modelValue"])])])]),(0,s._)("div",l,[(0,s._)("label",null,(0,a.zw)(e.$gettext("Aufgabentyp auswählen:")),1),(0,s._)("select",{value:e.taskDefinition.task_type,onInput:t[4]||(t[4]=(...t)=>e.onSelectTaskType&&e.onSelectTaskType(...t)),style:{"margin-left":"0.5em"}},[(0,s._)("option",c,(0,a.zw)(e.$gettext("Fill in the Blanks")),1),(0,s._)("option",d,(0,a.zw)(e.$gettext("Question")),1),(0,s._)("option",g,(0,a.zw)(e.$gettext("Drag the Words")),1),(0,s._)("option",h,(0,a.zw)(e.$gettext("Mark the Words")),1)],40,u)]),(0,s._)("div",null,[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.editorForTaskType(e.taskDefinition.task_type)))),(0,s._)("div",p,[(0,s._)("button",{class:"button",onClick:t[5]||(t[5]=(...t)=>e.saveTask&&e.saveTask(...t)),disabled:"saving"===e.saveStatus.status},(0,a.zw)(e.$gettext("Speichern")),9,k)]),(0,s._)("h1",f,(0,a.zw)(e.$gettext("Vorschau")),1),((0,s.wg)(),(0,s.j4)((0,s.LL)(e.viewerForTaskType(e.taskDefinition.task_type)),{task:e.taskDefinition},null,8,["task"]))])],64)}var v=n(6813),m=n(7627),b=n(5678),w=n(853),y=(0,s.aZ)({name:"LernmoduleEditor",components:{StudipWysiwyg:w.Z},mounted(){window.addEventListener("beforeunload",this.onBeforeUnload,{capture:!0})},unmounted(){window.removeEventListener("beforeunload",this.onBeforeUnload,{capture:!0})},computed:{LernmoduleVueJS:()=>window.STUDIP.LernmoduleVueJS,taskDefinition:()=>m.h4.taskDefinition,moduleName:()=>m.h4.moduleName,infotext:()=>m.h4.infotext,saveStatus:()=>m.h4.saveStatus,hasUnsavedChanges:()=>m.h4.hasUnsavedChanges,canUndo:()=>m.h4.canUndo,canRedo:()=>m.h4.canRedo,saveStatusText(){switch(this.saveStatus.status){case"saved":return this.hasUnsavedChanges?"Modified":"Saved";case"saving":return"Saving...";case"error":return"An error occurred while saving."}return""}},methods:{$gettext:b.R,editorForTaskType:v.DC,viewerForTaskType:v.PC,saveTask:m.h4.saveTask,onBeforeUnload(e){if(this.hasUnsavedChanges)return e.preventDefault(),e.returnValue=!0},undo:m.h4.undo,redo:m.h4.redo,onInputModuleName(e){const t=e.target.value;m.h4.setModuleName(t)},onInputInfotext(e){m.h4.setInfoText(e)},onSelectTaskType(e){const t=e.target.value;m.h4.performEdit({newTaskDefinition:(0,v.nJ)(t),undoBatch:{}})}}}),_=n(89);const B=(0,_.Z)(y,[["render",z],["__scopeId","data-v-445b185e"]]);var S=B,T=n(5700);m.h4.initializeNonCourseware();const M=(0,r.ri)(S);M.directive("model-undoable",T.j),M.use(m.h),M.use(b.v),M.mount("#app")},6813:function(e,t,n){n.d(t,{DC:function(){return le},nJ:function(){return oe},LI:function(){return ae},PC:function(){return ie}});n(1703);var r=n(2900),s=n(8043),a=n(8791),o=(n(7986),n(89));const i=(0,o.Z)(a.Z,[["render",s.s],["__scopeId","data-v-5c9bb54e"]]);var l=i,u=n(5648),c=n(5341);n(300);const d=(0,o.Z)(c.Z,[["render",u.s],["__scopeId","data-v-70427418"]]);var g=d,h=n(5007),p=n(4981),k=n(9013),f=n(1539);n(1838);const z=(0,o.Z)(f.Z,[["render",k.s],["__scopeId","data-v-560b7c22"]]);var v=z,m=n(9548),b=n(5635),w=n(6265);const y=(0,o.Z)(w.Z,[["render",b.s]]);var _=y,B=n(5114),S=n(4504);n(5650);const T=(0,o.Z)(S.Z,[["render",B.s],["__scopeId","data-v-b500394e"]]);var M=T,I=n(9538),x=n(3179),A=n(1644),j=n(4269);n(9894);const Z=(0,o.Z)(j.Z,[["render",A.s],["__scopeId","data-v-797ef1a9"]]);var D=Z,U=n(8734),L=n(3250),F=n(6544);n(3913);const C=(0,o.Z)(F.Z,[["render",L.s],["__scopeId","data-v-4fffd5a2"]]);var W=C,E=n(536),P=n(4484),N=n(3959),O=n(6897),V=n(7417);const $=(0,o.Z)(V.Z,[["render",O.s]]);var q=$;const Q=P.z.object({percentage:P.z.number(),message:P.z.string()}),G=P.z.object({task_type:P.z.literal("DragTheWords"),template:P.z.string(),retryAllowed:P.z.boolean(),showSolutionsAllowed:P.z.boolean(),instantFeedback:P.z.boolean(),allBlanksMustBeFilledForSolutions:P.z.boolean(),alphabeticOrder:P.z.boolean(),strings:P.z.object({checkButton:P.z.string(),retryButton:P.z.string(),solutionsButton:P.z.string(),fillInAllBlanksMessage:P.z.string(),resultMessage:P.z.string()}),feedback:P.z.array(Q)}),R=P.z.object({task_type:P.z.literal("MarkTheWords"),template:P.z.string(),retryAllowed:P.z.boolean(),showSolutionsAllowed:P.z.boolean(),strings:P.z.object({checkButton:P.z.string(),retryButton:P.z.string(),solutionsButton:P.z.string(),resultMessage:P.z.string()})}),H=P.z.object({uuid:P.z.string(),imageUrl:P.z.string(),altText:P.z.string()}),J=P.z.object({task_type:P.z.literal("Memory"),cards:P.z.array(H),strings:P.z.object({checkButton:P.z.string(),retryButton:P.z.string(),solutionsButton:P.z.string(),resultMessage:P.z.string()})}),Y=P.z.object({task_type:P.z.literal("FillInTheBlanks"),template:P.z.string(),retryAllowed:P.z.boolean(),showSolutionsAllowed:P.z.boolean(),caseSensitive:P.z.boolean(),autoCorrect:P.z.boolean(),allBlanksMustBeFilledForSolutions:P.z.boolean(),acceptTypos:P.z.boolean(),strings:P.z.object({checkButton:P.z.string(),retryButton:P.z.string(),solutionsButton:P.z.string(),fillInAllBlanksMessage:P.z.string(),resultMessage:P.z.string()}),feedback:P.z.array(Q)}),K=P.z.object({text:P.z.string(),correct:P.z.boolean(),strings:P.z.object({hint:P.z.string(),feedbackSelected:P.z.string(),feedbackNotSelected:P.z.string()})}),X=P.z.object({task_type:P.z.literal("Question"),question:P.z.string(),answers:P.z.array(K),canAnswerMultiple:P.z.boolean(),retryAllowed:P.z.boolean(),randomOrder:P.z.boolean(),showSolutionsAllowed:P.z.boolean(),strings:P.z.object({checkButton:P.z.string(),retryButton:P.z.string(),solutionsButton:P.z.string()})}),ee=P.z.object({uuid:P.z.string(),imageUrl:P.z.string(),altText:P.z.string()}),te=P.z.object({uuid:P.z.string(),draggableImage:ee,targetImage:ee}),ne=P.z.object({task_type:P.z.literal("ImagePairing"),imagePairs:P.z.array(te),strings:P.z.object({checkButton:P.z.string(),retryButton:P.z.string(),solutionsButton:P.z.string(),resultMessage:P.z.string()})}),re=P.z.object({task_type:P.z.literal("ImageSequencing"),images:P.z.array(ee),strings:P.z.object({checkButton:P.z.string(),retryButton:P.z.string(),solutionsButton:P.z.string(),resultMessage:P.z.string()})}),se=P.z.object({task_type:P.z.literal("InteractiveVideo")}),ae=P.z.union([Y,X,G,R,J,ne,re,se]);P.z.union([Y.shape.task_type,X.shape.task_type,G.shape.task_type,R.shape.task_type,J.shape.task_type,ne.shape.task_type,re.shape.task_type,se.shape.task_type]);function oe(e){switch(e){case"FillInTheBlanks":return{task_type:"FillInTheBlanks",template:"Hier entsteht der *Lücken*text.",retryAllowed:!0,showSolutionsAllowed:!0,caseSensitive:!1,autoCorrect:!1,allBlanksMustBeFilledForSolutions:!1,acceptTypos:!0,strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",fillInAllBlanksMessage:"Alle Lücken müssen ausgefüllt sein, um Lösungen anzuzeigen.",resultMessage:":correct von :total Lücken richtig ausgefüllt."},feedback:[{percentage:0,message:"Versuchen Sie es noch einmal."},{percentage:50,message:"Gut."},{percentage:75,message:"Sehr gut."},{percentage:100,message:"Perfekt!"}]};case"Question":return{task_type:"Question",question:"Welche dieser Himmelskörper sind Planeten in unserem Sonnensystem?",answers:[{text:"Mond",correct:!1,strings:{hint:"",feedbackSelected:"Dies ist ein Mond, kein Planet.",feedbackNotSelected:"Genau, der Mond ist ein Mond."}},{text:"Merkur",correct:!0,strings:{hint:"",feedbackSelected:"",feedbackNotSelected:""}},{text:"Venus",correct:!0,strings:{hint:"",feedbackSelected:"",feedbackNotSelected:""}},{text:"Mars",correct:!0,strings:{hint:"",feedbackSelected:"",feedbackNotSelected:""}},{text:"Pluto",correct:!1,strings:{hint:"Hat sich hier was geändert?",feedbackSelected:"",feedbackNotSelected:""}},{text:"Titan",correct:!1,strings:{hint:"",feedbackSelected:"Das ist leider nicht richtig. Der Titan ist ein Mond vom Saturn.",feedbackNotSelected:"Genau, der Titan ist ein Mond vom Saturn."}},{text:"Sonne",correct:!1,strings:{hint:"",feedbackSelected:"Das ist leider nicht richtig. Die Sonne ist ein Stern.",feedbackNotSelected:"Genau, die Sonne ist ein Stern."}}],canAnswerMultiple:!0,retryAllowed:!0,randomOrder:!0,showSolutionsAllowed:!0,strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen"}};case"DragTheWords":return{task_type:"DragTheWords",template:"Drag the *words* to the matching *gaps*.",retryAllowed:!0,showSolutionsAllowed:!0,instantFeedback:!1,allBlanksMustBeFilledForSolutions:!1,alphabeticOrder:!1,strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",fillInAllBlanksMessage:"Alle Lücken müssen ausgefüllt sein, um Lösungen anzuzeigen.",resultMessage:":correct von :total Lücken richtig ausgefüllt."},feedback:[{percentage:0,message:"Versuchen Sie es noch einmal."},{percentage:50,message:"Gut."},{percentage:75,message:"Sehr gut."},{percentage:100,message:"Perfekt!"}]};case"MarkTheWords":return{task_type:"MarkTheWords",template:"*The* moon is our natural satellite, *i.e.* it revolves around the *Earth*!",retryAllowed:!0,showSolutionsAllowed:!0,strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",resultMessage:":correct von :total Wörter richtig ausgewählt."}};case"Memory":return{task_type:"Memory",cards:[{uuid:(0,E.Z)(),imageUrl:"",altText:""}],strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",resultMessage:":correct von :total Wörter richtig ausgewählt."}};case"ImagePairing":return{task_type:"ImagePairing",imagePairs:[{uuid:(0,E.Z)(),draggableImage:{uuid:(0,E.Z)(),imageUrl:"",altText:""},targetImage:{uuid:(0,E.Z)(),imageUrl:"",altText:""}}],strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",resultMessage:":correct von :total Wörter richtig ausgewählt."}};case"ImageSequencing":return{task_type:"ImageSequencing",images:[{uuid:(0,E.Z)(),imageUrl:"",altText:""}],strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",resultMessage:":correct von :total Wörter richtig ausgewählt."}};case"InteractiveVideo":return{task_type:"InteractiveVideo"};default:throw new Error("Unimplemented type: "+e)}}function ie(e){switch(e){case"FillInTheBlanks":return r.Z;case"Question":return h.Z;case"DragTheWords":return p.Z;case"MarkTheWords":return m.Z;case"Memory":return I.Z;case"ImagePairing":return x.Z;case"ImageSequencing":return U.Z;case"InteractiveVideo":return N.Z;default:throw new Error("Unimplemented task type: "+e)}}function le(e){switch(e){case"FillInTheBlanks":return l;case"Question":return g;case"DragTheWords":return v;case"MarkTheWords":return _;case"Memory":return M;case"ImagePairing":return D;case"ImageSequencing":return W;case"InteractiveVideo":return q;default:throw new Error("Unimplemented task type: "+e)}}},7627:function(e,t,n){n.d(t,{h:function(){return i},h4:function(){return l}});var r=n(65),s=n(3365),a=n(2293),o=n(1768);const i=(0,r.MT)({modules:{taskEditor:a.o,coursewareBlock:o.g}}),l=(0,s.rT)(a.o,i);(0,s.rT)(o.g,i)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,function(){var e=[];n.O=function(t,r,s,a){if(!r){var o=1/0;for(c=0;c<e.length;c++){r=e[c][0],s=e[c][1],a=e[c][2];for(var i=!0,l=0;l<r.length;l++)(!1&a||o>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(i=!1,a<o&&(o=a));if(i){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,s,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.j=189}(),function(){var e={189:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,a,o=r[0],i=r[1],l=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(l)var c=l(n)}for(t&&t(r);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},r=self["webpackChunkvue101"]=self["webpackChunkvue101"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998,64],(function(){return n(667)}));r=n.O(r)})();
//# sourceMappingURL=editor.js.map