(function(){"use strict";var e={6872:function(e,t,n){var r=n(5130),o=n(6768),s=n(4232);const a={class:"stud5p-editor"},i={class:"default"},l=["value"],u={style:{"margin-bottom":"1em","margin-top":"1em"}},c=["value"],d={value:"FillInTheBlanks"},g={value:"DragTheWords"},p={value:"MarkTheWords"},f={value:"Question"},h={value:"Pairing"},k={value:"Sequencing"},v={value:"Memory"},z={class:"save-undo-redo"},b=["disabled"],y={key:0},m={style:{"margin-top":"1em"}},w={class:"stud5p-viewer"};function _(e,t,n,r,_,T){const S=(0,o.g2)("studip-wysiwyg");return(0,o.uX)(),(0,o.CE)("div",a,[((0,o.uX)(),(0,o.Wv)(o.Im,{to:"#sidebar-actions .sidebar-widget-content .widget-list"},[(0,o.Lk)("li",{class:(0,s.C4)(["save-row","saving"!==e.saveStatus.status?"action":"action disabled"]),onClick:t[0]||(t[0]=(...t)=>e.saveTask&&e.saveTask(...t))},[(0,o.Lk)("span",null,(0,s.v_)(e.$gettext("Speichern")),1),(0,o.Lk)("span",{class:(0,s.C4)("saved"===e.saveStatus.status&&this.hasUnsavedChanges?"save-status-modified":"")},(0,s.v_)(e.saveStatusText),3)],2),e.LernmoduleVueJS.LERNMODULE_DEBUG?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("li",{onClick:t[1]||(t[1]=(...t)=>e.undo&&e.undo(...t)),class:(0,s.C4)(e.canUndo?"action":"action disabled")},(0,s.v_)(e.$pgettext("Im Sinne von undo/redo","Rückgängig")),3),(0,o.Lk)("li",{onClick:t[2]||(t[2]=(...t)=>e.redo&&e.redo(...t)),class:(0,s.C4)(e.canRedo?"action":"action disabled")},(0,s.v_)(e.$pgettext("Im Sinne von undo/redo","Wiederherstellen")),3)],64)):(0,o.Q3)("",!0)])),(0,o.Lk)("form",i,[(0,o.Lk)("fieldset",null,[(0,o.Lk)("legend",null,(0,s.v_)(e.$gettext("Grunddaten")),1),(0,o.Lk)("label",null,[(0,o.eW)((0,s.v_)(e.$gettext("Titel"))+" ",1),(0,o.Lk)("input",{type:"text",value:e.moduleName,onInput:t[3]||(t[3]=(...t)=>e.onInputModuleName&&e.onInputModuleName(...t))},null,40,l)]),(0,o.Lk)("label",null,[(0,o.eW)((0,s.v_)(e.$gettext("Aufgabenbeschreibung"))+" ",1),(0,o.bF)(S,{"model-value":e.infotext,id:"ckeditorElement","onUpdate:modelValue":e.onInputInfotext,"insert-html-comment":"","remove-wrapping-p-tag":""},null,8,["model-value","onUpdate:modelValue"])])])]),(0,o.Lk)("div",u,[(0,o.Lk)("label",null,(0,s.v_)(e.$gettext("Aufgabentyp auswählen:")),1),(0,o.Lk)("select",{value:e.taskDefinition.task_type,onInput:t[4]||(t[4]=(...t)=>e.onSelectTaskType&&e.onSelectTaskType(...t)),style:{"margin-left":"0.5em"}},[(0,o.Lk)("option",d,(0,s.v_)(e.$gettext("Fill in the Blanks")),1),(0,o.Lk)("option",g,(0,s.v_)(e.$gettext("Drag the Words")),1),(0,o.Lk)("option",p,(0,s.v_)(e.$gettext("Mark the Words")),1),(0,o.Lk)("option",f,(0,s.v_)(e.$gettext("Question")),1),e.LernmoduleVueJS.LERNMODULE_PREVIEW?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("option",h,(0,s.v_)(e.$gettext("Pairing")),1),(0,o.Lk)("option",k,(0,s.v_)(e.$gettext("Sequencing")),1),(0,o.Lk)("option",v,(0,s.v_)(e.$gettext("Memory")),1)],64)):(0,o.Q3)("",!0)],40,c)]),(0,o.Lk)("div",null,[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.editorForTaskType(e.taskDefinition.task_type)),{taskDefinition:e.taskDefinition},null,8,["taskDefinition"])),(0,o.Lk)("div",z,[(0,o.Lk)("button",{class:"button",onClick:t[5]||(t[5]=(...t)=>e.saveTask&&e.saveTask(...t)),disabled:"saving"===e.saveStatus.status},(0,s.v_)(e.$gettext("Speichern")),9,b),(0,o.Lk)("button",{class:"button",onClick:t[6]||(t[6]=(...t)=>e.onResetPreview&&e.onResetPreview(...t))},(0,s.v_)(e.$gettext("Vorschau zurücksetzen")),1)]),e.showViewerAboveEditor(e.taskDefinition.task_type)?((0,o.uX)(),(0,o.CE)("div",y,[(0,o.Lk)("h1",m,(0,s.v_)(e.$gettext("Vorschau")),1),(0,o.Lk)("div",w,[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.viewerForTaskType(e.taskDefinition.task_type)),{task:e.taskDefinition,key:e.viewerKey},null,8,["task"]))])])):(0,o.Q3)("",!0)])])}var T=n(7686),S=n(9352),A=n(4638),L=n(2387),B=n(3139),M=(0,o.pM)({name:"LernmoduleEditor",components:{StudipWysiwyg:L.A},data(){return{viewerKey:0}},provide(){return{[B.c]:{performEdit:S.SL.performEdit}}},mounted(){window.addEventListener("beforeunload",this.onBeforeUnload,{capture:!0})},unmounted(){window.removeEventListener("beforeunload",this.onBeforeUnload,{capture:!0})},computed:{LernmoduleVueJS:()=>window.STUDIP.LernmoduleVueJS,taskDefinition:()=>S.SL.taskDefinition,moduleName:()=>S.SL.moduleName,infotext:()=>S.SL.infotext,saveStatus:()=>S.SL.saveStatus,hasUnsavedChanges:()=>S.SL.hasUnsavedChanges,canUndo:()=>S.SL.canUndo,canRedo:()=>S.SL.canRedo,saveStatusText(){switch(this.saveStatus.status){case"saved":return this.hasUnsavedChanges?(0,A.o_)("Modifiziert"):(0,A.o_)("Gespeichert");case"saving":return(0,A.o_)("Wird gespeichert...");case"error":return(0,A.o_)("Beim Speichern ist ein Fehler aufgetreten.")}return""}},methods:{showViewerAboveEditor:T._N,$pgettext:A.Il,$gettext:A.o_,editorForTaskType:T.WV,viewerForTaskType:T.hj,saveTask:S.SL.saveTask,onBeforeUnload(e){if(this.hasUnsavedChanges)return e.preventDefault(),e.returnValue=!0},undo:S.SL.undo,redo:S.SL.redo,onInputModuleName(e){const t=e.target.value;S.SL.setModuleName(t)},onInputInfotext(e){S.SL.setInfoText(e)},onSelectTaskType(e){const t=e.target.value;S.SL.performEdit({newTaskDefinition:(0,T.eI)(t),undoBatch:{}})},onResetPreview(){this.viewerKey+=1},urlForIcon(e){return window.STUDIP.ASSETS_URL+"images/icons/blue/"+e+".svg"}}}),x=n(1241);const F=(0,x.A)(M,[["render",_],["__scopeId","data-v-385b3cc1"]]);var I=F,W=n(9539),E=n(7786),j=n(7778);function U(){try{S.SL.initializeNonCourseware()}catch(t){const e=t.message,n=(0,r.Ef)(E.A,{error:e});return void n.mount("#stud5p-app")}const e=(0,r.Ef)(I);e.directive("model-undoable",W.a),e.directive("disable-drag",j.N),e.use(S.M_),e.use(A.TA),e.config.unwrapInjectedRef=!0,e.mount("#stud5p-app")}U()},7686:function(e,t,n){n.d(t,{GQ:function(){return I},Ql:function(){return F},WV:function(){return ee},_N:function(){return ne},b1:function(){return te},cW:function(){return G},eI:function(){return Z},hj:function(){return Y},hw:function(){return K},u1:function(){return re}});var r=n(8903),o=n(171),s=n(4547),a=n(7886),i=n(8687),l=n(4e3),u=n(6707),c=n(2459),d=n(8100),g=n(2455),p=n(2085),f=n(2979),h=n(9238),k=n(9811),v=n(6180),z=n(6216),b=n(794),y=n(6377),m=n(8790),w=n(9368),_=n(1268),T=n(4638),S=n(3554),A=n(6068);const L=y.z.object({percentage:y.z.number(),message:y.z.string()}),B=y.z.object({uuid:y.z.string(),imageUrl:y.z.string(),altText:y.z.string()}),M=y.z.object({v:y.z.literal(2),uuid:y.z.string(),file_id:y.z.string(),altText:y.z.string()}),x=y.z.union([B,M]).transform((e=>{if(Object.hasOwn(e,"v"))return e;{const t=e,n=new URLSearchParams(t.imageUrl),r=n.get("file_id");if(!r)throw new Error('Could not migrate imageUrl to file_id. The query param "file_id" was not found in the imageUrl string.');const o={v:2,uuid:t.uuid,altText:t.altText,file_id:r};return console.log("Migrating from imageSchema_v1 to imageSchema_v2","v1:",t,"v2:",o),o}}));function F(e){return""===e?"":window.STUDIP.URLHelper.getURL("sendfile.php",{file_id:e})}function I(e){return window.STUDIP.URLHelper.getURL(`dispatch.php/file/details/${e}`)}const W=y.z.object({task_type:y.z.literal("DragTheWords"),template:y.z.string(),distractors:y.z.string().optional().default(""),retryAllowed:y.z.boolean(),showSolutionsAllowed:y.z.boolean(),instantFeedback:y.z.boolean(),allBlanksMustBeFilledForSolutions:y.z.boolean(),alphabeticOrder:y.z.boolean(),strings:y.z.object({checkButton:y.z.string(),retryButton:y.z.string(),solutionsButton:y.z.string(),fillInAllBlanksMessage:y.z.string(),resultMessage:y.z.string()}),feedback:y.z.array(L)}),E=y.z.object({task_type:y.z.literal("FindTheHotspot"),image:x}),j=y.z.object({task_type:y.z.literal("FindTheWords"),words:y.z.array(y.z.string())}),U=y.z.object({task_type:y.z.literal("MarkTheWords"),template:y.z.string(),retryAllowed:y.z.boolean(),showSolutionsAllowed:y.z.boolean(),strings:y.z.object({checkButton:y.z.string(),retryButton:y.z.string(),solutionsButton:y.z.string(),resultMessage:y.z.string()}),feedback:y.z.array(L).default((()=>J()))}),D=y.z.object({first:x,second:x.optional()}),P=y.z.object({task_type:y.z.literal("Memory"),cards:y.z.array(D),squareLayout:y.z.boolean(),flipside:x.optional(),retryAllowed:y.z.boolean(),strings:y.z.object({retryButton:y.z.string(),resultMessage:y.z.string()})}),C=y.z.object({task_type:y.z.literal("FillInTheBlanks"),template:y.z.string(),retryAllowed:y.z.boolean(),showSolutionsAllowed:y.z.boolean(),caseSensitive:y.z.boolean(),autoCorrect:y.z.boolean(),allBlanksMustBeFilledForSolutions:y.z.boolean(),acceptTypos:y.z.boolean(),strings:y.z.object({checkButton:y.z.string(),retryButton:y.z.string(),solutionsButton:y.z.string(),fillInAllBlanksMessage:y.z.string(),resultMessage:y.z.string()}),feedback:y.z.array(L)}),V=y.z.object({uuid:y.z.string().optional().default((0,b.A)()),text:y.z.string(),correct:y.z.boolean(),strings:y.z.object({hint:y.z.string(),feedbackSelected:y.z.string(),feedbackNotSelected:y.z.string()})}),O=y.z.object({task_type:y.z.literal("Question"),question:y.z.string(),answers:y.z.array(V),canAnswerMultiple:y.z.boolean(),retryAllowed:y.z.boolean(),randomOrder:y.z.boolean(),showSolutionsAllowed:y.z.boolean(),strings:y.z.object({checkButton:y.z.string(),retryButton:y.z.string(),solutionsButton:y.z.string(),resultMessage:y.z.string().optional()}),feedback:y.z.array(L).default((()=>J()))}),$=y.z.object({uuid:y.z.string(),type:y.z.literal("image"),file_id:y.z.string(),altText:y.z.string()}),R=y.z.object({uuid:y.z.string(),type:y.z.literal("audio"),file_id:y.z.string(),altText:y.z.string()}),N=y.z.object({uuid:y.z.string(),type:y.z.literal("text"),content:y.z.string()}),q=y.z.union([$,R,N]),Q=y.z.object({uuid:y.z.string(),draggableElement:q,targetElement:q}),H=y.z.object({task_type:y.z.literal("Pairing"),pairs:y.z.array(Q),retryAllowed:y.z.boolean().optional().default(!0),showSolutionsAllowed:y.z.boolean().optional().default(!0),strings:y.z.object({checkButton:y.z.string(),retryButton:y.z.string(),solutionsButton:y.z.string(),resultMessage:y.z.string()}),feedback:y.z.array(L)}),X=y.z.object({task_type:y.z.literal("Sequencing"),images:y.z.array(x),retryAllowed:y.z.boolean().optional().default(!0),resumeAllowed:y.z.boolean().optional().default(!0),showSolutionsAllowed:y.z.boolean().optional().default(!0),strings:y.z.object({checkButton:y.z.string(),retryButton:y.z.string(),resumeButton:y.z.string().optional().default((0,T.o_)("Fortsetzen")),solutionsButton:y.z.string(),resultMessage:y.z.string()}),feedback:y.z.array(L)}),G=y.z.discriminatedUnion("task_type",[W,C,E,j,X,_.Ap,U,P,H,O]),K=y.z.discriminatedUnion("task_type",[W,C,E,j,X,U,P,H,O]);y.z.union([W.shape.task_type,C.shape.task_type,E.shape.task_type,j.shape.task_type,X.shape.task_type,_.Ap.shape.task_type,U.shape.task_type,P.shape.task_type,H.shape.task_type,O.shape.task_type]);function J(){return[{percentage:0,message:"Versuchen Sie es noch einmal."},{percentage:50,message:"Gut."},{percentage:75,message:"Sehr gut."},{percentage:100,message:"Perfekt!"}]}function Z(e){switch(e){case"DragTheWords":return{task_type:"DragTheWords",template:"Drag the *words* to the matching *gaps*.",distractors:"",retryAllowed:!0,showSolutionsAllowed:!0,instantFeedback:!1,allBlanksMustBeFilledForSolutions:!1,alphabeticOrder:!1,strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",fillInAllBlanksMessage:"Alle Lücken müssen ausgefüllt sein, um Lösungen anzuzeigen.",resultMessage:":correct von :total Lücken richtig ausgefüllt."},feedback:J()};case"FillInTheBlanks":return{task_type:"FillInTheBlanks",template:"Hier entsteht der *Lücken*text.",retryAllowed:!0,showSolutionsAllowed:!0,caseSensitive:!0,autoCorrect:!1,allBlanksMustBeFilledForSolutions:!1,acceptTypos:!1,strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",fillInAllBlanksMessage:"Alle Lücken müssen ausgefüllt sein, um Lösungen anzuzeigen.",resultMessage:":correct von :total Lücken richtig ausgefüllt."},feedback:J()};case"FindTheHotspot":return{task_type:"FindTheHotspot",image:{v:2,uuid:(0,b.A)(),file_id:"",altText:""}};case"FindTheWords":return{task_type:"FindTheWords",words:["apple","banana","orange"]};case"Pairing":return{task_type:"Pairing",pairs:[{uuid:(0,b.A)(),draggableElement:{uuid:(0,b.A)(),type:"image",file_id:"",altText:""},targetElement:{uuid:(0,b.A)(),type:"image",file_id:"",altText:""}}],retryAllowed:!0,showSolutionsAllowed:!0,strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",resultMessage:":correct von :total Bilder richtig zugeordnet."},feedback:J()};case"Sequencing":return{task_type:"Sequencing",images:[{uuid:(0,b.A)(),v:2,file_id:"",altText:""}],retryAllowed:!0,resumeAllowed:!0,showSolutionsAllowed:!0,strings:{checkButton:"Reihenfolge überprüfen",retryButton:"Erneut versuchen",resumeButton:"Fortsetzen",solutionsButton:"Lösungen anzeigen",resultMessage:":correct von :total Elemente richtig sortiert."},feedback:J()};case"InteractiveVideo":return{task_type:"InteractiveVideo",interactions:[],video:{type:"none"},autoplay:!1,startAt:0,disableNavigation:"not disabled"};case"MarkTheWords":return{task_type:"MarkTheWords",template:"*The* moon is our natural satellite, *i.e.* it revolves around the *Earth!*",retryAllowed:!0,showSolutionsAllowed:!0,strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",resultMessage:":correct von :total Wörter richtig ausgewählt."},feedback:J()};case"Memory":return{task_type:"Memory",cards:[{first:{uuid:(0,b.A)(),v:2,file_id:"",altText:""}}],retryAllowed:!0,squareLayout:!0,strings:{retryButton:"Erneut versuchen",resultMessage:"Gut gemacht!"}};case"Question":return{task_type:"Question",question:"Wie nennt man die strukturell abgrenzbaren Bereiche einer Zelle?",answers:[{uuid:(0,b.A)(),text:"Organellen",correct:!0,strings:{hint:"",feedbackSelected:"",feedbackNotSelected:""}},{uuid:(0,b.A)(),text:"Mitochondrien",correct:!1,strings:{hint:"",feedbackSelected:"",feedbackNotSelected:""}},{uuid:(0,b.A)(),text:"Ribosomen",correct:!1,strings:{hint:"",feedbackSelected:"",feedbackNotSelected:""}},{uuid:(0,b.A)(),text:"Plasma",correct:!1,strings:{hint:"",feedbackSelected:"",feedbackNotSelected:""}}],canAnswerMultiple:!0,retryAllowed:!0,randomOrder:!0,showSolutionsAllowed:!0,strings:{checkButton:"Antworten überprüfen",retryButton:"Erneut versuchen",solutionsButton:"Lösungen anzeigen",resultMessage:":correct/:total"},feedback:J()};default:throw new Error("Unimplemented type: "+e)}}function Y(e){switch(e){case"DragTheWords":return u.A;case"FillInTheBlanks":return r.A;case"FindTheHotspot":return w.A;case"FindTheWords":return a.A;case"Pairing":return h.A;case"Sequencing":return v.A;case"InteractiveVideo":return A.A;case"MarkTheWords":return d.A;case"Memory":return f.A;case"Question":return l.A;default:throw new Error("Unimplemented task type: "+e)}}function ee(e){switch(e){case"DragTheWords":return c.A;case"FillInTheBlanks":return o.A;case"FindTheHotspot":return m.A;case"FindTheWords":return s.A;case"Pairing":return k.A;case"Sequencing":return z.A;case"InteractiveVideo":return S.A;case"MarkTheWords":return g.A;case"Memory":return p.A;case"Question":return i.A;default:throw new Error("Unimplemented task type: "+e)}}function te(e){switch(e){case"DragTheWords":return(0,T.o_)("Drag The Words");case"FillInTheBlanks":return(0,T.o_)("Fill In The Blanks");case"FindTheHotspot":return(0,T.o_)("Find The Hotspot");case"FindTheWords":return(0,T.o_)("Find The Words");case"Pairing":return(0,T.o_)("Pairing");case"Sequencing":return(0,T.o_)("Sequencing");case"InteractiveVideo":return(0,T.o_)("Interactive Video");case"MarkTheWords":return(0,T.o_)("Mark The Words");case"Memory":return(0,T.o_)("Memory");case"Question":return(0,T.o_)("Question")}}function ne(e){switch(e){case"InteractiveVideo":case"Pairing":return!1;default:return!0}}function re(e){switch(e){case"Memory":break;case"FillInTheBlanks":return"file-office";case"FindTheWords":break;case"Question":return"question";case"DragTheWords":return"tan3";case"MarkTheWords":return"tan3";case"Pairing":break;case"Sequencing":break;case"InteractiveVideo":break}return"question"}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,s){if(!r){var a=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],s=e[c][2];for(var i=!0,l=0;l<r.length;l++)(!1&s||a>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(i=!1,s<a&&(a=s));if(i){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[r,o,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.j=8}(),function(){n.b=document.baseURI||self.location.href;var e={8:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,a=r[0],i=r[1],l=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(l)var c=l(n)}for(t&&t(r);u<a.length;u++)s=a[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},r=self["webpackChunkvue101"]=self["webpackChunkvue101"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){n.nc=void 0}();var r=n.O(void 0,[504,996],(function(){return n(6872)}));r=n.O(r)})();
//# sourceMappingURL=editor.js.map