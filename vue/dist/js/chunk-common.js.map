{"version":3,"file":"js/chunk-common.js","mappings":"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","sources":["webpack://vue101/./src/components/interactiveVideo/editorState.ts","webpack://vue101/./src/directives/vModelUndoable.ts","webpack://vue101/./src/language/gettext.ts","webpack://vue101/./src/models/InteractiveVideoTask.ts","webpack://vue101/./src/routes/jsonApi.ts","webpack://vue101/./src/routes/lernmodule.ts","webpack://vue101/./src/store/modules/taskEditor.ts","webpack://vue101/./src/store/modules/coursewareBlock.ts","webpack://vue101/./src/store/index.ts","webpack://vue101/./src/components/DragTheWordsEditor.vue?4811","webpack://vue101/./src/components/DragTheWordsEditor.vue?4b1e","webpack://vue101/./src/components/DragTheWordsEditor.vue","webpack://vue101/./src/components/DragTheWordsViewer.vue?c35f","webpack://vue101/./src/components/DragTheWordsViewer.vue?8d04","webpack://vue101/./src/components/DragTheWordsViewer.vue","webpack://vue101/./src/components/FeedbackElement.vue?4ea9","webpack://vue101/./src/components/FeedbackElement.vue?667e","webpack://vue101/./src/components/FeedbackElement.vue","webpack://vue101/./src/components/FileUpload.vue?2982","webpack://vue101/./src/components/FileUpload.vue?a2bf","webpack://vue101/./src/components/FileUpload.vue","webpack://vue101/./src/components/FillInTheBlanksEditor.vue?1eb6","webpack://vue101/./src/components/FillInTheBlanksEditor.vue?bd37","webpack://vue101/./src/components/FillInTheBlanksEditor.vue","webpack://vue101/./src/components/FillInTheBlanksViewer.vue?c6fe","webpack://vue101/./src/components/FillInTheBlanksViewer.vue?a6bf","webpack://vue101/./src/components/FillInTheBlanksViewer.vue","webpack://vue101/./src/components/FindTheHotspotEditor.vue?b5d4","webpack://vue101/./src/components/FindTheHotspotEditor.vue?67e7","webpack://vue101/./src/components/FindTheHotspotEditor.vue","webpack://vue101/./src/components/FindTheHotspotViewer.vue?04d8","webpack://vue101/./src/components/FindTheHotspotViewer.vue?4308","webpack://vue101/./src/components/FindTheHotspotViewer.vue","webpack://vue101/./src/components/FindTheWordsEditor.vue?dac6","webpack://vue101/./src/components/FindTheWordsEditor.vue?5133","webpack://vue101/./src/components/FindTheWordsEditor.vue","webpack://vue101/./src/components/FindTheWordsViewer.vue?ce8d","webpack://vue101/./src/components/FindTheWordsViewer.vue?ea84","webpack://vue101/./src/components/FindTheWordsViewer.vue","webpack://vue101/./src/components/MarkTheWordsEditor.vue?f56e","webpack://vue101/./src/components/MarkTheWordsEditor.vue?b50e","webpack://vue101/./src/components/MarkTheWordsEditor.vue","webpack://vue101/./src/components/MarkTheWordsViewer.vue?322a","webpack://vue101/./src/components/MarkTheWordsViewer.vue?34dc","webpack://vue101/./src/components/MarkTheWordsViewer.vue","webpack://vue101/./src/components/MemoryEditor.vue?fccb","webpack://vue101/./src/components/EditedMemoryCard.vue?d898","webpack://vue101/./src/components/EditedMemoryCardImage.vue?5d95","webpack://vue101/./src/components/EditedMemoryCardImage.vue?9bfd","webpack://vue101/./src/components/EditedMemoryCardImage.vue","webpack://vue101/./src/components/EditedMemoryCard.vue?eb7b","webpack://vue101/./src/components/EditedMemoryCard.vue","webpack://vue101/./src/components/MemoryEditor.vue?518c","webpack://vue101/./src/components/MemoryEditor.vue","webpack://vue101/./src/components/MemoryViewer.vue?94ec","webpack://vue101/./src/components/MemoryCard.vue?e9f1","webpack://vue101/./src/components/MemoryCard.vue?89da","webpack://vue101/./src/components/MemoryCard.vue","webpack://vue101/./src/components/MemoryViewer.vue?6ce2","webpack://vue101/./src/components/MemoryViewer.vue","webpack://vue101/./src/components/MultimediaElement.vue?e486","webpack://vue101/./src/components/MultimediaElement.vue?85a4","webpack://vue101/./src/components/MultimediaElement.vue","webpack://vue101/./src/components/PairingEditor.vue?5298","webpack://vue101/./src/components/ElementPair.vue?d33c","webpack://vue101/./src/components/ElementPair.vue?e7ed","webpack://vue101/./src/components/ElementPair.vue","webpack://vue101/./src/components/PairingEditor.vue?0c0f","webpack://vue101/./src/components/PairingEditor.vue","webpack://vue101/./src/components/PairingViewer.vue?d68d","webpack://vue101/./src/components/TargetImage.vue?4bb1","webpack://vue101/./src/components/TargetImage.vue?2ffe","webpack://vue101/./src/components/TargetImage.vue","webpack://vue101/./src/components/PairingViewer.vue?5089","webpack://vue101/./src/components/PairingViewer.vue","webpack://vue101/./src/components/QuestionEditor.vue?e61e","webpack://vue101/./src/components/QuestionEditor.vue?68ef","webpack://vue101/./src/components/QuestionEditor.vue","webpack://vue101/./src/components/QuestionViewer.vue?2610","webpack://vue101/./src/components/QuestionViewer.vue?5a19","webpack://vue101/./src/components/QuestionViewer.vue","webpack://vue101/./src/components/SequencingEditor.vue?f65f","webpack://vue101/./src/components/SequencingEditorImage.vue?f8f9","webpack://vue101/./src/components/SequencingEditorImage.vue?0f12","webpack://vue101/./src/components/SequencingEditorImage.vue","webpack://vue101/./src/components/SequencingEditor.vue?3af9","webpack://vue101/./src/components/SequencingEditor.vue","webpack://vue101/./src/components/SequencingViewer.vue?63e8","webpack://vue101/./src/components/SequencingViewer.vue?e616","webpack://vue101/./src/components/SequencingViewer.vue","webpack://vue101/./src/components/StudipWysiwyg.vue?ebc4","webpack://vue101/./src/components/StudipWysiwyg.vue?850b","webpack://vue101/./src/components/StudipWysiwyg.vue","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoEditor.vue?3db9","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabsComponent.vue","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabsComponent.vue?4702","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabComponent.vue","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabComponent.vue?7dcd","webpack://vue101/./src/components/interactiveVideo/VideoTimeline.vue?b49d","webpack://vue101/./src/components/interactiveVideo/getEmValueFromElement.ts","webpack://vue101/./src/components/interactiveVideo/VideoTimeline.vue?a938","webpack://vue101/./src/components/interactiveVideo/VideoTimeline.vue","webpack://vue101/./src/components/interactiveVideo/SelectedInteractionProperties.vue?5d2d","webpack://vue101/./src/components/interactiveVideo/VideoTimeInput.vue?05c3","webpack://vue101/./src/components/interactiveVideo/VideoTimeInput.vue?b5ca","webpack://vue101/./src/components/interactiveVideo/VideoTimeInput.vue","webpack://vue101/./src/components/interactiveVideo/SelectedInteractionProperties.vue?09b4","webpack://vue101/./src/components/interactiveVideo/SelectedInteractionProperties.vue","webpack://vue101/./src/components/interactiveVideo/AddInteractions.vue?2832","webpack://vue101/./src/components/interactiveVideo/AddInteractions.vue","webpack://vue101/./src/components/interactiveVideo/SelectVideo.vue?64d8","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FilePicker.vue?2cd3","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FolderPicker.vue?f149","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FolderPicker.vue?fbe3","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FolderPicker.vue","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FilePicker.vue?6109","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FilePicker.vue","webpack://vue101/./src/components/interactiveVideo/SelectVideo.vue?3b43","webpack://vue101/./src/components/interactiveVideo/SelectVideo.vue","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoEditor.vue?5045","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoEditor.vue","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoViewer.vue?292b","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoViewer.vue?f621","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoViewer.vue","webpack://vue101/./src/components/interactiveVideo/VideoPlayer.vue?8166","webpack://vue101/./src/components/interactiveVideo/interactions/LmbTaskInteraction.vue?e2f7","webpack://vue101/./src/components/interactiveVideo/interactions/LmbTaskInteraction.vue?76e4","webpack://vue101/./src/components/interactiveVideo/interactions/LmbTaskInteraction.vue","webpack://vue101/./src/components/interactiveVideo/interactions/OverlayInteraction.vue?59e4","webpack://vue101/./src/components/interactiveVideo/interactions/OverlayInteraction.vue?fd71","webpack://vue101/./src/components/interactiveVideo/interactions/OverlayInteraction.vue","webpack://vue101/./src/components/interactiveVideo/VideoPlayer.vue?f73b","webpack://vue101/./src/components/interactiveVideo/VideoPlayer.vue"],"sourcesContent":["import { InjectionKey, Ref } from 'vue';\n\n/**\n * In the Interactive Video Editor, we use provide/inject to pass data to many\n * different components at once without prop drilling.\n * There is a little bit of ceremony required to have the passed data be statically typed.\n * https://vuejs.org/guide/typescript/composition-api.html#typing-provide-inject\n */\nexport const editorStateSymbol = Symbol(\n  'Interactive Video Editor state'\n) as InjectionKey<EditorState>;\n\nexport interface EditorState {\n  selectedInteractionId: Ref<string | undefined>;\n  selectInteraction(id: string): void;\n  editInteraction(id: string): void;\n  dragInteraction(\n    interactionId: string,\n    clampedXFraction: number,\n    clampedYFraction: number\n  ): void;\n  resizeOverlay(\n    id: string,\n    x: number,\n    y: number,\n    width: number,\n    height: number\n  ): void;\n  deleteInteraction(interactionId: string): void;\n\n  dragInteractionTimeline(id: string, startTime: number): void;\n}\n","import { store, taskEditorStore } from '@/store';\nimport { Directive, DirectiveBinding } from 'vue';\n\n/**\n * This is a custom directive that you can use like v-model in the Lernmodul-Editor.\n * Like v-model, it is a two-way binding, but rather than directly modifying\n * 'taskDefinition', it saves changes into the undo-redo stack by calling\n * 'taskEditorStore.performEdit'.\n * It also sets an attribute 'data-undo-focus-id' on the element.\n * This attribute is used during the 'undo' and 'redo' operations.\n * The input elements whose contents are modified by 'undo' or 'redo' will\n * automatically be focus()ed and brought into view.\n * TODO: Can I get better stack traces when errors are thrown inside of\n *   directive hooks?  Right now, they do not show what line of the .vue file\n *   caused the errors to be thrown.\n */\nexport const modelUndoable: Directive = {\n  mounted(\n    el: HTMLElement,\n    binding: DirectiveBinding<unknown>,\n    vnode,\n    prevVnode\n  ) {\n    const validEl = validateElement(el);\n    validEl.setAttribute('data-undo-focus-id', parsePath(binding).join('.'));\n\n    el.addEventListener('input', (ev: Event) => {\n      const splitPath = parsePath(binding);\n      const [firstPathEl, ...restOfPath] = splitPath;\n      const value = vnode.el.value;\n      const newState = JSON.parse(\n        JSON.stringify(taskEditorStore.taskDefinition)\n      );\n      setValueAtPath(newState, restOfPath, value);\n      taskEditorStore.performEdit({\n        newTaskDefinition: newState,\n        undoBatch: splitPath.join('.'),\n      });\n      console.log(el, binding, vnode, prevVnode, ev, splitPath, value);\n    });\n\n    function setElValueFromStore() {\n      const splitPath = parsePath(binding);\n      const storeValue = getValueAtPath(taskEditorStore, splitPath);\n      const validatedStoreValue = validateBoundValue(storeValue);\n      validEl.value = validatedStoreValue.toString();\n    }\n    store.watch(\n      () => {\n        const splitPath = parsePath(binding);\n        return getValueAtPath(taskEditorStore, splitPath);\n      },\n      () => setElValueFromStore()\n    );\n    setElValueFromStore();\n  },\n} as const;\n\n/**\n * Make sure that the binding supplied by the user is a valid one.\n * It should be a path to a field of 'taskEditorStore.taskDefinition',\n * e.g. 'taskDefinition.task_type'.\n * @param binding - See https://vuejs.org/guide/reusability/custom-directives.html#directive-hooks\n */\nfunction parsePath(binding: DirectiveBinding<unknown>): Array<string> {\n  if (typeof binding.value !== 'string') {\n    throw new Error(bindingMustBeStringError + binding.value);\n  }\n  const splitPath = binding.value.split('.');\n  const firstPathEl = splitPath[0];\n  if (firstPathEl !== 'taskDefinition') {\n    throw new Error(bindingMustUseTaskDefinitionError + binding.value);\n  }\n  return splitPath;\n}\n\nfunction validateElement(\n  el: HTMLElement\n): HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement {\n  if (\n    el instanceof HTMLInputElement ||\n    el instanceof HTMLTextAreaElement ||\n    el instanceof HTMLSelectElement\n  ) {\n    return el;\n  }\n  throw new Error(invalidElementTypeError);\n}\n\nfunction validateBoundValue(val: unknown): string | number | boolean {\n  if (\n    typeof val !== 'string' &&\n    typeof val !== 'number' &&\n    typeof val !== 'boolean'\n  ) {\n    throw new Error(boundValueMustBePrimitiveError + typeof val);\n  }\n  return val;\n}\n\nfunction getValueAtPath(o: object, path: Array<string>): unknown {\n  return path.reduce((accumulator: any, pathComponent: string) => {\n    if (!Object.prototype.hasOwnProperty.call(accumulator, pathComponent)) {\n      throw new Error(invalidPathError + path.join('.'));\n    }\n    return accumulator[pathComponent];\n  }, o);\n}\n\nfunction setValueAtPath(o: object, splitPath: Array<string>, value: any) {\n  const [lastPathComponent, ...restOfPath] = [splitPath.pop(), ...splitPath];\n  if (lastPathComponent === undefined) {\n    throw new Error('Path has no last element');\n  }\n  const targetObject = restOfPath.reduce(\n    (accumulator: Record<string, any>, pathComponent: string) =>\n      accumulator[pathComponent],\n    o\n  );\n  targetObject[lastPathComponent] = value;\n}\n\n// TODO translate these strings in Weblate.\nconst bindingMustBeStringError =\n  'The value supplied to v-model-undoable must be a string. ' +\n  'Example: <select v-model-undoable=\"\\'taskDefinition.task_type\\'\">\\n' +\n  'You supplied the following value: ';\n\nconst bindingMustUseTaskDefinitionError =\n  'The string supplied to v-model-undoable must be a path which begins with ' +\n  '\"taskDefinition\", and the path must be wrapped in two sets of quotes. \\n' +\n  'Example usage: <select v-model-undoable=\"\\'taskDefinition.task_type\\'\">\\n' +\n  'You supplied the following string: ';\n\nconst boundValueMustBePrimitiveError =\n  'The value bound with v-model-undoable must be a string, number or boolean.  ' +\n  'Other datatypes are not currently supported.  The value found is of type ';\n\nconst invalidPathError =\n  'No field was found in the store under the given path.  Did you make a ' +\n  'typo?  Path: ';\n\nconst invalidElementTypeError =\n  'v-model-undoable can only be used on <input>, <textarea> and <select> elements';\n","import { createGettext } from 'vue3-gettext';\nimport translations from '@/language/translations.json';\nimport { memoize } from 'lodash';\n\nconst selectedLanguage = Object.values(window.STUDIP.INSTALLED_LANGUAGES).find(\n  (lang) => lang.selected\n);\nconst gettextPlugin = createGettext({\n  availableLanguages: {\n    en: 'English',\n    de: 'Deutsch',\n  },\n  defaultLanguage: selectedLanguage?.path ?? 'de',\n  translations: translations,\n});\n\n// Cache gettext results.\n// This fixes the problem we had where the error 'No translations found for de' was\n// being printed excessively often (sometimes 1000s of times per second) during\n// certain UI interactions, e.g. when dragging interactions around on top of\n// the video in the Interactive Video Editor.\nconst $gettext = memoize(gettextPlugin.$gettext, (...args) =>\n  JSON.stringify(args)\n);\n\nconst $pgettext = memoize(gettextPlugin.$pgettext, (...args) =>\n  JSON.stringify(args)\n);\n\nconst $npgettext = memoize(gettextPlugin.$npgettext, (...args) =>\n  JSON.stringify(args)\n);\n\nexport { gettextPlugin, $gettext, $pgettext, $npgettext };\n","// Types for the Interactive Video task type.\nimport { z } from 'zod';\nimport {\n  iconForTaskType,\n  printTaskType,\n  taskDefinitionSchemaMinusInteractiveVideo,\n} from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport { wysiwygUploadedFileSchema } from '@/routes/lernmodule';\n\n// There are different types of 'interaction' which can be added to the video.\n// TODO Maybe put the 'base' attributes shared by all types of interaction all in one place.\n// TODO I think it may be wiser to use 'startTime' and 'duration' rather than 'startTime' and 'endTime'.\n// I chose to use 'start' and 'end' because it made the ui in one place easier to implement\n// (v-model for 'end time' input field), but I have noticed that I must calculate a duration\n// by hand in many other places anyway.\n\n/**\n * @deprecated -- Text field renamed to content_wysiwyg to simplify implementation\n * of file export in PHP.\n */\nconst overlaySchema_v1 = z.object({\n  type: z.literal('overlay'),\n  id: z.string(),\n  startTime: z.number(), // Seconds\n  endTime: z.number(), // Seconds\n  x: z.number(), // Position, as a fraction of video width, between 0 and 1\n  y: z.number(), // Position, as a fraction of video height, between 0 and 1\n  width: z.number(), // Width, as a fraction of video width, between 0 and 1\n  height: z.number(), // Height, as a fraction of video width, between 0 and 1\n  text: z.string(), // Sanitized HTML from Wysiwyg editor\n  pauseWhenVisible: z.boolean().optional().default(true),\n});\nconst overlaySchema_v2 = overlaySchema_v1.omit({ text: true }).extend({\n  v: z.literal(2), // Schema version\n  content_wysiwyg: z.string(), // Sanitized HTML from Wysiwyg editor\n});\n// Overlay: An overlay is shown on top of the video over a span of time\nconst overlaySchema = z\n  .union([overlaySchema_v1, overlaySchema_v2])\n  .transform((val): z.infer<typeof overlaySchema_v2> => {\n    if (!Object.hasOwn(val, 'v')) {\n      // Migration from v1 to v2\n      const val_v1 = val as z.infer<typeof overlaySchema_v1>;\n      const { text, ...val_v1_rest } = val_v1;\n      const val_v2 = {\n        v: 2,\n        content_wysiwyg: text,\n        ...val_v1_rest,\n      } as z.infer<typeof overlaySchema_v2>;\n      console.log(\n        'Migrating from overlaySchema_v1 to overlaySchema_v2',\n        'v1:',\n        val_v1,\n        'v2:',\n        val_v2\n      );\n      return val_v2;\n    } else {\n      return val as z.infer<typeof overlaySchema_v2>;\n    }\n  });\nexport type OverlayInteraction = z.infer<typeof overlaySchema_v2>;\n\n// LMB Task interaction: A Lernmodule Block Task (LMB Task) is shown at a given\n// point in the video for the student to solve.\nconst lmbTaskInteractionSchema = z.object({\n  type: z.literal('lmbTask'),\n  id: z.string(),\n  startTime: z.number(), // Seconds\n  endTime: z.number(), // Seconds\n  x: z.number(), // Position, as a fraction of video width, between 0 and 1\n  y: z.number(), // Position, as a fraction of video height, between 0 and 1\n  taskDefinition: z.lazy(() => taskDefinitionSchemaMinusInteractiveVideo),\n  pauseWhenVisible: z.boolean().optional().default(true),\n});\nexport type LmbTaskInteraction = z.infer<typeof lmbTaskInteractionSchema>;\n\nconst interactiveVideoInteractionSchema = z\n  .union([overlaySchema, lmbTaskInteractionSchema])\n  .refine((data) => data.endTime > data.startTime, {\n    message: 'endTime cannot be earlier than startTime',\n    path: ['endTime'],\n  });\nexport type Interaction = z.infer<typeof interactiveVideoInteractionSchema>;\n\nconst noVideoSchema = z.object({\n  type: z.literal('none'),\n});\nexport type NoVideo = z.infer<typeof noVideoSchema>;\nconst youtubeVideoSchema = z.object({\n  type: z.literal('youtube'),\n  url: z.string(),\n});\nexport type YoutubeVideo = z.infer<typeof youtubeVideoSchema>;\n\n/**\n * @deprecated -- File is now stored as ID instead of url,name,type.\n */\nconst studipFileVideoSchema_v1 = z.object({\n  type: z.literal('studipFileReference'),\n  file: wysiwygUploadedFileSchema,\n});\nconst studipFileVideoSchema_v2 = z.object({\n  v: z.literal(2),\n  type: z.literal('studipFileReference'),\n  file_id: z.string(),\n});\nconst studipFileVideoSchema = z\n  .union([studipFileVideoSchema_v1, studipFileVideoSchema_v2])\n  .transform((val) => {\n    if (!Object.hasOwn(val, 'v')) {\n      // Migration from v1 to v2\n      const val_v1 = val as z.infer<typeof studipFileVideoSchema_v1>;\n      const urlParams = new URLSearchParams(val_v1.file.url);\n      const file_id = urlParams.get('file_id');\n      if (!file_id) {\n        throw new Error(\n          'Could not migrate studip file reference schema v1 to v2. The query param ' +\n            `\"file_id\" was not found in the string file.url: \"${val_v1.file.url}\"`\n        );\n      }\n      const val_v2 = {\n        v: 2,\n        type: 'studipFileReference',\n        file_id,\n      } as z.infer<typeof studipFileVideoSchema_v2>;\n      console.log(\n        'Migrating from studipFileVideoSchema_v1 to studipFileVideoSchema_v2',\n        'v1:',\n        val_v1,\n        'v2:',\n        val_v2\n      );\n      return val_v2;\n    } else {\n      return val as z.infer<typeof studipFileVideoSchema_v2>;\n    }\n  });\nexport type StudipFileVideo = z.infer<typeof studipFileVideoSchema>;\n\nconst videoSchema = z.union([\n  noVideoSchema,\n  youtubeVideoSchema,\n  studipFileVideoSchema,\n]);\nexport type Video = z.infer<typeof videoSchema>;\n\nexport const interactiveVideoTaskSchema = z.object({\n  task_type: z.literal('InteractiveVideo'),\n  video: videoSchema,\n  autoplay: z.boolean().optional().default(false),\n  startAt: z.number().optional().default(0),\n  disableNavigation: z\n    .union([\n      z.literal('not disabled'),\n      z.literal('forward disabled'),\n      z.literal('forward and backward disabled'),\n    ])\n    .default('not disabled'),\n  interactions: z.array(interactiveVideoInteractionSchema),\n});\nexport type InteractiveVideoTask = z.infer<typeof interactiveVideoTaskSchema>;\n\nexport function printInteractionType(interaction: Interaction): string {\n  switch (interaction.type) {\n    case 'lmbTask':\n      return printTaskType(interaction.taskDefinition.task_type);\n    case 'overlay':\n      return $gettext('Einblendung');\n  }\n}\n\nexport function iconForInteraction(interaction: Interaction): string {\n  switch (interaction.type) {\n    case 'overlay':\n      return 'item';\n    case 'lmbTask':\n      return iconForTaskType(interaction.taskDefinition.task_type);\n  }\n}\n\nexport const resizeHandles = [\n  'left',\n  'top-left',\n  'top',\n  'top-right',\n  'right',\n  'bottom-right',\n  'bottom',\n  'bottom-left',\n] as const;\nexport type ResizeHandle = typeof resizeHandles[number];\n","import axios from 'axios';\nimport { z } from 'zod';\n\nexport const httpClient = axios.create({\n  baseURL: window.STUDIP.URLHelper.getURL(`jsonapi.php/v1`, {}, true),\n  headers: {\n    'Content-Type': 'application/vnd.api+json',\n  },\n});\n\n/**\n * Send a request to the JSON API to create a file. Adapted from the file\n * \"courseware.module.js\" in the Stud.IP core.\n */\nexport async function createFile({\n  file,\n  fileData,\n  folder,\n}: {\n  file: CreateFileSpec;\n  fileData: File | Blob;\n  folder: Pick<FolderRef, 'id'>;\n}): Promise<FileRef> {\n  const termId = file?.relationships?.['terms-of-use']?.data?.id ?? null;\n  const formData = new FormData();\n  formData.append('file', fileData, file.attributes.name);\n  if (termId) {\n    formData.append('term-id', termId);\n  }\n  const url = `folders/${folder.id}/file-refs`;\n  const request = await httpClient.post(url, formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n  const response = await httpClient.get(request.headers.location);\n  const data = response.data.data;\n  return fileRefsSchema.parse(data);\n}\n\n/**\n * Datatype 'file-refs' provided by the Stud.IP JSON API.\n */\nexport const fileRefsSchema = z.object({\n  type: z.literal('file-refs'),\n  id: z.string(),\n  attributes: z.object({\n    name: z.string(),\n    mkdate: z.string(),\n    chdate: z.string(),\n    description: z.string(),\n    downloads: z.number(),\n    filesize: z.number(),\n    'is-downloadable': z.boolean(),\n    'is-editable': z.boolean(),\n    'is-readable': z.boolean(),\n    'is-writable': z.boolean(),\n    'mime-type': z.string(),\n  }),\n  links: z.object({\n    self: z.string(),\n  }),\n  meta: z.object({\n    'download-url': z.string(),\n  }),\n  // 'unknown' for the moment because I did not care to write out types for this\n  // field and do not have a use for it in the code I have written thus far.\n  relationships: z.unknown(),\n});\nexport type FileRef = z.infer<typeof fileRefsSchema>;\n\nexport interface FolderRef {\n  id: string;\n  attributes: {\n    'folder-type': string;\n    'data-content': {\n      download_allowed: number;\n    };\n    name: string;\n  };\n  relationships?: {\n    parent?: {\n      data: {\n        id: string;\n      };\n    };\n  };\n}\n\n/**\n * A subset of the information contained in FileRef, containing the information\n * necessary to send a request to create a new file on the server.\n */\nexport interface CreateFileSpec {\n  relationships?: {\n    'terms-of-use'?: {\n      data?: {\n        id?: string;\n      };\n    };\n  };\n  attributes: {\n    name: string;\n  };\n}\n","import { TaskDefinition, taskDefinitionSchema } from '@/models/TaskDefinition';\nimport { z } from 'zod';\n\n/**\n * Save a Vue.js Lernmodul that is being edited in the \"Lernmodule\" tab of a\n * course.\n * @param taskDefinition The definition of the task\n * @param moduleName The name of the Lernmodul\n * @param infoText The HTML description of the Lernmodul\n * @param module_id The id from lernmodule_module\n * @param block_id The id from lernmodule_blocks where the module is to be\n *                 inserted.  (This only applies for newly created modules.)\n */\nexport async function saveTask(\n  taskDefinition: TaskDefinition,\n  moduleName: string,\n  infoText: string,\n  module_id: string,\n  block_id?: string\n): Promise<SaveTaskResponse> {\n  const url = window.STUDIP.LernmoduleVueJS.saveRoute;\n  const token = window.STUDIP.CSRF_TOKEN;\n  const formData = new FormData();\n  // Parse taskDefinition here to ensure it has no extra fields we didn't intend to save.\n  const parsedTaskDefinition = taskDefinitionSchema.parse(taskDefinition);\n  formData.append('task_definition', JSON.stringify(parsedTaskDefinition));\n  formData.append('module_id', module_id);\n  formData.append('name', moduleName);\n  formData.append('infotext', infoText);\n  if (block_id) {\n    formData.append('block_id', block_id);\n  }\n  formData.append(token.name, token.value);\n  return fetch(url, {\n    method: 'POST',\n    body: formData,\n  }).then((response) => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    // TODO Maybe we should parse the server's response to ensure it really is\n    //  an instance of SaveTaskResponse.\n    return response.json() as Promise<SaveTaskResponse>;\n  });\n}\n\nexport interface SaveTaskResponse {\n  status: 'success';\n  taskDefinition: TaskDefinition;\n  moduleName: string;\n  infotext: string;\n}\n\n/**\n * Send a request to Stud.IP to update the number of points earned by the student\n * for the Lernmodul that is currently viewed.\n * @param points -- a map describing how many points the student should be reported\n * as having for each part of the Lernmodul.\n * Key: The ID or name of the part.  Value: The number of points.\n * @param success - If true, the attempt will be marked as 'successful'.\n */\nexport async function updateAttempt(\n  points: Record<string, number>,\n  success: boolean\n): Promise<void> {\n  // The ID of the Lernmodul is encoded in this URL provided to us by the server.\n  const url = window.STUDIP.LernmoduleVueJS.updateAttemptRoute;\n  const formData = new FormData();\n  const token = window.STUDIP.CSRF_TOKEN;\n  formData.append(token.name, token.value);\n  // Convert object into a nested array which PHP will understand\n  Object.entries(points).forEach(([name, score]) => {\n    formData.append(`message[points][${name}]`, score.toString());\n  });\n  if (success) {\n    formData.append('message[success]', 'true');\n  }\n  return fetch(url, {\n    method: 'POST',\n    body: formData,\n  }).then((response) => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n  });\n}\n\nexport const wysiwygUploadedFileSchema = z.object({\n  name: z.string(),\n  type: z.string(),\n  url: z.string(),\n});\n","import { Action, Module, Mutation, VuexModule } from 'vuex-module-decorators';\nimport {\n  newTask,\n  TaskDefinition,\n  taskDefinitionSchema,\n} from '@/models/TaskDefinition';\nimport { isArray, isEqual } from 'lodash';\nimport { saveTask, SaveTaskResponse } from '@/routes/lernmodule';\nimport { setAutoFreeze } from 'immer';\n\n// Prevent immer from freezing objects.  This behavior causes trouble when we\n// attempt to use v-model with an object produced by immer, because v-model\n// works by mutating objects.\nsetAutoFreeze(false);\n\ntype Saved = {\n  status: 'saved';\n};\ntype Saving = {\n  status: 'saving';\n};\ntype SaveError = {\n  status: 'error';\n  error: unknown;\n};\ntype SaveStatus = Saved | Saving | SaveError;\n\ninterface UndoRedoState {\n  taskDefinition: TaskDefinition;\n  undoBatch: unknown;\n}\n\nfunction sleep(ms: number) {\n  return new Promise((r) => setTimeout(r, ms));\n}\n\n@Module({ name: 'taskEditor' })\nexport class TaskEditorModule extends VuexModule {\n  saveStatus: SaveStatus = { status: 'saved' };\n  fatalErrors: string[] = [];\n  nonFatalErrors: string[] = [];\n  serverTaskDefinition: TaskDefinition | [] = [];\n  serverModuleName: string = '';\n  serverInfotext: string = '';\n  moduleName: string = '';\n  infotext: string = '';\n  undoRedoStack: UndoRedoState[] = [\n    {\n      taskDefinition: newTask('FillInTheBlanks'),\n      undoBatch: {},\n    },\n  ];\n  undoRedoIndex = 0;\n\n  get taskDefinition(): TaskDefinition {\n    return this.undoRedoStack[this.undoRedoIndex].taskDefinition;\n  }\n\n  get hasUnsavedChanges(): boolean {\n    return (\n      !isEqual(this.taskDefinition, this.serverTaskDefinition) ||\n      this.serverModuleName !== this.moduleName ||\n      this.serverInfotext !== this.infotext\n    );\n  }\n\n  get canUndo() {\n    return this.undoRedoIndex > 0;\n  }\n\n  get canRedo() {\n    return this.undoRedoIndex < this.undoRedoStack.length - 1;\n  }\n\n  @Mutation\n  undo() {\n    if (this.undoRedoIndex > 0) {\n      const currentState = this.undoRedoStack[this.undoRedoIndex];\n      this.undoRedoIndex--;\n\n      // Focus the input field whose contents will change as a result of this undo.\n      // That's how undo/redo behaves in native apps like Microsoft Word.\n      // When you press undo, it scrolls to the point in the document where\n      // the undo took place.  This lets you observe the result of your action.\n      const inputElements = document.querySelectorAll(\n        `[data-undo-focus-id=\"${currentState.undoBatch}\"]`\n      );\n      if (inputElements.length > 0) {\n        const inputEl = inputElements.item(0) as HTMLElement;\n        // If the input is inside of a collapsed <fieldset>, then the <fieldset>\n        // should be un-collapsed so that the user can see the input field.\n        const collapsedParents = [\n          ...document.querySelectorAll('fieldset.collapsable.collapsed'),\n        ].filter((element) => element.contains(inputEl));\n        collapsedParents.forEach((parent) =>\n          parent.classList.remove('collapsed')\n        );\n        inputEl.focus();\n      }\n    }\n  }\n\n  @Mutation\n  redo() {\n    if (this.undoRedoIndex < this.undoRedoStack.length - 1) {\n      this.undoRedoIndex++;\n      const nextState = this.undoRedoStack[this.undoRedoIndex];\n\n      // Manage focus -- see comments in undo()\n      const inputElements = document.querySelectorAll(\n        `[data-undo-focus-id=\"${nextState.undoBatch}\"]`\n      );\n      if (inputElements.length > 0) {\n        const inputEl = inputElements.item(0) as HTMLElement;\n        const collapsedParents = [\n          ...document.querySelectorAll('fieldset.collapsable.collapsed'),\n        ].filter((element) => element.contains(inputEl));\n        collapsedParents.forEach((parent) =>\n          parent.classList.remove('collapsed')\n        );\n        inputEl.focus();\n      }\n    }\n  }\n\n  // Initialize the editor store to a state usable for courseware\n  @Mutation\n  initializeCourseware(task_json: TaskDefinition) {\n    console.info('initializeCourseware()', task_json);\n    this.serverTaskDefinition = task_json;\n    this.undoRedoStack = [\n      { taskDefinition: this.serverTaskDefinition, undoBatch: {} },\n    ];\n  }\n\n  // Initialize the editor store to a state usable for the non-courseware version\n  // of Lernmodule (AKA the 'Lernmodule' tab in a course).\n  @Mutation\n  initializeNonCourseware() {\n    // In Linux on Anns PC this is an empty array but on Windows on Thomas PC it's just NULL.\n    // We don't know why this is, but for now, we will just accept it and handle both cases.\n    if (\n      window.STUDIP.LernmoduleVueJS.module.customdata &&\n      !isArray(window.STUDIP.LernmoduleVueJS.module.customdata)\n    ) {\n      this.serverTaskDefinition = taskDefinitionSchema.parse(\n        window.STUDIP.LernmoduleVueJS.module.customdata\n      );\n      this.undoRedoStack = [\n        { taskDefinition: this.serverTaskDefinition, undoBatch: {} },\n      ];\n    }\n    this.serverModuleName = window.STUDIP.LernmoduleVueJS.module.name;\n    this.serverInfotext = window.STUDIP.LernmoduleVueJS.infotext;\n    this.moduleName = window.STUDIP.LernmoduleVueJS.module.name;\n    this.infotext = window.STUDIP.LernmoduleVueJS.infotext;\n  }\n\n  @Mutation\n  startedSaving() {\n    this.saveStatus = { status: 'saving' };\n  }\n\n  @Mutation\n  saveSuccess(payload: SaveTaskResponse) {\n    this.saveStatus = { status: 'saved' };\n    this.serverTaskDefinition = payload.taskDefinition;\n    this.serverModuleName = payload.moduleName;\n    this.serverInfotext = payload.infotext;\n  }\n\n  @Mutation\n  saveFailure(error: unknown) {\n    this.saveStatus = { status: 'error', error };\n    this.nonFatalErrors.push(\n      'The task could not be saved.  Check the console for more details. '\n    );\n    console.log(error);\n  }\n\n  @Action\n  async saveTask() {\n    if (this.saveStatus.status === 'saving') {\n      return;\n    }\n    this.context.commit('startedSaving');\n    try {\n      const saveResult = await saveTask(\n        this.taskDefinition,\n        this.moduleName,\n        this.infotext,\n        window.STUDIP.LernmoduleVueJS.module.module_id,\n        window.STUDIP.LernmoduleVueJS.block_id\n      );\n      await sleep(500);\n      this.context.commit('saveSuccess', saveResult);\n    } catch (error) {\n      this.context.commit('saveFailure', { error });\n    }\n  }\n\n  /**\n   * Modify the currently edited task definition, creating a new undo/redo state\n   * if appropriate.  Edits are batched together based on the parameter 'undoBatch'.\n   * @param payload.taskDefinition The new state of the task being edited\n   * @param payload.undoBatch Any value.\n   * If undoBatch is an empty object, a new undo/redo state will always be created.\n   * Otherwise, a new undo/redo state will be created if undoBatch is different\n   * from the undoBatch of the previously performed action.\n   */\n  @Mutation\n  performEdit(payload: {\n    newTaskDefinition: TaskDefinition;\n    undoBatch: unknown;\n  }) {\n    const currentUndoRedoState = this.undoRedoStack[this.undoRedoIndex];\n    if (\n      isEqual(currentUndoRedoState.taskDefinition, payload.newTaskDefinition)\n    ) {\n      return; // Do not pollute the undo-redo history with no-op changes\n    }\n    const shouldMergeEdits =\n      !isEqual(payload.undoBatch, {}) &&\n      isEqual(payload.undoBatch, currentUndoRedoState.undoBatch);\n    if (shouldMergeEdits) {\n      // Amend the last undo state instead of creating a new one.\n      currentUndoRedoState.taskDefinition = payload.newTaskDefinition;\n      this.undoRedoStack = this.undoRedoStack.slice(0, this.undoRedoIndex + 1);\n    } else {\n      // Create a new undo state and append it to the stack.\n      this.undoRedoStack = this.undoRedoStack\n        .slice(0, this.undoRedoIndex + 1)\n        .concat([\n          {\n            taskDefinition: payload.newTaskDefinition,\n            undoBatch: payload.undoBatch,\n          },\n        ]);\n      this.undoRedoIndex += 1;\n    }\n  }\n\n  @Mutation\n  setModuleName(name: string) {\n    this.moduleName = name;\n  }\n\n  @Mutation\n  setInfoText(value: string) {\n    this.infotext = value;\n  }\n}\n","import { Action, Module, Mutation, VuexModule } from 'vuex-module-decorators';\nimport { taskEditorStore } from '@/store';\nimport { Context } from '@/models/CoursewareBlockIframeMessages';\n\n@Module({ name: 'coursewareBlock' })\nexport class CoursewareBlockModule extends VuexModule {\n  showEditorUI: boolean = false;\n  studipContext: Context = {\n    id: '',\n    type: '',\n  };\n\n  // Toggle whether to show the editing UI in the courseware block.\n  // This should be triggered via messages posted to the iframe.\n  // See courseware-main.ts and LernmoduleCoursewareBlockBase.vue.\n  @Mutation\n  setShowEditorUI(state: boolean) {\n    this.showEditorUI = state;\n  }\n\n  @Mutation\n  saveBlock() {\n    console.log('coursewareBlockStore: saveBlock() mutation called');\n    // Tell the Vue 2 component we are wrapped in to save the block.\n    // See the method 'onWindowMessage' of LernmoduleCoursewareBlockBase.vue\n    // The taskDefinition must be serialized in order for it to be passed\n    // between windows.\n    const taskDefinition = JSON.parse(\n      JSON.stringify(taskEditorStore.taskDefinition)\n    );\n    window.parent.postMessage({\n      type: 'SaveCoursewareBlock',\n      taskDefinition,\n    });\n  }\n\n  @Mutation\n  cancelEditing() {\n    console.log('coursewareBlockStore: cancelEditing() mutation called');\n    // Tell the Vue 2 component we are wrapped in to stop editing the block\n    // without saving the user's changes.\n    // See the method 'onWindowMessage' of LernmoduleCoursewareBlockBase.vue\n    window.parent.postMessage({\n      type: 'CancelEditingCoursewareBlock',\n    });\n  }\n\n  @Mutation\n  setContext(context: Context) {\n    this.studipContext = context;\n  }\n}\n","import { createStore } from 'vuex';\nimport { getModule } from 'vuex-module-decorators';\nimport { TaskEditorModule } from '@/store/modules/taskEditor';\nimport { CoursewareBlockModule } from '@/store/modules/coursewareBlock';\nimport { httpClient } from '@/routes/jsonApi';\nconst reststateVuex = require('@elan-ev/reststate-vuex');\nconst mapResourceModules = reststateVuex.mapResourceModules;\n\nexport const store = createStore({\n  modules: {\n    taskEditor: TaskEditorModule,\n    coursewareBlock: CoursewareBlockModule,\n    // Dynamically generated store modules used to access Stud.IP's JSON API\n    ...mapResourceModules({\n      names: [\n        'courses',\n        'course-memberships',\n        'courseware-blocks',\n        'courseware-block-comments',\n        'courseware-block-feedback',\n        'courseware-clipboards',\n        'courseware-containers',\n        'courseware-instances',\n        'courseware-public-links',\n        'courseware-structural-elements',\n        'courseware-structural-element-comments',\n        'courseware-structural-element-feedback',\n        'courseware-task-feedback',\n        'courseware-task-groups',\n        'courseware-tasks',\n        'courseware-templates',\n        'courseware-user-data-fields',\n        'courseware-user-progresses',\n        'courseware-units',\n        'files',\n        'file-refs',\n        'folders',\n        'lti-tools',\n        'status-groups',\n        'users',\n        'institutes',\n        'institute-memberships',\n        'semesters',\n        'sem-classes',\n        'sem-types',\n        'terms-of-use',\n        'user-data-field',\n        'studip-properties',\n      ],\n      httpClient,\n    }),\n  },\n});\n// These variables have type information attached to them, thanks to\n// the library vuex-module-decorators.\nexport const taskEditorStore = getModule(TaskEditorModule, store);\nexport const coursewareBlockStore = getModule(CoursewareBlockModule, store);\n","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createTextVNode as _createTextVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, vModelCheckbox as _vModelCheckbox, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8c60d656\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"h5pEditorTopPanel\" }\nconst _hoisted_3 = [\"data-tooltip\"]\nconst _hoisted_4 = { class: \"collapsable collapsed\" }\nconst _hoisted_5 = { value: false }\nconst _hoisted_6 = { value: true }\nconst _hoisted_7 = [\"disabled\"]\nconst _hoisted_8 = [\"disabled\"]\nconst _hoisted_9 = [\"disabled\"]\nconst _hoisted_10 = { class: \"collapsable collapsed\" }\nconst _hoisted_11 = { class: \"feedbackContainer\" }\nconst _hoisted_12 = { class: \"feedbackPercentagesChild\" }\nconst _hoisted_13 = [\"onUpdate:modelValue\"]\nconst _hoisted_14 = { class: \"feedbackMessagesChild\" }\nconst _hoisted_15 = [\"onUpdate:modelValue\"]\nconst _hoisted_16 = [\"title\", \"onClick\"]\nconst _hoisted_17 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_studip_wysiwyg = _resolveComponent(\"studip-wysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Drag The Words')), 1),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addBlank && _ctx.addBlank(...args))),\n          class: \"button\",\n          type: \"button\",\n          style: {\"margin-right\":\"0.1em\"}\n        }, _toDisplayString(_ctx.$gettext('Lcke hinzufgen')), 1),\n        _createElementVNode(\"div\", {\n          class: \"tooltip tooltip-icon\",\n          \"data-tooltip\": _ctx.instructions\n        }, null, 8, _hoisted_3)\n      ]),\n      _createVNode(_component_studip_wysiwyg, {\n        modelValue: _ctx.taskDefinition.template,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.taskDefinition.template) = $event)),\n        ref: \"wysiwyg\",\n        \"force-soft-breaks\": \"\",\n        \"remove-wrapping-p-tag\": \"\",\n        \"disable-autoformat\": \"\"\n      }, null, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_4, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Korrigiert wird')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"select\", {\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.taskDefinition.instantFeedback) = $event))\n        }, [\n          _createElementVNode(\"option\", _hoisted_5, _toDisplayString(_ctx.$gettext('manuell per Button')), 1),\n          _createElementVNode(\"option\", _hoisted_6, _toDisplayString(_ctx.$gettext('automatisch nach Eingabe')), 1)\n        ], 512), [\n          [_vModelSelect, _ctx.taskDefinition.instantFeedback]\n        ])\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.instantFeedback ? 'setting-disabled' : '')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: _ctx.taskDefinition.instantFeedback,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.taskDefinition.strings.checkButton) = $event))\n        }, null, 8, _hoisted_7), [\n          [_vModelText, _ctx.taskDefinition.strings.checkButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.taskDefinition.alphabeticOrder) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.alphabeticOrder]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Antworten alphabetisch sortieren')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.retryAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.retryAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Versuche erlauben')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.retryAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.retryAllowed,\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.strings.retryButton) = $event))\n        }, null, 8, _hoisted_8), [\n          [_vModelText, _ctx.taskDefinition.strings.retryButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.taskDefinition.showSolutionsAllowed) = $event)),\n          onChange: _cache[8] || (_cache[8] = ($event: any) => (\n            !_ctx.taskDefinition.showSolutionsAllowed\n              ? (_ctx.taskDefinition.allBlanksMustBeFilledForSolutions =\n                  _ctx.taskDefinition.showSolutionsAllowed)\n              : ''\n          ))\n        }, null, 544), [\n          [_vModelCheckbox, _ctx.taskDefinition.showSolutionsAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Lsungen knnen angezeigt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((_ctx.taskDefinition.strings.solutionsButton) = $event))\n        }, null, 8, _hoisted_9), [\n          [_vModelText, _ctx.taskDefinition.strings.solutionsButton]\n        ])\n      ], 2)\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_10, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Feedback')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext(\n            'Ergebnismitteilung (mgliche Variablen :correct und :total):'\n          )) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((_ctx.taskDefinition.strings.resultMessage) = $event)),\n          style: {\"width\":\"100%\"}\n        }, null, 512), [\n          [_vModelText, _ctx.taskDefinition.strings.resultMessage]\n        ])\n      ]),\n      _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Benutzerdefiniertes Feedback fr beliebige Punktebereiche:')), 1),\n      _createElementVNode(\"div\", _hoisted_11, [\n        _createElementVNode(\"div\", _hoisted_12, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Prozent')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n              key: i,\n              type: \"number\",\n              min: \"0\",\n              max: \"100\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].percentage) = $event)\n            }, null, 8, _hoisted_13)), [\n              [_vModelText, _ctx.taskDefinition.feedback[i].percentage]\n            ])\n          }), 128))\n        ]),\n        _createElementVNode(\"div\", _hoisted_14, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Mitteilung')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"feedbackMessagesChildSubdivision\",\n              key: i\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].message) = $event)\n              }, null, 8, _hoisted_15), [\n                [_vModelText, _ctx.taskDefinition.feedback[i].message]\n              ]),\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                title: _ctx.titleForDeleteButtonForFeedback(feedback),\n                onClick: ($event: any) => (_ctx.removeFeedback(feedback))\n              }, [\n                _createElementVNode(\"img\", {\n                  src: _ctx.urlForIcon('trash'),\n                  width: \"16\",\n                  height: \"16\"\n                }, null, 8, _hoisted_17)\n              ], 8, _hoisted_16)\n            ]))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"button\",\n        onClick: _cache[11] || (_cache[11] = \n//@ts-ignore\n(...args) => (_ctx.addFeedback && _ctx.addFeedback(...args)))\n      }, _toDisplayString(_ctx.$gettext('Neuer Bereich')), 1)\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want.\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { DragTheWordsTask, Feedback } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport { $gettext } from '@/language/gettext';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\n\nexport default defineComponent({\n  name: 'DragTheWordsEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<DragTheWordsTask>,\n      required: true,\n    },\n  },\n  computed: {\n    currentUndoRedoState: () =>\n      taskEditorStore.undoRedoStack[taskEditorStore.undoRedoIndex],\n\n    instructions(): string {\n      return $gettext(\n        'Fgen Sie Lcken hinzu, indem Sie ein Sternchen (*) vor und hinter dem korrekten Wort bzw. den Wrtern setzen oder markieren Sie ein Wort und klicken Sie den \"Lcke hinzufgen\"Button.' +\n          ' Auerdem knnen Sie einen Tooltip mit einem Doppelpunkt (:) hinzufgen.'\n      );\n    },\n\n    feedbackSortedByScore(): Feedback[] {\n      return this.taskDefinition.feedback\n        .map((value) => value)\n        .sort((a, b) => b.percentage - a.percentage);\n    },\n  },\n  methods: {\n    $gettext,\n\n    /**\n     * Surround the selected text with two asterisks\n     */\n    addBlank() {\n      const wysiwygEl = (this.$refs.wysiwyg as any)?.$el;\n      const editor = window.STUDIP.wysiwyg.getEditor(wysiwygEl);\n      if (!editor) {\n        console.error('getEditor(wysiwygEl) returned: ', editor);\n        throw new Error('Could not get reference to wysiwyg editor');\n      }\n      const selection = editor.model.document.selection;\n      const start = selection.getFirstPosition();\n      const end = selection.getLastPosition();\n      if (!start || !end) {\n        console.error('selection start: ', start, ' selection end: ', end);\n        throw new Error('Could not get selection in editor');\n      }\n      editor.model.change((writer) => {\n        writer.insertText('*', end);\n        writer.insertText('*', start);\n      });\n    },\n\n    addFeedback(): void {\n      this.taskDefinition.feedback.push({\n        percentage: this.feedbackSortedByScore[0]?.percentage,\n        message: 'Feedback',\n      });\n    },\n\n    removeFeedback(feedbackToRemove: Feedback): void {\n      this.taskDefinition.feedback = this.taskDefinition.feedback.filter(\n        (feedback) => feedback !== feedbackToRemove\n      );\n    },\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n\n    titleForDeleteButtonForFeedback(feedback: Feedback): string {\n      return this.$gettext(\n        'Entferne den Feedback-Bereich, der ab %{ percentage }% anfngt.',\n        { percentage: feedback.percentage.toString() }\n      );\n    },\n  },\n});\n","import { render } from \"./DragTheWordsEditor.vue?vue&type=template&id=8c60d656&scoped=true&ts=true\"\nimport script from \"./DragTheWordsEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./DragTheWordsEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./DragTheWordsEditor.vue?vue&type=style&index=0&id=8c60d656&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8c60d656\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, withModifiers as _withModifiers, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0dc23e75\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  class: \"h5p-module\",\n  ref: \"wrapperElement\"\n}\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = [\"draggable\", \"onDragstart\", \"onDrop\"]\nconst _hoisted_4 = [\"onDrop\", \"onClick\"]\nconst _hoisted_5 = { key: 2 }\nconst _hoisted_6 = [\"data-tooltip\"]\nconst _hoisted_7 = {\n  key: 3,\n  class: \"h5p-solution\"\n}\nconst _hoisted_8 = [\"draggable\", \"onDragstart\", \"onClick\"]\nconst _hoisted_9 = [\"textContent\"]\nconst _hoisted_10 = { class: \"h5p-button-panel\" }\nconst _hoisted_11 = [\"textContent\"]\nconst _hoisted_12 = [\"textContent\"]\nconst _hoisted_13 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.parsedTemplate, (element) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: element.uuid\n      }, [\n        (element.type === 'staticText')\n          ? (_openBlock(), _createElementBlock(\"span\", {\n              key: 0,\n              innerHTML: element.text\n            }, null, 8, _hoisted_2))\n          : (element.type === 'blank')\n            ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                (_ctx.userInputs[element.uuid])\n                  ? (_openBlock(), _createElementBlock(\"span\", {\n                      key: 0,\n                      class: _normalizeClass(_ctx.classForFilledBlank(element)),\n                      draggable: _ctx.editable,\n                      onDragstart: ($event: any) => (\n            _ctx.startDragUsedAnswer($event, element, _ctx.userInputs[element.uuid])\n          ),\n                      onDrop: ($event: any) => (_ctx.onDropBlank($event, element)),\n                      onDragover: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"])),\n                      onDragenter: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"]))\n                    }, _toDisplayString(_ctx.getAnswerById(_ctx.userInputs[element.uuid])?.text), 43, _hoisted_3))\n                  : (_openBlock(), _createElementBlock(\"span\", {\n                      key: 1,\n                      class: \"h5pBlank\",\n                      onDrop: ($event: any) => (_ctx.onDropBlank($event, element)),\n                      onDragover: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"])),\n                      onDragenter: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"prevent\"])),\n                      onClick: ($event: any) => (_ctx.onClickBlank(element))\n                    }, \" \", 40, _hoisted_4)),\n                (element.hint)\n                  ? (_openBlock(), _createElementBlock(\"label\", _hoisted_5, [\n                      _createElementVNode(\"span\", {\n                        class: \"tooltip tooltip-icon\",\n                        \"data-tooltip\": element.hint\n                      }, null, 8, _hoisted_6)\n                    ]))\n                  : _createCommentVNode(\"\", true),\n                (_ctx.showSolutions && !_ctx.submittedAnswerIsCorrect(element))\n                  ? (_openBlock(), _createElementBlock(\"span\", _hoisted_7, _toDisplayString(element.solution), 1))\n                  : _createCommentVNode(\"\", true)\n              ], 64))\n            : _createCommentVNode(\"\", true)\n      ], 64))\n    }), 128)),\n    _createElementVNode(\"div\", {\n      class: \"unused-answers-list\",\n      onDrop: _cache[4] || (_cache[4] = ($event: any) => (_ctx.onDropUnusedAnswers($event))),\n      onDragover: _cache[5] || (_cache[5] = _withModifiers(() => {}, [\"prevent\"])),\n      onDragenter: _cache[6] || (_cache[6] = _withModifiers(() => {}, [\"prevent\"]))\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.unusedAnswers, (answer) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: answer.uuid\n        }, [\n          _createElementVNode(\"span\", {\n            class: _normalizeClass([\"h5pBlankSolution\", { disabled: !this.editable }]),\n            draggable: _ctx.editable,\n            onDragstart: ($event: any) => (_ctx.startDragUnusedAnswer($event, answer)),\n            onClick: ($event: any) => (_ctx.onClickUnusedAnswer(answer))\n          }, _toDisplayString(answer.text), 43, _hoisted_8)\n        ]))\n      }), 128))\n    ], 32),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          \"achieved-points\": _ctx.correctAnswers,\n          \"max-points\": _ctx.maxPoints,\n          feedback: _ctx.task.feedback,\n          \"result-message\": _ctx.resultMessage\n        }, null, 8, [\"achieved-points\", \"max-points\", \"feedback\", \"result-message\"]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.showFillInAllTheBlanksMessage)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: \"h5pMessage\",\n          textContent: _toDisplayString(_ctx.fillInAllTheBlanksMessage)\n        }, null, 8, _hoisted_9))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_10, [\n      (_ctx.showCheckButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            textContent: _toDisplayString(this.task.strings.checkButton),\n            onClick: _cache[7] || (_cache[7] = \n//@ts-ignore\n(...args) => (_ctx.onClickCheck && _ctx.onClickCheck(...args))),\n            type: \"button\",\n            class: \"h5p-button\"\n          }, null, 8, _hoisted_11))\n        : _createCommentVNode(\"\", true),\n      (_ctx.showExtraButtons)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n            (!_ctx.showSolutions && this.task.showSolutionsAllowed)\n              ? (_openBlock(), _createElementBlock(\"button\", {\n                  key: 0,\n                  textContent: _toDisplayString(this.task.strings.solutionsButton),\n                  onClick: _cache[8] || (_cache[8] = \n//@ts-ignore\n(...args) => (_ctx.onClickShowSolution && _ctx.onClickShowSolution(...args))),\n                  type: \"button\",\n                  class: \"h5p-button\"\n                }, null, 8, _hoisted_12))\n              : _createCommentVNode(\"\", true),\n            (this.task.retryAllowed)\n              ? (_openBlock(), _createElementBlock(\"button\", {\n                  key: 1,\n                  textContent: _toDisplayString(this.task.strings.retryButton),\n                  onClick: _cache[9] || (_cache[9] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n                  type: \"button\",\n                  class: \"h5p-button\"\n                }, null, 8, _hoisted_13))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        : _createCommentVNode(\"\", true)\n    ])\n  ], 512))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { DragTheWordsTask, Feedback } from '@/models/TaskDefinition';\nimport { v4 as uuidv4 } from 'uuid';\nimport { isEqual, round } from 'lodash';\nimport { $gettext } from '@/language/gettext';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\ntype DragTheWordsElement = Blank | StaticText;\n\ninterface Blank {\n  type: 'blank';\n  uuid: Uuid;\n  solution: string;\n  hint: string;\n}\n\ninterface Answer {\n  uuid: Uuid;\n  text: string;\n}\n\ntype StaticText = {\n  type: 'staticText';\n  uuid: Uuid;\n  text: string;\n};\n\ntype Uuid = string;\n\nexport default defineComponent({\n  name: 'DragTheWordsViewer',\n  components: { FeedbackElement },\n  props: {\n    task: {\n      type: Object as PropType<DragTheWordsTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      // Map from Blank IDs to Answer IDs\n      userInputs: {} as Record<Uuid, Uuid>,\n      submittedAnswers: null as Record<Uuid, Uuid> | null,\n      userWantsToSeeSolutions: false,\n      draggedAnswerId: undefined as Uuid | undefined,\n      draggedSourceId: undefined as Uuid | undefined,\n      clickedAnswerId: undefined as Uuid | undefined,\n      editable: true as Boolean,\n    };\n  },\n  methods: {\n    $gettext,\n\n    submittedAnswerIsCorrect(blank: Blank): boolean {\n      const submittedAnswerId = this.submittedAnswers?.[blank.uuid];\n      if (!submittedAnswerId) return false;\n\n      const submittedAnswer = this.getAnswerById(submittedAnswerId)?.text;\n      if (!submittedAnswer) return false;\n\n      return this.isAnswerCorrect(submittedAnswer, blank.solution);\n    },\n\n    isAnswerCorrect(userAnswer: string, solution: string): boolean {\n      return userAnswer === solution;\n    },\n\n    updateAttempt() {\n      // Tell the server which blanks were filled out correctly.\n      const points = {} as Record<string, number>;\n      this.blanks.forEach((blank, index) => {\n        // TODO Consider what the key should be. This is a bit ugly.\n        // The key is shown directly in the 'assessment' UI.\n        // Maybe we should change how that works?\n        points[`${index} - ${blank.solution}`] = this.submittedAnswerIsCorrect(\n          blank\n        )\n          ? 1\n          : 0;\n      });\n      this.$emit('updateAttempt', {\n        points,\n        // The attempt is marked as successful if all answers were correct.\n        success: this.correctAnswers === this.blanks.length,\n      });\n    },\n\n    getElement(elementId: Uuid): DragTheWordsElement {\n      const el = this.parsedTemplate.find((el) => el.uuid === elementId);\n      if (!el) {\n        throw new Error(\n          'The given element does not exist in parsedTemplate: ' + elementId\n        );\n      }\n      return el;\n    },\n\n    startDragUsedAnswer(\n      dragEvent: DragEvent,\n      blank: Blank,\n      answerId: Uuid\n    ): void {\n      if (!this.editable) return;\n      if (dragEvent.dataTransfer) {\n        dragEvent.dataTransfer.dropEffect = 'move';\n        dragEvent.dataTransfer.effectAllowed = 'move';\n      }\n      const answer = this.getAnswerById(answerId);\n      console.log('Dragging answer: ', answer, 'From blank: ', blank);\n\n      for (const property in this.userInputs) {\n        console.log(property);\n      }\n\n      this.draggedAnswerId = answerId;\n    },\n\n    startDragUnusedAnswer(dragEvent: DragEvent, answer: Answer): void {\n      if (dragEvent.dataTransfer) {\n        dragEvent.dataTransfer.dropEffect = 'move';\n        dragEvent.dataTransfer.effectAllowed = 'move';\n\n        console.log('Dragging answer: ', answer);\n        this.draggedAnswerId = answer.uuid;\n      }\n    },\n\n    onDropBlank(dragEvent: DragEvent, blank: Blank): void {\n      if (!this.draggedAnswerId) {\n        throw new Error('Dragged answer id is undefined');\n      }\n\n      console.log('Dropped answer :', this.draggedAnswer, 'on blank: ', blank);\n\n      // Remove the dropped answer from the blank, if any, where it has been dragged from\n      const previousBlank = this.blanks.find(\n        (blank) => this.userInputs[blank.uuid] === this.draggedAnswerId\n      );\n\n      if (previousBlank) {\n        delete this.userInputs[previousBlank.uuid];\n      }\n\n      // Set the answer for the blank where the answer was dropped\n      this.userInputs[blank.uuid] = this.draggedAnswerId;\n\n      this.draggedAnswerId = undefined;\n    },\n\n    onDropUnusedAnswers(ev: DragEvent): void {\n      console.error('Not implemented');\n      ev.preventDefault(); // Indicate that dropping is al\n      if (!this.draggedAnswer) {\n        throw new Error('draggedAnswer is undefined');\n      }\n      // Remove the dropped answer from the blank, if any, where it has been dragged from\n      const blank = this.blanks.find(\n        (blank) => this.userInputs[blank.uuid] === this.draggedAnswerId\n      );\n      if (blank) {\n        delete this.userInputs[blank.uuid];\n      }\n    },\n\n    onClickCheck() {\n      // Save a copy of the user's inputs.\n      this.submittedAnswers = { ...this.userInputs };\n      this.editable = false;\n    },\n\n    onClickShowSolution() {\n      this.userWantsToSeeSolutions = true;\n    },\n\n    onClickTryAgain() {\n      this.userWantsToSeeSolutions = false;\n      this.userInputs = {};\n      this.submittedAnswers = null;\n      this.editable = true;\n    },\n\n    classForFilledBlank(blank: Blank) {\n      if (!this.submittedAnswers && !this.task.instantFeedback) {\n        return 'h5pFilledBlank';\n      }\n\n      if (this.task.instantFeedback) {\n        this.submittedAnswers = { ...this.userInputs };\n      }\n\n      if (this.userInputs?.[blank.uuid]) {\n        if (this.submittedAnswerIsCorrect(blank)) {\n          return 'h5pFilledBlank h5pBlankCorrect disabled';\n        } else {\n          return 'h5pFilledBlank h5pBlankIncorrect disabled';\n        }\n      } else {\n        return 'h5pBlank';\n      }\n    },\n\n    getAnswerById(id: Uuid): Answer | undefined {\n      return this.answers.find((answer) => answer.uuid === id);\n    },\n\n    onClickUnusedAnswer(answer: Answer): void {\n      console.log('Clicked answer:', answer);\n      if (this.editable) this.clickedAnswerId = answer.uuid;\n    },\n\n    onClickBlank(blank: Blank): void {\n      console.log('Clicked blank:', blank);\n      if (!this.clickedAnswerId) return;\n      this.userInputs[blank.uuid] = this.clickedAnswerId;\n      this.clickedAnswerId = undefined;\n    },\n  },\n  computed: {\n    splitTemplate(): string[] {\n      // Returns an array where the even indexes are the static text portions,\n      // and the odd indexes are the blanks.\n      return this.task.template.split(/\\*([^*]*)\\*/);\n    },\n\n    parsedTemplate(): DragTheWordsElement[] {\n      return this.splitTemplate.map((value, index) => {\n        if (index % 2 === 0) {\n          return { type: 'staticText', text: value, uuid: uuidv4() };\n        } else {\n          let splitString = value.split(':');\n          let solution = splitString[0];\n          let hint = splitString[1];\n          return {\n            type: 'blank',\n            solution: solution,\n            hint: hint,\n            uuid: uuidv4(),\n          };\n        }\n      });\n    },\n\n    blanks(): Blank[] {\n      return this.parsedTemplate.filter(\n        (word) => word.type === 'blank'\n      ) as Blank[];\n    },\n\n    answers(): Answer[] {\n      return this.blanks.map((blank) => ({\n        uuid: uuidv4(),\n        text: blank.solution,\n      }));\n    },\n\n    draggedAnswer(): Answer | undefined {\n      if (!this.draggedAnswerId) {\n        return undefined;\n      } else {\n        return this.getAnswerById(this.draggedAnswerId);\n      }\n    },\n\n    randomizedAnswers(): Answer[] {\n      // https://stackoverflow.com/a/46545530\n      return this.answers\n        .map((value) => ({ value, sort: Math.random() }))\n        .sort((a, b) => a.sort - b.sort)\n        .map(({ value }) => value);\n    },\n\n    sortedAnswers(): Answer[] {\n      // https://stackoverflow.com/a/45544166\n      return this.answers\n        .map((value) => value)\n        .sort((a, b) => a.text.localeCompare(b.text));\n    },\n\n    blanksFilled(): number {\n      if (!this.submittedAnswers) {\n        return 0;\n      } else {\n        return Object.keys(this.submittedAnswers).length;\n      }\n    },\n\n    allBlanksAreFilled(): boolean {\n      return this.blanksFilled == this.blanks.length;\n    },\n\n    correctAnswers(): number {\n      return this.blanks.filter((blank) => this.submittedAnswerIsCorrect(blank))\n        .length;\n    },\n\n    allAnswersAreCorrect(): boolean {\n      return this.blanks.every((blank) => this.submittedAnswerIsCorrect(blank));\n    },\n\n    maxPoints(): number {\n      return this.blanks.length;\n    },\n\n    unusedAnswers(): Answer[] {\n      if (this.task.alphabeticOrder) {\n        return this.sortedAnswers.filter(\n          (answer) => !Object.values(this.userInputs).includes(answer.uuid)\n        );\n      } else {\n        return this.randomizedAnswers.filter(\n          (answer) => !Object.values(this.userInputs).includes(answer.uuid)\n        );\n      }\n    },\n\n    inputHasChanged(): boolean {\n      return !isEqual(this.submittedAnswers, this.userInputs);\n    },\n\n    showExtraButtons(): boolean {\n      if (this.task.instantFeedback) {\n        if (this.allBlanksAreFilled) {\n          return (\n            this.submittedAnswers !== null &&\n            !this.inputHasChanged &&\n            !this.allAnswersAreCorrect\n          );\n        } else {\n          return false;\n        }\n      } else {\n        return (\n          this.submittedAnswers !== null &&\n          !this.inputHasChanged &&\n          !this.allAnswersAreCorrect\n        );\n      }\n    },\n\n    showCheckButton(): boolean {\n      return (\n        (this.submittedAnswers === null || this.inputHasChanged) &&\n        !this.task.instantFeedback\n      );\n    },\n\n    showSolutionButton(): boolean {\n      return !this.showSolutions && this.task.showSolutionsAllowed;\n    },\n\n    showRetryButton(): boolean {\n      return this.task.retryAllowed && this.submittedAnswers !== null;\n    },\n\n    showSolutions(): boolean {\n      return (\n        this.userWantsToSeeSolutions &&\n        (this.allBlanksAreFilled ||\n          !this.task.allBlanksMustBeFilledForSolutions)\n      );\n    },\n\n    showFillInAllTheBlanksMessage(): boolean {\n      return (\n        this.task.allBlanksMustBeFilledForSolutions &&\n        this.userWantsToSeeSolutions &&\n        !this.allBlanksAreFilled &&\n        !this.inputHasChanged\n      );\n    },\n\n    showResults(): boolean {\n      return (\n        !(this.submittedAnswers === null) &&\n        !this.showFillInAllTheBlanksMessage &&\n        (!this.task.instantFeedback || this.allBlanksAreFilled) &&\n        !this.inputHasChanged\n      );\n    },\n\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.blanks.length.toString()\n      );\n\n      return resultMessage;\n    },\n\n    fillInAllTheBlanksMessage(): string {\n      return this.task.strings.fillInAllBlanksMessage\n        ? this.task.strings.fillInAllBlanksMessage\n        : $gettext(\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen'\n          );\n    },\n  },\n});\n","import { render } from \"./DragTheWordsViewer.vue?vue&type=template&id=0dc23e75&scoped=true&ts=true\"\nimport script from \"./DragTheWordsViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./DragTheWordsViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./DragTheWordsViewer.vue?vue&type=style&index=0&id=0dc23e75&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0dc23e75\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { class: \"h5pFeedbackContainer\" }\nconst _hoisted_2 = { class: \"h5pFeedbackText\" }\nconst _hoisted_3 = [\"low\", \"high\", \"optimum\", \"max\", \"value\"]\nconst _hoisted_4 = [\"src\"]\nconst _hoisted_5 = { key: 1 }\nconst _hoisted_6 = {\n  key: 2,\n  class: \"h5pFeedbackText\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, _toDisplayString(_ctx.resultMessage), 1),\n    (_ctx.maxPoints)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"meter\", {\n            min: \"0\",\n            low: _ctx.lowNumber,\n            high: _ctx.highNumber,\n            optimum: _ctx.maxPoints,\n            max: _ctx.maxPoints,\n            value: _ctx.achievedPoints\n          }, null, 8, _hoisted_3),\n          (_ctx.achievedMaxPoints)\n            ? (_openBlock(), _createElementBlock(\"img\", {\n                key: 0,\n                src: _ctx.urlForIcon('star'),\n                width: \"36\",\n                height: \"36\"\n              }, null, 8, _hoisted_4))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(_ctx.achievedPoints), 1)),\n    (_ctx.feedbackMessage)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString(_ctx.feedbackMessage), 1))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","\n// need v-model to provide and get content -> <studip-wysiwyg v-model=\"content\" />\nimport { defineComponent, PropType } from 'vue';\nimport { Feedback } from '@/models/TaskDefinition';\nimport { round } from 'lodash';\n\nexport default defineComponent({\n  name: 'FeedbackElement',\n  props: {\n    achievedPoints: Number,\n    maxPoints: Number,\n    resultMessage: String,\n    feedback: Object as PropType<Feedback[]>,\n  },\n  data() {\n    return {};\n  },\n  mounted() {},\n  methods: {\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n  computed: {\n    lowNumber(): Number {\n      if (this.maxPoints) return this.maxPoints / 3;\n      return 0;\n    },\n\n    highNumber(): Number {\n      if (this.maxPoints) return (this.maxPoints * 2) / 3;\n      return 0;\n    },\n\n    feedbackSortedByScore(): Feedback[] {\n      if (this.feedback) {\n        return this.feedback\n          .map((value) => value)\n          .sort((a, b) => b.percentage - a.percentage);\n      }\n      return [];\n    },\n\n    feedbackMessage(): string | undefined {\n      if (\n        typeof this.achievedPoints === 'undefined' ||\n        typeof this.maxPoints === 'undefined'\n      ) {\n        return undefined;\n      }\n\n      const percentageCorrect = round(\n        (this.achievedPoints / this.maxPoints) * 100\n      );\n\n      for (const feedback of this.feedbackSortedByScore) {\n        if (percentageCorrect >= feedback.percentage) {\n          return feedback.message;\n        }\n      }\n\n      return undefined;\n    },\n\n    achievedMaxPoints(): boolean {\n      return this.achievedPoints === this.maxPoints;\n    },\n  },\n});\n","import { render } from \"./FeedbackElement.vue?vue&type=template&id=0b5aa6df&ts=true\"\nimport script from \"./FeedbackElement.vue?vue&type=script&lang=ts\"\nexport * from \"./FeedbackElement.vue?vue&type=script&lang=ts\"\n\nimport \"./FeedbackElement.vue?vue&type=style&index=0&id=0b5aa6df&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { key: 1 }\nconst _hoisted_3 = [\"accept\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_ctx.uploadRequestPromise)\n    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, _toDisplayString(_ctx.$gettext('Datei wird hochgeladen')), 1))\n    : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n        _createElementVNode(\"input\", {\n          ref: \"fileInput\",\n          type: \"file\",\n          accept: _ctx.accept,\n          onChange: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputChange && _ctx.onInputChange(...args)))\n        }, null, 40, _hoisted_3),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.errors, (error) => {\n          return (_openBlock(), _createElementBlock(\"p\", {\n            class: \"validation-error\",\n            key: error\n          }, _toDisplayString(error), 1))\n        }), 128))\n      ]))\n}","\nimport { defineComponent } from 'vue';\nimport { $gettext } from '@/language/gettext';\nimport { mapActions, mapGetters } from 'vuex';\nimport { createFile, FileRef, FolderRef } from '@/routes/jsonApi';\n\nexport default defineComponent({\n  name: 'FileUpload',\n  emits: ['fileUploaded'],\n  props: {\n    // The 'accept' property passed to the <input type=\"file\"> element.  Default: 'image/*'\n    accept: {\n      type: String,\n      required: false,\n      default: 'image/*',\n    },\n  },\n  data() {\n    return {\n      // Wenn dieser Promise vorhanden ist, heit das, dass eine HTTP-Anfrage\n      // unterwegs ist.\n      uploadRequestPromise: undefined as Promise<unknown> | undefined,\n      selectedFolderId: undefined as string | undefined,\n      errors: [] as string[],\n    };\n  },\n  async mounted() {\n    await this.getUserFolders();\n    const wysiwigUploads = this.loadedUserFolders.find(\n      (f) => f.attributes.name === 'Wysiwyg Uploads'\n    );\n    if (wysiwigUploads) {\n      this.selectedFolderId = wysiwigUploads.id;\n    } else {\n      // TODO just create the folder if it's not present.\n      // TODO Consider using a separate folder, like \"Courseware Uploads\"?\n      const error = $gettext(\n        'Das Verzeichnis \"Wysiwyg Uploads\" ist nicht vorhanden. ' +\n          'Es knnen keine Dateien hochgeladen werden.'\n      );\n      this.errors.push(error);\n      console.error(error);\n    }\n  },\n  computed: {\n    ...mapGetters({\n      relatedFolders: 'folders/related',\n    }),\n    userId(): string {\n      // Replaces the vuex getter 'userId'\n      return window.STUDIP.USER_ID;\n    },\n    userObject() {\n      return { type: 'users', id: `${this.userId}` };\n    },\n    loadedUserFolders() {\n      let loadedUserFolders: FolderRef[] = [];\n      let userFolders: FolderRef[] =\n        this.relatedFolders({\n          parent: this.userObject,\n          relationship: 'folders',\n        }) ?? [];\n      userFolders.forEach((folder: FolderRef) => {\n        if (folder.attributes['folder-type'] === 'PublicFolder') {\n          loadedUserFolders.push(folder);\n        }\n      });\n\n      return loadedUserFolders;\n    },\n  },\n  methods: {\n    $gettext,\n    ...mapActions({\n      _loadRelatedFolders: 'folders/loadRelated',\n    }),\n    // Typed shim for vuex action 'folders/loadRelated'\n    loadRelatedFolders(params: {\n      parent: {\n        type: string;\n        id: string;\n      };\n      relationship: string;\n      options: {\n        'page[limit]': number;\n      };\n    }): Promise<unknown> {\n      return this._loadRelatedFolders(params);\n    },\n    async getUserFolders() {\n      const parent = this.userObject;\n      const relationship = 'folders';\n      const options = { 'page[limit]': 10000 };\n      return await this.loadRelatedFolders({ parent, relationship, options });\n    },\n    onInputChange(event: Event): void {\n      if (this.uploadRequestPromise) {\n        console.warn(\n          'FileUpload: onInputChange fired while uploadRequestPromise is already defined.'\n        );\n        return;\n      }\n      const input = this.$refs.fileInput as HTMLInputElement;\n      const file = input.files?.item(0);\n      if (!file) {\n        console.warn(\n          'FileUpload: onInputChange fired, but input.files[] is empty.'\n        );\n        return;\n      }\n      if (!this.selectedFolderId) {\n        const error = $gettext(\n          'Kein Ordner ist ausgewhlt. Die Datei kann nicht hochgeladen werden.'\n        );\n        console.error(error);\n        this.errors.push(error);\n        return;\n      }\n      this.errors = [];\n      this.uploadRequestPromise = createFile({\n        file: {\n          attributes: {\n            name: file.name,\n          },\n        },\n        fileData: file,\n        folder: { id: this.selectedFolderId },\n      })\n        .then((fileRef: FileRef) => {\n          this.$emit('fileUploaded', fileRef);\n          this.uploadRequestPromise = undefined;\n          this.errors = [];\n        })\n        .catch((error) => {\n          /*\n           TODO #23 Check for common errors and translate them so they are\n             understandable for users. E.g. AxiosError 413 (File too large).\n          */\n          console.error(error);\n          this.errors.push(error);\n          this.uploadRequestPromise = undefined;\n        });\n    },\n  },\n});\n","import { render } from \"./FileUpload.vue?vue&type=template&id=5eb45b18&ts=true\"\nimport script from \"./FileUpload.vue?vue&type=script&lang=ts\"\nexport * from \"./FileUpload.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, createTextVNode as _createTextVNode, vModelSelect as _vModelSelect, vModelText as _vModelText, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-71de5281\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"h5pEditorTopPanel\" }\nconst _hoisted_3 = [\"data-tooltip\"]\nconst _hoisted_4 = { class: \"collapsable collapsed\" }\nconst _hoisted_5 = { value: false }\nconst _hoisted_6 = { value: true }\nconst _hoisted_7 = [\"disabled\"]\nconst _hoisted_8 = [\"disabled\"]\nconst _hoisted_9 = [\"disabled\"]\nconst _hoisted_10 = [\"disabled\"]\nconst _hoisted_11 = [\"disabled\"]\nconst _hoisted_12 = { class: \"collapsable collapsed\" }\nconst _hoisted_13 = { class: \"feedbackContainer\" }\nconst _hoisted_14 = { class: \"feedbackPercentagesChild\" }\nconst _hoisted_15 = [\"onUpdate:modelValue\"]\nconst _hoisted_16 = { class: \"feedbackMessagesChild\" }\nconst _hoisted_17 = [\"onUpdate:modelValue\"]\nconst _hoisted_18 = [\"title\", \"onClick\"]\nconst _hoisted_19 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_studip_wysiwyg = _resolveComponent(\"studip-wysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Fill In The Blanks')), 1),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addBlank && _ctx.addBlank(...args))),\n          class: \"button\",\n          type: \"button\",\n          style: {\"margin-right\":\"0.1em\"}\n        }, _toDisplayString(_ctx.$gettext('Lcke hinzufgen')), 1),\n        _createElementVNode(\"div\", {\n          class: \"tooltip tooltip-icon\",\n          \"data-tooltip\": _ctx.instructions\n        }, null, 8, _hoisted_3)\n      ]),\n      _createVNode(_component_studip_wysiwyg, {\n        modelValue: _ctx.taskDefinition.template,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.taskDefinition.template) = $event)),\n        ref: \"wysiwyg\",\n        \"force-soft-breaks\": \"\",\n        \"remove-wrapping-p-tag\": \"\",\n        \"disable-autoformat\": \"\"\n      }, null, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_4, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.taskDefinition.caseSensitive) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.caseSensitive]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Gro- und Kleinschreibung beachten')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.taskDefinition.acceptTypos) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.acceptTypos]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Rechtschreib- oder Tippfehler ignorieren')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Korrigiert wird')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"select\", {\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.taskDefinition.autoCorrect) = $event))\n        }, [\n          _createElementVNode(\"option\", _hoisted_5, _toDisplayString(_ctx.$gettext('manuell per Button')), 1),\n          _createElementVNode(\"option\", _hoisted_6, _toDisplayString(_ctx.$gettext('automatisch nach Eingabe')), 1)\n        ], 512), [\n          [_vModelSelect, _ctx.taskDefinition.autoCorrect]\n        ])\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.autoCorrect ? 'setting-disabled' : '')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: _ctx.taskDefinition.autoCorrect,\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.strings.checkButton) = $event))\n        }, null, 8, _hoisted_7), [\n          [_vModelText, _ctx.taskDefinition.strings.checkButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.retryAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.retryAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Versuche erlauben')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.retryAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.retryAllowed,\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.taskDefinition.strings.retryButton) = $event))\n        }, null, 8, _hoisted_8), [\n          [_vModelText, _ctx.taskDefinition.strings.retryButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((_ctx.taskDefinition.showSolutionsAllowed) = $event)),\n          onChange: _cache[9] || (_cache[9] = ($event: any) => (\n            !_ctx.taskDefinition.showSolutionsAllowed\n              ? (_ctx.taskDefinition.allBlanksMustBeFilledForSolutions =\n                  _ctx.taskDefinition.showSolutionsAllowed)\n              : ''\n          ))\n        }, null, 544), [\n          [_vModelCheckbox, _ctx.taskDefinition.showSolutionsAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Lsungen knnen angezeigt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((_ctx.taskDefinition.strings.solutionsButton) = $event))\n        }, null, 8, _hoisted_9), [\n          [_vModelText, _ctx.taskDefinition.strings.solutionsButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((_ctx.taskDefinition.allBlanksMustBeFilledForSolutions) = $event))\n        }, null, 8, _hoisted_10), [\n          [_vModelCheckbox, _ctx.taskDefinition.allBlanksMustBeFilledForSolutions]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext(\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen.'\n          )), 1)\n      ], 2),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(\n          _ctx.taskDefinition.allBlanksMustBeFilledForSolutions\n            ? ''\n            : 'setting-disabled'\n        )\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Mitteilung, wenn nicht alle Lcken ausgefllt sind:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.allBlanksMustBeFilledForSolutions,\n          \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event: any) => ((_ctx.taskDefinition.strings.fillInAllBlanksMessage) = $event)),\n          style: {\"width\":\"100%\"}\n        }, null, 8, _hoisted_11), [\n          [_vModelText, _ctx.taskDefinition.strings.fillInAllBlanksMessage]\n        ])\n      ], 2)\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_12, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Feedback')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext(\n            'Ergebnismitteilung (mgliche Variablen :correct und :total):'\n          )) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[13] || (_cache[13] = ($event: any) => ((_ctx.taskDefinition.strings.resultMessage) = $event)),\n          style: {\"width\":\"100%\"}\n        }, null, 512), [\n          [_vModelText, _ctx.taskDefinition.strings.resultMessage]\n        ])\n      ]),\n      _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Benutzerdefiniertes Feedback fr beliebige Punktebereiche:')), 1),\n      _createElementVNode(\"div\", _hoisted_13, [\n        _createElementVNode(\"div\", _hoisted_14, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Prozent')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n              key: i,\n              type: \"number\",\n              min: \"0\",\n              max: \"100\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].percentage) = $event)\n            }, null, 8, _hoisted_15)), [\n              [_vModelText, _ctx.taskDefinition.feedback[i].percentage]\n            ])\n          }), 128))\n        ]),\n        _createElementVNode(\"div\", _hoisted_16, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Mitteilung')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"feedbackMessagesChildSubdivision\",\n              key: i\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].message) = $event)\n              }, null, 8, _hoisted_17), [\n                [_vModelText, _ctx.taskDefinition.feedback[i].message]\n              ]),\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                title: _ctx.titleForDeleteButtonForFeedback(feedback),\n                onClick: ($event: any) => (_ctx.removeFeedback(feedback))\n              }, [\n                _createElementVNode(\"img\", {\n                  src: _ctx.urlForIcon('trash'),\n                  width: \"16\",\n                  height: \"16\"\n                }, null, 8, _hoisted_19)\n              ], 8, _hoisted_18)\n            ]))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"button\",\n        onClick: _cache[14] || (_cache[14] = \n//@ts-ignore\n(...args) => (_ctx.addFeedback && _ctx.addFeedback(...args)))\n      }, _toDisplayString(_ctx.$gettext('Neuer Bereich')), 1)\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { Feedback, FillInTheBlanksTask } from '@/models/TaskDefinition';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'FillInTheBlanksEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<FillInTheBlanksTask>,\n      required: true,\n    },\n  },\n  computed: {\n    feedbackSortedByScore(): Feedback[] {\n      return this.taskDefinition.feedback\n        .map((value) => value)\n        .sort((a, b) => b.percentage - a.percentage);\n    },\n\n    instructions(): string {\n      return $gettext(\n        'Fgen Sie Lcken hinzu, indem Sie ein Sternchen (*) vor und hinter dem korrekten Wort bzw. den Wrtern setzen oder markieren Sie ein Wort und klicken Sie den \"Lcke hinzufgen\"Button.' +\n          ' Sie knnen alternative Antworten mit einem Schrgstrich (/) hinzufgen.' +\n          ' Auerdem knnen Sie einen Tooltip mit einem Doppelpunkt (:) hinzufgen.'\n      );\n    },\n  },\n  methods: {\n    $gettext,\n\n    titleForDeleteButtonForFeedback(feedback: Feedback): string {\n      return this.$gettext(\n        'Entferne den Feedback-Bereich, der ab %{ percentage }% anfngt.',\n        { percentage: feedback.percentage.toString() }\n      );\n    },\n\n    /**\n     * Surround the selected text with two asterisks\n     */\n    addBlank() {\n      const wysiwygEl = (this.$refs.wysiwyg as any)?.$el;\n      const editor = window.STUDIP.wysiwyg.getEditor(wysiwygEl);\n      if (!editor) {\n        console.error('getEditor(wysiwygEl) returned: ', editor);\n        throw new Error('Could not get reference to wysiwyg editor');\n      }\n      const selection = editor.model.document.selection;\n      const start = selection.getFirstPosition();\n      const end = selection.getLastPosition();\n      if (!start || !end) {\n        console.error('selection start: ', start, ' selection end: ', end);\n        throw new Error('Could not get selection in editor');\n      }\n      editor.model.change((writer) => {\n        writer.insertText('*', end);\n        writer.insertText('*', start);\n      });\n    },\n\n    addFeedback(): void {\n      this.taskDefinition.feedback.push({\n        percentage: this.feedbackSortedByScore[0]?.percentage,\n        message: 'Feedback',\n      });\n    },\n\n    removeFeedback(feedbackToRemove: Feedback): void {\n      this.taskDefinition.feedback = this.taskDefinition.feedback.filter(\n        (feedback) => feedback !== feedbackToRemove\n      );\n    },\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n});\n","import { render } from \"./FillInTheBlanksEditor.vue?vue&type=template&id=71de5281&scoped=true&ts=true\"\nimport script from \"./FillInTheBlanksEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./FillInTheBlanksEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./FillInTheBlanksEditor.vue?vue&type=style&index=0&id=71de5281&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-71de5281\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withKeys as _withKeys, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-48dbae8a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  class: \"h5p-module\",\n  ref: \"wrapperElement\"\n}\nconst _hoisted_2 = { class: \"fill-in-the-blanks-text\" }\nconst _hoisted_3 = [\"innerHTML\"]\nconst _hoisted_4 = [\"onUpdate:modelValue\", \"readonly\", \"disabled\"]\nconst _hoisted_5 = { key: 0 }\nconst _hoisted_6 = [\"data-tooltip\"]\nconst _hoisted_7 = {\n  key: 1,\n  class: \"h5p-solution\"\n}\nconst _hoisted_8 = [\"textContent\"]\nconst _hoisted_9 = { class: \"h5p-button-panel\" }\nconst _hoisted_10 = [\"textContent\"]\nconst _hoisted_11 = [\"textContent\"]\nconst _hoisted_12 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.parsedTemplate, (element) => {\n        return (_openBlock(), _createElementBlock(_Fragment, {\n          key: element.uuid\n        }, [\n          (element.type === 'staticText')\n            ? (_openBlock(), _createElementBlock(\"span\", {\n                key: 0,\n                innerHTML: element.text\n              }, null, 8, _hoisted_3))\n            : (element.type === 'blank')\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                  _withDirectives(_createElementVNode(\"input\", {\n                    type: \"text\",\n                    \"onUpdate:modelValue\": ($event: any) => ((_ctx.userInputs[element.uuid]) = $event),\n                    readonly: !this.editable,\n                    disabled: !this.editable,\n                    class: _normalizeClass(_ctx.classForInput(element)),\n                    onBlur: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputBlurOrEnter && _ctx.onInputBlurOrEnter(...args))),\n                    onKeyup: _cache[1] || (_cache[1] = _withKeys(\n//@ts-ignore\n(...args) => (_ctx.onInputBlurOrEnter && _ctx.onInputBlurOrEnter(...args)), [\"enter\"])),\n                    onInput: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.onInput && _ctx.onInput(...args)))\n                  }, null, 42, _hoisted_4), [\n                    [_vModelText, _ctx.userInputs[element.uuid]]\n                  ]),\n                  (element.hint)\n                    ? (_openBlock(), _createElementBlock(\"label\", _hoisted_5, [\n                        _createElementVNode(\"span\", {\n                          class: \"tooltip tooltip-icon\",\n                          \"data-tooltip\": element.hint\n                        }, null, 8, _hoisted_6)\n                      ]))\n                    : _createCommentVNode(\"\", true),\n                  (_ctx.showSolutions && !_ctx.submittedAnswerIsCorrect(element))\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_7, _toDisplayString(element.solutions[0]), 1))\n                    : _createCommentVNode(\"\", true)\n                ], 64))\n              : _createCommentVNode(\"\", true)\n        ], 64))\n      }), 128))\n    ]),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          achievedPoints: _ctx.correctAnswers,\n          maxPoints: _ctx.maxPoints,\n          feedback: _ctx.task.feedback,\n          resultMessage: _ctx.resultMessage\n        }, null, 8, [\"achievedPoints\", \"maxPoints\", \"feedback\", \"resultMessage\"]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.showFillInAllTheBlanksMessage)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: \"h5pMessage\",\n          textContent: _toDisplayString(_ctx.fillInAllTheBlanksMessage)\n        }, null, 8, _hoisted_8))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_9, [\n      (_ctx.showCheckButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            textContent: _toDisplayString(this.task.strings.checkButton),\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.onClickCheck(false))),\n            type: \"button\",\n            class: \"h5p-button\"\n          }, null, 8, _hoisted_10))\n        : _createCommentVNode(\"\", true),\n      (_ctx.showExtraButtons)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n            (_ctx.showSolutionButton)\n              ? (_openBlock(), _createElementBlock(\"button\", {\n                  key: 0,\n                  textContent: _toDisplayString(this.task.strings.solutionsButton),\n                  onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.onClickShowSolution && _ctx.onClickShowSolution(...args))),\n                  type: \"button\",\n                  class: \"h5p-button\"\n                }, null, 8, _hoisted_11))\n              : _createCommentVNode(\"\", true),\n            (_ctx.showRetryButton)\n              ? (_openBlock(), _createElementBlock(\"button\", {\n                  key: 1,\n                  textContent: _toDisplayString(this.task.strings.retryButton),\n                  onClick: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n                  type: \"button\",\n                  class: \"h5p-button\"\n                }, null, 8, _hoisted_12))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        : _createCommentVNode(\"\", true)\n    ])\n  ], 512))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { Feedback, FillInTheBlanksTask } from '@/models/TaskDefinition';\nimport { v4 as uuidv4 } from 'uuid';\nimport { isEqual, round } from 'lodash';\nimport { $gettext } from '@/language/gettext';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\ntype FillInTheBlanksElement = Blank | StaticText;\ntype Blank = {\n  type: 'blank';\n  uuid: Uuid;\n  solutions: string[];\n  hint: string;\n};\ntype StaticText = {\n  type: 'staticText';\n  uuid: Uuid;\n  text: string;\n};\ntype Uuid = string;\n\nconst dljs = require('damerau-levenshtein-js');\n\nexport default defineComponent({\n  name: 'FillInTheBlanksViewer',\n  components: {\n    FeedbackElement,\n  },\n  props: {\n    task: {\n      type: Object as PropType<FillInTheBlanksTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      userInputs: {} as Record<Uuid, string>,\n      submittedAnswers: null as Record<Uuid, string> | null,\n      userWantsToSeeSolutions: false,\n      editable: true,\n    };\n  },\n  methods: {\n    $gettext,\n\n    submittedAnswerIsCorrect(element: FillInTheBlanksElement): boolean {\n      const blank = element as Blank;\n\n      const submittedAnswer = this.submittedAnswers?.[blank.uuid];\n      if (!submittedAnswer) {\n        return false;\n      } else {\n        return blank.solutions.some((solution) =>\n          this.isAnswerCorrect(submittedAnswer, solution)\n        );\n      }\n    },\n\n    isAnswerCorrect(userAnswer: string, solution: string): boolean {\n      if (this.task.caseSensitive) {\n        if (this.task.acceptTypos) {\n          return this.isAnswerCorrectWithTypo(userAnswer, solution);\n        } else {\n          return userAnswer === solution;\n        }\n      } else {\n        // TODO: Was ist, wenn das in einem Sprachkurs mit einer nichtlateinischen Schrift verwendet wird? :D\n        if (this.task.acceptTypos) {\n          return this.isAnswerCorrectWithTypo(\n            userAnswer.toLowerCase(),\n            solution.toLowerCase()\n          );\n        } else {\n          return userAnswer.toLowerCase() === solution.toLowerCase();\n        }\n      }\n    },\n\n    isAnswerCorrectWithTypo(userAnswer: string, solution: string): boolean {\n      if (userAnswer === solution) return true;\n\n      // Calculate the Damerau-Levenshtein distance between the answer and the solution\n      const distance = dljs.distance(userAnswer, solution);\n\n      // If the word is between 4 and 9 characters, a distance of 1 will be accepted\n      // If the word is more than 9 characters long, a distance of 2 will be accepted\n      return (\n        (userAnswer.length > 3 && distance <= 1) ||\n        (userAnswer.length > 9 && distance <= 2)\n      );\n    },\n\n    updateAttempt() {\n      // Tell the server which blanks were filled out correctly.\n      const points = {} as Record<string, number>;\n      this.blanks.forEach((blank, index) => {\n        // TODO Consider what the key should be. This is a bit ugly.\n        // The key is shown directly in the 'assessment' UI.\n        // Maybe we should change how that works?\n        points[`${index} - ${blank.solutions[0]}`] =\n          this.submittedAnswerIsCorrect(blank) ? 1 : 0;\n      });\n      this.$emit('updateAttempt', {\n        points,\n        // The attempt is marked as successful if all answers were correct.\n        success: this.correctAnswers === this.blanks.length,\n      });\n    },\n\n    /**\n     * Adapted from the H5P source code, MIT License\n     * https://github.com/h5p/h5p-blanks/blob/e9bf6862211c082a5724d9873496e66c489d23f7/js/blanks.js#L401\n     * TODO: Put the license in the appropriate place\n     */\n    autoGrowTextField(input: HTMLInputElement) {\n      // Do not set text field size when separate lines is enabled\n      // if (this.params.behaviour.separateLines) {\n      //   return;\n      // }\n      const computedStyles = window.getComputedStyle(input, null);\n      const computedFontSize = computedStyles.getPropertyValue('font-size');\n      const computedFontFamily = computedStyles.getPropertyValue('font-family');\n      const computedPadding = computedStyles.getPropertyValue('padding');\n      const fontSize = parseInt(computedFontSize, 10);\n      const minEm = 6;\n      const minPx = fontSize * minEm;\n      const rightPadEm = 3.25;\n      const rightPadPx = fontSize * rightPadEm;\n      const static_min_pad = 0.5 * fontSize;\n\n      setTimeout(() => {\n        const tmp = document.createElement('div');\n        tmp.textContent = input.value;\n        const tmpStyles = {\n          position: 'absolute',\n          'white-space': 'nowrap',\n          'font-size': computedFontSize,\n          'font-family': computedFontFamily,\n          padding: computedPadding,\n          width: 'initial',\n        };\n        for (const [key, value] of Object.entries(tmpStyles)) {\n          tmp.style[key as any] = value;\n        }\n        input.parentElement!.append(tmp);\n        const width = tmp.clientWidth;\n        const parentWidth = (this.$refs.wrapperElement as HTMLDivElement)\n          .clientWidth;\n        tmp.remove();\n        if (width <= minPx) {\n          // Apply min width\n          input.style.width = (minPx + static_min_pad).toString() + 'px';\n        } else if (width + rightPadPx >= parentWidth) {\n          // Apply max width of parent\n          input.style.width = (parentWidth - rightPadPx).toString() + 'px';\n        } else {\n          // Apply width that wraps input\n          input.style.width = (width + static_min_pad).toString() + 'px';\n        }\n      }, 1);\n    },\n\n    onClickCheck(taskEditableAfterCheck: boolean) {\n      // Save a copy of the user's inputs.\n      this.submittedAnswers = { ...this.userInputs };\n      this.updateAttempt();\n      this.editable = taskEditableAfterCheck;\n    },\n\n    onClickShowSolution() {\n      this.userWantsToSeeSolutions = true;\n    },\n\n    onClickTryAgain() {\n      this.userWantsToSeeSolutions = false;\n      this.userInputs = {};\n      this.submittedAnswers = null;\n      this.editable = true;\n    },\n\n    onInputBlurOrEnter() {\n      this.userWantsToSeeSolutions = false;\n      if (this.task.autoCorrect) {\n        this.onClickCheck(true);\n      }\n    },\n\n    onInput(event: Event) {\n      this.autoGrowTextField(event.target as HTMLInputElement);\n    },\n\n    classForInput(blank: FillInTheBlanksElement) {\n      if (!this.submittedAnswers) {\n        return 'h5pBlank';\n      }\n\n      if (this.submittedAnswers?.[blank.uuid] != undefined) {\n        if (this.submittedAnswerIsCorrect(blank)) {\n          return 'h5pBlank h5pBlankCorrect';\n        } else {\n          return 'h5pBlank h5pBlankIncorrect';\n        }\n      } else {\n        if (this.task.autoCorrect) {\n          return 'h5pBlank';\n        } else {\n          return 'h5pBlank h5pBlankIncorrect';\n        }\n      }\n    },\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n  computed: {\n    splitTemplate(): string[] {\n      // Returns an array where the even indexes are the static text portions,\n      // and the odd indexes are the blanks.\n      return this.task.template.split(/\\*([^*]*)\\*/);\n    },\n\n    parsedTemplate(): FillInTheBlanksElement[] {\n      return this.splitTemplate.map((value, index) => {\n        if (index % 2 === 0) {\n          return { type: 'staticText', text: value, uuid: uuidv4() };\n        } else {\n          let splitString = value.split(':');\n          let solutions = splitString[0].split('/');\n          let hint = splitString[1];\n          return {\n            type: 'blank',\n            solutions: solutions,\n            hint: hint,\n            uuid: uuidv4(),\n          };\n        }\n      });\n    },\n\n    blanks(): Blank[] {\n      return this.parsedTemplate.filter(\n        (word) => word.type === 'blank'\n      ) as Blank[];\n    },\n\n    blanksFilled(): number {\n      if (!this.submittedAnswers) {\n        return 0;\n      } else {\n        return Object.keys(this.submittedAnswers).length;\n      }\n    },\n\n    allBlanksAreFilled(): boolean {\n      return this.blanksFilled == this.blanks.length;\n    },\n\n    correctAnswers(): number {\n      return this.blanks.filter((blank) => this.submittedAnswerIsCorrect(blank))\n        .length;\n    },\n\n    allAnswersAreCorrect(): boolean {\n      return this.blanks.every((blank) => this.submittedAnswerIsCorrect(blank));\n    },\n\n    maxPoints(): number {\n      return this.blanks.length;\n    },\n\n    inputHasChanged(): boolean {\n      return !isEqual(this.submittedAnswers, this.userInputs);\n    },\n\n    showExtraButtons(): boolean {\n      if (this.task.autoCorrect) {\n        if (this.allBlanksAreFilled) {\n          return (\n            this.submittedAnswers !== null &&\n            !this.inputHasChanged &&\n            !this.allAnswersAreCorrect\n          );\n        } else {\n          return false;\n        }\n      } else {\n        return (\n          this.submittedAnswers !== null &&\n          !this.inputHasChanged &&\n          !this.allAnswersAreCorrect\n        );\n      }\n    },\n\n    showCheckButton(): boolean {\n      return (\n        (this.submittedAnswers === null || this.inputHasChanged) &&\n        !this.task.autoCorrect\n      );\n    },\n\n    showSolutionButton(): boolean {\n      return !this.showSolutions && this.task.showSolutionsAllowed;\n    },\n\n    showRetryButton(): boolean {\n      return this.task.retryAllowed && this.submittedAnswers !== null;\n    },\n\n    showSolutions(): boolean {\n      return (\n        this.userWantsToSeeSolutions &&\n        (this.allBlanksAreFilled ||\n          !this.task.allBlanksMustBeFilledForSolutions)\n      );\n    },\n\n    showFillInAllTheBlanksMessage(): boolean {\n      return (\n        this.task.allBlanksMustBeFilledForSolutions &&\n        this.userWantsToSeeSolutions &&\n        !this.allBlanksAreFilled &&\n        !this.inputHasChanged\n      );\n    },\n\n    showResults(): boolean {\n      return (\n        !(this.submittedAnswers === null) &&\n        !this.showFillInAllTheBlanksMessage &&\n        (!this.task.autoCorrect || this.allBlanksAreFilled) &&\n        !this.inputHasChanged\n      );\n    },\n\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.blanks.length.toString()\n      );\n\n      return resultMessage;\n    },\n\n    feedbackSortedByScore(): Feedback[] {\n      return this.task.feedback\n        .map((value) => value)\n        .sort((a, b) => b.percentage - a.percentage);\n    },\n\n    fillInAllTheBlanksMessage(): string {\n      return this.task.strings.fillInAllBlanksMessage\n        ? this.task.strings.fillInAllBlanksMessage\n        : $gettext(\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen'\n          );\n    },\n  },\n});\n","import { render } from \"./FillInTheBlanksViewer.vue?vue&type=template&id=48dbae8a&scoped=true&ts=true\"\nimport script from \"./FillInTheBlanksViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./FillInTheBlanksViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./FillInTheBlanksViewer.vue?vue&type=style&index=0&id=48dbae8a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-48dbae8a\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Find The Hotspot - Editor\", -1)\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _hoisted_2,\n    _createVNode(_component_FileUpload, { onFileUploaded: _ctx.onImageUploaded }, null, 8, [\"onFileUploaded\"])\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { FindTheHotspotTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport FileUpload from '@/components/FileUpload.vue';\nimport produce from 'immer';\nimport { FileRef } from '@/routes/jsonApi';\n\nexport default defineComponent({\n  name: 'FindTheHotspotEditor',\n  components: { FileUpload },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<FindTheHotspotTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    onImageUploaded(file: FileRef): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.image.file_id = file.id;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n  },\n  computed: {\n    currentUndoRedoState: () =>\n      taskEditorStore.undoRedoStack[taskEditorStore.undoRedoIndex],\n  },\n});\n","import { render } from \"./FindTheHotspotEditor.vue?vue&type=template&id=14fdfd9e&ts=true\"\nimport script from \"./FindTheHotspotEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./FindTheHotspotEditor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Find The Hotspot - Viewer\", -1)\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_3 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _hoisted_2,\n    _createElementVNode(\"img\", {\n      src: _ctx.fileIdToUrl(_ctx.task.image.file_id)\n    }, null, 8, _hoisted_3)\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { fileIdToUrl, FindTheHotspotTask } from '@/models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'FindTheHotspotViewer',\n  props: {\n    task: { type: Object as PropType<FindTheHotspotTask>, required: true },\n  },\n  emits: ['updateAttempt'],\n  data() {\n    return {};\n  },\n  methods: { fileIdToUrl },\n  computed: {},\n});\n","import { render } from \"./FindTheHotspotViewer.vue?vue&type=template&id=6357c648&ts=true\"\nimport script from \"./FindTheHotspotViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./FindTheHotspotViewer.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-40728be7\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"h5pEditorTopPanel\" }\nconst _hoisted_3 = [\"textContent\"]\nconst _hoisted_4 = { class: \"collapsable collapsed\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Find The Words')), 1),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"input\", {\n          type: \"text\",\n          style: {\"width\":\"100%\"},\n          onSubmit: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addWord && _ctx.addWord(...args)))\n        }, null, 32),\n        _createElementVNode(\"button\", {\n          textContent: _toDisplayString(_ctx.$gettext('Wort hinzufgen')),\n          onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.addWord && _ctx.addWord(...args))),\n          class: \"button\",\n          type: \"button\"\n        }, null, 8, _hoisted_3)\n      ])\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_4, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1)\n    ])\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { FindTheWordsTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'FindTheWordsEditor',\n  props: {\n    taskDefinition: {\n      type: Object as PropType<FindTheWordsTask>,\n      required: true,\n    },\n  },\n  computed: {},\n  methods: {\n    $gettext,\n\n    addWord() {},\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n});\n","import { render } from \"./FindTheWordsEditor.vue?vue&type=template&id=40728be7&scoped=true&ts=true\"\nimport script from \"./FindTheWordsEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./FindTheWordsEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./FindTheWordsEditor.vue?vue&type=style&index=0&id=40728be7&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-40728be7\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-628d68d3\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Find The Words - Viewer\", -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_3 = { class: \"h5pWords\" }\nconst _hoisted_4 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.task.words, (word) => {\n        return (_openBlock(), _createElementBlock(\"span\", {\n          key: word,\n          textContent: _toDisplayString(word)\n        }, null, 8, _hoisted_4))\n      }), 128))\n    ])\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { FindTheWordsTask } from '@/models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'FindTheWordsViewer',\n  props: {\n    task: { type: Object as PropType<FindTheWordsTask>, required: true },\n  },\n  emits: ['updateAttempt'],\n  data() {\n    return {};\n  },\n  methods: {},\n  computed: {},\n});\n","import { render } from \"./FindTheWordsViewer.vue?vue&type=template&id=628d68d3&scoped=true&ts=true\"\nimport script from \"./FindTheWordsViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./FindTheWordsViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./FindTheWordsViewer.vue?vue&type=style&index=0&id=628d68d3&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-628d68d3\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-096b7c32\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"h5pEditorTopPanel\" }\nconst _hoisted_3 = [\"data-tooltip\"]\nconst _hoisted_4 = { class: \"collapsable collapsed\" }\nconst _hoisted_5 = { class: \"feedbackContainer\" }\nconst _hoisted_6 = { class: \"feedbackPercentagesChild\" }\nconst _hoisted_7 = [\"onUpdate:modelValue\"]\nconst _hoisted_8 = { class: \"feedbackMessagesChild\" }\nconst _hoisted_9 = [\"onUpdate:modelValue\"]\nconst _hoisted_10 = [\"title\", \"onClick\"]\nconst _hoisted_11 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_StudipWysiwyg = _resolveComponent(\"StudipWysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Mark The Words')), 1),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addSolution && _ctx.addSolution(...args))),\n          class: \"button\",\n          type: \"button\",\n          style: {\"margin-right\":\"0.1em\"}\n        }, _toDisplayString(_ctx.$gettext('Richtiges Wort markieren')), 1),\n        _createElementVNode(\"div\", {\n          class: \"tooltip tooltip-icon\",\n          \"data-tooltip\": _ctx.instructions\n        }, null, 8, _hoisted_3)\n      ]),\n      _createVNode(_component_StudipWysiwyg, {\n        modelValue: _ctx.taskDefinition.template,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.taskDefinition.template) = $event)),\n        ref: \"wysiwyg\",\n        \"force-soft-breaks\": \"\",\n        \"remove-wrapping-p-tag\": \"\",\n        \"disable-autoformat\": \"\"\n      }, null, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_4, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Feedback')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext(\n            'Ergebnismitteilung (mgliche Variablen :correct und :total):'\n          )) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.taskDefinition.strings.resultMessage) = $event)),\n          style: {\"width\":\"100%\"}\n        }, null, 512), [\n          [_vModelText, _ctx.taskDefinition.strings.resultMessage]\n        ])\n      ]),\n      _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Benutzerdefiniertes Feedback fr beliebige Punktebereiche:')), 1),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Prozent')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n              key: i,\n              type: \"number\",\n              min: \"0\",\n              max: \"100\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].percentage) = $event)\n            }, null, 8, _hoisted_7)), [\n              [_vModelText, _ctx.taskDefinition.feedback[i].percentage]\n            ])\n          }), 128))\n        ]),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Mitteilung')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"feedbackMessagesChildSubdivision\",\n              key: i\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].message) = $event)\n              }, null, 8, _hoisted_9), [\n                [_vModelText, _ctx.taskDefinition.feedback[i].message]\n              ]),\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                title: _ctx.titleForDeleteButtonForFeedback(feedback),\n                onClick: ($event: any) => (_ctx.removeFeedback(feedback))\n              }, [\n                _createElementVNode(\"img\", {\n                  src: _ctx.urlForIcon('trash'),\n                  width: \"16\",\n                  height: \"16\"\n                }, null, 8, _hoisted_11)\n              ], 8, _hoisted_10)\n            ]))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"button\",\n        onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.addFeedback && _ctx.addFeedback(...args)))\n      }, _toDisplayString(_ctx.$gettext('Neuer Bereich')), 1)\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { Feedback, MarkTheWordsTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport { $gettext } from '@/language/gettext';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\n\nexport default defineComponent({\n  name: 'MarkTheWordsEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<MarkTheWordsTask>,\n      required: true,\n    },\n  },\n  methods: {\n    $gettext,\n\n    /**\n     * Surround the selected text with two asterisks\n     */\n    addSolution() {\n      const wysiwygEl = (this.$refs.wysiwyg as any)?.$el;\n      const editor = window.STUDIP.wysiwyg.getEditor(wysiwygEl);\n      if (!editor) {\n        console.error('getEditor(wysiwygEl) returned: ', editor);\n        throw new Error('Could not get reference to wysiwyg editor');\n      }\n      const selection = editor.model.document.selection;\n      const start = selection.getFirstPosition();\n      const end = selection.getLastPosition();\n      if (!start || !end) {\n        console.error('selection start: ', start, ' selection end: ', end);\n        throw new Error('Could not get selection in editor');\n      }\n      editor.model.change((writer) => {\n        writer.insertText('*', end);\n        writer.insertText('*', start);\n      });\n    },\n\n    titleForDeleteButtonForFeedback(feedback: Feedback): string {\n      return this.$gettext(\n        'Entferne den Feedback-Bereich, der ab %{ percentage }% anfngt.',\n        { percentage: feedback.percentage.toString() }\n      );\n    },\n\n    addFeedback(): void {\n      this.taskDefinition.feedback.push({\n        percentage: this.feedbackSortedByScore[0]?.percentage,\n        message: 'Feedback',\n      });\n    },\n\n    removeFeedback(feedbackToRemove: Feedback): void {\n      this.taskDefinition.feedback = this.taskDefinition.feedback.filter(\n        (feedback) => feedback !== feedbackToRemove\n      );\n    },\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n\n  computed: {\n    instructions(): string {\n      return $gettext(\n        'Markieren Sie ein Wort als Lsung, indem Sie ein Sternchen (*) vor und hinter dem Wort setzen oder markieren Sie ein Wort und klicken Sie den \"Richtiges Wort markieren\"Button.'\n      );\n    },\n\n    feedbackSortedByScore(): Feedback[] {\n      return this.taskDefinition.feedback\n        .map((value) => value)\n        .sort((a, b) => b.percentage - a.percentage);\n    },\n  },\n});\n","import { render } from \"./MarkTheWordsEditor.vue?vue&type=template&id=096b7c32&scoped=true&ts=true\"\nimport script from \"./MarkTheWordsEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./MarkTheWordsEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./MarkTheWordsEditor.vue?vue&type=style&index=0&id=096b7c32&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-096b7c32\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-69ed9f63\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"h5p-module\" }\nconst _hoisted_2 = {\n  class: \"h5pMarkTheWordText\",\n  ref: \"wrapperElement\"\n}\nconst _hoisted_3 = [\"aria-pressed\", \"onClick\", \"onKeydown\", \"onKeyup\", \"innerHTML\"]\nconst _hoisted_4 = {\n  key: 0,\n  class: \"space\"\n}\nconst _hoisted_5 = { class: \"h5p-button-panel\" }\nconst _hoisted_6 = [\"textContent\"]\nconst _hoisted_7 = [\"textContent\"]\nconst _hoisted_8 = { key: 1 }\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\" Marked words: \")\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\" template: \")\nconst _hoisted_11 = /*#__PURE__*/_createTextVNode(\" Split template: \")\nconst _hoisted_12 = /*#__PURE__*/_createTextVNode(\" Parsed template: \")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_feedback_element = _resolveComponent(\"feedback-element\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.parsedTemplate, (element, index) => {\n        return (_openBlock(), _createElementBlock(\"span\", {\n          key: element.uuid\n        }, [\n          _createElementVNode(\"span\", {\n            tabindex: \"0\",\n            role: \"button\",\n            \"aria-pressed\": _ctx.isMarked(element),\n            onClick: ($event: any) => (_ctx.onClickWord(element)),\n            onKeydown: (event) => _ctx.onWordKeydown(event, element),\n            onKeyup: (event) => _ctx.onWordKeyup(event, element),\n            class: _normalizeClass(_ctx.classForWord(element)),\n            innerHTML: element.text\n          }, null, 42, _hoisted_3),\n          (index < _ctx.parsedTemplate.length)\n            ? (_openBlock(), _createElementBlock(\"pre\", _hoisted_4, \" \"))\n            : _createCommentVNode(\"\", true)\n        ]))\n      }), 128))\n    ], 512),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_feedback_element, {\n          key: 0,\n          \"achieved-points\": _ctx.score,\n          \"max-points\": _ctx.maxScore,\n          feedback: this.task.feedback,\n          \"result-message\": _ctx.resultMessage\n        }, null, 8, [\"achieved-points\", \"max-points\", \"feedback\", \"result-message\"]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_5, [\n      (_ctx.showCheckButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            textContent: _toDisplayString(this.task.strings.checkButton),\n            onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onClickCheck && _ctx.onClickCheck(...args))),\n            type: \"button\",\n            class: \"h5p-button\"\n          }, null, 8, _hoisted_6))\n        : _createCommentVNode(\"\", true),\n      (_ctx.showRetryButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 1,\n            textContent: _toDisplayString(this.task.strings.retryButton),\n            onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onClickRetry && _ctx.onClickRetry(...args))),\n            type: \"button\",\n            class: \"h5p-button\"\n          }, null, 8, _hoisted_7))\n        : _createCommentVNode(\"\", true)\n    ]),\n    (_ctx.debug)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n          _hoisted_9,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.markedWords), 1),\n          _hoisted_10,\n          _createElementVNode(\"pre\", null, _toDisplayString(this.task.template), 1),\n          _hoisted_11,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.splitTemplate), 1),\n          _hoisted_12,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.parsedTemplate), 1)\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { MarkTheWordsTask } from '@/models/TaskDefinition';\nimport { v4 as uuidv4 } from 'uuid';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\ntype MarkTheWordsElement = {\n  uuid: Uuid;\n  text: string;\n  correct: boolean;\n};\n\ntype Uuid = string;\n\nexport default defineComponent({\n  name: 'MarkTheWordsViewer',\n  props: {\n    task: {\n      type: Object as PropType<MarkTheWordsTask>,\n      required: true,\n    },\n  },\n  components: {\n    FeedbackElement,\n  },\n  data() {\n    return {\n      markedWords: new Set<MarkTheWordsElement>(),\n      showResults: false,\n      debug: false,\n    };\n  },\n\n  methods: {\n    onClickCheck() {\n      this.showResults = true;\n    },\n\n    onClickRetry() {\n      this.showResults = false;\n      this.markedWords.clear();\n    },\n\n    onClickWord(word: MarkTheWordsElement) {\n      if (this.showResults) return;\n\n      if (this.isMarked(word)) {\n        this.markedWords.delete(word);\n      } else {\n        this.markedWords.add(word);\n      }\n    },\n\n    /**\n     * Marks/unmarks a word using the enter key.\n     */\n    onWordKeydown(event: KeyboardEvent, word: MarkTheWordsElement) {\n      // The action button is activated by space on the keyup event, but the\n      // default action for space is already triggered on keydown. It needs to be\n      // prevented to stop scrolling the page before activating the button.\n      if (event.code === 'Space') {\n        event.preventDefault();\n      }\n      // If enter is pressed, activate the button\n      else if (event.code === 'Enter' || event.code === 'Return') {\n        event.preventDefault();\n        this.onClickWord(word);\n      }\n    },\n\n    /**\n     * Marks/unmarks a word with the space key.\n     */\n    onWordKeyup(event: KeyboardEvent, word: MarkTheWordsElement) {\n      if (event.code === 'Space') {\n        event.preventDefault();\n        this.onClickWord(word);\n      }\n    },\n\n    classForWord(word: MarkTheWordsElement) {\n      if (this.showResults) {\n        // User is done marking words and wants to see the results\n        if (this.isMarked(word)) {\n          if (word.correct) {\n            return 'h5pCorrectAnswer';\n          } else {\n            return 'h5pIncorrectAnswer';\n          }\n        } else {\n          return 'h5pStaticTextNoHover';\n        }\n      } else {\n        // User is working on the task\n        if (this.isMarked(word)) {\n          return 'h5pMarkedWord';\n        } else {\n          return 'h5pStaticText';\n        }\n      }\n    },\n\n    isMarked(word: MarkTheWordsElement): boolean {\n      return this.markedWords.has(word);\n    },\n  },\n  computed: {\n    /**\n     * Returns an array where the even indexes are the static text portions,\n     * and the odd indexes are the correct words to be marked.\n     */\n    splitTemplate(): string[] {\n      // Split the text into chunks based on pairs of asterisks\n      return this.task.template.split(/\\*([^*]*)\\*/);\n    },\n\n    parsedTemplate(): MarkTheWordsElement[] {\n      let parsedTemplate: MarkTheWordsElement[] = [];\n      this.splitTemplate.forEach((templateElement, i) => {\n        if (i % 2 === 0) {\n          // Even indexes are the static text portions which we split further by spaces here\n          templateElement\n            .trim()\n            .split(' ')\n            .filter((el) => el !== '')\n            .forEach((staticWord) => {\n              parsedTemplate.push({\n                uuid: uuidv4(),\n                text: staticWord,\n                correct: false,\n              });\n            });\n        } else {\n          parsedTemplate.push({\n            uuid: uuidv4(),\n            text: templateElement,\n            correct: true,\n          });\n        }\n      });\n      return parsedTemplate;\n    },\n\n    showCheckButton(): boolean {\n      return !this.showResults;\n    },\n\n    showRetryButton(): boolean {\n      return this.task.retryAllowed && this.showResults;\n    },\n\n    score(): number {\n      let score = 0;\n\n      for (const element of this.markedWords) {\n        if (element.correct) {\n          score++;\n        } else {\n          score--;\n        }\n      }\n\n      if (score < 0) score = 0;\n\n      return score;\n    },\n\n    maxScore(): number {\n      let maxScore = 0;\n      for (const element of this.parsedTemplate) {\n        if (element.correct) maxScore++;\n      }\n      return maxScore;\n    },\n\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.score.toString()\n      );\n\n      resultMessage = resultMessage.replace(':total', this.maxScore.toString());\n\n      return resultMessage;\n    },\n  },\n});\n","import { render } from \"./MarkTheWordsViewer.vue?vue&type=template&id=69ed9f63&scoped=true&ts=true\"\nimport script from \"./MarkTheWordsViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./MarkTheWordsViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./MarkTheWordsViewer.vue?vue&type=style&index=0&id=69ed9f63&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-69ed9f63\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withModifiers as _withModifiers, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-28c29d1d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"main-flex\" }\nconst _hoisted_2 = { class: \"cards-list\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = [\"onClick\"]\nconst _hoisted_5 = [\"src\", \"alt\"]\nconst _hoisted_6 = {\n  key: 1,\n  class: \"edited-memory-card no-card-selected-placeholder\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_EditedMemoryCard = _resolveComponent(\"EditedMemoryCard\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.cards, (card, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: card.uuid,\n          class: _normalizeClass({\n          'cards-list-item': true,\n          'selected-card': index === this.selectedCardIndex,\n        }),\n          onClick: ($event: any) => (_ctx.selectCard(index))\n        }, [\n          _createTextVNode(_toDisplayString(index) + \". \" + _toDisplayString(card.question === '' ? _ctx.$gettext('Karte') : card.question), 1),\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"flex-child-element removeAnswerButton\",\n            onClick: _withModifiers(($event: any) => (_ctx.deleteCard(index)), [\"stop\"])\n          }, [\n            _createElementVNode(\"img\", {\n              src: _ctx.urlForIcon('trash'),\n              alt: _ctx.$gettext('Karte lschen')\n            }, null, 8, _hoisted_5)\n          ], 8, _hoisted_4)\n        ], 10, _hoisted_3))\n      }), 128)),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addCard && _ctx.addCard(...args)))\n      }, _toDisplayString(_ctx.$gettext('Karte hinzufgen')), 1)\n    ]),\n    (this.taskDefinition.cards[this.selectedCardIndex])\n      ? (_openBlock(), _createBlock(_component_EditedMemoryCard, {\n          key: 0,\n          class: \"edited-memory-card\",\n          card: this.taskDefinition.cards[this.selectedCardIndex],\n          \"card-index\": this.selectedCardIndex\n        }, null, 8, [\"card\", \"card-index\"]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString(_ctx.$gettext('Keine Karte ist zum Bearbeiten ausgewhlt.')), 1))\n  ]))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_EditedMemoryCardImage = _resolveComponent(\"EditedMemoryCardImage\")!\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Karte')), 1),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"h4\", null, _toDisplayString(_ctx.$gettext('Bild')), 1),\n        (_ctx.card.file_id)\n          ? (_openBlock(), _createBlock(_component_EditedMemoryCardImage, {\n              key: 0,\n              card: _ctx.card\n            }, null, 8, [\"card\"]))\n          : (_openBlock(), _createBlock(_component_FileUpload, {\n              key: 1,\n              onFileUploaded: _ctx.onImageUploaded\n            }, null, 8, [\"onFileUploaded\"]))\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Alternativer Text')) + \" \", 1),\n        _createElementVNode(\"input\", {\n          type: \"text\",\n          value: _ctx.taskDefinition.cards[_ctx.cardIndex].altText,\n          onInput: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputAltText && _ctx.onInputAltText(...args)))\n        }, null, 40, _hoisted_2)\n      ])\n    ])\n  ]))\n}","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"src\", \"alt\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"img\", {\n      src: _ctx.fileIdToUrl(_ctx.card.file_id),\n      alt: _ctx.card.altText\n    }, null, 8, _hoisted_1),\n    _createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.deleteImage && _ctx.deleteImage(...args)))\n    }, _toDisplayString(_ctx.$gettext('Bild Lschen')), 1)\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { fileIdToUrl, MemoryCard, MemoryTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'EditedMemoryCardImage',\n  props: {\n    card: {\n      type: Object as PropType<MemoryCard>,\n      required: true,\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as MemoryTask,\n  },\n  methods: {\n    fileIdToUrl,\n    $gettext,\n    deleteImage(): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        const cardIndex = draft.cards.findIndex(\n          (card) => card.uuid === this.card.uuid\n        );\n        draft.cards[cardIndex].file_id = '';\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n  },\n});\n","import { render } from \"./EditedMemoryCardImage.vue?vue&type=template&id=e4171d72&ts=true\"\nimport script from \"./EditedMemoryCardImage.vue?vue&type=script&lang=ts\"\nexport * from \"./EditedMemoryCardImage.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { MemoryCard, MemoryTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport { $gettext } from '@/language/gettext';\nimport EditedMemoryCardImage from '@/components/EditedMemoryCardImage.vue';\nimport FileUpload from '@/components/FileUpload.vue';\nimport { FileRef } from '@/routes/jsonApi';\n\nexport default defineComponent({\n  name: 'EditedMemoryCard',\n  components: { FileUpload, EditedMemoryCardImage },\n  props: {\n    card: {\n      type: Object as PropType<MemoryCard>,\n      required: true,\n    },\n    cardIndex: {\n      type: Number as PropType<number>,\n      required: true,\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as MemoryTask,\n  },\n  methods: {\n    $gettext,\n    onImageUploaded(file: FileRef): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.cards[this.cardIndex].file_id = file.id;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n    // This is how you write the @input event handler if you want undo-redo and reactivity to work\n    onInputAltText(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.cards[this.cardIndex].altText = value;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: { type: 'EditedAltText' },\n      });\n    },\n    // This is what results if you write v-model=\"taskDefinition.cards[this.cardIndex].altText\"\n    onInputAltTextBAD(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      this.taskDefinition.cards[this.cardIndex].altText = value;\n    },\n  },\n});\n","import { render } from \"./EditedMemoryCard.vue?vue&type=template&id=05fc9592&ts=true\"\nimport script from \"./EditedMemoryCard.vue?vue&type=script&lang=ts\"\nexport * from \"./EditedMemoryCard.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { taskEditorStore } from '@/store';\nimport { MemoryTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport produce from 'immer';\nimport { v4 } from 'uuid';\nimport EditedMemoryCard from '@/components/EditedMemoryCard.vue';\n\nexport default defineComponent({\n  name: 'MemoryEditor',\n  components: { EditedMemoryCard },\n  props: {},\n  data() {\n    return {\n      selectedCardIndex: -1,\n    };\n  },\n  beforeMount(): void {\n    if (this.taskDefinition.cards.length > 0) {\n      this.selectedCardIndex = 0;\n    }\n  },\n  methods: {\n    $gettext,\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n    selectCard(index: number) {\n      this.selectedCardIndex = index;\n    },\n    addCard() {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.cards.push({\n          v: 2,\n          uuid: v4(),\n          file_id: '',\n          altText: '',\n        });\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Select the newly inserted card\n      this.selectedCardIndex = this.taskDefinition.cards.length - 1;\n    },\n    deleteCard(index: number) {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.cards.splice(index, 1);\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Adjust the selection index so the selected card doesn't unexpectedly change\n      if (index <= this.selectedCardIndex) {\n        this.selectedCardIndex = this.selectedCardIndex - 1;\n      }\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as MemoryTask,\n  },\n});\n","import { render } from \"./MemoryEditor.vue?vue&type=template&id=28c29d1d&scoped=true&ts=true\"\nimport script from \"./MemoryEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./MemoryEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./MemoryEditor.vue?vue&type=style&index=0&id=28c29d1d&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-28c29d1d\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-f0c74a2c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"h5p-module\" }\nconst _hoisted_2 = { class: \"h5pMemoryGame\" }\nconst _hoisted_3 = { class: \"h5pFeedbackContainer\" }\nconst _hoisted_4 = { class: \"h5pFeedbackContainerTop\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"h5pFeedbackText\"\n}\nconst _hoisted_6 = { class: \"h5pFeedbackContainerCenter\" }\nconst _hoisted_7 = {\n  key: 0,\n  class: \"h5pFeedbackText\"\n}\nconst _hoisted_8 = { class: \"h5p-button-panel\" }\nconst _hoisted_9 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_MemoryCardComponent = _resolveComponent(\"MemoryCardComponent\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", null, _toDisplayString(_ctx.$gettext('Umgedrehte Karten: ') + this.amountOfFlips), 1),\n    _createElementVNode(\"div\", null, _toDisplayString(_ctx.$gettext(\n          'Aufgedeckte Paare: %{ amountOfPairsSolved } von %{ totalAmountOfPairs }',\n          {\n            amountOfPairsSolved: this.amountOfPairsSolved.toString(),\n            totalAmountOfPairs: this.totalAmountOfPairs.toString(),\n          }\n        )), 1),\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.cards, (card) => {\n        return (_openBlock(), _createBlock(_component_MemoryCardComponent, {\n          key: card.uuid,\n          card: card,\n          onClick: ($event: any) => (_ctx.onClickCard(card))\n        }, null, 8, [\"card\", \"onClick\"]))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        (_ctx.showResults && _ctx.feedbackMessage)\n          ? (_openBlock(), _createElementBlock(\"label\", _hoisted_5, _toDisplayString(this.feedbackMessage), 1))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        (_ctx.showResults)\n          ? (_openBlock(), _createElementBlock(\"label\", _hoisted_7, _toDisplayString(this.resultMessage), 1))\n          : _createCommentVNode(\"\", true)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      (_ctx.showRetryButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            textContent: _toDisplayString(this.task.strings.retryButton),\n            onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n            type: \"button\",\n            class: \"h5p-button\"\n          }, null, 8, _hoisted_9))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '../assets/memoryCardBack.png'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d12b3a0a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"memoryCardFront\"\n}\nconst _hoisted_2 = [\"src\", \"alt\"]\nconst _hoisted_3 = {\n  key: 1,\n  class: \"memoryCardBack\"\n}\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  class: \"memoryImage\"\n}, null, -1))\nconst _hoisted_5 = [\n  _hoisted_4\n]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"memoryCard\", { memoryCardFlipped: _ctx.card.flipped }])\n  }, [\n    (_ctx.card.flipped)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createElementVNode(\"img\", {\n            src: _ctx.fileIdToUrl(_ctx.card.file_id),\n            alt: _ctx.card.altText,\n            class: \"memoryImage\"\n          }, null, 8, _hoisted_2)\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _hoisted_5))\n  ], 2))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { ViewerMemoryCard } from '@/components/MemoryViewer.vue';\nimport { fileIdToUrl } from '@/models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'MemoryCard',\n  props: {\n    card: {\n      type: Object as PropType<ViewerMemoryCard>,\n      required: true,\n    },\n  },\n  computed: {},\n  methods: { fileIdToUrl },\n});\n","import { render } from \"./MemoryCard.vue?vue&type=template&id=d12b3a0a&scoped=true&ts=true\"\nimport script from \"./MemoryCard.vue?vue&type=script&lang=ts\"\nexport * from \"./MemoryCard.vue?vue&type=script&lang=ts\"\n\nimport \"./MemoryCard.vue?vue&type=style&index=0&id=d12b3a0a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d12b3a0a\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { MemoryTask, MemoryCard } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport MemoryCardComponent from '@/components/MemoryCard.vue';\nimport { v4 } from 'uuid';\n\nexport interface ViewerMemoryCard extends MemoryCard {\n  flipped: boolean;\n  solved: boolean;\n  matchingCardId: string | undefined;\n}\n\nexport default defineComponent({\n  name: 'MemoryViewer',\n  components: { MemoryCardComponent },\n  emits: ['updateAttempt'],\n  props: {\n    task: {\n      type: Object as PropType<MemoryTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      cards: [] as ViewerMemoryCard[],\n      firstFlippedCardId: undefined as string | undefined,\n      amountOfFlips: 0 as number,\n      showResults: false as boolean,\n      feedbackMessage: undefined as string | undefined,\n      resultMessage: undefined as string | undefined,\n    };\n  },\n  methods: {\n    $gettext,\n\n    onClickCard(card: ViewerMemoryCard): void {\n      // do nothing if card is already open\n      if (card.flipped) return;\n\n      card.flipped = true;\n      console.log('Flipped', card.altText);\n\n      this.amountOfFlips++;\n\n      if (!this.firstFlippedCardId) {\n        // This is the first of two cards to be flipped around\n        // Reset all previous unsuccessful cardflips except the card we just flipped\n        this.resetAllUnsolvedCardsExcept(card.uuid);\n\n        this.firstFlippedCardId = card.uuid;\n      } else {\n        // We flipped the second card around, check if we got a pair\n        if (card.matchingCardId === this.firstFlippedCardId) {\n          // We found a pair!\n          // Set both cards' solved attribute to true\n          card.solved = true;\n          const firstCard = this.getCardById(this.firstFlippedCardId);\n          firstCard.solved = true;\n          console.log('Found a pair of', card.altText);\n        }\n\n        this.firstFlippedCardId = undefined;\n      }\n    },\n\n    resetAllUnsolvedCardsExcept(exceptionId: string): void {\n      for (const card of this.cards) {\n        if (!card.solved && card.uuid !== exceptionId) {\n          card.flipped = false;\n        }\n      }\n    },\n\n    onClickTryAgain(): void {\n      this.amountOfFlips = 0;\n      this.firstFlippedCardId = undefined;\n      this.resetCards();\n      this.shuffleCards();\n    },\n\n    resetCards(): void {\n      // Set all cards' flipped and solved attribute to false\n      for (const card of this.cards) {\n        card.flipped = false;\n        card.solved = false;\n      }\n    },\n\n    shuffleCards(): void {\n      // Shuffle the cards\n      // https://stackoverflow.com/a/46545530\n      this.cards = this.cards\n        .map((card) => ({ card, sort: Math.random() }))\n        .sort((card1, card2) => card1.sort - card2.sort)\n        .map(({ card }) => card);\n    },\n\n    getCardById(cardId: string): ViewerMemoryCard {\n      const card = this.cards.find((card) => card.uuid === cardId);\n      if (!card) {\n        throw new Error('No card found with the given ID: ' + cardId);\n      }\n      return card;\n    },\n  },\n\n  computed: {\n    totalAmountOfPairs(): number {\n      return this.task.cards.length;\n    },\n\n    amountOfPairsSolved(): number {\n      let amountOfCardsSolved = 0;\n      for (const card of this.cards) {\n        if (card.solved) amountOfCardsSolved++;\n      }\n      return amountOfCardsSolved / 2;\n    },\n\n    showRetryButton(): boolean {\n      return this.amountOfPairsSolved === this.totalAmountOfPairs;\n    },\n  },\n  watch: {\n    task: {\n      handler() {\n        console.log('watcher for this.task');\n        this.firstFlippedCardId = undefined;\n        this.amountOfFlips = 0;\n        // Make two copies of each card in the task. Add the flipped, solved and matchingCardId attributes\n        this.cards = this.task.cards.flatMap((card) => {\n          // The two copies of each card are linked to each other through the matchingCardId attribute\n          const duplicateCardId = v4();\n          return [\n            // The original card with the set matchingCardId attribute\n            {\n              ...card,\n              flipped: false,\n              solved: false,\n              uuid: card.uuid,\n              matchingCardId: duplicateCardId,\n            },\n            // The duplicate card\n            {\n              ...card,\n              flipped: false,\n              solved: false,\n              uuid: duplicateCardId,\n              matchingCardId: card.uuid,\n            },\n          ];\n        });\n\n        // Shuffle the cards\n        this.shuffleCards();\n      },\n      immediate: true, // Ensure that the watcher is also called immediately when the component is first mounted\n    },\n  },\n});\n","import { render } from \"./MemoryViewer.vue?vue&type=template&id=f0c74a2c&scoped=true&ts=true\"\nimport script from \"./MemoryViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./MemoryViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./MemoryViewer.vue?vue&type=style&index=0&id=f0c74a2c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f0c74a2c\"]])\n\nexport default __exports__","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-57d08814\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\", \"alt\"]\nconst _hoisted_2 = {\n  key: 1,\n  class: \"image-element\"\n}\nconst _hoisted_3 = [\"textContent\"]\nconst _hoisted_4 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_ctx.element.type === 'image')\n    ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n        (_ctx.element.file_id)\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 0,\n              src: _ctx.fileIdToUrl(_ctx.element.file_id),\n              alt: _ctx.element.altText,\n              class: \"image-element\",\n              draggable: \"false\"\n            }, null, 8, _hoisted_1))\n          : (_openBlock(), _createElementBlock(\"div\", _hoisted_2))\n      ], 64))\n    : (_ctx.element.type === 'text')\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: \"text-element\",\n          draggable: \"false\",\n          textContent: _toDisplayString(_ctx.element.content)\n        }, null, 8, _hoisted_3))\n      : (_ctx.element.type === 'audio')\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 2,\n            class: \"audio-element\",\n            draggable: \"false\",\n            textContent: _toDisplayString('Platzhalter fr ' + _ctx.element.type)\n          }, null, 8, _hoisted_4))\n        : _createCommentVNode(\"\", true)\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { fileIdToUrl, PairElement } from '@/models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'MultimediaElement',\n  props: {\n    element: {\n      type: Object as PropType<PairElement>,\n      required: true,\n    },\n  },\n  methods: { fileIdToUrl },\n});\n","import { render } from \"./MultimediaElement.vue?vue&type=template&id=57d08814&scoped=true&ts=true\"\nimport script from \"./MultimediaElement.vue?vue&type=script&lang=ts\"\nexport * from \"./MultimediaElement.vue?vue&type=script&lang=ts\"\n\nimport \"./MultimediaElement.vue?vue&type=style&index=0&id=57d08814&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-57d08814\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createBlock as _createBlock, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createTextVNode as _createTextVNode, createVNode as _createVNode, vModelText as _vModelText, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-33c09370\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"main-flex\" }\nconst _hoisted_2 = { class: \"h5p-elements-overview\" }\nconst _hoisted_3 = { class: \"h5p-elements-settings\" }\nconst _hoisted_4 = { value: 'image' }\nconst _hoisted_5 = { value: 'text' }\nconst _hoisted_6 = { value: 'audio' }\nconst _hoisted_7 = {\n  key: 0,\n  class: \"h5p-element-image-container\"\n}\nconst _hoisted_8 = [\"textContent\"]\nconst _hoisted_9 = { style: {\"align-self\":\"stretch\"} }\nconst _hoisted_10 = { key: 1 }\nconst _hoisted_11 = { style: {\"align-self\":\"stretch\"} }\nconst _hoisted_12 = { value: 'image' }\nconst _hoisted_13 = { value: 'text' }\nconst _hoisted_14 = { value: 'audio' }\nconst _hoisted_15 = {\n  key: 2,\n  class: \"h5p-element-image-container\"\n}\nconst _hoisted_16 = [\"textContent\"]\nconst _hoisted_17 = { style: {\"align-self\":\"stretch\"} }\nconst _hoisted_18 = { key: 3 }\nconst _hoisted_19 = { style: {\"align-self\":\"stretch\"} }\nconst _hoisted_20 = { class: \"remove-pair-button-container\" }\nconst _hoisted_21 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ElementPair = _resolveComponent(\"ElementPair\")!\n  const _component_MultimediaElement = _resolveComponent(\"MultimediaElement\")!\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.task.pairs, (pair, index) => {\n        return (_openBlock(), _createBlock(_component_ElementPair, {\n          key: pair.uuid,\n          class: _normalizeClass({\n          selected: index === this.selectedPairIndex,\n        }),\n          pair: this.taskDefinition.pairs[index],\n          onClick: ($event: any) => (_ctx.selectPair(index))\n        }, null, 8, [\"class\", \"pair\", \"onClick\"]))\n      }), 128)),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"add-pair-button\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.addPair())),\n        style: _normalizeStyle(_ctx.addPairButtonBackgroundImage)\n      }, null, 4)\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"form\", {\n        class: \"default\",\n        onSubmit: _cache[12] || (_cache[12] = _withModifiers(() => {}, [\"prevent\"]))\n      }, [\n        _createElementVNode(\"fieldset\", null, [\n          _createElementVNode(\"h1\", null, _toDisplayString(_ctx.$gettext('Eigenschaften')), 1),\n          _createElementVNode(\"h2\", null, _toDisplayString(_ctx.$gettext('Karte A')), 1),\n          _createElementVNode(\"label\", null, [\n            _createTextVNode(_toDisplayString(_ctx.$gettext('Typ')) + \" \", 1),\n            _withDirectives(_createElementVNode(\"select\", {\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.selectedPair.draggableElement.type) = $event))\n            }, [\n              _createElementVNode(\"option\", _hoisted_4, _toDisplayString(_ctx.$gettext('Bild')), 1),\n              _createElementVNode(\"option\", _hoisted_5, _toDisplayString(_ctx.$gettext('Text')), 1),\n              _createElementVNode(\"option\", _hoisted_6, _toDisplayString(_ctx.$gettext('Audio')), 1)\n            ], 512), [\n              [_vModelSelect, _ctx.selectedPair.draggableElement.type]\n            ])\n          ]),\n          (_ctx.selectedPair.draggableElement.type == 'image')\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n                (_ctx.selectedPair.draggableElement.file_id)\n                  ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                      _createVNode(_component_MultimediaElement, {\n                        element: _ctx.selectedPair.draggableElement,\n                        class: \"h5pMultimediaElement\"\n                      }, null, 8, [\"element\"]),\n                      _createElementVNode(\"button\", {\n                        type: \"button\",\n                        onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.removeDraggableImage(this.selectedPairIndex))),\n                        textContent: _toDisplayString(_ctx.$gettext('Bild lschen')),\n                        class: \"button trash element-pair-settings-item\"\n                      }, null, 8, _hoisted_8),\n                      _createElementVNode(\"label\", _hoisted_9, [\n                        _createTextVNode(_toDisplayString(_ctx.$gettext('Alt-Text')) + \" \", 1),\n                        _withDirectives(_createElementVNode(\"input\", {\n                          type: \"text\",\n                          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.selectedPair.draggableElement.altText) = $event)),\n                          class: \"element-pair-settings-item\"\n                        }, null, 512), [\n                          [_vModelText, _ctx.selectedPair.draggableElement.altText]\n                        ])\n                      ])\n                    ], 64))\n                  : (_openBlock(), _createBlock(_component_FileUpload, {\n                      key: 1,\n                      class: \"pairing-file-upload\",\n                      onFileUploaded: _cache[4] || (_cache[4] = ($event: any) => (\n                _ctx.onUploadDraggableImage(this.selectedPairIndex, $event)\n              ))\n                    }))\n              ]))\n            : (_ctx.selectedPair.draggableElement.type == 'text')\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n                  _createElementVNode(\"label\", _hoisted_11, [\n                    _createTextVNode(_toDisplayString(_ctx.$gettext('Inhalt')) + \" \", 1),\n                    _withDirectives(_createElementVNode(\"textarea\", {\n                      type: \"text\",\n                      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.selectedPair.draggableElement.content) = $event)),\n                      class: \"element-pair-settings-item\"\n                    }, null, 512), [\n                      [_vModelText, _ctx.selectedPair.draggableElement.content]\n                    ])\n                  ])\n                ]))\n              : _createCommentVNode(\"\", true),\n          _createElementVNode(\"h2\", null, _toDisplayString(_ctx.$gettext('Karte B')), 1),\n          _createElementVNode(\"label\", null, [\n            _createTextVNode(_toDisplayString(_ctx.$gettext('Typ')) + \" \", 1),\n            _withDirectives(_createElementVNode(\"select\", {\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.selectedPair.targetElement.type) = $event))\n            }, [\n              _createElementVNode(\"option\", _hoisted_12, _toDisplayString(_ctx.$gettext('Bild')), 1),\n              _createElementVNode(\"option\", _hoisted_13, _toDisplayString(_ctx.$gettext('Text')), 1),\n              _createElementVNode(\"option\", _hoisted_14, _toDisplayString(_ctx.$gettext('Audio')), 1)\n            ], 512), [\n              [_vModelSelect, _ctx.selectedPair.targetElement.type]\n            ])\n          ]),\n          (_ctx.selectedPair.targetElement.type == 'image')\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                (_ctx.selectedPair.targetElement.file_id)\n                  ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                      _createVNode(_component_MultimediaElement, {\n                        element: _ctx.selectedPair.targetElement,\n                        class: \"h5pMultimediaElement\"\n                      }, null, 8, [\"element\"]),\n                      _createElementVNode(\"button\", {\n                        type: \"button\",\n                        onClick: _cache[7] || (_cache[7] = ($event: any) => (_ctx.removeTargetImage(this.selectedPairIndex))),\n                        textContent: _toDisplayString(_ctx.$gettext('Bild lschen')),\n                        class: \"button trash element-pair-settings-item\"\n                      }, null, 8, _hoisted_16),\n                      _createElementVNode(\"label\", _hoisted_17, [\n                        _createTextVNode(_toDisplayString(_ctx.$gettext('Alt-Text')) + \" \", 1),\n                        _withDirectives(_createElementVNode(\"input\", {\n                          type: \"text\",\n                          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((_ctx.selectedPair.targetElement.altText) = $event)),\n                          class: \"element-pair-settings-item\"\n                        }, null, 512), [\n                          [_vModelText, _ctx.selectedPair.targetElement.altText]\n                        ])\n                      ])\n                    ], 64))\n                  : (_openBlock(), _createBlock(_component_FileUpload, {\n                      key: 1,\n                      class: \"pairing-file-upload\",\n                      onFileUploaded: _cache[9] || (_cache[9] = ($event: any) => (\n                _ctx.onUploadTargetImage(this.selectedPairIndex, $event)\n              ))\n                    }))\n              ]))\n            : (_ctx.selectedPair.targetElement.type == 'text')\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [\n                  _createElementVNode(\"label\", _hoisted_19, [\n                    _createTextVNode(_toDisplayString(_ctx.$gettext('Inhalt')) + \" \", 1),\n                    _withDirectives(_createElementVNode(\"textarea\", {\n                      type: \"text\",\n                      \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((_ctx.selectedPair.targetElement.content) = $event)),\n                      class: \"element-pair-settings-item\"\n                    }, null, 512), [\n                      [_vModelText, _ctx.selectedPair.targetElement.content]\n                    ])\n                  ])\n                ]))\n              : _createCommentVNode(\"\", true),\n          _createElementVNode(\"div\", _hoisted_20, [\n            _createElementVNode(\"button\", {\n              type: \"button\",\n              onClick: _cache[11] || (_cache[11] = ($event: any) => (_ctx.deletePair(_ctx.selectedPairIndex))),\n              textContent: _toDisplayString(_ctx.$gettext('Paar lschen')),\n              class: \"button trash remove-pair-button\"\n            }, null, 8, _hoisted_21)\n          ])\n        ])\n      ], 32)\n    ])\n  ]))\n}","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-a918c422\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  type: \"button\",\n  class: \"h5pElementPair\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_MultimediaElement = _resolveComponent(\"MultimediaElement\")!\n\n  return (_openBlock(), _createElementBlock(\"button\", _hoisted_1, [\n    (_ctx.pair.draggableElement)\n      ? (_openBlock(), _createBlock(_component_MultimediaElement, {\n          key: 0,\n          element: _ctx.pair.draggableElement,\n          class: \"h5pMultimediaElement\"\n        }, null, 8, [\"element\"]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.pair.targetElement)\n      ? (_openBlock(), _createBlock(_component_MultimediaElement, {\n          key: 1,\n          element: _ctx.pair.targetElement,\n          class: \"h5pMultimediaElement\"\n        }, null, 8, [\"element\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { $gettext } from '@/language/gettext';\nimport { Pair } from '@/models/TaskDefinition';\nimport MultimediaElement from '@/components/MultimediaElement.vue';\n\nexport default defineComponent({\n  name: 'ElementPair',\n  components: { MultimediaElement },\n  props: {\n    pair: {\n      type: Object as PropType<Pair>,\n      required: true,\n    },\n  },\n  methods: {\n    $gettext,\n  },\n});\n","import { render } from \"./ElementPair.vue?vue&type=template&id=a918c422&scoped=true&ts=true\"\nimport script from \"./ElementPair.vue?vue&type=script&lang=ts\"\nexport * from \"./ElementPair.vue?vue&type=script&lang=ts\"\n\nimport \"./ElementPair.vue?vue&type=style&index=0&id=a918c422&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a918c422\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { fileIdToUrl, Pair, PairingTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport produce from 'immer';\nimport { taskEditorStore } from '@/store';\nimport { v4 } from 'uuid';\nimport ElementPair from '@/components/ElementPair.vue';\nimport FileUpload from '@/components/FileUpload.vue';\nimport { FileRef } from '@/routes/jsonApi';\nimport MultimediaElement from '@/components/MultimediaElement.vue';\n\nexport default defineComponent({\n  name: 'PairingEditor',\n  components: { MultimediaElement, FileUpload, ElementPair },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<PairingTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      selectedPairIndex: -1,\n    };\n  },\n  beforeMount(): void {\n    if (this.task.pairs.length > 0) {\n      this.selectedPairIndex = 0;\n    }\n  },\n  methods: {\n    fileIdToUrl,\n    $gettext,\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n    selectPair(index: number) {\n      this.selectedPairIndex = index;\n    },\n    addPair() {\n      const newTaskDefinition = produce(this.task, (draft) => {\n        draft.pairs.push({\n          uuid: v4(),\n          draggableElement: {\n            uuid: v4(),\n            type: 'image',\n            file_id: '',\n            altText: '',\n          },\n          targetElement: {\n            uuid: v4(),\n            type: 'image',\n            file_id: '',\n            altText: '',\n          },\n        });\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Select the newly inserted card\n      this.selectedPairIndex = this.task.pairs.length - 1;\n    },\n    deletePair(index: number) {\n      const newTaskDefinition = produce(this.task, (draft) => {\n        draft.pairs.splice(index, 1);\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Adjust the selection index so the selected card doesn't unexpectedly change\n      if (index <= this.selectedPairIndex) {\n        this.selectedPairIndex = this.selectedPairIndex - 1;\n      }\n    },\n    onUploadDraggableImage(pairIndex: number, file: FileRef): void {\n      const newTaskDefinition = produce(this.task, (draft) => {\n        draft.pairs[pairIndex].draggableElement = {\n          uuid: v4(),\n          type: 'image',\n          file_id: file.id,\n          altText: '',\n        };\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n    removeDraggableImage(pairIndex: number) {\n      const newTaskDefinition = produce(this.task, (draft) => {\n        draft.pairs[pairIndex].draggableElement = {\n          uuid: v4(),\n          type: 'image',\n          file_id: '',\n          altText: '',\n        };\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n    onUploadTargetImage(pairIndex: number, file: FileRef): void {\n      const newTaskDefinition = produce(this.task, (draft) => {\n        draft.pairs[pairIndex].targetElement = {\n          uuid: v4(),\n          type: 'image',\n          file_id: file.id,\n          altText: '',\n        };\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n    removeTargetImage(pairIndex: number) {\n      const newTaskDefinition = produce(this.task, (draft) => {\n        draft.pairs[pairIndex].targetElement = {\n          uuid: v4(),\n          type: 'image',\n          file_id: '',\n          altText: '',\n        };\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n  },\n  computed: {\n    task: () => taskEditorStore.taskDefinition as PairingTask,\n    selectedPair(): Pair {\n      return this.task.pairs[this.selectedPairIndex];\n    },\n    addPairButtonBackgroundImage() {\n      return {\n        backgroundImage: `url(${this.urlForIcon('add')})`,\n      };\n    },\n  },\n});\n","import { render } from \"./PairingEditor.vue?vue&type=template&id=33c09370&scoped=true&ts=true\"\nimport script from \"./PairingEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./PairingEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./PairingEditor.vue?vue&type=style&index=0&id=33c09370&lang=css\"\nimport \"./PairingEditor.vue?vue&type=style&index=1&id=33c09370&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-33c09370\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, withModifiers as _withModifiers, createElementVNode as _createElementVNode, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4c4b4441\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"pairingRow\" }\nconst _hoisted_2 = [\"draggable\", \"onDragstart\", \"onClick\"]\nconst _hoisted_3 = { class: \"targetElementsColumn\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_5 = { class: \"h5p-button-panel\" }\nconst _hoisted_6 = [\"textContent\"]\nconst _hoisted_7 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_MultimediaElement = _resolveComponent(\"MultimediaElement\")!\n  const _component_TargetImage = _resolveComponent(\"TargetImage\")!\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", {\n        class: \"draggableElementsColumn\",\n        draggable: \"false\",\n        onDragover: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"])),\n        onDragenter: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"])),\n        onDrop: _cache[3] || (_cache[3] = ($event: any) => (_ctx.onDropOnInteractiveElements($event)))\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.draggableElements, (draggableElementId) => {\n          return (_openBlock(), _createElementBlock(\"button\", {\n            type: \"button\",\n            key: draggableElementId,\n            draggable: \n          !this.isDraggableElementUsed(draggableElementId) && !this.showResults\n        ,\n            onDragstart: ($event: any) => (_ctx.startDragElement($event, draggableElementId)),\n            onDragend: _cache[0] || (_cache[0] = ($event: any) => (_ctx.endDragElement())),\n            onClick: ($event: any) => (_ctx.onClickDraggableElement(draggableElementId)),\n            class: _normalizeClass([\"draggableElement\", {\n          disabled:\n            this.isDraggableElementUsed(draggableElementId) ||\n            this.showResults ||\n            this.draggedElementId === draggableElementId,\n          selected: this.elementIdInteractedWith === draggableElementId,\n        }])\n          }, [\n            _createVNode(_component_MultimediaElement, {\n              element: _ctx.getElementById(draggableElementId),\n              draggable: \"false\",\n              ref_for: true,\n              ref: \"draggableImages\"\n            }, null, 8, [\"element\"])\n          ], 42, _hoisted_2))\n        }), 128))\n      ], 32),\n      _createElementVNode(\"div\", _hoisted_3, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.task.pairs, (pair) => {\n          return (_openBlock(), _createBlock(_component_TargetImage, {\n            class: _normalizeClass({\n          outlined:\n            !this.elementsDraggedOntoTargets.hasOwnProperty(\n              pair.targetElement.uuid\n            ) &&\n            (this.draggedElementId || this.elementIdInteractedWith),\n        }),\n            \"draggable-image\": _ctx.getElementDraggedOntoTarget(pair.targetElement.uuid),\n            \"target-image\": _ctx.getElementById(pair.targetElement.uuid),\n            isCorrect: this.isAnswerCorrect(pair.targetElement.uuid),\n            showResult: this.showResults,\n            key: pair.uuid,\n            onDrop: ($event: any) => (_ctx.onDropOnTargetElement($event, pair.targetElement.uuid)),\n            draggable: \n          _ctx.getElementDraggedOntoTarget(pair.targetElement.uuid) &&\n          !this.showResults\n        ,\n            onDragstart: ($event: any) => (_ctx.startDragTargetElement($event, pair.targetElement.uuid)),\n            onDragend: _cache[4] || (_cache[4] = ($event: any) => (_ctx.endDragTargetElement())),\n            onDragover: _cache[5] || (_cache[5] = _withModifiers(() => {}, [\"prevent\"])),\n            onDragenter: _cache[6] || (_cache[6] = _withModifiers(() => {}, [\"prevent\"])),\n            onClick: ($event: any) => (_ctx.onClickTargetElement(pair.targetElement.uuid))\n          }, null, 8, [\"class\", \"draggable-image\", \"target-image\", \"isCorrect\", \"showResult\", \"onDrop\", \"draggable\", \"onDragstart\", \"onClick\"]))\n        }), 128))\n      ])\n    ]),\n    _hoisted_4,\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          achievedPoints: _ctx.correctAnswers,\n          maxPoints: _ctx.maxPoints,\n          resultMessage: _ctx.resultMessage,\n          feedback: _ctx.task.feedback\n        }, null, 8, [\"achievedPoints\", \"maxPoints\", \"resultMessage\", \"feedback\"]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_5, [\n      (!this.showResults)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            textContent: _toDisplayString(this.task.strings.checkButton),\n            onClick: _cache[7] || (_cache[7] = ($event: any) => (_ctx.checkResults())),\n            type: \"button\",\n            class: \"h5p-button\"\n          }, null, 8, _hoisted_6))\n        : _createCommentVNode(\"\", true),\n      (this.showResults)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 1,\n            textContent: _toDisplayString(this.task.strings.retryButton),\n            onClick: _cache[8] || (_cache[8] = ($event: any) => (_ctx.reset())),\n            type: \"button\",\n            class: \"h5p-button\"\n          }, null, 8, _hoisted_7))\n        : _createCommentVNode(\"\", true)\n    ])\n  ], 64))\n}","import { resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0e7a6912\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"image-container back\" }\nconst _hoisted_2 = { class: \"image-container front\" }\nconst _hoisted_3 = {\n  key: 1,\n  type: \"button\",\n  class: \"grid-square one-image\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_MultimediaElement = _resolveComponent(\"MultimediaElement\")!\n\n  return (_ctx.draggableImage)\n    ? (_openBlock(), _createElementBlock(\"button\", {\n        key: 0,\n        type: \"button\",\n        class: _normalizeClass([\"grid-square two-images\", {\n      correct: this.isCorrect,\n      incorrect: !this.isCorrect,\n      showResult: this.showResult,\n    }])\n      }, [\n        _createElementVNode(\"div\", _hoisted_1, [\n          _createVNode(_component_MultimediaElement, {\n            element: _ctx.targetImage,\n            draggable: \"false\",\n            class: _normalizeClass([\"image\", {\n          correct: this.isCorrect,\n          incorrect: !this.isCorrect,\n          showResult: this.showResult,\n        }])\n          }, null, 8, [\"element\", \"class\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createVNode(_component_MultimediaElement, {\n            element: _ctx.draggableImage,\n            draggable: \"false\",\n            class: _normalizeClass([\"image\", {\n          correct: this.isCorrect,\n          incorrect: !this.isCorrect,\n          showResult: this.showResult,\n        }])\n          }, null, 8, [\"element\", \"class\"])\n        ])\n      ], 2))\n    : (_openBlock(), _createElementBlock(\"button\", _hoisted_3, [\n        _createVNode(_component_MultimediaElement, {\n          element: _ctx.targetImage,\n          draggable: \"false\"\n        }, null, 8, [\"element\"])\n      ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { fileIdToUrl, Image } from '@/models/TaskDefinition';\nimport MultimediaElement from '@/components/MultimediaElement.vue';\n\nexport default defineComponent({\n  name: 'TargetImage',\n  components: { MultimediaElement },\n  props: {\n    draggableImage: {\n      type: Object as PropType<Image>,\n      required: false,\n    },\n    targetImage: {\n      type: Object as PropType<Image>,\n      required: true,\n    },\n    isCorrect: {\n      type: Boolean,\n      required: false,\n    },\n    showResult: {\n      type: Boolean,\n      required: false,\n    },\n  },\n  computed: {},\n  methods: { fileIdToUrl },\n});\n","import { render } from \"./TargetImage.vue?vue&type=template&id=0e7a6912&scoped=true&ts=true\"\nimport script from \"./TargetImage.vue?vue&type=script&lang=ts\"\nexport * from \"./TargetImage.vue?vue&type=script&lang=ts\"\n\nimport \"./TargetImage.vue?vue&type=style&index=0&id=0e7a6912&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0e7a6912\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { fileIdToUrl, PairElement, PairingTask } from '@/models/TaskDefinition';\nimport TargetImage from '@/components/TargetImage.vue';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\nimport MultimediaElement from '@/components/MultimediaElement.vue';\n\ntype Uuid = string;\n\nexport default defineComponent({\n  name: 'PairingViewer',\n  components: {\n    MultimediaElement,\n    TargetImage,\n    FeedbackElement,\n  },\n  props: {\n    task: {\n      type: Object as PropType<PairingTask>,\n      required: true,\n    },\n  },\n  emits: ['updateAttempt'],\n  data() {\n    return {\n      elementIdInteractedWith: undefined as Uuid | undefined,\n      draggedElementId: undefined as Uuid | undefined,\n      // We used Record instead of Set because I wasn't sure if sets are\n      // reactive in Vue 3.\n      // Record from target ID -> draggable element ID.\n      elementsDraggedOntoTargets: {} as Record<Uuid, Uuid>,\n      showResults: false as boolean,\n    };\n  },\n  methods: {\n    fileIdToUrl,\n    isAnswerCorrect(targetId: Uuid): boolean {\n      const userInput = this.elementsDraggedOntoTargets[targetId];\n      if (!userInput) {\n        return false;\n      }\n      // A little bit awkward -- we have to find the pair to which the target\n      // belongs so that we can check whether the user's solution is right\n      // This method itself is therefore O(n), giving an O(n^2) if you check\n      // every user answer in a loop every time the user makes an input.\n      // But it should be fine, because even if there are 50 elements in a set\n      // (very unlikely), this comes out to 2500 comparisons, which should\n      // complete in under a millisecond.\n      const pair = this.task.pairs.find(\n        (pair) => pair.targetElement.uuid === targetId\n      );\n      if (!pair) {\n        throw new Error(\n          'could not find the pair to which the target id ' +\n            targetId +\n            ' belongs'\n        );\n      }\n      return pair.draggableElement.uuid === userInput;\n    },\n\n    getElementDraggedOntoTarget(targetId: Uuid): PairElement | undefined {\n      const draggedElementId = this.elementsDraggedOntoTargets[targetId];\n      if (draggedElementId) {\n        return this.getElementById(draggedElementId);\n      } else {\n        return undefined;\n      }\n    },\n\n    startDragElement(dragEvent: DragEvent, elementId: Uuid): void {\n      /**\n       * TODO #27: After creating MultimediaElement: Refactor drag-drop interactions.\n       * The HTML5 drag-drop is hard to use with our planned refactoring\n       * to create the component 'MultimediaElement'.\n       * Since for HTML5 drag-drop, we have to do some hacking to make the\n       * ghost image look correct, and this hacking is not very robust and\n       * will fail for text/audio type content.\n       * So instead of using HTML5 drag-drop (draggable=true, ondrag, ondrop), let's\n       * use pointer events (pointerdown, pointermove and pointerup) and pointer capture API.\n       * (See Gitlab for rest of comment...)\n       */\n      if (!this.isDraggableElementUsed(elementId)) {\n        console.log('Dragging element:', elementId);\n        this.elementIdInteractedWith = elementId;\n        this.draggedElementId = elementId;\n\n        dragEvent.dataTransfer!.dropEffect = 'move';\n        dragEvent.dataTransfer!.effectAllowed = 'move';\n      }\n    },\n\n    endDragElement(): void {\n      this.elementIdInteractedWith = undefined;\n      this.draggedElementId = undefined;\n    },\n\n    startDragTargetElement(dragEvent: DragEvent, targetElementId: Uuid): void {\n      dragEvent.dataTransfer!.dropEffect = 'move';\n      dragEvent.dataTransfer!.effectAllowed = 'move';\n      // Remember that the element has been dragged away from a target\n      // where it had been placed by the user\n      dragEvent.dataTransfer!.setData('targetId', targetElementId);\n\n      // Check if an element has been dragged onto the target already\n      const userDraggedElementId =\n        this.elementsDraggedOntoTargets[targetElementId];\n      if (userDraggedElementId) {\n        this.elementIdInteractedWith = userDraggedElementId;\n\n        console.log(\n          'Dragging element:',\n          this.elementIdInteractedWith,\n          'from target element',\n          targetElementId\n        );\n      }\n    },\n\n    endDragTargetElement() {\n      this.elementIdInteractedWith = undefined;\n      this.draggedElementId = undefined;\n    },\n\n    onDropOnTargetElement(event: DragEvent, targetElementId: Uuid): void {\n      if (!this.elementIdInteractedWith) {\n        return;\n      }\n\n      // If the element has been dragged away from another target, then it should\n      // be removed from that target when it is dropped onto this target.\n      const otherTargetId = event.dataTransfer?.getData('targetId');\n      if (otherTargetId) {\n        delete this.elementsDraggedOntoTargets[otherTargetId];\n      }\n      // Save the dragged element onto the target where it has been dropped\n      this.elementsDraggedOntoTargets[targetElementId] =\n        this.elementIdInteractedWith;\n\n      console.log(\n        'Dropped element:',\n        this.elementIdInteractedWith,\n        'on target:',\n        targetElementId\n      );\n      // Mark that the drag interaction is over.\n      this.elementIdInteractedWith = undefined;\n      this.draggedElementId = undefined;\n    },\n\n    getElementById(elementId: string): PairElement {\n      const element = this.elementsById[elementId];\n      if (!element) {\n        throw new Error('No element found with the given ID: ' + elementId);\n      }\n      return element;\n    },\n\n    onClickTargetElement(targetElementId: Uuid): void {\n      console.log('Clicked on target element', targetElementId);\n\n      // Do nothing if we are displaying the results already\n      if (this.showResults) return;\n\n      // Remove the element, if any, that has been dragged by the user onto\n      // the target they have clicked.\n      const usedElementId = this.elementsDraggedOntoTargets[targetElementId];\n      if (usedElementId) {\n        delete this.elementsDraggedOntoTargets[targetElementId];\n      }\n      // Check if the user clicked a draggable element and wants to put it here\n      if (this.elementIdInteractedWith) {\n        this.elementsDraggedOntoTargets[targetElementId] =\n          this.elementIdInteractedWith;\n        this.elementIdInteractedWith = undefined;\n      }\n    },\n\n    // This has a complexity of O(n).  When it is called in our v-for to set\n    // the class of every draggable element, it makes it O(n^2).\n    // But that should be OK, because no one will put more than (say) 100\n    // elements in a single task, right?\n    isDraggableElementUsed(draggableElementId: Uuid): boolean {\n      return Object.values(this.elementsDraggedOntoTargets).includes(\n        draggableElementId\n      );\n    },\n\n    onClickDraggableElement(elementId: Uuid): void {\n      if (!this.isDraggableElementUsed(elementId) && !this.showResults) {\n        console.log('Clicked on element:', elementId);\n        this.elementIdInteractedWith = elementId;\n      }\n    },\n\n    onDropOnInteractiveElements(event: DragEvent): void {\n      if (!this.elementIdInteractedWith) {\n        return;\n      }\n\n      // If the element has been dragged away from a target, then it should\n      // be removed from that target when it is dropped here.\n      const otherTargetId = event.dataTransfer?.getData('targetId');\n      if (otherTargetId) {\n        delete this.elementsDraggedOntoTargets[otherTargetId];\n      }\n\n      console.log('Returned element:', this.elementIdInteractedWith);\n\n      // Mark that the interaction is over.\n      this.elementIdInteractedWith = undefined;\n    },\n\n    checkResults(): void {\n      this.showResults = true;\n    },\n\n    reset(): void {\n      this.showResults = false;\n      this.elementsDraggedOntoTargets = {};\n    },\n  },\n  computed: {\n    draggableElements(): Uuid[] {\n      // Shuffle the elements\n      // https://stackoverflow.com/a/46545530\n      return this.task.pairs\n        .map((pair) => ({ pair: pair, sort: Math.random() }))\n        .sort((pair1, pair2) => pair1.sort - pair2.sort)\n        .map(({ pair }) => pair.draggableElement.uuid);\n    },\n\n    elementsById(): Record<Uuid, PairElement> {\n      const elementsById: Record<Uuid, PairElement> = {};\n      for (const pair of this.task.pairs) {\n        elementsById[pair.draggableElement.uuid] = pair.draggableElement;\n        elementsById[pair.targetElement.uuid] = pair.targetElement;\n      }\n      return elementsById;\n    },\n\n    correctAnswers(): number {\n      let correctAnswers = 0;\n      for (const pair of this.task.pairs) {\n        if (this.isAnswerCorrect(pair.targetElement.uuid)) correctAnswers++;\n      }\n      return correctAnswers;\n    },\n\n    maxPoints(): number {\n      return this.task.pairs.length;\n    },\n\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.maxPoints.toString()\n      );\n\n      return resultMessage;\n    },\n  },\n});\n","import { render } from \"./PairingViewer.vue?vue&type=template&id=4c4b4441&scoped=true&ts=true\"\nimport script from \"./PairingViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./PairingViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./PairingViewer.vue?vue&type=style&index=0&id=4c4b4441&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4c4b4441\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, vModelText as _vModelText, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2a137151\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"flex-parent-element\" }\nconst _hoisted_3 = [\"onUpdate:modelValue\"]\nconst _hoisted_4 = [\"onUpdate:modelValue\"]\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = [\"src\", \"title\"]\nconst _hoisted_7 = { class: \"collapsable collapsed\" }\nconst _hoisted_8 = [\"onUpdate:modelValue\"]\nconst _hoisted_9 = [\"onUpdate:modelValue\"]\nconst _hoisted_10 = [\"onUpdate:modelValue\"]\nconst _hoisted_11 = { class: \"collapsable collapsed\" }\nconst _hoisted_12 = [\"disabled\"]\nconst _hoisted_13 = [\"disabled\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_studip_wysiwyg = _resolveComponent(\"studip-wysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Question')), 1),\n      _createElementVNode(\"label\", null, [\n        _createVNode(_component_studip_wysiwyg, {\n          modelValue: _ctx.taskDefinition.question,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.taskDefinition.question) = $event)),\n          \"force-soft-breaks\": \"\",\n          \"remove-wrapping-p-tag\": \"\",\n          \"disable-autoformat\": \"\"\n        }, null, 8, [\"modelValue\"])\n      ]),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.answers, (answer, i) => {\n        return (_openBlock(), _createElementBlock(\"fieldset\", {\n          class: \"collapsable collapsed\",\n          key: i\n        }, [\n          _createElementVNode(\"legend\", null, _toDisplayString(answer.text), 1),\n          _createElementVNode(\"div\", _hoisted_2, [\n            _withDirectives(_createElementVNode(\"input\", {\n              class: \"flex-child-element checkbox\",\n              type: \"checkbox\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].correct) = $event)\n            }, null, 8, _hoisted_3), [\n              [_vModelCheckbox, _ctx.taskDefinition.answers[i].correct]\n            ]),\n            _withDirectives(_createElementVNode(\"input\", {\n              class: \"flex-child-element textbox\",\n              type: \"text\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].text) = $event)\n            }, null, 8, _hoisted_4), [\n              [_vModelText, _ctx.taskDefinition.answers[i].text]\n            ]),\n            _createElementVNode(\"button\", {\n              type: \"button\",\n              class: \"flex-child-element removeAnswerButton\",\n              onClick: ($event: any) => (_ctx.removeAnswer(answer))\n            }, [\n              _createElementVNode(\"img\", {\n                src: _ctx.urlForIcon('trash'),\n                title: _ctx.$gettext('Lschen')\n              }, null, 8, _hoisted_6)\n            ], 8, _hoisted_5)\n          ]),\n          _createElementVNode(\"fieldset\", _hoisted_7, [\n            _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Hinweis und Feedback')), 1),\n            _createElementVNode(\"label\", null, [\n              _createElementVNode(\"span\", null, _toDisplayString(_ctx.$gettext('Hinweis')), 1),\n              _withDirectives(_createElementVNode(\"input\", {\n                class: \"textbox\",\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].strings.hint) = $event)\n              }, null, 8, _hoisted_8), [\n                [_vModelText, _ctx.taskDefinition.answers[i].strings.hint]\n              ])\n            ]),\n            _createElementVNode(\"label\", null, [\n              _createElementVNode(\"span\", null, _toDisplayString(_ctx.$gettext('Feedback wenn ausgewhlt')), 1),\n              _withDirectives(_createElementVNode(\"input\", {\n                class: \"textbox\",\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].strings.feedbackSelected) = $event)\n              }, null, 8, _hoisted_9), [\n                [_vModelText, _ctx.taskDefinition.answers[i].strings.feedbackSelected]\n              ])\n            ]),\n            _createElementVNode(\"label\", null, [\n              _createElementVNode(\"span\", null, _toDisplayString(_ctx.$gettext('Feedback wenn nicht ausgewhlt')), 1),\n              _withDirectives(_createElementVNode(\"input\", {\n                class: \"textbox\",\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].strings.feedbackNotSelected) = $event)\n              }, null, 8, _hoisted_10), [\n                [_vModelText, _ctx.taskDefinition.answers[i].strings.feedbackNotSelected]\n              ])\n            ])\n          ])\n        ]))\n      }), 128)),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"button\",\n        onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.addAnswer && _ctx.addAnswer(...args)))\n      }, _toDisplayString(_ctx.$gettext('Neue Antwort')), 1)\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_11, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.taskDefinition.strings.checkButton) = $event))\n        }, null, 512), [\n          [_vModelText, _ctx.taskDefinition.strings.checkButton]\n        ])\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.taskDefinition.canAnswerMultiple) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.canAnswerMultiple]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Antworten knnen ausgewhlt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.taskDefinition.randomOrder) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.randomOrder]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Zeige Antworten in zuflliger Reihenfolge')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.retryAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.retryAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Versuche erlauben')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.retryAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.retryAllowed,\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.strings.retryButton) = $event))\n        }, null, 8, _hoisted_12), [\n          [_vModelText, _ctx.taskDefinition.strings.retryButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.taskDefinition.showSolutionsAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.showSolutionsAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Lsungen knnen angezeigt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((_ctx.taskDefinition.strings.solutionsButton) = $event))\n        }, null, 8, _hoisted_13), [\n          [_vModelText, _ctx.taskDefinition.strings.solutionsButton]\n        ])\n      ], 2)\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { QuestionAnswer, QuestionTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'QuestionEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<QuestionTask>,\n      required: true,\n    },\n  },\n  methods: {\n    $gettext,\n    addAnswer(): void {\n      this.taskDefinition.answers.push({\n        text: this.$gettext('Neue Antwort'),\n        correct: true,\n        strings: {\n          hint: '',\n          feedbackSelected: '',\n          feedbackNotSelected: '',\n        },\n      });\n    },\n    removeAnswer(answerToRemove: QuestionAnswer): void {\n      this.taskDefinition.answers = this.taskDefinition.answers.filter(\n        (answer) => answer !== answerToRemove\n      );\n    },\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n  computed: {\n    currentUndoRedoState: () =>\n      taskEditorStore.undoRedoStack[taskEditorStore.undoRedoIndex],\n  },\n});\n","import { render } from \"./QuestionEditor.vue?vue&type=template&id=2a137151&scoped=true&ts=true\"\nimport script from \"./QuestionEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./QuestionEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./QuestionEditor.vue?vue&type=style&index=0&id=2a137151&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a137151\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, vModelRadio as _vModelRadio, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7d48f20c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"h5p-module\" }\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = [\"value\", \"onUpdate:modelValue\", \"disabled\"]\nconst _hoisted_4 = [\"data-tooltip\"]\nconst _hoisted_5 = {\n  key: 0,\n  class: \"answerFeedback\"\n}\nconst _hoisted_6 = {\n  key: 1,\n  class: \"answerFeedback\"\n}\nconst _hoisted_7 = [\"value\", \"disabled\"]\nconst _hoisted_8 = [\"data-tooltip\"]\nconst _hoisted_9 = {\n  key: 0,\n  class: \"answerFeedback\"\n}\nconst _hoisted_10 = {\n  key: 1,\n  class: \"answerFeedback\"\n}\nconst _hoisted_11 = { class: \"h5p-button-panel\" }\nconst _hoisted_12 = [\"textContent\"]\nconst _hoisted_13 = [\"textContent\"]\nconst _hoisted_14 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"h5pQuestion\",\n      innerHTML: this.task.question\n    }, null, 8, _hoisted_2),\n    (_ctx.task.canAnswerMultiple)\n      ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_ctx.answers, (answer, i) => {\n          return (_openBlock(), _createElementBlock(_Fragment, { key: i }, [\n            _createElementVNode(\"label\", {\n              class: _normalizeClass(_ctx.classForAnswer(answer))\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"checkbox\",\n                value: answer.text,\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.selectedAnswers[answer.text]) = $event),\n                disabled: _ctx.isSubmitted\n              }, null, 8, _hoisted_3), [\n                [_vModelCheckbox, _ctx.selectedAnswers[answer.text]]\n              ]),\n              _createTextVNode(\" \" + _toDisplayString(answer.text) + \" \", 1),\n              (answer.strings.hint && !_ctx.isSubmitted)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"tooltip tooltip-icon h5pTooltip\",\n                    \"data-tooltip\": answer.strings.hint\n                  }, null, 8, _hoisted_4))\n                : _createCommentVNode(\"\", true)\n            ], 2),\n            (_ctx.isSubmitted)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  (\n              answer.strings.feedbackSelected && _ctx.selectedAnswers[answer.text]\n            )\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(answer.strings.feedbackSelected), 1))\n                    : (\n              answer.strings.feedbackNotSelected &&\n              !_ctx.selectedAnswers[answer.text]\n            )\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString(answer.strings.feedbackNotSelected), 1))\n                      : _createCommentVNode(\"\", true)\n                ], 64))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        }), 128))\n      : (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.answers, (answer, i) => {\n          return (_openBlock(), _createElementBlock(_Fragment, { key: i }, [\n            _createElementVNode(\"label\", {\n              class: _normalizeClass(_ctx.classForAnswer(answer))\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"radio\",\n                class: \"answerRadioButton\",\n                value: answer,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selectedAnswer) = $event)),\n                disabled: _ctx.isSubmitted\n              }, null, 8, _hoisted_7), [\n                [_vModelRadio, _ctx.selectedAnswer]\n              ]),\n              _createTextVNode(\" \" + _toDisplayString(answer.text) + \" \", 1),\n              (answer.strings.hint && !_ctx.isSubmitted)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"tooltip tooltip-icon h5pTooltip\",\n                    \"data-tooltip\": answer.strings.hint\n                  }, null, 8, _hoisted_8))\n                : _createCommentVNode(\"\", true)\n            ], 2),\n            (_ctx.isSubmitted)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  (answer.strings.feedbackSelected && _ctx.selectedAnswer == answer)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _toDisplayString(answer.strings.feedbackSelected), 1))\n                    : (\n              answer.strings.feedbackNotSelected && _ctx.selectedAnswer !== answer\n            )\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, _toDisplayString(answer.strings.feedbackNotSelected), 1))\n                      : _createCommentVNode(\"\", true)\n                ], 64))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        }), 128)),\n    (_ctx.isSubmitted)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 2,\n          \"achieved-points\": _ctx.points,\n          \"max-points\": _ctx.maxPoints\n        }, null, 8, [\"achieved-points\", \"max-points\"]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_11, [\n      (!_ctx.isSubmitted)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            textContent: _toDisplayString(this.task.strings.checkButton),\n            onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onClickCheck && _ctx.onClickCheck(...args))),\n            type: \"button\",\n            class: \"h5p-button\"\n          }, null, 8, _hoisted_12))\n        : _createCommentVNode(\"\", true),\n      (this.task.retryAllowed && _ctx.isSubmitted)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 1,\n            textContent: _toDisplayString(this.task.strings.retryButton),\n            onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n            type: \"button\",\n            class: \"h5p-button\"\n          }, null, 8, _hoisted_13))\n        : _createCommentVNode(\"\", true),\n      (_ctx.showSolutionsButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 2,\n            textContent: _toDisplayString(this.task.strings.solutionsButton),\n            onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.onClickShowSolution && _ctx.onClickShowSolution(...args))),\n            type: \"button\",\n            class: \"h5p-button\"\n          }, null, 8, _hoisted_14))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { QuestionAnswer, QuestionTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\nexport default defineComponent({\n  name: 'QuestionViewer',\n  props: {\n    task: {\n      type: Object as PropType<QuestionTask>,\n      required: true,\n    },\n  },\n  components: { FeedbackElement },\n  data() {\n    return {\n      selectedAnswers: {} as Record<string, boolean>,\n      selectedAnswer: this.task.answers[0],\n      isSubmitted: false,\n      showSolutions: false,\n    };\n  },\n  methods: {\n    $gettext,\n    onClickCheck(): void {\n      this.isSubmitted = true;\n    },\n    onClickTryAgain(): void {\n      this.isSubmitted = false;\n      this.showSolutions = false;\n      this.selectedAnswers = {};\n    },\n    onClickShowSolution(): void {\n      this.showSolutions = true;\n    },\n    selectAnswer(answer: QuestionAnswer): void {\n      if (this.isSubmitted) return;\n\n      this.selectedAnswers[answer.text] = !this.selectedAnswers[answer.text];\n    },\n    classForAnswer(answer: QuestionAnswer): string {\n      if (this.showSolutions) {\n        if (answer.correct) return 'correctAnswer';\n      }\n\n      if (this.isSubmitted) {\n        if (this.task.canAnswerMultiple) {\n          if (this.selectedAnswers[answer.text]) {\n            if (answer.correct) {\n              return 'correctAnswer';\n            } else {\n              return 'incorrectAnswer';\n            }\n          } else {\n            return 'submittedAnswer';\n          }\n        } else {\n          if (this.selectedAnswer === answer) {\n            if (answer.correct) {\n              return 'correctAnswer';\n            } else {\n              return 'incorrectAnswer';\n            }\n          } else {\n            return 'submittedAnswer';\n          }\n        }\n      } else {\n        return 'answer';\n      }\n    },\n  },\n  computed: {\n    maxPoints(): number {\n      if (this.task.canAnswerMultiple) {\n        let maxPoints = 0;\n        this.task.answers.forEach((answer) => {\n          if (answer.correct) {\n            maxPoints++;\n          }\n        });\n        return maxPoints;\n      } else {\n        return 1;\n      }\n    },\n    points(): number {\n      if (this.task.canAnswerMultiple) {\n        let points = 0;\n\n        this.task.answers.forEach((answer) => {\n          if (this.selectedAnswers[answer.text]) {\n            if (answer.correct) {\n              points++;\n            } else {\n              points--;\n            }\n          }\n        });\n\n        // Cannot get less than 0 points\n        if (points < 0) points = 0;\n\n        return points;\n      } else {\n        return this.selectedAnswer.correct ? 1 : 0;\n      }\n    },\n    answers(): QuestionAnswer[] {\n      if (this.task.randomOrder) {\n        // https://stackoverflow.com/a/46545530\n        return this.task.answers\n          .map((value) => ({ value, sort: Math.random() }))\n          .sort((a, b) => a.sort - b.sort)\n          .map(({ value }) => value);\n      } else {\n        return this.task.answers;\n      }\n    },\n    showSolutionsButton(): boolean {\n      return this.task.showSolutionsAllowed && this.isSubmitted;\n    },\n  },\n});\n","import { render } from \"./QuestionViewer.vue?vue&type=template&id=7d48f20c&scoped=true&ts=true\"\nimport script from \"./QuestionViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./QuestionViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./QuestionViewer.vue?vue&type=style&index=0&id=7d48f20c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7d48f20c\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1012fffc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"sequencing-editor\" }\nconst _hoisted_2 = { class: \"cards-list\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = [\"src\", \"onClick\"]\nconst _hoisted_5 = {\n  key: 1,\n  class: \"edited-memory-card no-card-selected-placeholder\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_SequencingEditorImage = _resolveComponent(\"SequencingEditorImage\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.images, (image, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: image.uuid,\n          class: _normalizeClass({\n          'cards-list-item': true,\n          'selected-card': index === this.selectedImageIndex,\n        }),\n          onClick: ($event: any) => (_ctx.selectImage(index))\n        }, [\n          _createTextVNode(_toDisplayString(index + '. ' + image.altText), 1),\n          _createElementVNode(\"img\", {\n            class: \"flex-child-element removeAnswerButton\",\n            src: _ctx.urlForIcon('trash'),\n            onClick: _withModifiers(($event: any) => (_ctx.deleteImage(index)), [\"stop\"]),\n            alt: \"an icon showing a trash bin\"\n          }, null, 8, _hoisted_4)\n        ], 10, _hoisted_3))\n      }), 128)),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addImage && _ctx.addImage(...args)))\n      }, _toDisplayString(_ctx.$gettext('Bild hinzufgen')), 1)\n    ]),\n    (this.taskDefinition.images[this.selectedImageIndex])\n      ? (_openBlock(), _createBlock(_component_SequencingEditorImage, {\n          key: 0,\n          class: \"edited-memory-card\",\n          image: this.taskDefinition.images[this.selectedImageIndex],\n          \"image-index\": this.selectedImageIndex\n        }, null, 8, [\"image\", \"image-index\"]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(_ctx.$gettext('Keine Karte ist zum Bearbeiten ausgewhlt.')), 1))\n  ]))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5b3e25d6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = [\"src\", \"alt\"]\nconst _hoisted_3 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Bild')), 1),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"h4\", null, _toDisplayString(_ctx.$gettext('Das Bild')), 1),\n        (_ctx.image.file_id)\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 0,\n              src: _ctx.fileIdToUrl(_ctx.image.file_id),\n              alt: _ctx.image.altText,\n              class: \"sequencing-editor-image\"\n            }, null, 8, _hoisted_2))\n          : (_openBlock(), _createBlock(_component_FileUpload, {\n              key: 1,\n              onFileUploaded: _ctx.onUploadImage\n            }, null, 8, [\"onFileUploaded\"]))\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Alternativer Text')) + \" \", 1),\n        _createElementVNode(\"input\", {\n          type: \"text\",\n          value: _ctx.taskDefinition.images[_ctx.imageIndex].altText,\n          onInput: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputImageAltText && _ctx.onInputImageAltText(...args)))\n        }, null, 40, _hoisted_3)\n      ])\n    ])\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { $gettext } from '@/language/gettext';\nimport { fileIdToUrl, Image, SequencingTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport FileUpload from '@/components/FileUpload.vue';\nimport { FileRef } from '@/routes/jsonApi';\n\nexport default defineComponent({\n  name: 'SequencingEditorImage',\n  components: { FileUpload },\n  props: {\n    image: {\n      type: Object as PropType<Image>,\n      required: true,\n    },\n    imageIndex: {\n      type: Number as PropType<number>,\n      required: true,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    fileIdToUrl,\n    $gettext,\n    onUploadImage(file: FileRef): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.images[this.imageIndex].file_id = file.id;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n    onInputImageAltText(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.images[this.imageIndex].altText = value;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: { type: 'EditedImageAltText' },\n      });\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as SequencingTask,\n  },\n});\n","import { render } from \"./SequencingEditorImage.vue?vue&type=template&id=5b3e25d6&scoped=true&ts=true\"\nimport script from \"./SequencingEditorImage.vue?vue&type=script&lang=ts\"\nexport * from \"./SequencingEditorImage.vue?vue&type=script&lang=ts\"\n\nimport \"./SequencingEditorImage.vue?vue&type=style&index=0&id=5b3e25d6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5b3e25d6\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { SequencingTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport { v4 } from 'uuid';\nimport SequencingEditorImage from '@/components/SequencingEditorImage.vue';\n\nexport default defineComponent({\n  name: 'SequencingEditor',\n  components: { SequencingEditorImage },\n  props: {\n    task: {\n      type: Object as PropType<SequencingTask>,\n      required: true,\n    },\n  },\n  data() {\n    return { selectedImageIndex: -1 };\n  },\n  beforeMount(): void {\n    if (this.taskDefinition.images.length > 0) {\n      this.selectedImageIndex = 0;\n    }\n  },\n  methods: {\n    $gettext,\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n    selectImage(index: number) {\n      this.selectedImageIndex = index;\n    },\n    addImage() {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.images.push({\n          v: 2,\n          uuid: v4(),\n          file_id: '',\n          altText: '',\n        });\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Select the newly inserted image\n      this.selectedImageIndex = this.taskDefinition.images.length - 1;\n    },\n    deleteImage(index: number) {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.images.splice(index, 1);\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Adjust the selection index so the selected card doesn't unexpectedly change\n      if (index <= this.selectedImageIndex) {\n        this.selectedImageIndex = this.selectedImageIndex - 1;\n      }\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as SequencingTask,\n  },\n});\n","import { render } from \"./SequencingEditor.vue?vue&type=template&id=1012fffc&scoped=true&ts=true\"\nimport script from \"./SequencingEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./SequencingEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./SequencingEditor.vue?vue&type=style&index=0&id=1012fffc&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1012fffc\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e0afcb20\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"sequencing-viewer\" }\nconst _hoisted_2 = [\"draggable\", \"onDragstart\", \"onDragover\"]\nconst _hoisted_3 = [\"src\", \"alt\"]\nconst _hoisted_4 = { class: \"h5p-button-panel\" }\nconst _hoisted_5 = [\"textContent\"]\nconst _hoisted_6 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.images, (image) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: image.uuid,\n          class: _normalizeClass([\"image-container\", {\n        grabbable: !this.showResults,\n      }]),\n          draggable: !this.showResults,\n          onDragstart: ($event: any) => (_ctx.startDragImage(image)),\n          onDragover: ($event: any) => (_ctx.onDragOver(image)),\n          onDrop: _cache[4] || (_cache[4] = ($event: any) => (_ctx.onDropImage()))\n        }, [\n          _createElementVNode(\"img\", {\n            class: \"image\",\n            draggable: \"false\",\n            onDragover: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"])),\n            onDragenter: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"])),\n            src: _ctx.fileIdToUrl(image.file_id),\n            alt: image.altText\n          }, null, 40, _hoisted_3),\n          _createElementVNode(\"span\", {\n            class: \"image-description\",\n            onDragover: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"])),\n            onDragenter: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"prevent\"]))\n          }, _toDisplayString(image.altText), 33)\n        ], 42, _hoisted_2))\n      }), 128))\n    ]),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          achievedPoints: _ctx.correctAnswers,\n          maxPoints: _ctx.maxPoints,\n          resultMessage: _ctx.resultMessage,\n          feedback: _ctx.task.feedback\n        }, null, 8, [\"achievedPoints\", \"maxPoints\", \"resultMessage\", \"feedback\"]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_4, [\n      (!this.showResults)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            textContent: _toDisplayString(this.task.strings.checkButton),\n            onClick: _cache[5] || (_cache[5] = ($event: any) => (_ctx.checkResults())),\n            type: \"button\",\n            class: \"h5p-button\"\n          }, null, 8, _hoisted_5))\n        : _createCommentVNode(\"\", true),\n      (this.showResults)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 1,\n            textContent: _toDisplayString(this.task.strings.retryButton),\n            onClick: _cache[6] || (_cache[6] = ($event: any) => (_ctx.reset())),\n            type: \"button\",\n            class: \"h5p-button\"\n          }, null, 8, _hoisted_6))\n        : _createCommentVNode(\"\", true)\n    ])\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { fileIdToUrl, Image, SequencingTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport { taskEditorStore } from '@/store';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\nexport default defineComponent({\n  name: 'SequencingViewer',\n  components: {\n    FeedbackElement,\n  },\n  props: {\n    task: {\n      type: Object as PropType<SequencingTask>,\n      required: true,\n    },\n  },\n  emits: ['updateAttempt'],\n  data() {\n    return {\n      images: [] as Image[],\n      imageInteractedWith: undefined as Image | undefined,\n      showResults: false as boolean,\n    };\n  },\n  beforeMount(): void {\n    console.log('Before Mount');\n  },\n  methods: {\n    fileIdToUrl,\n    $gettext,\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n\n    startDragImage(image: Image) {\n      console.log('Dragging image', image.altText);\n      this.imageInteractedWith = image;\n    },\n\n    onDropImage(): void {\n      console.log('Dropped image', this.imageInteractedWith?.altText);\n      this.imageInteractedWith = undefined;\n    },\n\n    onDragOver(image: Image): void {\n      if (this.imageInteractedWith && this.imageInteractedWith != image) {\n        const fromIndex = this.images.indexOf(this.imageInteractedWith);\n        const toIndex = this.images.indexOf(image);\n\n        console.log(\n          'Dragging image',\n          this.imageInteractedWith?.altText,\n          '(',\n          fromIndex,\n          ') over target',\n          image.altText,\n          '(',\n          toIndex,\n          ')'\n        );\n\n        this.moveInArray(this.images, fromIndex, toIndex);\n      }\n    },\n\n    moveInArray(array: Image[], fromIndex: number, toIndex: number) {\n      let element = array[fromIndex];\n      array.splice(fromIndex, 1);\n      array.splice(toIndex, 0, element);\n    },\n\n    checkResults(): void {\n      this.showResults = true;\n    },\n\n    reset(): void {\n      this.showResults = false;\n      this.shuffleImages();\n    },\n\n    shuffleImages() {\n      // Shuffle the images\n      // https://stackoverflow.com/a/46545530\n      this.images = this.images\n        .map((image) => ({ image: image, sort: Math.random() }))\n        .sort((image1, image2) => image1.sort - image2.sort)\n        .map(({ image }) => image);\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as SequencingTask,\n    correctAnswers(): Number {\n      let correctAnswers = 0;\n      for (let i = 0; i < this.task.images.length; i++) {\n        if (this.task.images[i].uuid === this.images[i].uuid) {\n          correctAnswers++;\n        }\n      }\n      return correctAnswers;\n    },\n    maxPoints(): Number {\n      return this.task.images.length;\n    },\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.maxPoints.toString()\n      );\n\n      return resultMessage;\n    },\n  },\n  watch: {\n    task: {\n      handler() {\n        console.log('watcher for this.task');\n        this.images = [...this.task.images];\n        this.shuffleImages();\n      },\n      immediate: true, // Ensure that the watcher is also called immediately when the component is first mounted\n    },\n  },\n});\n","import { render } from \"./SequencingViewer.vue?vue&type=template&id=e0afcb20&scoped=true&ts=true\"\nimport script from \"./SequencingViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./SequencingViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./SequencingViewer.vue?vue&type=style&index=0&id=e0afcb20&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e0afcb20\"]])\n\nexport default __exports__","import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"textarea\", {\n    value: _ctx.modelValue,\n    ref: \"studip_wysiwyg\",\n    class: \"studip-wysiwyg\",\n    onInput: _cache[0] || (_cache[0] = ($event: any) => (_ctx.updateValue($event.target.value)))\n  }, null, 40, _hoisted_1))\n}","\n// need v-model to provide and get content -> <studip-wysiwyg v-model=\"content\" />\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'studip-wysiwyg',\n  props: {\n    modelValue: String,\n    forceSoftBreaks: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    removeWrappingPTag: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    disableAutoformat: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    insertHtmlComment: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      fallbackActive: false,\n    };\n  },\n  mounted() {\n    let ckeInit = this.initCKE();\n    if (!ckeInit) {\n      this.fallbackActive = true;\n    }\n  },\n  methods: {\n    initCKE() {\n      if (!window.STUDIP.wysiwyg_enabled) {\n        return false;\n      }\n      const textAreaElement = this.$refs.studip_wysiwyg as HTMLTextAreaElement;\n      // Process the jQuery event 'wysiwyg.load' which is triggered asynchronously\n      // after the wysiwyg editor is mounted using the 'replace()' method.\n      textAreaElement.onload = (event: any) => {\n        console.info('load');\n        let ckeditor = window.STUDIP.wysiwyg.getEditor(textAreaElement)!;\n        ckeditor.model.document.on('change:data', () => {\n          let data = ckeditor.getData();\n          if (this.removeWrappingPTag) {\n            // Remove the <p> tag wrapping the editor's contents.\n            // These tags are inserted automatically by CKEditor5.\n            // It appears to be a WONTFIX on their end.\n            // See https://github.com/ckeditor/ckeditor5/issues/1537\n            data = data.replace(/<p>(.*?)/, '$1').replace(/(.*?)<\\/p>/, '$1');\n          }\n          if (this.insertHtmlComment) {\n            /**\n             Insert <!--HTML--> at the start of the text so it is recognized by studip as a\n             raw HTML that should be inserted as-is into a PHP page when formatted\n             using htmlReady.\n             */\n            // This regex is the one used in Markup.class.php to recognize HTML\n            const regex = /^\\s*<!--\\s*HTML.*?-->/i;\n            if (!regex.test(data)) {\n              data = '<!--HTML-->'.concat(data);\n            }\n          }\n          this.$emit('update:modelValue', data);\n        });\n        ckeditor.editing.view.document.on(\n          'enter',\n          (evt, data) => {\n            if (this.forceSoftBreaks) {\n              // Override 'enter' to insert <br /> instead of <p></p> in the editor.\n              // This produces HTML which is more easily parsed in our various learning tasks.\n              // Source: https://github.com/ckeditor/ckeditor5/issues/1141#issuecomment-403403526\n              ckeditor.execute('shiftEnter');\n              data.preventDefault();\n              evt.stop();\n            }\n          },\n          { priority: 'high' }\n        );\n        if (this.disableAutoformat) {\n          // Disable the autoformat plugin so that *asterisks* surrounding text\n          // are not automatically converted into italic formatting.\n          // We use this syntax in the editor for various tasks, such as Fill In The Blanks.\n          // (It might be nicer to disable this using 'removePlugins' option in\n          // the config for CKEditor5, but the interface of STUDIP.wysiwyg.replace()\n          // does not allow us to alter the CKEditor5 config.)\n          const autoformat = ckeditor.plugins.get('Autoformat');\n          (autoformat as unknown as { isEnabled: boolean }).isEnabled = false;\n        }\n      };\n      // This asynchronous method does not return a promise.  Instead, it fires\n      // a 'load' event, which is processed in the above event handler. >:|\n      window.STUDIP.wysiwyg.replace(textAreaElement);\n      return true;\n    },\n    updateValue(value: unknown) {\n      if (this.fallbackActive) {\n        this.$emit('update:modelValue', value);\n      }\n    },\n  },\n});\n","import { render } from \"./StudipWysiwyg.vue?vue&type=template&id=02095a60&ts=true\"\nimport script from \"./StudipWysiwyg.vue?vue&type=script&lang=ts\"\nexport * from \"./StudipWysiwyg.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { style: {\"display\":\"none\"} }\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" Task definition: \")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_SelectVideo = _resolveComponent(\"SelectVideo\")!\n  const _component_TabComponent = _resolveComponent(\"TabComponent\")!\n  const _component_AddInteractions = _resolveComponent(\"AddInteractions\")!\n  const _component_TabsComponent = _resolveComponent(\"TabsComponent\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_TabsComponent, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_TabComponent, {\n          title: _ctx.$gettext('1. Video auswhlen'),\n          icon: \"video2\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_SelectVideo, { \"task-definition\": _ctx.taskDefinition }, null, 8, [\"task-definition\"])\n          ]),\n          _: 1\n        }, 8, [\"title\"]),\n        _createVNode(_component_TabComponent, {\n          title: _ctx.$gettext('2. Interaktionen hinzufgen'),\n          icon: \"content\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_AddInteractions, { \"task-definition\": _ctx.taskDefinition }, null, 8, [\"task-definition\"])\n          ]),\n          _: 1\n        }, 8, [\"title\"])\n      ]),\n      _: 1\n    }),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _hoisted_2,\n      _createElementVNode(\"pre\", null, _toDisplayString(_ctx.taskDefinition), 1)\n    ])\n  ], 64))\n}","<!-- Adapted from https://zerotomastery.io/blog/tab-component-design-with-vue/ -->\n<template>\n  <div class=\"cw-tabs\">\n    <div role=\"tablist\" class=\"cw-tabs-nav\">\n      <button\n        v-for=\"tab in tabs\"\n        :key=\"tab.title\"\n        @click=\"activeTabHash = tab.hash\"\n        :class=\"{\n          'is-active': tab.hash === activeTabHash,\n          [`cw-tabs-nav-icon-text-${tab.icon}`]:\n            tab.icon !== '' && tab.name !== '',\n          [`cw-tabs-nav-icon-solo-${tab.icon}`]:\n            tab.icon !== '' && tab.name === '',\n        }\"\n        :aria-selected=\"tab.hash === activeTabHash\"\n        :aria-controls=\"tab.hash\"\n        :id=\"'#' + tab.hash\"\n        :tabindex=\"0\"\n      >\n        {{ tab.title }}\n      </button>\n    </div>\n    <slot />\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent } from 'vue';\n\nexport default defineComponent({\n  data() {\n    return {\n      activeTabHash: '',\n      tabs: [],\n    };\n  },\n  provide() {\n    return {\n      addTab: (tab) => {\n        const count = this.tabs.push(tab);\n\n        if (count === 1) {\n          this.activeTabHash = tab.hash;\n        }\n      },\n      activeTabHash: computed(() => this.activeTabHash),\n    };\n  },\n});\n</script>\n","import { render } from \"./TabsComponent.vue?vue&type=template&id=37927ae0\"\nimport script from \"./TabsComponent.vue?vue&type=script&lang=js\"\nexport * from \"./TabsComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- Adapted from https://zerotomastery.io/blog/tab-component-design-with-vue/ -->\n<template>\n  <div\n    role=\"tabpanel\"\n    class=\"cw-tab cw-tabs-content\"\n    :class=\"{ 'cw-tab-active': isActive }\"\n    v-show=\"isActive\"\n    :aria-labelledby=\"buttonSelector\"\n  >\n    <slot />\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nexport default defineComponent({\n  inject: ['activeTabHash', 'addTab'],\n  props: {\n    title: {\n      type: String,\n      required: true,\n    },\n    icon: {\n      type: String,\n      required: false,\n      default: '',\n    },\n  },\n  data() {\n    return { hash: '', isActive: false };\n  },\n  created() {\n    this.hash = '#' + this.title.toLowerCase().replace(/ /g, '-');\n\n    this.addTab({\n      title: this.title,\n      hash: this.hash,\n      icon: this.icon,\n    });\n  },\n  watch: {\n    activeTabHash() {\n      this.isActive = this.activeTabHash === this.hash;\n    },\n  },\n  computed: {\n    buttonSelector() {\n      return '#' + this.hash;\n    },\n  },\n});\n</script>\n","import { render } from \"./TabComponent.vue?vue&type=template&id=800c4dce\"\nimport script from \"./TabComponent.vue?vue&type=script&lang=js\"\nexport * from \"./TabComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-32afa486\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"tick-label\" }\nconst _hoisted_2 = [\"onClick\", \"title\"]\nconst _hoisted_3 = { class: \"timeline-interactions\" }\nconst _hoisted_4 = [\"title\"]\nconst _hoisted_5 = { class: \"overflow-container\" }\nconst _hoisted_6 = [\"onClick\", \"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_7 = { class: \"timeline-interaction-label\" }\nconst _hoisted_8 = [\"title\", \"onClick\"]\nconst _hoisted_9 = [\"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_10 = [\"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_11 = { style: {\"white-space\":\"pre-wrap\",\"display\":\"none\"} }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    ref: \"root\",\n    class: \"timeline-root\",\n    onDragoverCapture: _cache[6] || (_cache[6] = \n//@ts-ignore\n(...args) => (_ctx.onDragOverTimeline && _ctx.onDragOverTimeline(...args)))\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"timeline-axis\",\n      ref: \"timelineAxis\",\n      onPointerdown: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onPointerDownAxis && _ctx.onPointerDownAxis(...args)))\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.axisScale, (point, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"tick\",\n          key: index\n        }, [\n          _createElementVNode(\"div\", _hoisted_1, _toDisplayString(index % 5 === 0 ? _ctx.formatVideoTimestamp(point) : ' '), 1),\n          _createElementVNode(\"div\", {\n            class: _normalizeClass([\"tick-line\", {\n            major: index % 5 === 0,\n          }])\n          }, null, 2)\n        ]))\n      }), 128)),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.visibleInteractions, (interaction) => {\n        return (_openBlock(), _createElementBlock(\"button\", {\n          key: interaction.id,\n          class: \"interaction-marker\",\n          style: _normalizeStyle(_ctx.interactionMarkerStyle(interaction)),\n          onPointerdown: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"])),\n          onClick: _withModifiers(($event: any) => {\n          _ctx.onClickInteraction(interaction);\n          _ctx.$emit('timelineSeek', interaction.startTime + 0.1);\n        }, [\"stop\"]),\n          title: \n          _ctx.$gettext('Zu %{ interaction } springen', {\n            interaction: _ctx.printInteractionType(interaction),\n          })\n        \n        }, null, 44, _hoisted_2))\n      }), 128))\n    ], 544),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"timeline\", { 'pan-timeline': this.dragState?.type === 'panTimeline' }]),\n      ref: \"timeline\",\n      onPointerdown: _cache[3] || (_cache[3] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.onPointerDownAxis && _ctx.onPointerDownAxis(...args)), [\"self\"])),\n      onWheel: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.onWheel && _ctx.onWheel(...args))),\n      onContextmenu: _cache[5] || (_cache[5] = _withModifiers(() => {}, [\"prevent\"]))\n    }, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.visibleInteractions, (interaction) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: interaction.id,\n            class: _normalizeClass([\"timeline-interaction\", {\n            selected: _ctx.selectedInteractionId === interaction.id,\n          }]),\n            style: _normalizeStyle(_ctx.timelineInteractionStyle(interaction)),\n            title: _ctx.printInteractionType(interaction)\n          }, [\n            _createElementVNode(\"div\", _hoisted_5, [\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                class: _normalizeClass([\"button select-interaction\", _ctx.iconForInteraction(interaction)]),\n                onClick: _withModifiers(($event: any) => (_ctx.onClickInteraction(interaction)), [\"stop\"]),\n                onPointerdown: ($event: any) => (_ctx.onPointerDownInteraction($event, interaction)),\n                onPointermove: ($event: any) => (_ctx.onPointerMoveInteraction($event, interaction)),\n                onPointerup: ($event: any) => (_ctx.onPointerUpInteraction($event, interaction))\n              }, [\n                _createElementVNode(\"span\", _hoisted_7, _toDisplayString(_ctx.printInteractionType(interaction)), 1)\n              ], 42, _hoisted_6),\n              (interaction.endTime < _ctx.viewportEnd)\n                ? (_openBlock(), _createElementBlock(\"button\", {\n                    key: 0,\n                    type: \"button\",\n                    class: \"small-button trash delete-interaction\",\n                    title: _ctx.$gettext('Lschen'),\n                    onClick: ($event: any) => (_ctx.$emit('deleteInteraction', interaction.id))\n                  }, null, 8, _hoisted_8))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _createElementVNode(\"div\", {\n              class: \"interaction-drag-handle start\",\n              onPointerdown: ($event: any) => (_ctx.onPointerDownInteractionStart($event, interaction)),\n              onPointermove: ($event: any) => (_ctx.onPointerMoveInteractionStart($event, interaction)),\n              onPointerup: ($event: any) => (_ctx.onPointerUpInteractionStart($event, interaction))\n            }, null, 40, _hoisted_9),\n            _createElementVNode(\"div\", {\n              class: \"interaction-drag-handle end\",\n              onPointerdown: ($event: any) => (_ctx.onPointerDownInteractionEnd($event, interaction)),\n              onPointermove: ($event: any) => (_ctx.onPointerMoveInteractionEnd($event, interaction)),\n              onPointerup: ($event: any) => (_ctx.onPointerUpInteractionEnd($event, interaction))\n            }, null, 40, _hoisted_10)\n          ], 14, _hoisted_4))\n        }), 128))\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"time-marker\",\n        draggable: \"true\",\n        onDragstart: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.onDragStartTimeMarker && _ctx.onDragStartTimeMarker(...args))),\n        style: _normalizeStyle({\n          left: _ctx.positionForTimeMarker,\n        })\n      }, null, 36)\n    ], 34),\n    _createElementVNode(\"div\", _hoisted_11, _toDisplayString({\n          zoomTransform: _ctx.zoomTransform,\n          viewportWidthEm: _ctx.viewportWidthEm,\n          viewportWidthSeconds: _ctx.viewportWidthSeconds,\n          viewportStart: _ctx.viewportStart,\n          viewportEnd: _ctx.viewportEnd,\n          dragState: _ctx.dragState,\n        }), 1)\n  ], 544))\n}","/**\n * Get the equivalent EM value on a given element with a given pixel value.\n *\n * Normally the number of pixel specified should come from the element itself (e.g. element.style.height) since EM is\n * relative.\n *\n * @param {Object} element - The HTML element.\n * @param {Number} pixelValue - The number of pixel to convert in EM on this specific element.\n * @author Nicolas Bouvrette\n * @license CC BY-SA 3.0 https://stackoverflow.com/a/34540037/7359454\n * Adapted by Ann Yanich\n *\n * @returns {Boolean|undefined} The EM value, or undefined if unable to convert.\n */\nexport default function getEmValueFromElement(\n  element: Element,\n  pixelValue: number\n): number | undefined {\n  if (element.parentNode) {\n    const parentFontSize = parseFloat(\n      window.getComputedStyle(element.parentNode as Element).fontSize\n    );\n    const elementFontSize = parseFloat(\n      window.getComputedStyle(element).fontSize\n    );\n    const pixelValueOfOneEm =\n      (elementFontSize / parentFontSize) * elementFontSize;\n    return pixelValue / pixelValueOfOneEm;\n  }\n  return undefined;\n}\n","\nimport {\n  ComponentPublicInstance,\n  defineComponent,\n  inject,\n  PropType,\n  StyleValue,\n} from 'vue';\nimport { VideoMetadata } from '@/components/interactiveVideo/events';\nimport { throttle } from 'lodash';\nimport {\n  iconForInteraction,\n  Interaction,\n  InteractiveVideoTask,\n  printInteractionType,\n} from '@/models/InteractiveVideoTask';\nimport { $gettext } from '../../language/gettext';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport getEmValueFromElement from '@/components/interactiveVideo/getEmValueFromElement';\nimport { select } from 'd3-selection';\nimport { D3DragEvent, drag } from 'd3-drag';\n\ntype DragState =\n  | { type: 'timeMarker' }\n  | { type: 'panTimeline' }\n  | {\n      type: 'interaction';\n      id: string;\n      mouseStartPos: [number, number]; // clientX, clientY\n      interactionStartTime: number; // Seconds\n      interactionDuration: number; // Seconds\n    }\n  | {\n      type: 'interactionStart';\n      id: string;\n      time: number; // Seconds\n    }\n  | {\n      type: 'interactionEnd';\n      id: string;\n      time: number; // Seconds\n    }\n  | undefined;\nexport default defineComponent({\n  name: 'VideoTimeline',\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    currentTime: {\n      type: Number,\n      required: true,\n    },\n    videoMetadata: {\n      type: Object as PropType<VideoMetadata>,\n      required: true,\n    },\n    task: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n    selectedInteractionId: {\n      type: String,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      dragState: undefined as DragState,\n      zoomTransform: { t: 0, k: 1 },\n      viewportWidthEm: 1,\n    };\n  },\n  mounted() {\n    // When timeline axis becomes visible, its width should be recalculated.\n    // TODO recalculate also when it changes size (e.g. window is resized)\n    const observer = new IntersectionObserver(() =>\n      this.recomputeViewportWidth()\n    );\n    observer.observe(this.$refs.timelineAxis as HTMLElement);\n\n    // Set up d3-drag\n    const dragTimeline = (ev: D3DragEvent<HTMLElement, unknown, unknown>) => {\n      const dSeconds = this.pixelsToSeconds(ev.dx);\n      const translate = this.zoomTransform.t - dSeconds;\n      this.zoomTransform.t = this.constrainZoomTranslate(translate);\n    };\n    const dragBehavior = drag<HTMLElement, unknown>()\n      .filter((event: D3DragEvent<HTMLElement, unknown, unknown>) => {\n        return (event as any).button !== 0; // All buttons except 'left click'\n      })\n      .on('start', () => {\n        this.dragState = { type: 'panTimeline' };\n      })\n      .on('drag', dragTimeline)\n      .on('end', () => {\n        this.dragState = undefined;\n      });\n    select(this.$refs.timeline as HTMLElement).call(dragBehavior);\n  },\n  watch: {\n    // Automatically scroll timeline to keep the current playback position in view\n    currentTime(currentTime: number) {\n      if (currentTime < this.viewportStart || currentTime > this.viewportEnd) {\n        this.zoomTransform.t = this.constrainZoomTranslate(currentTime - 0.5);\n      }\n    },\n  },\n  computed: {\n    visibleInteractions(): Interaction[] {\n      const visibleInteractions: Interaction[] = [];\n      for (let i of this.task.interactions) {\n        const isWithinViewport =\n          i.startTime < this.viewportEnd && i.endTime > this.viewportStart;\n        // An Interaction element should not suddenly disappear if it is dragged\n        // outside of the timeline viewport. That would cause the drag-drop\n        // interaction to unexpectedly end in a confusing way.\n        const isBeingDragged =\n          (this.dragState?.type === 'interaction' ||\n            this.dragState?.type === 'interactionStart' ||\n            this.dragState?.type === 'interactionEnd') &&\n          this.dragState.id === i.id;\n        if (isWithinViewport || isBeingDragged) {\n          visibleInteractions.push(i);\n        }\n      }\n      return visibleInteractions;\n    },\n    viewportWidthSeconds(): number {\n      const secondsPerEm = 0.5 / this.zoomTransform.k;\n      return this.viewportWidthEm * secondsPerEm;\n    },\n    viewportStart(): number {\n      return this.zoomTransform.t;\n    },\n    viewportEnd(): number {\n      return this.viewportStart + this.viewportWidthSeconds;\n    },\n    positionForTimeMarker(): string {\n      return `${this.secondsToTimelinePercentage(this.currentTime)}%`;\n    },\n    axisScale(): number[] {\n      const points = 25;\n      const start = this.viewportStart;\n      const end = this.viewportEnd;\n      const scale: number[] = [];\n      for (let i = 0; i < points; i++) {\n        scale.push(start + ((end - start) / points) * i);\n      }\n      scale.push(end);\n      return scale;\n    },\n  },\n  methods: {\n    iconForInteraction,\n    printInteractionType,\n    $gettext,\n    secondsToTimelinePercentage(seconds: number): number {\n      const deltaT = seconds - this.viewportStart;\n      return (deltaT / this.viewportWidthSeconds) * 100;\n    },\n    interactionMarkerStyle(\n      interaction: Interaction\n    ): Partial<CSSStyleDeclaration> {\n      return {\n        left: `${this.secondsToTimelinePercentage(interaction.startTime)}%`,\n      };\n    },\n    zoom(delta: number, time?: number) {\n      if (!time) {\n        time = (this.viewportStart + this.viewportEnd) / 2;\n      }\n      // Save information needed to recalculate 't' (translate) parameter after zoom\n      const viewportStart0 = this.zoomTransform.t;\n      const viewportWidth0 = this.viewportWidthSeconds;\n\n      // Calculate new zoom level\n      const exp = Math.exp(delta);\n      const newK = this.zoomTransform.k * exp;\n      // Prevent zooming too far in/out\n      this.zoomTransform.k = Math.max(0.005, Math.min(5, newK));\n\n      // Calculate new translation in order to keep the point under the mouse\n      // cursor stationary.\n      // viewportWidthSeconds is recalculated (because it's a computed property)\n      // after zoomTransform.k is modified in the previous block of code..\n      const viewportWidth1 = this.viewportWidthSeconds;\n      const viewportStart1 =\n        time - ((time - viewportStart0) / viewportWidth0) * viewportWidth1;\n      // Prevent panning before video start or after video end\n      this.zoomTransform.t = this.constrainZoomTranslate(viewportStart1);\n    },\n    onWheel(event: WheelEvent) {\n      event.preventDefault(); // Prevent scrolling page up/down\n      const t = this.xCoordinateToTime(event.clientX);\n      const delta = -event.deltaY / 1000;\n      this.zoom(delta, t);\n    },\n    constrainZoomTranslate(t: number): number {\n      return Math.max(0, Math.min(this.videoMetadata.length, t));\n    },\n    pixelsToEm(pixels: number): number {\n      const timeline = this.$refs.timelineAxis;\n      if (!timeline) {\n        return 1;\n      }\n      return (\n        getEmValueFromElement(this.$refs.timelineAxis as HTMLElement, pixels) ??\n        NaN\n      );\n    },\n    recomputeViewportWidth() {\n      const axis = this.$refs.timelineAxis as HTMLElement | null;\n      if (!axis) {\n        console.warn('recomputeViewportWidth: timelineAxis is null');\n        return;\n      }\n      const rect = axis.getBoundingClientRect();\n      const widthInEm = this.pixelsToEm(rect.width);\n      this.viewportWidthEm = widthInEm;\n    },\n    // Format video timestamp for timeline axis. e.g. 1m30s becomes 00;01;30;00\n    formatVideoTimestamp(timestampSeconds: number): string {\n      let hours = 0,\n        minutes = 0,\n        seconds = 0,\n        centiseconds = 0;\n      while (timestampSeconds >= 3600) {\n        hours++;\n        timestampSeconds -= 3600;\n      }\n      while (timestampSeconds >= 60) {\n        minutes++;\n        timestampSeconds -= 60;\n      }\n      while (timestampSeconds >= 1) {\n        seconds++;\n        timestampSeconds -= 1;\n      }\n      centiseconds = Math.floor(timestampSeconds * 100);\n      function twoDigits(n: number): string {\n        return n.toLocaleString('de-DE', {\n          minimumIntegerDigits: 2,\n          maximumFractionDigits: 0,\n        });\n      }\n      return `${twoDigits(hours)};${twoDigits(minutes)};${twoDigits(\n        seconds\n      )};${twoDigits(centiseconds)}`;\n    },\n    pixelsToSeconds(pixels: number): number {\n      const rect = (\n        this.$refs.timelineAxis as HTMLElement\n      ).getBoundingClientRect();\n      const fraction = pixels / rect.width;\n      return fraction * this.viewportWidthSeconds;\n    },\n    /**\n     * Convert the x coordinate in pixels on the timeline to a time in seconds\n     * in the video, clamped between 0 and the video's length.\n     */\n    xCoordinateToTime(clientX: number): number {\n      const rect = (\n        this.$refs.timelineAxis as HTMLElement\n      ).getBoundingClientRect();\n      const x = clientX - rect.left; //x position within the element.\n      const xFraction = x / rect.width;\n      const time = this.viewportStart + xFraction * this.viewportWidthSeconds;\n      const clampedTime = Math.min(\n        this.videoMetadata.length,\n        Math.max(0, time)\n      );\n      return clampedTime;\n    },\n    timelineInteractionStyle(interaction: Interaction): StyleValue {\n      const startDeltaT = interaction.startTime - this.viewportStart;\n      const startPercent = (startDeltaT / this.viewportWidthSeconds) * 100;\n      const endDeltaT = interaction.endTime - this.viewportStart;\n      const endPercent = (endDeltaT / this.viewportWidthSeconds) * 100;\n      return {\n        left: `${startPercent}%`,\n        width: `${endPercent - startPercent}%`,\n      };\n    },\n    onClickInteraction(interaction: Interaction) {\n      console.log('onClickInteraction');\n      this.$emit('clickInteraction', interaction);\n    },\n    onPointerDownInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerDownInteraction');\n      if (event.button !== 0) {\n        // Prevent unintentionally selecting interaction when dragging to\n        // scroll around in the timeline\n        return;\n      }\n      const interactionLength = interaction.endTime - interaction.startTime;\n      this.dragState = {\n        type: 'interaction',\n        id: interaction.id,\n        mouseStartPos: [event.clientX, event.clientY],\n        interactionStartTime: interaction.startTime,\n        interactionDuration: interactionLength,\n      };\n      (event.target as HTMLElement).setPointerCapture(event.pointerId);\n      this.editor!.selectInteraction(interaction.id);\n    },\n    onPointerMoveInteraction(event: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'interaction' &&\n        this.dragState.id === interaction.id\n      ) {\n        const mouseDx = event.clientX - this.dragState.mouseStartPos[0];\n        const rect = (\n          this.$refs.timelineAxis as HTMLElement\n        ).getBoundingClientRect();\n        const secondsPerPixel = this.viewportWidthSeconds / rect.width;\n        const dSeconds = mouseDx * secondsPerPixel;\n        const seconds = this.dragState.interactionStartTime + dSeconds;\n        // Prevent from dragging so far that the endTime > video length\n        const maxTime =\n          this.videoMetadata.length - this.dragState.interactionDuration;\n        const secondsClamped = Math.max(0, Math.min(maxTime, seconds));\n        const id = this.dragState.id;\n        this.editor?.dragInteractionTimeline(id, secondsClamped);\n      }\n    },\n    onPointerUpInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerUpInteraction');\n      this.dragState = undefined;\n      (event.target as HTMLElement).releasePointerCapture(event.pointerId);\n    },\n    onPointerDownInteractionStart(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = {\n        type: 'interactionStart',\n        id: interaction.id,\n        time: interaction.startTime,\n      };\n      (ev.target as HTMLElement).setPointerCapture(ev.pointerId);\n    },\n    onPointerDownInteractionEnd(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = {\n        type: 'interactionEnd',\n        id: interaction.id,\n        time: interaction.endTime,\n      };\n      (ev.target as HTMLElement).setPointerCapture(ev.pointerId);\n    },\n    onPointerMoveInteractionStart(ev: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'interactionStart' &&\n        this.dragState.id === interaction.id\n      ) {\n        const dSeconds = this.pixelsToSeconds(ev.movementX);\n        this.dragState.time += dSeconds;\n        const timeClamped = Math.max(\n          0,\n          Math.min(interaction.endTime - 1, this.dragState.time)\n        );\n        // TODO make undoable\n        interaction.startTime = timeClamped;\n      }\n    },\n    onPointerMoveInteractionEnd(ev: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'interactionEnd' &&\n        this.dragState.id === interaction.id\n      ) {\n        const dSeconds = this.pixelsToSeconds(ev.movementX);\n        this.dragState.time += dSeconds;\n        const secondsClamped = Math.max(\n          interaction.startTime + 1,\n          Math.min(this.videoMetadata.length, this.dragState.time)\n        );\n        // TODO make undoable\n        interaction.endTime = secondsClamped;\n      }\n    },\n    onPointerUpInteractionStart(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = undefined;\n      (ev.target as HTMLElement).releasePointerCapture(ev.pointerId);\n    },\n    onPointerUpInteractionEnd(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = undefined;\n      (ev.target as HTMLElement).releasePointerCapture(ev.pointerId);\n    },\n    onPointerDownAxis(e: PointerEvent) {\n      const time = this.xCoordinateToTime(e.clientX);\n      this.$emit('timelineSeek', time);\n    },\n    onDragStartTimeMarker(e: DragEvent) {\n      console.log('dragstart time marker');\n      this.dragState = { type: 'timeMarker' };\n    },\n    onDragOverTimeline(e: DragEvent) {\n      if (this.dragState?.type === 'timeMarker') {\n        e.preventDefault(); // Stop ghost image from flying back after drop\n        const time = this.xCoordinateToTime(e.clientX);\n        this.emitTimelineSeekThrottled(time);\n      }\n    },\n    emitTimelineSeekThrottled: throttle(function emitTimelineSeek(\n      this: ComponentPublicInstance,\n      time: number\n    ) {\n      this.$emit('timelineSeek', time);\n    },\n    100),\n  },\n});\n","import { render } from \"./VideoTimeline.vue?vue&type=template&id=32afa486&scoped=true&ts=true\"\nimport script from \"./VideoTimeline.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoTimeline.vue?vue&type=script&lang=ts\"\n\nimport \"./VideoTimeline.vue?vue&type=style&index=0&id=32afa486&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-32afa486\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, createBlock as _createBlock, KeepAlive as _KeepAlive, resolveDynamicComponent as _resolveDynamicComponent, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e2de05a4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"selected-interaction-properties\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"default\"\n}\nconst _hoisted_3 = { class: \"collapsable\" }\nconst _hoisted_4 = { class: \"start-and-end-time-inputs\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_VideoTimeInput = _resolveComponent(\"VideoTimeInput\")!\n  const _component_StudipWysiwyg = _resolveComponent(\"StudipWysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"h3\", null, _toDisplayString(_ctx.$gettext('Interaktion')) + \" \\\"\" + _toDisplayString(_ctx.printInteractionType(_ctx.selectedInteraction)) + \"\\\" \", 1),\n    (_ctx.selectedInteraction)\n      ? (_openBlock(), _createElementBlock(\"form\", _hoisted_2, [\n          _createElementVNode(\"fieldset\", _hoisted_3, [\n            _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createElementVNode(\"label\", null, [\n                _createTextVNode(_toDisplayString(_ctx.$gettext('Start')) + \" \", 1),\n                _createVNode(_component_VideoTimeInput, {\n                  modelValue: _ctx.inputStartTime,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.inputStartTime) = $event)),\n                  \"onUpdate:error\": _cache[1] || (_cache[1] = (error) => (_ctx.inputStartTimeFormatError = error)),\n                  class: _normalizeClass([\"time-input\", {\n                invalid: _ctx.inputStartTimeErrors.length > 0,\n              }]),\n                  \"aria-invalid\": _ctx.inputStartTimeErrors.length > 0\n                }, null, 8, [\"modelValue\", \"class\", \"aria-invalid\"])\n              ]),\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.inputStartTimeErrors, (error) => {\n                return (_openBlock(), _createElementBlock(\"p\", {\n                  class: \"validation-error\",\n                  key: error\n                }, _toDisplayString(error), 1))\n              }), 128)),\n              _createElementVNode(\"label\", null, [\n                _createTextVNode(_toDisplayString(_ctx.$gettext('Ende')) + \" \", 1),\n                _createVNode(_component_VideoTimeInput, {\n                  modelValue: _ctx.inputEndTime,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.inputEndTime) = $event)),\n                  \"onUpdate:error\": _cache[3] || (_cache[3] = (error) => (_ctx.inputEndTimeFormatError = error)),\n                  class: _normalizeClass([\"time-input\", {\n                invalid: _ctx.inputEndTimeErrors.length > 0,\n              }]),\n                  \"aria-invalid\": _ctx.inputEndTimeErrors.length > 0\n                }, null, 8, [\"modelValue\", \"class\", \"aria-invalid\"])\n              ])\n            ]),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.inputEndTimeErrors, (error) => {\n              return (_openBlock(), _createElementBlock(\"p\", {\n                class: \"validation-error\",\n                key: error\n              }, _toDisplayString(error), 1))\n            }), 128)),\n            _createElementVNode(\"label\", null, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"checkbox\",\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.selectedInteraction.pauseWhenVisible) = $event))\n              }, null, 512), [\n                [_vModelCheckbox, _ctx.selectedInteraction.pauseWhenVisible]\n              ]),\n              _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Video pausieren')), 1)\n            ])\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.selectedInteraction.type === 'overlay')\n      ? (_openBlock(), _createBlock(_KeepAlive, { key: 1 }, [\n          _createElementVNode(\"div\", null, [\n            (_openBlock(), _createBlock(_component_StudipWysiwyg, {\n              key: `${_ctx.selectedInteraction.id}-overlay-wysiwyg`,\n              modelValue: _ctx.selectedInteraction.content_wysiwyg,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.selectedInteraction.content_wysiwyg) = $event))\n            }, null, 8, [\"modelValue\"]))\n          ])\n        ], 1024))\n      : (_ctx.selectedInteraction.type === 'lmbTask')\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n            (_openBlock(), _createBlock(_KeepAlive, null, [\n              (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.editorForTaskType(_ctx.selectedInteraction.taskDefinition.task_type)), {\n                key: `${_ctx.selectedInteraction.id}-editor`,\n                taskDefinition: _ctx.selectedInteraction.taskDefinition\n              }, null, 8, [\"taskDefinition\"]))\n            ], 1024)),\n            _createElementVNode(\"h3\", null, _toDisplayString(_ctx.$gettext('Vorschau')), 1),\n            (_openBlock(), _createBlock(_KeepAlive, null, [\n              (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.viewerForTaskType(_ctx.selectedInteraction.taskDefinition.task_type)), {\n                class: \"lmb-task-preview\",\n                key: `${_ctx.selectedInteraction.id}-viewer`,\n                task: _ctx.selectedInteraction.taskDefinition\n              }, null, 8, [\"task\"]))\n            ], 1024))\n          ], 64))\n        : _createCommentVNode(\"\", true)\n  ]))\n}","import { vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.userInput) = $event)),\n    onBlur: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onBlurUserInput && _ctx.onBlurUserInput(...args)))\n  }, null, 544)), [\n    [_vModelText, _ctx.userInput]\n  ])\n}","\nimport { defineComponent } from 'vue';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'VideoTimeInput',\n  props: {\n    modelValue: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      userInput: '',\n    };\n  },\n  watch: {\n    modelValue: {\n      immediate: true,\n      handler(newValue: number) {\n        this.userInput = this.formatSeconds(newValue);\n      },\n    },\n    parsedUserInput() {\n      if (this.parsedUserInput instanceof Error) {\n        this.$emit('update:error', this.parsedUserInput);\n      } else {\n        this.$emit('update:error', undefined);\n      }\n    },\n  },\n  methods: {\n    onBlurUserInput() {\n      if (this.parsedUserInput instanceof Error) {\n        // Reset the input to a good value\n        this.userInput = this.formatSeconds(this.modelValue);\n        this.$emit('update:error', undefined);\n      } else {\n        this.$emit('update:modelValue', this.parsedUserInput);\n        this.$emit('update:error', undefined);\n      }\n    },\n    // Format a time in seconds as HH;MM;SS;SS (Centiseconds at end)\n    formatSeconds(time: number): string {\n      let hours = 0,\n        minutes = 0,\n        seconds = 0,\n        centiseconds = 0;\n      while (time >= 3600) {\n        time -= 3600;\n        hours += 1;\n      }\n      while (time >= 60) {\n        time -= 60;\n        minutes += 1;\n      }\n      while (time >= 1) {\n        time -= 1;\n        seconds += 1;\n      }\n      centiseconds = Math.floor(time * 100);\n      function twoDigits(n: number): string {\n        return n.toLocaleString('de-DE', {\n          minimumIntegerDigits: 2,\n          maximumFractionDigits: 0,\n        });\n      }\n      let string = `${twoDigits(hours)};${twoDigits(minutes)};${twoDigits(\n        seconds\n      )};${twoDigits(centiseconds)}`;\n      return string;\n    },\n  },\n  computed: {\n    /**\n     * Either the time the user input, converted into seconds, or an Error with\n     * a message explaining why the user's input was invalid.\n     */\n    parsedUserInput(): number | Error {\n      const timeRegexCentiseconds =\n        /^(\\d?\\d)[;:](\\d?\\d)[;:](\\d?\\d)[;:](\\d?\\d)$/;\n      const centisecondsMatch = timeRegexCentiseconds.exec(this.userInput);\n      if (centisecondsMatch) {\n        return (\n          parseInt(centisecondsMatch[1]) * 3600 +\n          parseInt(centisecondsMatch[2]) * 60 +\n          parseInt(centisecondsMatch[3]) +\n          parseInt(centisecondsMatch[4]) / 100\n        );\n      }\n      // If the exact format for a time with centiseconds isn't matched, use\n      // a more permissive regex.\n      // This regex is adapted from https://stackoverflow.com/a/8318367/7359454\n      // License CC BY-SA 3.0 https://creativecommons.org/licenses/by-sa/3.0/\n      // Accessed and adapted on 10.01.2024 by Ann Yanich\n      const timeRegexHhMmSs =\n        /^(?:(?:([0-9]?\\d)[;:])?([0-5]?\\d)[:;])?([0-5]?\\d)$/;\n      const hhMmSsMatch = timeRegexHhMmSs.exec(this.userInput);\n      if (!hhMmSsMatch || hhMmSsMatch.length !== 4) {\n        return new Error(\n          $gettext(\n            'Die Startposition muss der Syntax HH;MM;SS oder HH;MM;SS;SS entsprechen.'\n          )\n        );\n      }\n      // match[0] is the time string with colons,\n      // match[1] is hours (or undefined if not present),\n      // match[2] is minutes (or undefined if not present),\n      // and match[3] is seconds (always present).\n      if (hhMmSsMatch[1]) {\n        return (\n          parseInt(hhMmSsMatch[1]) * 3600 +\n          parseInt(hhMmSsMatch[2]) * 60 +\n          parseInt(hhMmSsMatch[3])\n        );\n      } else if (hhMmSsMatch[2]) {\n        return parseInt(hhMmSsMatch[2]) * 60 + parseInt(hhMmSsMatch[3]);\n      } else {\n        return parseInt(hhMmSsMatch[3]);\n      }\n    },\n  },\n});\n","import { render } from \"./VideoTimeInput.vue?vue&type=template&id=9aba7cc0&ts=true\"\nimport script from \"./VideoTimeInput.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoTimeInput.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, inject, PropType } from 'vue';\nimport {\n  Interaction,\n  printInteractionType,\n} from '@/models/InteractiveVideoTask';\nimport { editorForTaskType, viewerForTaskType } from '@/models/TaskDefinition';\nimport { $gettext } from '../../language/gettext';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport VideoTimeInput from '@/components/interactiveVideo/VideoTimeInput.vue';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\n\nexport default defineComponent({\n  name: 'SelectedInteractionProperties',\n  components: { VideoTimeInput, StudipWysiwyg },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    selectedInteraction: {\n      type: Object as PropType<Interaction>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      inputStartTime: 0,\n      inputStartTimeFormatError: undefined as Error | undefined,\n      inputEndTime: 1,\n      inputEndTimeFormatError: undefined as Error | undefined,\n    };\n  },\n  methods: {\n    viewerForTaskType,\n    $gettext,\n    printInteractionType,\n    editorForTaskType,\n  },\n  watch: {\n    inputStartTime(value: number) {\n      if (this.inputStartTimeErrors.length === 0) {\n        // eslint-disable-next-line vue/no-mutating-props\n        this.selectedInteraction.startTime = value;\n      }\n      if (this.inputEndTimeErrors.length === 0) {\n        // eslint-disable-next-line vue/no-mutating-props\n        this.selectedInteraction.endTime = this.inputEndTime;\n      }\n    },\n    'selectedInteraction.startTime': {\n      handler: function (value: number) {\n        this.inputStartTime = value;\n      },\n      immediate: true,\n    },\n    inputEndTime(value: number) {\n      if (this.inputEndTimeErrors.length === 0) {\n        // eslint-disable-next-line vue/no-mutating-props\n        this.selectedInteraction.endTime = value;\n        /*\n         Scenario: startTime = 0, endTime = 4.\n         User begins to edit startTime and sets startTime = 5.\n         This is invalid (startTime > endTime) and is not applied.\n         Then, user edits endTime and sets endTime = 6.\n         Now, both inputs are valid. start < end. So, both should be applied.\n        */\n        if (this.inputStartTimeErrors.length === 0) {\n          // eslint-disable-next-line vue/no-mutating-props\n          this.selectedInteraction.startTime = this.inputStartTime;\n        }\n      }\n    },\n    'selectedInteraction.endTime': {\n      handler: function (value: number) {\n        this.inputEndTime = value;\n      },\n      immediate: true,\n    },\n  },\n  computed: {\n    inputStartTimeErrors(): string[] {\n      const errors: string[] = [];\n      if (this.inputStartTimeFormatError) {\n        errors.push(this.inputStartTimeFormatError.message);\n      }\n      if (this.inputStartTime < 0) {\n        errors.push($gettext('Das eingegebene Wert muss grer als 0 sein.'));\n      }\n      if (this.inputStartTime >= this.selectedInteraction.endTime) {\n        errors.push($gettext('Der Startpunkt muss vor dem Endpunkt sein.'));\n      }\n      // TODO check video length as well.\n      return errors;\n    },\n    inputEndTimeErrors(): string[] {\n      const errors: string[] = [];\n      if (this.inputEndTimeFormatError) {\n        errors.push(this.inputEndTimeFormatError.message);\n      }\n      if (this.inputEndTime < 0) {\n        errors.push($gettext('Das eingegebene Wert muss grer als 0 sein.'));\n      }\n      if (this.inputEndTime <= this.selectedInteraction.startTime) {\n        errors.push($gettext('Der Startpunkt muss vor dem Endpunkt sein.'));\n      }\n      // TODO check video length as well.\n      return errors;\n    },\n  },\n});\n","import { render } from \"./SelectedInteractionProperties.vue?vue&type=template&id=e2de05a4&scoped=true&ts=true\"\nimport script from \"./SelectedInteractionProperties.vue?vue&type=script&lang=ts\"\nexport * from \"./SelectedInteractionProperties.vue?vue&type=script&lang=ts\"\n\nimport \"./SelectedInteractionProperties.vue?vue&type=style&index=0&id=e2de05a4&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e2de05a4\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-dc689978\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"add-interactions-root\" }\nconst _hoisted_2 = { class: \"toolbar-under-video\" }\nconst _hoisted_3 = { class: \"insert-interactions-buttons\" }\nconst _hoisted_4 = [\"title\"]\nconst _hoisted_5 = [\"onClick\", \"title\"]\nconst _hoisted_6 = { class: \"video-controls\" }\nconst _hoisted_7 = [\"title\"]\nconst _hoisted_8 = [\"title\"]\nconst _hoisted_9 = [\"title\"]\nconst _hoisted_10 = [\"title\"]\n\nimport { computed, nextTick, PropType, provide, ref } from 'vue';\nimport type {\n  Interaction,\n  InteractiveVideoTask,\n  OverlayInteraction,\n} from '@/models/InteractiveVideoTask';\nimport VideoPlayer from '@/components/interactiveVideo/VideoPlayer.vue';\nimport VideoTimeline from '@/components/interactiveVideo/VideoTimeline.vue';\nimport SelectedInteractionProperties from '@/components/interactiveVideo/SelectedInteractionProperties.vue';\nimport { VideoMetadata } from '@/components/interactiveVideo/events';\nimport {\n  iconForTaskType,\n  newTask,\n  printTaskType,\n  TaskDefinition,\n} from '@/models/TaskDefinition';\nimport { v4 } from 'uuid';\nimport { editorStateSymbol } from '@/components/interactiveVideo/editorState';\nimport { $gettext } from '../../language/gettext';\nimport { printInteractionType } from '@/models/InteractiveVideoTask';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n  taskDefinition: {\n    type: Object as PropType<InteractiveVideoTask>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props\n\n\nconst currentTime = ref(0);\nconst videoMetadata = ref<VideoMetadata>({ length: 1 });\nconst selectedInteractionId = ref<string | undefined>(undefined);\nconst videoPlayer = ref<InstanceType<typeof VideoPlayer> | undefined>(\n  undefined\n);\nconst videoTimeline = ref<InstanceType<typeof VideoTimeline> | undefined>(\n  undefined\n);\nconst selectedInteractionProperties = ref<\n  InstanceType<typeof SelectedInteractionProperties> | undefined\n>(undefined);\n\nconst taskTypes: Array<TaskDefinition['task_type']> = [\n  'FillInTheBlanks',\n  'DragTheWords',\n  'MarkTheWords',\n  'Question',\n];\n\nprovide(editorStateSymbol, {\n  selectInteraction,\n  selectedInteractionId,\n  editInteraction,\n  dragInteraction,\n  resizeOverlay,\n  deleteInteraction,\n  dragInteractionTimeline,\n});\n\nconst selectedInteraction = computed(() =>\n  props.taskDefinition.interactions.find(\n    (interaction) => interaction.id === selectedInteractionId.value\n  )\n);\n\nfunction selectInteraction(selectionId: string) {\n  selectedInteractionId.value = selectionId;\n}\nfunction editInteraction(id: string) {\n  selectedInteractionId.value = id;\n  nextTick(() => {\n    const el = selectedInteractionProperties.value?.$el as HTMLElement;\n    el.scrollIntoView({\n      behavior: 'smooth',\n      block: 'start',\n    });\n  });\n}\nfunction onVideoMetadataChange(data: VideoMetadata) {\n  videoMetadata.value = data;\n}\nfunction onTimeUpdate(time: number) {\n  currentTime.value = time;\n}\nfunction onTimelineSeek(time: number) {\n  console.log('onTImelineSeek', time);\n  videoPlayer.value!.player!.currentTime(time);\n}\nfunction onClickZoomIn() {\n  videoTimeline.value!.zoom(0.18);\n}\nfunction onClickZoomOut() {\n  videoTimeline.value!.zoom(-0.18);\n}\nfunction onClickPlay() {\n  videoPlayer.value!.player!.play();\n}\nfunction onClickPause() {\n  videoPlayer.value!.player!.pause();\n}\nfunction insertOverlay() {\n  const interaction: OverlayInteraction = {\n    type: 'overlay',\n    v: 2,\n    id: v4(),\n    startTime: currentTime.value,\n    endTime: Math.min(videoMetadata.value.length, currentTime.value + 10),\n    x: 0.4,\n    y: 0.4,\n    width: 0.2,\n    height: 0.2,\n    content_wysiwyg: $gettext('Einblendung'),\n    pauseWhenVisible: true,\n  };\n  // TODO make undoable ?\n  // eslint-disable-next-line vue/no-mutating-props\n  props.taskDefinition.interactions.push(interaction);\n  selectedInteractionId.value = interaction.id;\n}\n\nfunction insertLmbTaskInteraction(type: TaskDefinition['task_type']) {\n  console.log('insertLmbTaskInteraction', type);\n  const task = newTask(type);\n  const interaction: Interaction = {\n    type: 'lmbTask',\n    id: v4(),\n    taskDefinition: task,\n    startTime: currentTime.value,\n    endTime: Math.min(videoMetadata.value.length, currentTime.value + 10),\n    x: 0.5,\n    y: 0.5,\n    pauseWhenVisible: true,\n  };\n  // TODO make undoable ?\n  // eslint-disable-next-line vue/no-mutating-props\n  props.taskDefinition.interactions.push(interaction);\n  selectedInteractionId.value = interaction.id;\n}\nfunction deleteInteraction(id: string) {\n  console.log('deleteInteraction', id);\n  const interaction = props.taskDefinition.interactions.find(\n    (i) => i.id === id\n  );\n  const prompt = $gettext('%{ interaction } lschen', {\n    interaction: printInteractionType(interaction),\n  });\n  const confirmed = window.confirm(prompt);\n  if (!confirmed) {\n    console.info('Delete prompt canceled by user');\n    return;\n  }\n  const index = props.taskDefinition.interactions.findIndex((i) => i.id === id);\n  // TODO make undoable... Don't want to delete a whole task permanently with no undo\n  // eslint-disable-next-line vue/no-mutating-props\n  props.taskDefinition.interactions.splice(index, 1);\n}\nfunction dragInteraction(id: string, xFraction: number, yFraction: number) {\n  const interaction = props.taskDefinition?.interactions.find(\n    (i) => i.id === id\n  );\n  if (!interaction) {\n    throw new Error(`Interaction with id ${id} not found`);\n  }\n  // TODO make undoable ?\n  interaction.x = xFraction;\n  interaction.y = yFraction;\n}\nfunction resizeOverlay(\n  id: string,\n  x: number,\n  y: number,\n  width: number,\n  height: number\n) {\n  const interaction = props.taskDefinition?.interactions.find(\n    (i) => i.id === id\n  );\n  if (!interaction) {\n    throw new Error(`Interaction with id ${id} not found`);\n  }\n  // TODO make undoable ?\n  interaction.x = x;\n  interaction.y = y;\n  interaction.width = width;\n  interaction.height = height;\n}\nfunction dragInteractionTimeline(id: string, startTime: number) {\n  const interaction = props.taskDefinition?.interactions.find(\n    (i) => i.id === id\n  );\n  if (!interaction) {\n    throw new Error(`Interaction with id ${id} not found`);\n  }\n  // TODO make undoable ?\n  const duration = interaction.endTime - interaction.startTime;\n  interaction.endTime = startTime + duration;\n  interaction.startTime = startTime;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(VideoPlayer, {\n      ref_key: \"videoPlayer\",\n      ref: videoPlayer,\n      task: __props.taskDefinition,\n      onTimeupdate: onTimeUpdate,\n      onMetadataChange: onVideoMetadataChange,\n      onClickInteraction: _cache[0] || (_cache[0] = (i) => selectInteraction(i.id))\n    }, null, 8, [\"task\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button item\",\n          onClick: insertOverlay,\n          title: \n            _unref($gettext)('%{ interactionType } einfgen', {\n              interactionType: _unref($gettext)('Einblendung'),\n            })\n          \n        }, null, 8, _hoisted_4),\n        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(taskTypes, (taskType) => {\n          return _createElementVNode(\"button\", {\n            key: taskType,\n            type: \"button\",\n            class: _normalizeClass([\"button\", _unref(iconForTaskType)(taskType)]),\n            onClick: ($event: any) => (insertLmbTaskInteraction(taskType)),\n            title: \n            _unref($gettext)('%{ interactionType } einfgen', {\n              interactionType: _unref(printTaskType)(taskType),\n            })\n          \n          }, null, 10, _hoisted_5)\n        }), 64))\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button zoom-in\",\n          title: _unref($gettext)('Vergrern'),\n          onClick: onClickZoomIn\n        }, null, 8, _hoisted_7),\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button zoom-out\",\n          title: _unref($gettext)('Verkleinern'),\n          onClick: onClickZoomOut\n        }, null, 8, _hoisted_8),\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button play\",\n          title: _unref($gettext)('Abspielen'),\n          onClick: onClickPlay\n        }, null, 8, _hoisted_9),\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button pause\",\n          title: _unref($gettext)('Pausieren'),\n          onClick: onClickPause\n        }, null, 8, _hoisted_10)\n      ])\n    ]),\n    _createVNode(VideoTimeline, {\n      class: \"video-timeline\",\n      ref_key: \"videoTimeline\",\n      ref: videoTimeline,\n      task: __props.taskDefinition,\n      currentTime: currentTime.value,\n      videoMetadata: videoMetadata.value,\n      selectedInteractionId: selectedInteractionId.value,\n      onTimelineSeek: onTimelineSeek,\n      onClickInteraction: _cache[1] || (_cache[1] = (i) => selectInteraction(i.id)),\n      onDeleteInteraction: deleteInteraction\n    }, null, 8, [\"task\", \"currentTime\", \"videoMetadata\", \"selectedInteractionId\"]),\n    (_unref(selectedInteraction))\n      ? (_openBlock(), _createBlock(SelectedInteractionProperties, {\n          key: 0,\n          ref_key: \"selectedInteractionProperties\",\n          ref: selectedInteractionProperties,\n          selectedInteraction: _unref(selectedInteraction)\n        }, null, 8, [\"selectedInteraction\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./AddInteractions.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AddInteractions.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./AddInteractions.vue?vue&type=style&index=0&id=dc689978&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-dc689978\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelCheckbox as _vModelCheckbox, normalizeClass as _normalizeClass, vModelSelect as _vModelSelect, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3980b12c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"picker\" }\nconst _hoisted_2 = { class: \"default\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_4 = { class: \"bottom-actions\" }\nconst _hoisted_5 = { class: \"default\" }\nconst _hoisted_6 = { class: \"bottom-actions\" }\nconst _hoisted_7 = {\n  key: 1,\n  class: \"video-preview\"\n}\nconst _hoisted_8 = { key: 0 }\nconst _hoisted_9 = [\"href\"]\nconst _hoisted_10 = { key: 1 }\nconst _hoisted_11 = [\"href\"]\nconst _hoisted_12 = { class: \"video-preview-actions\" }\nconst _hoisted_13 = { class: \"form default\" }\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  disabled: \"\",\n  style: {\"display\":\"none\"},\n  \"aria-hidden\": \"true\"\n}, null, -1))\nconst _hoisted_15 = { class: \"start-at-setting\" }\nconst _hoisted_16 = { class: \"start-at-setting-flex\" }\nconst _hoisted_17 = {\n  key: 0,\n  class: \"errors\"\n}\nconst _hoisted_18 = { key: 0 }\nconst _hoisted_19 = { value: 'not disabled' }\nconst _hoisted_20 = { value: 'forward disabled' }\nconst _hoisted_21 = { value: 'forward and backward disabled' }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n  const _component_FilePicker = _resolveComponent(\"FilePicker\")!\n  const _component_VideoPlayer = _resolveComponent(\"VideoPlayer\")!\n  const _component_VideoTimeInput = _resolveComponent(\"VideoTimeInput\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (_ctx.taskDefinition.video.type === 'none')\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"p\", null, _toDisplayString(_ctx.$gettext(\n          'Lade ein Video hoch oder fge einen Link zu einem Youtube-Video ein.'\n        )), 1),\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createElementVNode(\"form\", _hoisted_2, [\n              _createElementVNode(\"fieldset\", null, [\n                _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Stud.IP-Video')), 1),\n                _createElementVNode(\"label\", null, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Neues Video hochladen')) + \" \", 1),\n                  _hoisted_3,\n                  _createVNode(_component_FileUpload, {\n                    onFileUploaded: _ctx.onUploadStudipVideo,\n                    accept: 'video/*'\n                  }, null, 8, [\"onFileUploaded\"])\n                ]),\n                _createElementVNode(\"label\", null, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Vorhandenes Video auswhlen')) + \" \", 1),\n                  _createVNode(_component_FilePicker, {\n                    modelValue: _ctx.selectedFileId,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selectedFileId) = $event)),\n                    \"is-video\": \"\",\n                    onSelectFile: _ctx.updateCurrentFile\n                  }, null, 8, [\"modelValue\", \"onSelectFile\"])\n                ]),\n                _createElementVNode(\"div\", _hoisted_4, [\n                  _createElementVNode(\"button\", {\n                    type: \"button\",\n                    class: \"button accept\",\n                    onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onSaveUploadedFile && _ctx.onSaveUploadedFile(...args)))\n                  }, _toDisplayString(_ctx.$gettext('bernehmen')), 1)\n                ])\n              ])\n            ]),\n            _createElementVNode(\"form\", _hoisted_5, [\n              _createElementVNode(\"fieldset\", null, [\n                _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Youtube-Video')), 1),\n                _createElementVNode(\"label\", null, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Youtube-URL')) + \" \", 1),\n                  _withDirectives(_createElementVNode(\"input\", {\n                    class: \"youtube-url-input\",\n                    type: \"text\",\n                    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.youtubeUrlInput) = $event))\n                  }, null, 512), [\n                    [_vModelText, _ctx.youtubeUrlInput]\n                  ])\n                ]),\n                _createElementVNode(\"div\", _hoisted_6, [\n                  _createElementVNode(\"button\", {\n                    type: \"submit\",\n                    class: \"button accept\",\n                    onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.onSaveYoutubeVideo && _ctx.onSaveYoutubeVideo(...args)))\n                  }, _toDisplayString(_ctx.$gettext('bernehmen')), 1)\n                ])\n              ])\n            ])\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true),\n    (_ctx.taskDefinition.video.type !== 'none')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n          _createVNode(_component_VideoPlayer, {\n            ref: \"videoPlayer\",\n            task: _ctx.taskDefinition,\n            class: \"video-player\",\n            onTimeupdate: _ctx.onTimeUpdate\n          }, null, 8, [\"task\", \"onTimeupdate\"]),\n          (_ctx.taskDefinition.video.type === 'youtube')\n            ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, [\n                _createTextVNode(_toDisplayString(_ctx.$gettext('Youtube-Video: ')) + \" \", 1),\n                _createElementVNode(\"a\", {\n                  href: _ctx.taskDefinition.video.url,\n                  target: \"_blank\"\n                }, _toDisplayString(_ctx.taskDefinition.video.url), 9, _hoisted_9)\n              ]))\n            : (_ctx.taskDefinition.video.type === 'studipFileReference')\n              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_10, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Hochgeladenes Video: ')) + \" \", 1),\n                  _createElementVNode(\"a\", {\n                    href: _ctx.fileDetailsUrl(_ctx.taskDefinition.video.file_id),\n                    target: \"_blank\"\n                  }, [\n                    (_ctx.selectedFile)\n                      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                          _createTextVNode(_toDisplayString(_ctx.selectedFile.name), 1)\n                        ], 64))\n                      : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                          _createTextVNode(_toDisplayString(_ctx.taskDefinition.video.file_id), 1)\n                        ], 64))\n                  ], 8, _hoisted_11)\n                ]))\n              : _createCommentVNode(\"\", true),\n          _createElementVNode(\"div\", _hoisted_12, [\n            _createElementVNode(\"button\", {\n              class: \"button trash\",\n              onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.deleteVideo && _ctx.deleteVideo(...args)))\n            }, _toDisplayString(_ctx.$gettext('Video lschen')), 1)\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"form\", _hoisted_13, [\n      _hoisted_14,\n      _createElementVNode(\"fieldset\", null, [\n        _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n        _createElementVNode(\"label\", null, [\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"checkbox\",\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.autoplay) = $event))\n          }, null, 512), [\n            [_vModelCheckbox, _ctx.taskDefinition.autoplay]\n          ]),\n          _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Automatisch abspielen')), 1)\n        ]),\n        _createElementVNode(\"div\", _hoisted_15, [\n          _createElementVNode(\"div\", _hoisted_16, [\n            _createElementVNode(\"label\", null, [\n              _createTextVNode(_toDisplayString(_ctx.$gettext('Anfangen um')) + \" \", 1),\n              _createVNode(_component_VideoTimeInput, {\n                class: _normalizeClass({ invalid: !!_ctx.startPositionInputError }),\n                \"aria-invalid\": !!_ctx.startPositionInputError,\n                modelValue: _ctx.taskDefinition.startAt,\n                \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.startAt) = $event)),\n                \"onUpdate:error\": _cache[7] || (_cache[7] = (error) => (_ctx.startPositionInputError = error))\n              }, null, 8, [\"class\", \"aria-invalid\", \"modelValue\"])\n            ]),\n            _createElementVNode(\"button\", {\n              type: \"button\",\n              class: \"button\",\n              onClick: _cache[8] || (_cache[8] = \n//@ts-ignore\n(...args) => (_ctx.onClickUseCurrentTime && _ctx.onClickUseCurrentTime(...args)))\n            }, _toDisplayString(_ctx.$gettext('Aktuelle Position setzen')), 1)\n          ]),\n          (_ctx.startPositionInputError)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, _toDisplayString(_ctx.startPositionInputError), 1))\n            : _createCommentVNode(\"\", true)\n        ]),\n        false\n          ? (_openBlock(), _createElementBlock(\"label\", _hoisted_18, [\n              _createTextVNode(_toDisplayString(_ctx.$gettext('Navigation deaktivieren')) + \" \", 1),\n              _withDirectives(_createElementVNode(\"select\", {\n                \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((_ctx.taskDefinition.disableNavigation) = $event))\n              }, [\n                _createElementVNode(\"option\", _hoisted_19, _toDisplayString(_ctx.$gettext('Nicht deaktiviert')), 1),\n                _createElementVNode(\"option\", _hoisted_20, _toDisplayString(_ctx.$gettext('Vorspulen deaktiviert')), 1),\n                _createElementVNode(\"option\", _hoisted_21, _toDisplayString(_ctx.$gettext('Vorspulen und Rckspulen deaktiviert')), 1)\n              ], 512), [\n                [_vModelSelect, _ctx.taskDefinition.disableNavigation]\n              ])\n            ]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ])\n  ], 64))\n}","import { toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, vShow as _vShow, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect } from \"vue\"\n\nconst _hoisted_1 = { class: \"cw-file-chooser\" }\nconst _hoisted_2 = { value: \"\" }\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"Keine Auswahl\")\nconst _hoisted_4 = [\"value\"]\nconst _hoisted_5 = { disabled: \"\" }\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"Keine Dateien vorhanden\")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FolderPicker = _resolveComponent(\"FolderPicker\")!\n  const _component_translate = _resolveComponent(\"translate\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"label\", null, [\n      _createTextVNode(_toDisplayString(_ctx.$gettext('Ordner-Filter')) + \" \", 1),\n      _createVNode(_component_FolderPicker, {\n        allowUserFolders: \"\",\n        unchoose: \"\",\n        modelValue: _ctx.selectedFolderId,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selectedFolderId) = $event))\n      }, null, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"label\", null, [\n      _createTextVNode(_toDisplayString(_ctx.$gettext('Datei')) + \" \", 1),\n      _withDirectives(_createElementVNode(\"select\", {\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.currentValue) = $event)),\n        onChange: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.selectFile && _ctx.selectFile(...args)))\n      }, [\n        _withDirectives(_createElementVNode(\"option\", _hoisted_2, [\n          _createVNode(_component_translate, null, {\n            default: _withCtx(() => [\n              _hoisted_3\n            ]),\n            _: 1\n          })\n        ], 512), [\n          [_vShow, _ctx.canBeEmpty]\n        ]),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.files, (file, index) => {\n          return (_openBlock(), _createElementBlock(\"option\", {\n            key: index,\n            value: file.id\n          }, _toDisplayString(file.name), 9, _hoisted_4))\n        }), 128)),\n        _withDirectives(_createElementVNode(\"option\", _hoisted_5, [\n          _createVNode(_component_translate, null, {\n            default: _withCtx(() => [\n              _hoisted_6\n            ]),\n            _: 1\n          })\n        ], 512), [\n          [_vShow, _ctx.files.length === 0]\n        ])\n      ], 544), [\n        [_vModelSelect, _ctx.currentValue]\n      ])\n    ])\n  ]))\n}","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  value: \"\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"kein Ordner ausgewhlt\")\nconst _hoisted_3 = [\"label\"]\nconst _hoisted_4 = [\"value\"]\nconst _hoisted_5 = [\"label\"]\nconst _hoisted_6 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_translate = _resolveComponent(\"translate\")!\n\n  return _withDirectives((_openBlock(), _createElementBlock(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.currentValue) = $event)),\n    onChange: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.changeSelection && _ctx.changeSelection(...args)))\n  }, [\n    (_ctx.unchoose)\n      ? (_openBlock(), _createElementBlock(\"option\", _hoisted_1, [\n          _createVNode(_component_translate, null, {\n            default: _withCtx(() => [\n              _hoisted_2\n            ]),\n            _: 1\n          })\n        ]))\n      : _createCommentVNode(\"\", true),\n    (this.context.type === 'courses')\n      ? (_openBlock(), _createElementBlock(\"optgroup\", {\n          key: 1,\n          label: _ctx.textOptGroupCourse\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.loadedCourseFolders, (folder) => {\n            return (_openBlock(), _createElementBlock(\"option\", {\n              key: folder.id,\n              value: folder.id\n            }, _toDisplayString(folder.attributes.name), 9, _hoisted_4))\n          }), 128))\n        ], 8, _hoisted_3))\n      : _createCommentVNode(\"\", true),\n    (_ctx.allowUserFolders)\n      ? (_openBlock(), _createElementBlock(\"optgroup\", {\n          key: 2,\n          label: _ctx.textOptGroupUser\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.loadedUserFolders, (folder) => {\n            return (_openBlock(), _createElementBlock(\"option\", {\n              key: folder.id,\n              value: folder.id\n            }, _toDisplayString(folder.attributes.name), 9, _hoisted_6))\n          }), 128))\n        ], 8, _hoisted_5))\n      : _createCommentVNode(\"\", true)\n  ], 544)), [\n    [_vModelSelect, _ctx.currentValue]\n  ])\n}","\nimport { defineComponent } from 'vue';\nimport { Context } from '@/models/CoursewareBlockIframeMessages';\nimport { coursewareBlockStore } from '@/store';\nimport { mapActions, mapGetters } from 'vuex';\nimport { FolderRef } from '@/routes/jsonApi';\n\nfunction filterCourseFolders(\n  folders: FolderRef[],\n  { allowHomeworkFolders }: { allowHomeworkFolders: boolean }\n) {\n  const validatedParents = new Map();\n\n  return folders.filter((folder: FolderRef) => {\n    if (validateParentFolder(folder)) {\n      switch (folder.attributes['folder-type']) {\n        case 'HiddenFolder':\n          if (folder.attributes['data-content']['download_allowed'] === 1) {\n            return true;\n          }\n          break;\n        case 'HomeworkFolder':\n          if (allowHomeworkFolders) {\n            return true;\n          }\n          break;\n        default:\n          return true;\n      }\n    }\n  });\n\n  function validateParentFolder(folder: FolderRef): boolean {\n    let isValid = true;\n    if (folder?.relationships?.parent) {\n      let parentId = folder.relationships.parent.data.id;\n      if (validatedParents.has(parentId)) {\n        isValid = validatedParents.get(parentId);\n      } else {\n        let parent = folders.find((f) => f.id === parentId);\n        if (parent) {\n          isValid = hiddenParentFolderValidation(parent);\n          validatedParents.set(parentId, isValid);\n        }\n      }\n    }\n    return isValid;\n  }\n\n  function hiddenParentFolderValidation(parentFolder: FolderRef): boolean {\n    if (parentFolder.attributes['folder-type'] === 'HiddenFolder') {\n      return false;\n    } else if (parentFolder?.relationships?.parent) {\n      // Recursively validating the parents.\n      return validateParentFolder(parentFolder);\n    } else {\n      return true;\n    }\n  }\n}\n\nexport default defineComponent({\n  name: 'FolderPicker',\n  props: {\n    value: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    allowUserFolders: { type: Boolean, default: false },\n    allowHomeworkFolders: { type: Boolean, default: false },\n    unchoose: { type: Boolean, default: false },\n  },\n  data() {\n    return {\n      currentValue: '',\n      textOptGroupCourse: this.$gettext('Dateibereich dieser Veranstaltung'),\n      textOptGroupUser: this.$gettext('Persnlicher Dateibereich'),\n    };\n  },\n  computed: {\n    ...mapGetters({\n      relatedFolders: 'folders/related',\n    }),\n    context(): Context {\n      // Replaces the vuex getter 'context'\n      return coursewareBlockStore.studipContext;\n    },\n    userId(): string {\n      // Replaces the vuex getter 'userId'\n      return window.STUDIP.USER_ID;\n    },\n    courseObject() {\n      return { type: 'courses', id: `${this.context.id}` };\n    },\n    userObject() {\n      return { type: 'users', id: `${this.userId}` };\n    },\n    loadedCourseFolders() {\n      return filterCourseFolders(\n        this.relatedFolders({\n          parent: this.courseObject,\n          relationship: 'folders',\n        }) ?? [],\n        {\n          allowHomeworkFolders: this.allowHomeworkFolders,\n        }\n      );\n    },\n    loadedUserFolders() {\n      let loadedUserFolders: FolderRef[] = [];\n      let userFolders: FolderRef[] =\n        this.relatedFolders({\n          parent: this.userObject,\n          relationship: 'folders',\n        }) ?? [];\n      userFolders.forEach((folder: FolderRef) => {\n        if (folder.attributes['folder-type'] === 'PublicFolder') {\n          loadedUserFolders.push(folder);\n        }\n      });\n\n      return loadedUserFolders;\n    },\n  },\n  methods: {\n    ...mapActions({\n      _loadRelatedFolders: 'folders/loadRelated',\n    }),\n    // Typed shim for vuex action 'folders/loadRelated'\n    loadRelatedFolders(params: {\n      parent: {\n        type: string;\n        id: string;\n      };\n      relationship: string;\n      options: {\n        'page[limit]': number;\n      };\n    }): Promise<unknown> {\n      return this._loadRelatedFolders(params);\n    },\n\n    changeSelection() {\n      this.$emit('input', this.currentValue);\n    },\n\n    getCourseFolders() {\n      const parent = this.courseObject;\n      const relationship = 'folders';\n      const options = { 'page[limit]': 10000 };\n\n      return this.loadRelatedFolders({ parent, relationship, options });\n    },\n\n    getUserFolders() {\n      const parent = this.userObject;\n      const relationship = 'folders';\n      const options = { 'page[limit]': 10000 };\n\n      return this.loadRelatedFolders({ parent, relationship, options });\n    },\n\n    confirmSelectedFolder() {\n      const folders: FolderRef[] = this.loadedUserFolders.concat(\n        this.loadedCourseFolders\n      );\n\n      let folder = folders.find((folder) => folder.id === this.currentValue);\n\n      if (this.currentValue !== '' && folder === undefined) {\n        this.currentValue = '';\n        this.changeSelection();\n      }\n    },\n  },\n  async mounted() {\n    this.currentValue = this.value;\n    if (this.context.type !== 'users') {\n      await this.getCourseFolders();\n    }\n    await this.getUserFolders();\n    this.confirmSelectedFolder();\n  },\n  watch: {\n    value() {\n      this.currentValue = this.value;\n    },\n  },\n});\n","import { render } from \"./FolderPicker.vue?vue&type=template&id=4e52882a&ts=true\"\nimport script from \"./FolderPicker.vue?vue&type=script&lang=ts\"\nexport * from \"./FolderPicker.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport FolderPicker from '@/components/courseware-components-ported-to-vue3/FolderPicker.vue';\nimport { mapActions, mapGetters } from 'vuex';\nimport { defineComponent } from 'vue';\nimport { $gettext } from '../../language/gettext';\n\n// TODO #21 Refactor to remove this datatype\nexport interface FilePickerFile {\n  id: string;\n  name: string;\n  mime_type: string;\n  download_url: string;\n}\n\nexport default defineComponent({\n  name: 'FilePicker',\n  components: { FolderPicker },\n  props: {\n    value: String,\n    mimeType: { type: String, default: '' },\n    isImage: { type: Boolean, default: false },\n    isVideo: { type: Boolean, default: false },\n    isAudio: { type: Boolean, default: false },\n    isDocument: { type: Boolean, default: false },\n    canBeEmpty: { type: Boolean, default: false },\n  },\n  data() {\n    return {\n      currentValue: '',\n      selectedFolderId: '',\n      files: [] as any[],\n    };\n  },\n  computed: {\n    ...mapGetters({\n      fileRefById: 'file-refs/byId',\n      relatedFileRefs: 'file-refs/related',\n      relatedTermOfUse: 'terms-of-use/related',\n    }),\n    userId(): string {\n      return window.STUDIP.USER_ID;\n    },\n  },\n  methods: {\n    $gettext,\n    ...mapActions({\n      loadFileRef: 'file-refs/loadById',\n      loadRelatedFileRefs: 'file-refs/loadRelated',\n    }),\n    selectFile() {\n      this.$emit(\n        'selectFile',\n        this.files.find((file) => file.id === this.currentValue)\n      );\n    },\n    filterFiles(loadArray: any[]) {\n      const filterFile = (file: any) => {\n        let fileTermsOfUse = this.relatedTermOfUse({\n          parent: file,\n          relationship: 'terms-of-use',\n        });\n\n        if (\n          fileTermsOfUse !== null &&\n          fileTermsOfUse.attributes['download-condition'] !== 0\n        ) {\n          return false;\n        }\n        if (\n          this.mimeType !== '' &&\n          this.mimeType !== file.attributes['mime-type']\n        ) {\n          return false;\n        }\n        if (this.isImage && !file.attributes['mime-type'].includes('image')) {\n          return false;\n        }\n        const videoConditions = ['video/mp4', 'video/ogg', 'video/webm'];\n        if (\n          this.isVideo &&\n          !videoConditions.some((condition) =>\n            file.attributes['mime-type'].includes(condition)\n          )\n        ) {\n          return false;\n        }\n        const audioConditions = [\n          'audio/wav',\n          'audio/ogg',\n          'audio/webm',\n          'audio/flac',\n          'audio/mpeg',\n          'audio/x-m4a',\n          'audio/mp4',\n        ];\n        if (\n          this.isAudio &&\n          !audioConditions.some((condition) =>\n            file.attributes['mime-type'].includes(condition)\n          )\n        ) {\n          return false;\n        }\n        const officeConditions = ['application/pdf']; //TODO enable more mime types\n        if (\n          this.isDocument &&\n          !officeConditions.some((condition) =>\n            file.attributes['mime-type'].includes(condition)\n          )\n        ) {\n          return false;\n        }\n\n        return true;\n      };\n\n      // TODO #21 Refactor.. I'm not sure it is useful to map the file-ref,\n      // which we fetched from the JSON API, to a subset of its keys here.\n      // Clients may need other values, like the folder ID, which we do not\n      // provide here.\n      return loadArray.filter(filterFile).map((file) => ({\n        id: file.id,\n        name: file.attributes.name,\n        mime_type: file.attributes['mime-type'],\n        download_url: window.STUDIP.URLHelper.getURL(\n          'sendfile.php',\n          { type: 0, file_id: file.id, file_name: file.attributes.name },\n          true\n        ),\n      }));\n    },\n    async getFolderFiles() {\n      const parent = { type: 'folders', id: `${this.selectedFolderId}` };\n      const relationship = 'file-refs';\n      const options = { include: 'terms-of-use', 'page[limit]': 10000 };\n      await this.loadRelatedFileRefs({ parent, relationship, options });\n\n      const fileRefs = this.relatedFileRefs({ parent, relationship });\n      this.files = this.filterFiles(fileRefs);\n    },\n  },\n  async mounted() {\n    console.log('mounted');\n    if (this.value !== '') {\n      await this.loadFileRef({ id: this.value });\n      const fileRef = this.fileRefById({ id: this.value });\n\n      if (fileRef) {\n        this.selectedFolderId = fileRef.relationships.parent.data.id;\n        this.currentValue = this.value ?? '';\n      }\n    }\n  },\n  watch: {\n    selectedFolderId() {\n      if (this.selectedFolderId !== '') {\n        this.getFolderFiles();\n      }\n    },\n    value(newValue, oldValue) {\n      if (newValue === '') {\n        this.selectedFolderId = '';\n        this.currentValue = '';\n      }\n    },\n  },\n});\n","import { render } from \"./FilePicker.vue?vue&type=template&id=e6cfcc38&ts=true\"\nimport script from \"./FilePicker.vue?vue&type=script&lang=ts\"\nexport * from \"./FilePicker.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport VideoPlayer from '@/components/interactiveVideo/VideoPlayer.vue';\nimport { $gettext } from '@/language/gettext';\nimport { InteractiveVideoTask, Video } from '@/models/InteractiveVideoTask';\nimport FileUpload from '@/components/FileUpload.vue';\nimport VideoTimeInput from '@/components/interactiveVideo/VideoTimeInput.vue';\nimport FilePicker, {\n  FilePickerFile,\n} from '@/components/courseware-components-ported-to-vue3/FilePicker.vue';\nimport { FileRef, fileRefsSchema } from '@/routes/jsonApi';\nimport { fileDetailsUrl, fileIdToUrl } from '@/models/TaskDefinition';\nimport { mapActions, mapGetters } from 'vuex';\n\nfunction formatSecondsToHhMmSs(time: number): string {\n  let hours = 0,\n    minutes = 0,\n    seconds = 0;\n  while (time > 3600) {\n    time -= 3600;\n    hours += 1;\n  }\n  while (time > 60) {\n    time -= 60;\n    minutes += 1;\n  }\n  seconds = time;\n  function twoDigits(n: number): string {\n    return n.toLocaleString('de-DE', {\n      minimumIntegerDigits: 2,\n      maximumFractionDigits: 0,\n    });\n  }\n  return `${twoDigits(hours)}:${twoDigits(minutes)}:${twoDigits(seconds)}`;\n}\n\nexport default defineComponent({\n  name: 'SelectVideo',\n  props: {\n    taskDefinition: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      youtubeUrlInput: '',\n      startPositionInputError: undefined as Error | undefined,\n      currentTime: 0,\n      selectedFolderId: '',\n      selectedFile: undefined as FilePickerFile | undefined,\n      selectedFileId: '',\n    };\n  },\n  watch: {\n    'taskDefinition.video': {\n      immediate: true,\n      handler: async function (value: Video) {\n        switch (value.type) {\n          case 'none':\n            break;\n          case 'studipFileReference':\n            if (\n              this.selectedFile === undefined ||\n              this.selectedFile.id !== value.file_id\n            ) {\n              // Get metadata for file\n              await this.loadFileRef({ id: value.file_id });\n              const ref = fileRefsSchema.parse(\n                this.fileRefById({ id: value.file_id })\n              );\n              this.selectedFile = {\n                id: value.file_id,\n                name: ref.attributes.name,\n                mime_type: ref.attributes['mime-type'],\n                download_url: ref.meta['download-url'],\n              };\n            }\n            break;\n          case 'youtube':\n            this.youtubeUrlInput = value.url;\n        }\n      },\n    },\n  },\n  computed: {\n    ...mapGetters({\n      fileRefById: 'file-refs/byId',\n    }),\n  },\n  methods: {\n    fileDetailsUrl,\n    fileIdToUrl,\n    $gettext,\n    ...mapActions({\n      loadFileRef: 'file-refs/loadById',\n    }),\n    onTimeUpdate(time: number) {\n      this.currentTime = time;\n    },\n    onClickUseCurrentTime() {\n      this.taskDefinition.startAt = this.currentTime;\n    },\n    updateCurrentFile(file: FilePickerFile) {\n      this.selectedFile = file;\n      this.selectedFileId = file.id;\n    },\n    onSaveYoutubeVideo() {\n      this.taskDefinition.video = {\n        type: 'youtube',\n        url: this.youtubeUrlInput,\n      };\n    },\n    onSaveUploadedFile() {\n      if (!this.selectedFile) {\n        return;\n      }\n      this.taskDefinition.video = {\n        v: 2,\n        type: 'studipFileReference',\n        file_id: this.selectedFile.id,\n      };\n    },\n    deleteVideo() {\n      this.taskDefinition.video = {\n        type: 'none',\n      };\n    },\n    onUploadStudipVideo(file: FileRef) {\n      this.taskDefinition.video = {\n        v: 2,\n        type: 'studipFileReference',\n        file_id: file.id,\n      };\n      this.selectedFile = {\n        id: file.id,\n        name: file.attributes.name,\n        mime_type: file.attributes['mime-type'],\n        download_url: file.meta['download-url'],\n      };\n    },\n  },\n  components: {\n    VideoTimeInput,\n    FileUpload,\n    VideoPlayer,\n    FilePicker,\n  },\n});\n","import { render } from \"./SelectVideo.vue?vue&type=template&id=3980b12c&scoped=true&ts=true\"\nimport script from \"./SelectVideo.vue?vue&type=script&lang=ts\"\nexport * from \"./SelectVideo.vue?vue&type=script&lang=ts\"\n\nimport \"./SelectVideo.vue?vue&type=style&index=0&id=3980b12c&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3980b12c\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { InteractiveVideoTask } from '@/models/InteractiveVideoTask';\nimport { $gettext } from '@/language/gettext';\nimport TabsComponent from '@/components/courseware-components-ported-to-vue3/TabsComponent.vue';\nimport TabComponent from '@/components/courseware-components-ported-to-vue3/TabComponent.vue';\nimport AddInteractions from '@/components/interactiveVideo/AddInteractions.vue';\nimport SelectVideo from '@/components/interactiveVideo/SelectVideo.vue';\n\nexport default defineComponent({\n  name: 'InteractiveVideoEditor',\n  data() {\n    return {};\n  },\n  methods: {\n    $gettext,\n  },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  computed: {},\n  components: {\n    SelectVideo,\n    AddInteractions,\n    TabComponent,\n    TabsComponent,\n  },\n});\n","import { render } from \"./InteractiveVideoEditor.vue?vue&type=template&id=4ad9d729&ts=true\"\nimport script from \"./InteractiveVideoEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./InteractiveVideoEditor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_VideoPlayer = _resolveComponent(\"VideoPlayer\")!\n\n  return (_openBlock(), _createBlock(_component_VideoPlayer, { task: _ctx.task }, null, 8, [\"task\"]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { InteractiveVideoTask } from '@/models/InteractiveVideoTask';\nimport VideoPlayer from '@/components/interactiveVideo/VideoPlayer.vue';\n\nexport default defineComponent({\n  name: 'InteractiveVideoViewer',\n  components: { VideoPlayer },\n  props: {\n    task: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      counter: 0,\n    };\n  },\n});\n","import { render } from \"./InteractiveVideoViewer.vue?vue&type=template&id=80198370&ts=true\"\nimport script from \"./InteractiveVideoViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./InteractiveVideoViewer.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, toDisplayString as _toDisplayString, resolveDynamicComponent as _resolveDynamicComponent, withModifiers as _withModifiers, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e926de64\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { ref: \"videoJsContainer\" }\nconst _hoisted_2 = [\"onClick\", \"title\"]\nconst _hoisted_3 = [\"title\"]\nconst _hoisted_4 = [\"title\"]\nconst _hoisted_5 = [\"title\"]\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"arrow\",\n  \"data-popper-arrow\": \"\"\n}, null, -1))\nconst _hoisted_7 = { class: \"active-interaction\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_LmbTaskInteraction = _resolveComponent(\"LmbTaskInteraction\")!\n  const _component_OverlayInteraction = _resolveComponent(\"OverlayInteraction\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"video-player-root\", { 'drag-in-progress': !!_ctx.dragState }]),\n    ref: \"root\"\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, null, 512),\n    (!!_ctx.selectedInteractionId)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: \"cancel-selection-overlay\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.editor!.selectInteraction(undefined)))\n        }))\n      : _createCommentVNode(\"\", true),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.task.interactions, (interaction) => {\n      return (_openBlock(), _createElementBlock(\"button\", {\n        class: \"progress-bar-interaction-marker\",\n        key: interaction.id,\n        style: _normalizeStyle(_ctx.progressBarInteractionMarkerStyle(interaction)),\n        onClick: ($event: any) => (_ctx.onClickInteractionMarker(interaction)),\n        title: \n        _ctx.$gettext('Zu %{ interaction } springen', {\n          interaction: _ctx.printInteractionType(interaction),\n        })\n      \n      }, null, 12, _hoisted_2))\n    }), 128)),\n    (_ctx.editor)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          ref: \"selectedInteractionTooltip\",\n          class: _normalizeClass([\"selected-interaction-tooltip\", {\n        hidden: !_ctx.interactionForPopper,\n      }])\n        }, [\n          (_ctx.selectedInteraction?.type === 'lmbTask')\n            ? (_openBlock(), _createElementBlock(\"button\", {\n                key: 0,\n                type: \"button\",\n                class: \"small-button visibility-visible\",\n                onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.activateInteraction(_ctx.selectedInteraction))),\n                title: _ctx.$gettext('Vorschau')\n              }, null, 8, _hoisted_3))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"small-button edit\",\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.editInteraction(_ctx.selectedInteraction))),\n            title: _ctx.$gettext('Bearbeiten')\n          }, null, 8, _hoisted_4),\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"small-button trash\",\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.editor?.deleteInteraction(_ctx.selectedInteractionId))),\n            title: _ctx.$gettext('Lschen')\n          }, null, 8, _hoisted_5),\n          _hoisted_6\n        ], 2))\n      : _createCommentVNode(\"\", true),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.visibleInteractions, (interaction) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: interaction.id\n      }, [\n        (interaction.type === 'lmbTask')\n          ? (_openBlock(), _createBlock(_component_LmbTaskInteraction, {\n              key: 0,\n              id: `interaction-${_ctx.uid}-${interaction.id}`,\n              class: \"video-player-interaction\",\n              style: _normalizeStyle({\n          left: `${interaction.x * 100}%`,\n          top: `${interaction.y * 100}%`,\n        }),\n              interaction: interaction,\n              onClick: ($event: any) => (_ctx.editor?.selectInteraction(interaction.id)),\n              onPointerdown: ($event: any) => (_ctx.onPointerDownInteraction($event, interaction)),\n              onPointermove: ($event: any) => (_ctx.onPointerMoveInteraction($event, interaction)),\n              onPointerup: ($event: any) => (_ctx.onPointerUpInteraction($event, interaction)),\n              onActivateInteraction: _ctx.activateInteraction\n            }, null, 8, [\"id\", \"style\", \"interaction\", \"onClick\", \"onPointerdown\", \"onPointermove\", \"onPointerup\", \"onActivateInteraction\"]))\n          : (interaction.type === 'overlay')\n            ? (_openBlock(), _createBlock(_component_OverlayInteraction, {\n                key: 1,\n                id: `interaction-${_ctx.uid}-${interaction.id}`,\n                class: \"video-player-interaction\",\n                style: _normalizeStyle({\n          left: `${interaction.x * 100}%`,\n          top: `${interaction.y * 100}%`,\n          width: `${interaction.width * 100}%`,\n          height: `${interaction.height * 100}%`,\n        }),\n                interaction: interaction,\n                onClick: ($event: any) => (_ctx.editor?.selectInteraction(interaction.id)),\n                onPointerdown: ($event: any) => (_ctx.onPointerDownInteraction($event, interaction)),\n                onPointermove: ($event: any) => (_ctx.onPointerMoveInteraction($event, interaction)),\n                onPointerup: ($event: any) => (_ctx.onPointerUpInteraction($event, interaction)),\n                onPointerDownResizeHandle: _ctx.onPointerDownResizeHandle,\n                onPointerMoveResizeHandle: _ctx.onPointerMoveResizeHandle,\n                onPointerUpResizeHandle: _ctx.onPointerUpResizeHandle\n              }, null, 8, [\"id\", \"style\", \"interaction\", \"onClick\", \"onPointerdown\", \"onPointermove\", \"onPointerup\", \"onPointerDownResizeHandle\", \"onPointerMoveResizeHandle\", \"onPointerUpResizeHandle\"]))\n            : _createCommentVNode(\"\", true)\n      ], 64))\n    }), 128)),\n    _createVNode(_Transition, { name: \"fade\" }, {\n      default: _withCtx(() => [\n        (_ctx.activeInteraction?.type === 'lmbTask')\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              class: \"active-interaction-container\",\n              onClick: _cache[5] || (_cache[5] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.closeInteraction && _ctx.closeInteraction(...args)), [\"self\"]))\n            }, [\n              _createElementVNode(\"div\", _hoisted_7, [\n                _createElementVNode(\"h1\", null, _toDisplayString(_ctx.printTaskType(_ctx.activeInteraction.taskDefinition.task_type)), 1),\n                (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.viewerForTaskType(_ctx.activeInteraction.taskDefinition.task_type)), {\n                  task: _ctx.activeInteraction.taskDefinition\n                }, null, 8, [\"task\"])),\n                _createElementVNode(\"button\", {\n                  type: \"button\",\n                  class: \"button cancel\",\n                  onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.closeInteraction && _ctx.closeInteraction(...args)))\n                }, _toDisplayString(_ctx.$gettext('Schlieen')), 1)\n              ])\n            ]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ], 2))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-ab6f7b1e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"data-hover-tooltip\"]\nconst _hoisted_2 = { class: \"interaction-label\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"icon-circle-border\" }, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"button\", {\n    type: \"button\",\n    class: _normalizeClass([\"lmb-task-interaction\", {\n      selected: _ctx.editor?.selectedInteractionId.value === _ctx.interaction.id,\n      editor: !!_ctx.editor,\n    }]),\n    \"data-hover-tooltip\": _ctx.printTaskType(_ctx.interaction.taskDefinition.task_type),\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (!this.editor && _ctx.$emit('activateInteraction', _ctx.interaction)))\n  }, [\n    _createElementVNode(\"div\", _hoisted_2, _toDisplayString(_ctx.printTaskType(_ctx.interaction.taskDefinition.task_type)), 1),\n    _hoisted_3,\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"icon-circle button no-hover-effect\", _ctx.iconForTaskType(_ctx.interaction.taskDefinition.task_type)])\n    }, null, 2)\n  ], 10, _hoisted_1))\n}","\nimport { defineComponent, inject, PropType } from 'vue';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport { Interaction, LmbTaskInteraction } from '@/models/InteractiveVideoTask';\nimport { iconForTaskType, printTaskType } from '../../../models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'LmbTaskInteraction',\n  methods: { iconForTaskType, printTaskType },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    interaction: {\n      type: Object as PropType<LmbTaskInteraction>,\n      required: true,\n    },\n  },\n});\n","import { render } from \"./LmbTaskInteraction.vue?vue&type=template&id=ab6f7b1e&scoped=true&ts=true\"\nimport script from \"./LmbTaskInteraction.vue?vue&type=script&lang=ts\"\nexport * from \"./LmbTaskInteraction.vue?vue&type=script&lang=ts\"\n\nimport \"./LmbTaskInteraction.vue?vue&type=style&index=0&id=ab6f7b1e&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ab6f7b1e\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-314d185c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"data-hover-tooltip\"]\nconst _hoisted_2 = [\"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_3 = [\"innerHTML\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"overlay\", {\n      selected: _ctx.editor?.selectedInteractionId.value === _ctx.interaction.id,\n      editor: !!_ctx.editor,\n    }]),\n    \"data-hover-tooltip\": _ctx.$gettext('Einblendung')\n  }, [\n    (_ctx.editor)\n      ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_ctx.resizeHandles, (handle) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: handle,\n            class: _normalizeClass([\"resize-handle\", handle]),\n            onPointerdown: _withModifiers(($event: any) => (_ctx.onPointerDownResizeHandle($event, handle)), [\"stop\"]),\n            onPointermove: _withModifiers(($event: any) => (_ctx.onPointerMoveResizeHandle($event, handle)), [\"stop\"]),\n            onPointerup: _withModifiers(($event: any) => (_ctx.onPointerUpResizeHandle($event, handle)), [\"stop\"])\n          }, null, 42, _hoisted_2))\n        }), 128))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      class: \"overlay-content\",\n      innerHTML: _ctx.interaction.content_wysiwyg\n    }, null, 8, _hoisted_3)\n  ], 10, _hoisted_1))\n}","\nimport { defineComponent, inject, PropType } from 'vue';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport { OverlayInteraction } from '@/models/InteractiveVideoTask';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'OverlayInteraction',\n  methods: {\n    $gettext,\n    onPointerDownResizeHandle(event: PointerEvent, handle: string) {\n      this.$emit('pointerDownResizeHandle', {\n        event,\n        handle,\n        interaction: this.interaction,\n      });\n    },\n    onPointerMoveResizeHandle(event: PointerEvent, handle: string) {\n      this.$emit('pointerMoveResizeHandle', {\n        event,\n        handle,\n        interaction: this.interaction,\n      });\n    },\n    onPointerUpResizeHandle(event: PointerEvent, handle: string) {\n      this.$emit('pointerUpResizeHandle', {\n        event,\n        handle,\n        interaction: this.interaction,\n      });\n    },\n  },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  data() {\n    return {\n      resizeHandles: [\n        'left',\n        'top-left',\n        'top',\n        'top-right',\n        'right',\n        'bottom-right',\n        'bottom',\n        'bottom-left',\n      ],\n    };\n  },\n  props: {\n    interaction: {\n      type: Object as PropType<OverlayInteraction>,\n      required: true,\n    },\n  },\n});\n","import { render } from \"./OverlayInteraction.vue?vue&type=template&id=314d185c&scoped=true&ts=true\"\nimport script from \"./OverlayInteraction.vue?vue&type=script&lang=ts\"\nexport * from \"./OverlayInteraction.vue?vue&type=script&lang=ts\"\n\nimport \"./OverlayInteraction.vue?vue&type=style&index=0&id=314d185c&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-314d185c\"]])\n\nexport default __exports__","\nimport { defineComponent, inject, PropType } from 'vue';\nimport videojs from 'video.js';\nimport Player from 'video.js/dist/types/player';\nrequire('!style-loader!css-loader!video.js/dist/video-js.css');\nimport 'videojs-youtube/dist/Youtube.min.js';\nimport {\n  Interaction,\n  InteractiveVideoTask,\n  NoVideo,\n  printInteractionType,\n  ResizeHandle,\n  StudipFileVideo,\n  Video,\n  YoutubeVideo,\n} from '@/models/InteractiveVideoTask';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport LmbTaskInteraction from '@/components/interactiveVideo/interactions/LmbTaskInteraction.vue';\nimport { printTaskType, viewerForTaskType } from '@/models/TaskDefinition';\nimport { $gettext } from '../../language/gettext';\nimport { createPopper, Instance } from '@popperjs/core';\nimport type { StrictModifiers } from '@popperjs/core';\nimport { v4 } from 'uuid';\nimport OverlayInteraction from '@/components/interactiveVideo/interactions/OverlayInteraction.vue';\nimport { OverlayInteraction as OverlayInteractionType } from '@/models/InteractiveVideoTask';\nimport { mapActions, mapGetters } from 'vuex';\nimport { fileRefsSchema } from '@/routes/jsonApi';\n\ntype DragState =\n  | {\n      type: 'dragInteraction';\n      interactionId: string;\n      mouseStartPos: [number, number]; // clientX, clientY\n      interactionStartPos: [number, number]; // fraction x, fraction y\n    }\n  | {\n      type: 'resizeInteraction';\n      interactionId: string;\n      mouseStartPos: [number, number]; // clientX, clientY\n      interactionStartPos: [number, number]; // fraction x, fraction y\n      interactionStartSize: [number, number]; // fraction x, fraction y\n      handle: string;\n    }\n  | undefined;\n\ntype LoadedStudipFileVideo = StudipFileVideo & {\n  download_url: string;\n  mime_type: string;\n};\ntype VideoInfo = LoadedStudipFileVideo | NoVideo | YoutubeVideo;\n\nlet popperInstance: Instance | undefined;\nexport default defineComponent({\n  name: 'VideoPlayer',\n  components: { OverlayInteraction, LmbTaskInteraction },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    task: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      player: null as Player | null,\n      // The time the video player is seeked to\n      time: 0,\n      // The time reached by the user watching the video without seeking.\n      // This is used to enforce the setting 'disable navigation'.\n      playedTime: 0,\n      isPlaying: false,\n      dragState: undefined as DragState,\n      activeInteraction: undefined as Interaction | undefined,\n      progressBarParameters: {\n        widthPixels: 1,\n        xOffsetPixels: 0,\n      },\n      progressBarObserver: undefined as ResizeObserver | undefined,\n      videoInfo: Promise.resolve({ type: 'none' }) as Promise<VideoInfo>,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      fileRefById: 'file-refs/byId',\n    }),\n    // A unique ID for this instance of VideoPlayer, so that we can refer\n    // to elements inside of it by ID when there are multiple VideoPlayers\n    // (e.g. viewer on one tab, editor on another tab).\n    uid(): string {\n      return v4();\n    },\n    // Return the Interaction, if any, for which a popper tooltip should be shown\n    interactionForPopper(): Interaction | undefined {\n      // The popper should only be rendered if the selected interaction is visible.\n      if (\n        this.selectedInteraction &&\n        this.visibleInteractions.includes(this.selectedInteraction)\n      ) {\n        return this.selectedInteraction;\n      } else {\n        return undefined;\n      }\n    },\n    selectedInteraction(): Interaction | undefined {\n      return this.task.interactions.find(\n        (i) => i.id === this.selectedInteractionId\n      );\n    },\n    selectedInteractionId(): string | undefined {\n      return this.editor?.selectedInteractionId.value;\n    },\n    /**\n     * @return a list of Interaction objects whose clickable icons (or other elements)\n     * should be shown overlaid over the video at the timestamp given by this.time.\n     */\n    visibleInteractions(): Interaction[] {\n      return this.task.interactions.filter((i) => {\n        return i.startTime <= this.time && i.endTime > this.time;\n      });\n    },\n    // Computed property created so that we can register a watcher which triggers\n    // when either of these things changes.\n    timeAndVisibleInteractions(): [number, Interaction[]] {\n      return [this.time, this.visibleInteractions];\n    },\n  },\n  watch: {\n    'task.video': {\n      handler(video: Video) {\n        console.log('video prop changed', video);\n        this.videoInfo = this.loadVideoInfo(video);\n        this.videoInfo.then((videoInfo) => {\n          this.initializePlayer(videoInfo);\n        });\n      },\n      immediate: true,\n    },\n    // Handle pausing the video when an interaction becomes visible.\n    timeAndVisibleInteractions(\n      [newTime, newVisibleInteractions]: [number, Interaction[]],\n      [oldTime, oldVisibleInteractions]: [number, Interaction[]]\n    ): void {\n      const isPlayingForward = this.isPlaying && newTime > oldTime;\n      const newlyVisibleInteractionWithPause = newVisibleInteractions.find(\n        (i) => !oldVisibleInteractions.includes(i) && i.pauseWhenVisible\n      );\n      if (isPlayingForward && newlyVisibleInteractionWithPause) {\n        console.log(\n          'pausing for interaction: ',\n          newlyVisibleInteractionWithPause\n        );\n        this.player!.pause();\n      }\n    },\n    interactionForPopper: {\n      immediate: true,\n      handler: function (interaction: Interaction | undefined) {\n        popperInstance?.destroy();\n        if (interaction) {\n          // Run on next tick, because we need to wait for the interactionElement\n          // to be rendered by Vue, in case it isn't yet visible at the moment this\n          // watcher is triggered.\n          // For example, if the user clicks on the timeline to jump to a point\n          // in the video where the currently selected interaction is visible,\n          // when it previously was not.\n          this.$nextTick(() => {\n            const interactionElement = document.getElementById(\n              `interaction-${this.uid}-${interaction.id}`\n            ) as HTMLElement;\n            const tooltipElement = this.$refs\n              .selectedInteractionTooltip as HTMLElement;\n            popperInstance = createPopper(interactionElement, tooltipElement, {\n              placement: 'top',\n              modifiers: [\n                {\n                  name: 'offset',\n                  options: {\n                    offset: [0, 8],\n                  },\n                },\n              ],\n            });\n          });\n        }\n      },\n    },\n  },\n  methods: {\n    printInteractionType,\n    $gettext,\n    printTaskType,\n    viewerForTaskType,\n    ...mapActions({\n      loadFileRef: 'file-refs/loadById',\n    }),\n    onPlayerReady() {\n      console.log('player ready');\n    },\n    // TODO This information is needed in other places in the Interactive\n    //  Video Editor, for example, in 'SelectVideo.vue' to display the name and\n    //  file type of the selected file.  This asynchronous method should be\n    //  implemented and called one time in InteractiveVideoEditor.vue.\n    async loadVideoInfo(video: Video): Promise<VideoInfo> {\n      switch (video.type) {\n        case 'youtube':\n        case 'none':\n          return video;\n        case 'studipFileReference': {\n          await this.loadFileRef({ id: video.file_id });\n          const ref = fileRefsSchema.parse(\n            this.fileRefById({ id: video.file_id })\n          );\n          return {\n            ...video,\n            mime_type: ref.attributes['mime-type'],\n            download_url: ref.meta['download-url'],\n          };\n        }\n      }\n    },\n    videoUrl(videoInfo: VideoInfo): string {\n      switch (videoInfo.type) {\n        case 'youtube':\n          return videoInfo.url;\n        case 'studipFileReference':\n          return videoInfo.download_url;\n        default:\n          return '';\n      }\n    },\n    videoType(videoInfo: VideoInfo): string | undefined {\n      switch (videoInfo.type) {\n        case 'youtube':\n          return 'video/youtube';\n        case 'studipFileReference':\n          return videoInfo.mime_type;\n        default:\n          return '';\n      }\n    },\n    initializePlayer(videoInfo: VideoInfo) {\n      // If player has already been created, it must be destroyed before we\n      // create a new one.\n      this.progressBarObserver?.disconnect();\n      this.player?.dispose();\n\n      // The dispose() method removes the player element from the dom, so we must\n      // create and append the player element by hand to the DOM each time.\n      const playerElement = document.createElement('video-js');\n      playerElement.classList.add('video-js', 'vjs-fluid');\n      (this.$refs.videoJsContainer as HTMLDivElement).appendChild(\n        playerElement\n      );\n\n      // Create the player and set up event listeners\n      this.player = videojs(\n        playerElement,\n        {\n          techOrder: ['html5', 'youtube'],\n          sources: [\n            {\n              src: this.videoUrl(videoInfo),\n              type: this.videoType(videoInfo),\n            },\n          ],\n          controls: true,\n          controlBar: {\n            children: [\n              'playToggle',\n              'progressControl',\n              'currentTimeDisplay',\n              'timeDivider',\n              'durationDisplay',\n              'volumePanel',\n              'fullscreenToggle',\n            ],\n            volumePanel: {\n              inline: false,\n            },\n          },\n          autoplay: this.task.autoplay && !this.editor,\n          // Major browsers block autoplay unless the video is muted.\n          muted: this.task.autoplay && !this.editor,\n        },\n        this.onPlayerReady\n      );\n      this.player.on('timeupdate', () => {\n        const time = this.player!.currentTime();\n        if (time) {\n          this.$emit('timeupdate', time);\n          this.time = time;\n          if (this.isPlaying && !this.player!.paused()!) {\n            // Track how far the user has \"watched\" the video without seeking\n            this.playedTime = Math.max(this.playedTime, time);\n          }\n        }\n      });\n      this.player.on('loadedmetadata', () => {\n        this.playedTime = this.task.startAt;\n        this.player!.currentTime(this.task.startAt);\n        if (this.task.autoplay && !this.editor) {\n          this.player!.play();\n        }\n        this.$emit('metadataChange', {\n          length: this.player!.duration(),\n        });\n      });\n      this.player.on('playing', () => {\n        this.isPlaying = true;\n      });\n      this.player.on(['waiting', 'pause'], () => {\n        this.isPlaying = false;\n      });\n\n      const enforceDisabledNavigation = () => {\n        if (this.task.disableNavigation === 'forward disabled') {\n          // Prevent forward navigation\n          if (this.player!.currentTime()! - this.playedTime > 0.5) {\n            this.player!.currentTime(this.playedTime);\n          }\n        } else if (\n          this.task.disableNavigation === 'forward and backward disabled'\n        ) {\n          // Prevent all navigation\n          if (Math.abs(this.player!.currentTime()! - this.playedTime) > 0.5) {\n            this.player!.currentTime(this.playedTime);\n          }\n        }\n      };\n      this.player.on('seeking', () => {\n        if (!this.editor) {\n          enforceDisabledNavigation();\n        }\n      });\n      this.player.on('seeked', () => {\n        if (!this.editor) {\n          enforceDisabledNavigation();\n        }\n      });\n\n      // Observe the progress bar -- we need to know its size and location\n      // in order to position our interaction markers correctly on top of it.\n      const progressBarEls = playerElement.getElementsByClassName(\n        'vjs-progress-holder'\n      );\n      const progressHolder = progressBarEls.item(0) as HTMLElement | undefined;\n      if (!progressHolder) {\n        console.error('no progress holder found');\n      } else {\n        this.progressBarObserver = new ResizeObserver((entries) => {\n          const root = this.$refs.root as HTMLElement;\n          const rootLeft = root.getBoundingClientRect().x;\n          const progressHolderLeft = progressHolder.getBoundingClientRect().x;\n          const offset = progressHolderLeft - rootLeft;\n          this.progressBarParameters.xOffsetPixels = offset;\n          this.progressBarParameters.widthPixels = progressHolder.clientWidth;\n        });\n        this.progressBarObserver.observe(progressHolder);\n      }\n    },\n    activateInteraction(interaction: Interaction) {\n      this.activeInteraction = interaction;\n      this.player!.pause();\n    },\n    closeInteraction() {\n      this.activeInteraction = undefined;\n    },\n    editInteraction(interaction: Interaction) {\n      this.editor!.editInteraction(interaction.id);\n    },\n    onPointerDownResizeHandle(payload: {\n      event: PointerEvent;\n      handle: ResizeHandle;\n      interaction: OverlayInteractionType;\n    }) {\n      console.log('onPointerDownResizeHandle');\n      if (!this.editor) {\n        return;\n      }\n      const { event, handle, interaction } = payload;\n      this.editor.selectInteraction(interaction.id);\n      this.dragState = {\n        type: 'resizeInteraction',\n        interactionId: interaction.id,\n        mouseStartPos: [event.clientX, event.clientY],\n        interactionStartPos: [interaction.x, interaction.y],\n        interactionStartSize: [interaction.width, interaction.height],\n        handle,\n      };\n      (event.target as HTMLElement).setPointerCapture(event.pointerId);\n    },\n    onPointerUpResizeHandle(payload: {\n      event: PointerEvent;\n      handle: ResizeHandle;\n      interaction: Interaction;\n    }) {\n      console.log('onPointerUpResizeHandle');\n      this.dragState = undefined;\n      (payload.event.target as HTMLElement).releasePointerCapture(\n        payload.event.pointerId\n      );\n    },\n    onPointerMoveResizeHandle(payload: {\n      event: PointerEvent;\n      handle: ResizeHandle;\n      interaction: OverlayInteractionType;\n    }) {\n      const { event, handle, interaction } = payload;\n      if (\n        this.dragState?.type === 'resizeInteraction' &&\n        this.dragState.interactionId === interaction.id\n      ) {\n        const rootRect = (\n          this.$refs.root as HTMLElement\n        ).getBoundingClientRect();\n        const interactionEl = document.getElementById(\n          `interaction-${this.uid}-${interaction.id}`\n        ) as HTMLElement;\n\n        // TODO implement resizing\n        const {\n          interactionStartPos: [xInitial, yInitial],\n          interactionStartSize: [widthInitial, heightInitial],\n        } = this.dragState;\n        let newX = xInitial;\n        let newWidth = widthInitial;\n        let newY = yInitial;\n        let newHeight = heightInitial;\n\n        // Convert mouse movement in pixels to fractions of root rect width/height\n        const xPointer = event.clientX / rootRect.width;\n        const dxPointerPixels = event.clientX - this.dragState.mouseStartPos[0];\n        const dxPointer = dxPointerPixels / rootRect.width;\n\n        const yPointer = event.clientY / rootRect.height;\n        const dyPointerPixels = event.clientY - this.dragState.mouseStartPos[1];\n        const dyPointer = dyPointerPixels / rootRect.height;\n\n        // Horizontal resizing\n        if (\n          handle === 'left' ||\n          handle === 'top-left' ||\n          handle === 'bottom-left'\n        ) {\n          if (xPointer > xInitial + widthInitial) {\n            newX = xInitial + widthInitial;\n            newWidth = xPointer - newX;\n          } else {\n            newX = xInitial + dxPointer;\n            newWidth = widthInitial - dxPointer;\n          }\n        } else if (\n          handle === 'right' ||\n          handle === 'top-right' ||\n          handle === 'bottom-right'\n        ) {\n          if (xPointer < xInitial) {\n            newX = xPointer;\n            newWidth = xInitial - xPointer;\n          } else {\n            newX = xInitial;\n            newWidth = widthInitial + dxPointer;\n          }\n        }\n\n        // Vertical resizing\n        if (\n          handle === 'top-left' ||\n          handle === 'top' ||\n          handle === 'top-right'\n        ) {\n          if (yPointer > yInitial + heightInitial) {\n            newY = yInitial + heightInitial;\n            newHeight = yPointer - newY;\n          } else {\n            newY = yInitial + dyPointer;\n            newHeight = heightInitial - dyPointer;\n          }\n        } else if (\n          handle === 'bottom-left' ||\n          handle === 'bottom' ||\n          handle === 'bottom-right'\n        ) {\n          if (yPointer < yInitial) {\n            newY = yPointer;\n            newHeight = yInitial - yPointer;\n          } else {\n            newY = yInitial;\n            newHeight = heightInitial + dyPointer;\n          }\n        }\n\n        // Prevent shrinking the interaction below a minimum size\n        let filteredHeight = interaction.height,\n          filteredWidth = interaction.width,\n          filteredX = interaction.x,\n          filteredY = interaction.y;\n        if (newHeight > 0.05) {\n          filteredHeight = newHeight;\n          filteredY = newY;\n        }\n        if (newWidth > 0.05) {\n          filteredWidth = newWidth;\n          filteredX = newX;\n        }\n\n        // Prevent moving the interaction completely off screen\n        const isOffscreenX =\n          filteredX > 0.95 || filteredX + filteredWidth < 0.05;\n        const isOffscreenY =\n          filteredY > 0.95 || filteredY + filteredHeight < 0.05;\n        if (isOffscreenX) {\n          filteredX = interaction.x;\n          filteredWidth = interaction.width;\n        }\n        if (isOffscreenY) {\n          filteredY = interaction.y;\n          filteredHeight = interaction.height;\n        }\n\n        this.editor!.resizeOverlay(\n          interaction.id,\n          filteredX,\n          filteredY,\n          filteredWidth,\n          filteredHeight\n        );\n        popperInstance?.update();\n      }\n    },\n    onPointerDownInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerDownInteraction');\n      if (!this.editor) {\n        return;\n      }\n      this.editor.selectInteraction(interaction.id);\n      this.dragState = {\n        type: 'dragInteraction',\n        interactionId: interaction.id,\n        mouseStartPos: [event.clientX, event.clientY],\n        interactionStartPos: [interaction.x, interaction.y],\n      };\n      (event.target as HTMLElement).setPointerCapture(event.pointerId);\n    },\n    onPointerUpInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerUpInteraction');\n      this.dragState = undefined;\n      (event.target as HTMLElement).releasePointerCapture(event.pointerId);\n    },\n    onPointerMoveInteraction(event: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'dragInteraction' &&\n        this.dragState.interactionId === interaction.id\n      ) {\n        const rootRect = (\n          this.$refs.root as HTMLElement\n        ).getBoundingClientRect();\n        const interactionEl = event.currentTarget as HTMLElement;\n\n        const clientDx = event.clientX - this.dragState.mouseStartPos[0];\n        const dxFraction = clientDx / rootRect.width;\n        const xFraction = this.dragState.interactionStartPos[0] + dxFraction;\n        const interactionWidth = interactionEl.clientWidth / rootRect.width;\n        const minX = 0.05 - interactionWidth;\n        const maxX = 0.95;\n        const clampedXFraction = Math.min(maxX, Math.max(minX, xFraction));\n\n        const clientDy = event.clientY - this.dragState.mouseStartPos[1];\n        const dyFraction = clientDy / rootRect.height;\n        const yFraction = this.dragState.interactionStartPos[1] + dyFraction;\n        const interactionHeight = interactionEl.clientHeight / rootRect.height;\n        const minY = 0.05 - interactionHeight;\n        const maxY = 0.95;\n        const clampedYFraction = Math.min(maxY, Math.max(minY, yFraction));\n\n        const id = this.dragState.interactionId;\n        this.editor?.dragInteraction(id, clampedXFraction, clampedYFraction);\n        popperInstance?.update();\n      }\n    },\n    progressBarInteractionMarkerStyle(\n      interaction: Interaction\n    ): Partial<CSSStyleDeclaration> {\n      const progressPercentage =\n        interaction.startTime / (this.player?.duration() ?? 1);\n      const timeOffsetPx =\n        this.progressBarParameters.widthPixels * progressPercentage;\n      return {\n        left: `calc(${this.progressBarParameters.xOffsetPixels}px +\n        ${timeOffsetPx}px - 0.25em)`,\n      };\n    },\n    onClickInteractionMarker(interaction: Interaction): void {\n      this.editor?.selectInteraction(interaction.id);\n      // Give keyboard focus to the interaction whose interaction marker was clicked.\n      const focusInteraction = () => {\n        const interactionElement = document.getElementById(\n          `interaction-${this.uid}-${interaction.id}`\n        ) as HTMLElement;\n        interactionElement.focus({\n          focusVisible: true,\n        } as any);\n      };\n      if (!this.visibleInteractions.includes(interaction)) {\n        // Wait for player to seek so the interaction becomes visible\n        this.player!.one('seeked', () => {\n          // Need to wait one Vue 'tick' so that the interaction element appears.\n          this.$nextTick(focusInteraction);\n        });\n      } else {\n        // The interaction is already visible. Focus it immediately.\n        focusInteraction();\n      }\n      // Skip to a time just slightly ahead of the point where the interaction\n      // appears.  This is necessary to avoid off-by-one-frame errors\n      const delta = 0.2;\n      const difference = this.player!.currentTime()! - interaction.startTime;\n      if (difference < 0 || difference > delta) {\n        this.player!.currentTime(interaction.startTime + delta / 2);\n      }\n    },\n  },\n  beforeUnmount() {\n    this.progressBarObserver?.disconnect();\n  },\n});\n","import { render } from \"./VideoPlayer.vue?vue&type=template&id=e926de64&scoped=true&ts=true\"\nimport script from \"./VideoPlayer.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoPlayer.vue?vue&type=script&lang=ts\"\n\nimport \"./VideoPlayer.vue?vue&type=style&index=0&id=e926de64&scoped=true&lang=scss\"\nimport \"./VideoPlayer.vue?vue&type=style&index=1&id=e926de64&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e926de64\"]])\n\nexport default __exports__"],"names":["editorStateSymbol","Symbol","modelUndoable","mounted","el","binding","vnode","prevVnode","validEl","validateElement","setElValueFromStore","splitPath","parsePath","storeValue","getValueAtPath","taskEditorStore","validatedStoreValue","validateBoundValue","value","toString","setAttribute","join","addEventListener","ev","firstPathEl","restOfPath","newState","JSON","parse","stringify","setValueAtPath","newTaskDefinition","undoBatch","console","log","store","Error","bindingMustBeStringError","split","bindingMustUseTaskDefinitionError","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","invalidElementTypeError","val","boundValueMustBePrimitiveError","o","path","reduce","accumulator","pathComponent","Object","prototype","hasOwnProperty","call","invalidPathError","lastPathComponent","pop","undefined","targetObject","selectedLanguage","values","window","STUDIP","INSTALLED_LANGUAGES","find","lang","selected","gettextPlugin","createGettext","availableLanguages","en","de","defaultLanguage","translations","$gettext","memoize","args","$pgettext","$npgettext","overlaySchema_v1","z","type","id","startTime","endTime","x","y","width","height","text","pauseWhenVisible","optional","default","overlaySchema_v2","omit","extend","v","content_wysiwyg","overlaySchema","transform","hasOwn","val_v1","val_v1_rest","val_v2","lmbTaskInteractionSchema","taskDefinition","taskDefinitionSchemaMinusInteractiveVideo","interactiveVideoInteractionSchema","refine","data","message","noVideoSchema","youtubeVideoSchema","url","studipFileVideoSchema_v1","file","wysiwygUploadedFileSchema","studipFileVideoSchema_v2","file_id","studipFileVideoSchema","urlParams","URLSearchParams","get","videoSchema","interactiveVideoTaskSchema","task_type","video","autoplay","startAt","disableNavigation","interactions","printInteractionType","interaction","printTaskType","iconForInteraction","iconForTaskType","httpClient","axios","baseURL","URLHelper","getURL","headers","async","createFile","fileData","folder","termId","relationships","formData","FormData","append","attributes","name","request","post","response","location","fileRefsSchema","mkdate","chdate","description","downloads","filesize","links","self","meta","saveTask","moduleName","infoText","module_id","block_id","LernmoduleVueJS","saveRoute","token","CSRF_TOKEN","parsedTaskDefinition","taskDefinitionSchema","fetch","method","body","then","ok","statusText","json","updateAttempt","points","success","updateAttemptRoute","entries","forEach","score","sleep","ms","Promise","r","setTimeout","setAutoFreeze","TaskEditorModule","VuexModule","status","newTask","this","undoRedoStack","undoRedoIndex","hasUnsavedChanges","isEqual","serverTaskDefinition","serverModuleName","serverInfotext","infotext","canUndo","canRedo","length","undo","currentState","inputElements","document","querySelectorAll","inputEl","item","collapsedParents","filter","element","contains","parent","classList","remove","focus","redo","nextState","initializeCourseware","task_json","info","initializeNonCourseware","module","customdata","isArray","startedSaving","saveStatus","saveSuccess","payload","saveFailure","error","nonFatalErrors","push","context","commit","saveResult","performEdit","currentUndoRedoState","shouldMergeEdits","slice","concat","setModuleName","setInfoText","__decorate","Mutation","Action","Module","CoursewareBlockModule","setShowEditorUI","state","showEditorUI","saveBlock","postMessage","cancelEditing","setContext","studipContext","reststateVuex","require","mapResourceModules","createStore","modules","taskEditor","coursewareBlock","names","getModule","coursewareBlockStore","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","render","_ctx","_cache","$props","$setup","$data","$options","_component_studip_wysiwyg","_resolveComponent","_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","onClick","addBlank","style","instructions","_createVNode","modelValue","template","$event","ref","_createTextVNode","_withDirectives","instantFeedback","_vModelSelect","_normalizeClass","disabled","strings","checkButton","_vModelText","alphabeticOrder","_vModelCheckbox","retryAllowed","retryButton","showSolutionsAllowed","onChange","allBlanksMustBeFilledForSolutions","solutionsButton","resultMessage","_Fragment","_renderList","feedback","i","key","min","max","percentage","title","titleForDeleteButtonForFeedback","removeFeedback","src","urlForIcon","addFeedback","defineComponent","components","StudipWysiwyg","props","required","computed","feedbackSortedByScore","map","sort","a","b","methods","wysiwygEl","$refs","wysiwyg","$el","editor","getEditor","selection","model","start","getFirstPosition","end","getLastPosition","change","writer","insertText","feedbackToRemove","iconName","ASSETS_URL","__exports__","_component_FeedbackElement","parsedTemplate","uuid","innerHTML","userInputs","classForFilledBlank","draggable","editable","onDragstart","startDragUsedAnswer","onDrop","onDropBlank","onDragover","_withModifiers","onDragenter","getAnswerById","onClickBlank","hint","_createCommentVNode","showSolutions","submittedAnswerIsCorrect","solution","onDropUnusedAnswers","unusedAnswers","answer","startDragUnusedAnswer","onClickUnusedAnswer","showResults","_createBlock","correctAnswers","maxPoints","task","showFillInAllTheBlanksMessage","textContent","fillInAllTheBlanksMessage","showCheckButton","onClickCheck","showExtraButtons","onClickShowSolution","onClickTryAgain","FeedbackElement","submittedAnswers","userWantsToSeeSolutions","draggedAnswerId","draggedSourceId","clickedAnswerId","blank","submittedAnswerId","submittedAnswer","isAnswerCorrect","userAnswer","blanks","index","$emit","getElement","elementId","dragEvent","answerId","dataTransfer","dropEffect","effectAllowed","property","draggedAnswer","previousBlank","preventDefault","answers","splitTemplate","uuidv4","splitString","word","randomizedAnswers","Math","random","sortedAnswers","localeCompare","blanksFilled","keys","allBlanksAreFilled","allAnswersAreCorrect","every","includes","inputHasChanged","showSolutionButton","showRetryButton","replace","fillInAllBlanksMessage","low","lowNumber","high","highNumber","optimum","achievedPoints","achievedMaxPoints","feedbackMessage","Number","String","percentageCorrect","round","uploadRequestPromise","accept","onInputChange","errors","emits","selectedFolderId","getUserFolders","wysiwigUploads","loadedUserFolders","f","mapGetters","relatedFolders","userId","USER_ID","userObject","userFolders","relationship","mapActions","_loadRelatedFolders","loadRelatedFolders","params","options","event","warn","input","fileInput","files","fileRef","catch","_hoisted_18","_hoisted_19","caseSensitive","acceptTypos","autoCorrect","readonly","classForInput","onBlur","onInputBlurOrEnter","onKeyup","_withKeys","onInput","solutions","dljs","some","isAnswerCorrectWithTypo","toLowerCase","distance","autoGrowTextField","computedStyles","getComputedStyle","computedFontSize","getPropertyValue","computedFontFamily","computedPadding","fontSize","parseInt","minEm","minPx","rightPadEm","rightPadPx","static_min_pad","tmp","createElement","tmpStyles","position","padding","parentElement","clientWidth","parentWidth","wrapperElement","taskEditableAfterCheck","target","_component_FileUpload","onFileUploaded","onImageUploaded","FileUpload","produce","draft","image","fileIdToUrl","onSubmit","addWord","_withScopeId","n","_pushScopeId","_popScopeId","words","_component_StudipWysiwyg","addSolution","_component_feedback_element","tabindex","role","isMarked","onClickWord","onKeydown","onWordKeydown","onWordKeyup","classForWord","maxScore","onClickRetry","debug","markedWords","Set","clear","delete","add","code","correct","has","templateElement","trim","staticWord","_component_EditedMemoryCard","cards","card","selectedCardIndex","selectCard","question","deleteCard","alt","addCard","_component_EditedMemoryCardImage","cardIndex","altText","onInputAltText","deleteImage","findIndex","EditedMemoryCardImage","onInputAltTextBAD","EditedMemoryCard","beforeMount","v4","splice","_component_MemoryCardComponent","amountOfFlips","amountOfPairsSolved","totalAmountOfPairs","onClickCard","_imports_0","memoryCardFlipped","flipped","MemoryCardComponent","firstFlippedCardId","matchingCardId","solved","firstCard","getCardById","resetAllUnsolvedCardsExcept","exceptionId","resetCards","shuffleCards","card1","card2","cardId","amountOfCardsSolved","watch","handler","flatMap","duplicateCardId","immediate","content","_hoisted_20","_hoisted_21","_component_ElementPair","_component_MultimediaElement","pairs","pair","selectedPairIndex","selectPair","addPair","_normalizeStyle","addPairButtonBackgroundImage","selectedPair","draggableElement","removeDraggableImage","onUploadDraggableImage","targetElement","removeTargetImage","onUploadTargetImage","deletePair","MultimediaElement","ElementPair","pairIndex","backgroundImage","_component_TargetImage","onDropOnInteractiveElements","draggableElements","draggableElementId","isDraggableElementUsed","startDragElement","onDragend","endDragElement","onClickDraggableElement","draggedElementId","elementIdInteractedWith","getElementById","ref_for","outlined","elementsDraggedOntoTargets","getElementDraggedOntoTarget","isCorrect","showResult","onDropOnTargetElement","startDragTargetElement","endDragTargetElement","onClickTargetElement","checkResults","reset","draggableImage","incorrect","targetImage","Boolean","TargetImage","targetId","userInput","targetElementId","setData","userDraggedElementId","otherTargetId","getData","elementsById","usedElementId","pair1","pair2","removeAnswer","feedbackSelected","feedbackNotSelected","addAnswer","canAnswerMultiple","randomOrder","answerToRemove","classForAnswer","selectedAnswers","isSubmitted","selectedAnswer","_vModelRadio","showSolutionsButton","selectAnswer","_component_SequencingEditorImage","images","selectedImageIndex","selectImage","addImage","onUploadImage","imageIndex","onInputImageAltText","SequencingEditorImage","grabbable","startDragImage","onDragOver","onDropImage","imageInteractedWith","fromIndex","indexOf","toIndex","moveInArray","array","shuffleImages","image1","image2","updateValue","forceSoftBreaks","removeWrappingPTag","disableAutoformat","insertHtmlComment","fallbackActive","ckeInit","initCKE","wysiwyg_enabled","textAreaElement","studip_wysiwyg","onload","ckeditor","on","regex","test","editing","view","evt","execute","stop","priority","autoformat","plugins","isEnabled","_component_SelectVideo","_component_TabComponent","_component_AddInteractions","_component_TabsComponent","_withCtx","icon","_","tab","hash","_renderSlot","activeTabHash","tabs","provide","addTab","count","inject","isActive","created","buttonSelector","onDragoverCapture","onDragOverTimeline","onPointerdown","onPointerDownAxis","axisScale","point","formatVideoTimestamp","major","visibleInteractions","interactionMarkerStyle","onClickInteraction","dragState","onWheel","onContextmenu","selectedInteractionId","timelineInteractionStyle","onPointerDownInteraction","onPointermove","onPointerMoveInteraction","onPointerup","onPointerUpInteraction","viewportEnd","onPointerDownInteractionStart","onPointerMoveInteractionStart","onPointerUpInteractionStart","onPointerDownInteractionEnd","onPointerMoveInteractionEnd","onPointerUpInteractionEnd","onDragStartTimeMarker","left","positionForTimeMarker","zoomTransform","viewportWidthEm","viewportWidthSeconds","viewportStart","getEmValueFromElement","pixelValue","parentNode","parentFontSize","parseFloat","elementFontSize","pixelValueOfOneEm","setup","currentTime","videoMetadata","t","k","observer","IntersectionObserver","recomputeViewportWidth","observe","timelineAxis","dragTimeline","dSeconds","pixelsToSeconds","dx","translate","constrainZoomTranslate","dragBehavior","drag","button","select","timeline","isWithinViewport","isBeingDragged","secondsPerEm","secondsToTimelinePercentage","scale","seconds","deltaT","zoom","delta","time","viewportStart0","viewportWidth0","exp","newK","viewportWidth1","viewportStart1","xCoordinateToTime","clientX","deltaY","pixelsToEm","pixels","NaN","axis","rect","getBoundingClientRect","widthInEm","timestampSeconds","hours","minutes","centiseconds","twoDigits","toLocaleString","minimumIntegerDigits","maximumFractionDigits","floor","fraction","xFraction","clampedTime","startDeltaT","startPercent","endDeltaT","endPercent","interactionLength","mouseStartPos","clientY","interactionStartTime","interactionDuration","setPointerCapture","pointerId","selectInteraction","mouseDx","secondsPerPixel","maxTime","secondsClamped","dragInteractionTimeline","releasePointerCapture","movementX","timeClamped","e","emitTimelineSeekThrottled","throttle","_component_VideoTimeInput","selectedInteraction","inputStartTime","inputStartTimeFormatError","invalid","inputStartTimeErrors","inputEndTime","inputEndTimeFormatError","inputEndTimeErrors","_KeepAlive","_resolveDynamicComponent","editorForTaskType","viewerForTaskType","onBlurUserInput","newValue","formatSeconds","parsedUserInput","string","timeRegexCentiseconds","centisecondsMatch","exec","timeRegexHhMmSs","hhMmSsMatch","VideoTimeInput","_defineComponent","__props","videoPlayer","videoTimeline","selectedInteractionProperties","taskTypes","editInteraction","dragInteraction","resizeOverlay","deleteInteraction","selectionId","nextTick","scrollIntoView","behavior","block","onVideoMetadataChange","onTimeUpdate","onTimelineSeek","player","onClickZoomIn","onClickZoomOut","onClickPlay","play","onClickPause","pause","insertOverlay","insertLmbTaskInteraction","prompt","confirmed","confirm","yFraction","duration","VideoPlayer","ref_key","onTimeupdate","onMetadataChange","_unref","interactionType","taskType","VideoTimeline","onDeleteInteraction","SelectedInteractionProperties","_component_FilePicker","_component_VideoPlayer","onUploadStudipVideo","selectedFileId","onSelectFile","updateCurrentFile","onSaveUploadedFile","youtubeUrlInput","onSaveYoutubeVideo","href","fileDetailsUrl","selectedFile","deleteVideo","startPositionInputError","onClickUseCurrentTime","_component_FolderPicker","_component_translate","allowUserFolders","unchoose","currentValue","selectFile","_vShow","canBeEmpty","changeSelection","label","textOptGroupCourse","loadedCourseFolders","textOptGroupUser","filterCourseFolders","folders","allowHomeworkFolders","validatedParents","Map","validateParentFolder","isValid","parentId","hiddenParentFolderValidation","set","parentFolder","courseObject","getCourseFolders","confirmSelectedFolder","FolderPicker","mimeType","isImage","isVideo","isAudio","isDocument","fileRefById","relatedFileRefs","relatedTermOfUse","loadFileRef","loadRelatedFileRefs","filterFiles","loadArray","filterFile","fileTermsOfUse","videoConditions","condition","audioConditions","officeConditions","mime_type","download_url","file_name","include","fileRefs","getFolderFiles","oldValue","FilePicker","SelectVideo","AddInteractions","TabComponent","TabsComponent","counter","_component_LmbTaskInteraction","_component_OverlayInteraction","progressBarInteractionMarkerStyle","onClickInteractionMarker","hidden","interactionForPopper","activateInteraction","uid","top","onActivateInteraction","onPointerDownResizeHandle","onPointerMoveResizeHandle","onPointerUpResizeHandle","_Transition","activeInteraction","closeInteraction","resizeHandles","handle","popperInstance","OverlayInteraction","LmbTaskInteraction","playedTime","isPlaying","progressBarParameters","widthPixels","xOffsetPixels","progressBarObserver","videoInfo","resolve","timeAndVisibleInteractions","loadVideoInfo","initializePlayer","newTime","newVisibleInteractions","oldTime","oldVisibleInteractions","isPlayingForward","newlyVisibleInteractionWithPause","destroy","$nextTick","interactionElement","tooltipElement","selectedInteractionTooltip","createPopper","placement","modifiers","offset","onPlayerReady","videoUrl","videoType","disconnect","dispose","playerElement","videoJsContainer","appendChild","videojs","techOrder","sources","controls","controlBar","children","volumePanel","inline","muted","paused","enforceDisabledNavigation","abs","progressBarEls","getElementsByClassName","progressHolder","ResizeObserver","root","rootLeft","progressHolderLeft","interactionId","interactionStartPos","interactionStartSize","rootRect","xInitial","yInitial","widthInitial","heightInitial","newX","newWidth","newY","newHeight","xPointer","dxPointerPixels","dxPointer","yPointer","dyPointerPixels","dyPointer","filteredHeight","filteredWidth","filteredX","filteredY","isOffscreenX","isOffscreenY","update","interactionEl","currentTarget","clientDx","dxFraction","interactionWidth","minX","maxX","clampedXFraction","clientDy","dyFraction","interactionHeight","clientHeight","minY","maxY","clampedYFraction","progressPercentage","timeOffsetPx","focusInteraction","focusVisible","one","difference","beforeUnmount"],"sourceRoot":""}