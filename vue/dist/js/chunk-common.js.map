{"version":3,"file":"js/chunk-common.js","mappings":"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","sources":["webpack://vue101/./src/directives/vModelUndoable.ts","webpack://vue101/./src/language/gettext.ts","webpack://vue101/./src/components/FillInTheBlanksViewer.vue?ebcd","webpack://vue101/./src/components/FeedbackElement.vue?4ea9","webpack://vue101/./src/components/FeedbackElement.vue?667e","webpack://vue101/./src/components/FeedbackElement.vue","webpack://vue101/./src/components/FillInTheBlanksViewer.vue?a6bf","webpack://vue101/./src/components/FillInTheBlanksViewer.vue","webpack://vue101/./src/components/FillInTheBlanksEditor.vue?1eb6","webpack://vue101/./src/components/FillInTheBlanksEditor.vue?bd37","webpack://vue101/./src/components/FillInTheBlanksEditor.vue","webpack://vue101/./src/components/QuestionEditor.vue?e61e","webpack://vue101/./src/components/QuestionEditor.vue?68ef","webpack://vue101/./src/components/QuestionEditor.vue","webpack://vue101/./src/components/QuestionViewer.vue?cbf4","webpack://vue101/./src/components/QuestionViewer.vue?5a19","webpack://vue101/./src/components/QuestionViewer.vue","webpack://vue101/./src/components/DragTheWordsViewer.vue?d950","webpack://vue101/./src/components/DragTheWordsViewer.vue?8d04","webpack://vue101/./src/components/DragTheWordsViewer.vue","webpack://vue101/./src/components/DragTheWordsEditor.vue?4811","webpack://vue101/./src/components/DragTheWordsEditor.vue?4b1e","webpack://vue101/./src/components/DragTheWordsEditor.vue","webpack://vue101/./src/components/MarkTheWordsViewer.vue?1902","webpack://vue101/./src/components/MarkTheWordsViewer.vue?34dc","webpack://vue101/./src/components/MarkTheWordsViewer.vue","webpack://vue101/./src/components/MarkTheWordsEditor.vue?f56e","webpack://vue101/./src/components/MarkTheWordsEditor.vue?b50e","webpack://vue101/./src/components/MarkTheWordsEditor.vue","webpack://vue101/./src/components/MemoryEditor.vue?0ae5","webpack://vue101/./src/components/EditedMemoryCard.vue?347b","webpack://vue101/./src/components/EditedMemoryCardImage.vue?0912","webpack://vue101/./src/components/EditedMemoryCardImage.vue?9bfd","webpack://vue101/./src/components/EditedMemoryCardImage.vue","webpack://vue101/./src/components/FileUpload.vue?2987","webpack://vue101/./src/components/FileUpload.vue?a2bf","webpack://vue101/./src/components/FileUpload.vue","webpack://vue101/./src/components/EditedMemoryCard.vue?eb7b","webpack://vue101/./src/components/EditedMemoryCard.vue","webpack://vue101/./src/components/MemoryEditor.vue?518c","webpack://vue101/./src/components/MemoryEditor.vue","webpack://vue101/./src/components/MemoryViewer.vue?855f","webpack://vue101/./src/components/MemoryCard.vue?2640","webpack://vue101/./src/components/MemoryCard.vue?89da","webpack://vue101/./src/components/MemoryCard.vue","webpack://vue101/./src/components/MemoryViewer.vue?6ce2","webpack://vue101/./src/components/MemoryViewer.vue","webpack://vue101/./src/components/ImagePairingViewer.vue?a995","webpack://vue101/./src/components/TargetImage.vue?26d1","webpack://vue101/./src/components/TargetImage.vue?2ffe","webpack://vue101/./src/components/TargetImage.vue","webpack://vue101/./src/components/ImagePairingViewer.vue?6dc3","webpack://vue101/./src/components/ImagePairingViewer.vue","webpack://vue101/./src/components/ImagePairingEditor.vue?a8b8","webpack://vue101/./src/components/EditedImagePair.vue?eeb8","webpack://vue101/./src/components/EditedImagePairImage.vue?ed11","webpack://vue101/./src/components/EditedImagePairImage.vue?4c87","webpack://vue101/./src/components/EditedImagePairImage.vue","webpack://vue101/./src/components/EditedImagePair.vue?1602","webpack://vue101/./src/components/EditedImagePair.vue","webpack://vue101/./src/components/ImagePairingEditor.vue?ed8a","webpack://vue101/./src/components/ImagePairingEditor.vue","webpack://vue101/./src/components/ImageSequencingViewer.vue?ba95","webpack://vue101/./src/components/ImageSequencingViewer.vue?7a37","webpack://vue101/./src/components/ImageSequencingViewer.vue","webpack://vue101/./src/components/ImageSequencingEditor.vue?9169","webpack://vue101/./src/components/ImageSequencingEditorImage.vue?49ec","webpack://vue101/./src/components/ImageSequencingEditorImage.vue?6317","webpack://vue101/./src/components/ImageSequencingEditorImage.vue","webpack://vue101/./src/components/ImageSequencingEditor.vue?36bd","webpack://vue101/./src/components/ImageSequencingEditor.vue","webpack://vue101/./src/components/FindTheHotspotEditor.vue?430f","webpack://vue101/./src/components/FindTheHotspotEditor.vue?67e7","webpack://vue101/./src/components/FindTheHotspotEditor.vue","webpack://vue101/./src/components/FindTheHotspotViewer.vue?696e","webpack://vue101/./src/components/FindTheHotspotViewer.vue?4308","webpack://vue101/./src/components/FindTheHotspotViewer.vue","webpack://vue101/./src/models/InteractiveVideoTask.ts","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoEditor.vue?3db9","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabsComponent.vue","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabsComponent.vue?4702","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabComponent.vue","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabComponent.vue?7dcd","webpack://vue101/./src/components/interactiveVideo/VideoPlayer.vue?974c","webpack://vue101/./src/components/interactiveVideo/editorState.ts","webpack://vue101/./src/components/interactiveVideo/interactions/LmbTaskInteraction.vue?e2f7","webpack://vue101/./src/components/interactiveVideo/interactions/LmbTaskInteraction.vue?76e4","webpack://vue101/./src/components/interactiveVideo/interactions/LmbTaskInteraction.vue","webpack://vue101/./src/components/interactiveVideo/interactions/OverlayInteraction.vue?aecf","webpack://vue101/./src/components/interactiveVideo/interactions/OverlayInteraction.vue?fd71","webpack://vue101/./src/components/interactiveVideo/interactions/OverlayInteraction.vue","webpack://vue101/./src/components/interactiveVideo/VideoPlayer.vue?f73b","webpack://vue101/./src/components/interactiveVideo/VideoPlayer.vue","webpack://vue101/./src/components/interactiveVideo/VideoTimeline.vue?b49d","webpack://vue101/./src/components/interactiveVideo/getEmValueFromElement.ts","webpack://vue101/./src/components/interactiveVideo/VideoTimeline.vue?a938","webpack://vue101/./src/components/interactiveVideo/VideoTimeline.vue","webpack://vue101/./src/components/interactiveVideo/SelectedInteractionProperties.vue?07f2","webpack://vue101/./src/components/interactiveVideo/VideoTimeInput.vue?05c3","webpack://vue101/./src/components/interactiveVideo/VideoTimeInput.vue?b5ca","webpack://vue101/./src/components/interactiveVideo/VideoTimeInput.vue","webpack://vue101/./src/components/interactiveVideo/SelectedInteractionProperties.vue?09b4","webpack://vue101/./src/components/interactiveVideo/SelectedInteractionProperties.vue","webpack://vue101/./src/components/interactiveVideo/AddInteractions.vue?2832","webpack://vue101/./src/components/interactiveVideo/AddInteractions.vue","webpack://vue101/./src/components/interactiveVideo/SelectVideo.vue?cab0","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FilePicker.vue?41d6","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FolderPicker.vue?9c9f","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FolderPicker.vue?fbe3","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FolderPicker.vue","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FilePicker.vue?6109","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FilePicker.vue","webpack://vue101/./src/components/interactiveVideo/SelectVideo.vue?3b43","webpack://vue101/./src/components/interactiveVideo/SelectVideo.vue","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoEditor.vue?5045","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoEditor.vue","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoViewer.vue?292b","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoViewer.vue?f621","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoViewer.vue","webpack://vue101/./src/models/TaskDefinition.ts","webpack://vue101/./src/routes.ts","webpack://vue101/./src/store/modules/taskEditor.ts","webpack://vue101/./src/store/modules/coursewareBlock.ts","webpack://vue101/./src/store/index.ts","webpack://vue101/./src/components/StudipWysiwyg.vue?ebc4","webpack://vue101/./src/components/StudipWysiwyg.vue?850b","webpack://vue101/./src/components/StudipWysiwyg.vue"],"sourcesContent":["import { store, taskEditorStore } from '@/store';\nimport { Directive, DirectiveBinding } from 'vue';\n\n/**\n * This is a custom directive that you can use like v-model in the Lernmodul-Editor.\n * Like v-model, it is a two-way binding, but rather than directly modifying\n * 'taskDefinition', it saves changes into the undo-redo stack by calling\n * 'taskEditorStore.performEdit'.\n * It also sets an attribute 'data-undo-focus-id' on the element.\n * This attribute is used during the 'undo' and 'redo' operations.\n * The input elements whose contents are modified by 'undo' or 'redo' will\n * automatically be focus()ed and brought into view.\n * TODO: Can I get better stack traces when errors are thrown inside of\n *   directive hooks?  Right now, they do not show what line of the .vue file\n *   caused the errors to be thrown.\n */\nexport const modelUndoable: Directive = {\n  mounted(\n    el: HTMLElement,\n    binding: DirectiveBinding<unknown>,\n    vnode,\n    prevVnode\n  ) {\n    const validEl = validateElement(el);\n    validEl.setAttribute('data-undo-focus-id', parsePath(binding).join('.'));\n\n    el.addEventListener('input', (ev: Event) => {\n      const splitPath = parsePath(binding);\n      const [firstPathEl, ...restOfPath] = splitPath;\n      const value = vnode.el.value;\n      const newState = JSON.parse(\n        JSON.stringify(taskEditorStore.taskDefinition)\n      );\n      setValueAtPath(newState, restOfPath, value);\n      taskEditorStore.performEdit({\n        newTaskDefinition: newState,\n        undoBatch: splitPath.join('.'),\n      });\n      console.log(el, binding, vnode, prevVnode, ev, splitPath, value);\n    });\n\n    function setElValueFromStore() {\n      const splitPath = parsePath(binding);\n      const storeValue = getValueAtPath(taskEditorStore, splitPath);\n      const validatedStoreValue = validateBoundValue(storeValue);\n      validEl.value = validatedStoreValue.toString();\n    }\n    store.watch(\n      () => {\n        const splitPath = parsePath(binding);\n        return getValueAtPath(taskEditorStore, splitPath);\n      },\n      () => setElValueFromStore()\n    );\n    setElValueFromStore();\n  },\n} as const;\n\n/**\n * Make sure that the binding supplied by the user is a valid one.\n * It should be a path to a field of 'taskEditorStore.taskDefinition',\n * e.g. 'taskDefinition.task_type'.\n * @param binding - See https://vuejs.org/guide/reusability/custom-directives.html#directive-hooks\n */\nfunction parsePath(binding: DirectiveBinding<unknown>): Array<string> {\n  if (typeof binding.value !== 'string') {\n    throw new Error(bindingMustBeStringError + binding.value);\n  }\n  const splitPath = binding.value.split('.');\n  const firstPathEl = splitPath[0];\n  if (firstPathEl !== 'taskDefinition') {\n    throw new Error(bindingMustUseTaskDefinitionError + binding.value);\n  }\n  return splitPath;\n}\n\nfunction validateElement(\n  el: HTMLElement\n): HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement {\n  if (\n    el instanceof HTMLInputElement ||\n    el instanceof HTMLTextAreaElement ||\n    el instanceof HTMLSelectElement\n  ) {\n    return el;\n  }\n  throw new Error(invalidElementTypeError);\n}\n\nfunction validateBoundValue(val: unknown): string | number | boolean {\n  if (\n    typeof val !== 'string' &&\n    typeof val !== 'number' &&\n    typeof val !== 'boolean'\n  ) {\n    throw new Error(boundValueMustBePrimitiveError + typeof val);\n  }\n  return val;\n}\n\nfunction getValueAtPath(o: object, path: Array<string>): unknown {\n  return path.reduce((accumulator: any, pathComponent: string) => {\n    if (!Object.prototype.hasOwnProperty.call(accumulator, pathComponent)) {\n      throw new Error(invalidPathError + path.join('.'));\n    }\n    return accumulator[pathComponent];\n  }, o);\n}\n\nfunction setValueAtPath(o: object, splitPath: Array<string>, value: any) {\n  const [lastPathComponent, ...restOfPath] = [splitPath.pop(), ...splitPath];\n  if (lastPathComponent === undefined) {\n    throw new Error('Path has no last element');\n  }\n  const targetObject = restOfPath.reduce(\n    (accumulator: Record<string, any>, pathComponent: string) =>\n      accumulator[pathComponent],\n    o\n  );\n  targetObject[lastPathComponent] = value;\n}\n\n// TODO translate these strings in Weblate.\nconst bindingMustBeStringError =\n  'The value supplied to v-model-undoable must be a string. ' +\n  'Example: <select v-model-undoable=\"\\'taskDefinition.task_type\\'\">\\n' +\n  'You supplied the following value: ';\n\nconst bindingMustUseTaskDefinitionError =\n  'The string supplied to v-model-undoable must be a path which begins with ' +\n  '\"taskDefinition\", and the path must be wrapped in two sets of quotes. \\n' +\n  'Example usage: <select v-model-undoable=\"\\'taskDefinition.task_type\\'\">\\n' +\n  'You supplied the following string: ';\n\nconst boundValueMustBePrimitiveError =\n  'The value bound with v-model-undoable must be a string, number or boolean.  ' +\n  'Other datatypes are not currently supported.  The value found is of type ';\n\nconst invalidPathError =\n  'No field was found in the store under the given path.  Did you make a ' +\n  'typo?  Path: ';\n\nconst invalidElementTypeError =\n  'v-model-undoable can only be used on <input>, <textarea> and <select> elements';\n","import { createGettext } from 'vue3-gettext';\nimport translations from '@/language/translations.json';\nimport { memoize } from 'lodash';\n\nconst selectedLanguage = Object.values(window.STUDIP.INSTALLED_LANGUAGES).find(\n  (lang) => lang.selected\n);\nconst gettextPlugin = createGettext({\n  availableLanguages: {\n    en: 'English',\n    de: 'Deutsch',\n  },\n  defaultLanguage: selectedLanguage?.path ?? 'de',\n  translations: translations,\n});\n\n// Cache gettext results.\n// This fixes the problem we had where the error 'No translations found for de' was\n// being printed excessively often (sometimes 1000s of times per second) during\n// certain UI interactions, e.g. when dragging interactions around on top of\n// the video in the Interactive Video Editor.\nconst $gettext = memoize(gettextPlugin.$gettext, (...args) =>\n  JSON.stringify(args)\n);\n\nexport { gettextPlugin, $gettext };\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withKeys as _withKeys, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-cd635ab8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  class: \"h5pModule\",\n  ref: \"wrapperElement\"\n}\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = [\"onUpdate:modelValue\", \"readonly\", \"disabled\"]\nconst _hoisted_4 = { key: 0 }\nconst _hoisted_5 = [\"data-tooltip\"]\nconst _hoisted_6 = {\n  key: 1,\n  class: \"h5pSolution\"\n}\nconst _hoisted_7 = [\"textContent\"]\nconst _hoisted_8 = { class: \"h5pButtonPanel\" }\nconst _hoisted_9 = [\"textContent\"]\nconst _hoisted_10 = [\"textContent\"]\nconst _hoisted_11 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.parsedTemplate, (element) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: element.uuid\n      }, [\n        (element.type === 'staticText')\n          ? (_openBlock(), _createElementBlock(\"span\", {\n              key: 0,\n              innerHTML: element.text\n            }, null, 8, _hoisted_2))\n          : (element.type === 'blank')\n            ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                _withDirectives(_createElementVNode(\"input\", {\n                  type: \"text\",\n                  \"onUpdate:modelValue\": ($event: any) => ((_ctx.userInputs[element.uuid]) = $event),\n                  readonly: !this.editable,\n                  disabled: !this.editable,\n                  class: _normalizeClass(_ctx.classForInput(element)),\n                  onBlur: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputBlurOrEnter && _ctx.onInputBlurOrEnter(...args))),\n                  onKeyup: _cache[1] || (_cache[1] = _withKeys(\n//@ts-ignore\n(...args) => (_ctx.onInputBlurOrEnter && _ctx.onInputBlurOrEnter(...args)), [\"enter\"])),\n                  onInput: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.onInput && _ctx.onInput(...args)))\n                }, null, 42, _hoisted_3), [\n                  [_vModelText, _ctx.userInputs[element.uuid]]\n                ]),\n                (element.hint)\n                  ? (_openBlock(), _createElementBlock(\"label\", _hoisted_4, [\n                      _createElementVNode(\"span\", {\n                        class: \"tooltip tooltip-icon\",\n                        \"data-tooltip\": element.hint\n                      }, null, 8, _hoisted_5)\n                    ]))\n                  : _createCommentVNode(\"\", true),\n                (_ctx.showSolutions && !_ctx.submittedAnswerIsCorrect(element))\n                  ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString(element.solutions[0]), 1))\n                  : _createCommentVNode(\"\", true)\n              ], 64))\n            : _createCommentVNode(\"\", true)\n      ], 64))\n    }), 128)),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          achievedPoints: _ctx.correctAnswers,\n          maxPoints: _ctx.maxPoints,\n          feedback: _ctx.task.feedback,\n          resultMessage: _ctx.resultMessage\n        }, null, 8, [\"achievedPoints\", \"maxPoints\", \"feedback\", \"resultMessage\"]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.showFillInAllTheBlanksMessage)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: \"h5pMessage\",\n          textContent: _toDisplayString(_ctx.fillInAllTheBlanksMessage)\n        }, null, 8, _hoisted_7))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_8, [\n      (_ctx.showCheckButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.onClickCheck(false))),\n            class: \"h5pButton\",\n            textContent: _toDisplayString(this.task.strings.checkButton)\n          }, null, 8, _hoisted_9))\n        : _createCommentVNode(\"\", true),\n      (_ctx.showExtraButtons)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n            (_ctx.showSolutionButton)\n              ? (_openBlock(), _createElementBlock(\"button\", {\n                  key: 0,\n                  onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.onClickShowSolution && _ctx.onClickShowSolution(...args))),\n                  class: \"h5pButton\",\n                  textContent: _toDisplayString(this.task.strings.solutionsButton)\n                }, null, 8, _hoisted_10))\n              : _createCommentVNode(\"\", true),\n            (_ctx.showRetryButton)\n              ? (_openBlock(), _createElementBlock(\"button\", {\n                  key: 1,\n                  onClick: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n                  class: \"h5pButton\",\n                  textContent: _toDisplayString(this.task.strings.retryButton)\n                }, null, 8, _hoisted_11))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        : _createCommentVNode(\"\", true)\n    ])\n  ], 512))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { class: \"h5pFeedbackContainer\" }\nconst _hoisted_2 = { class: \"h5pFeedbackText\" }\nconst _hoisted_3 = [\"low\", \"high\", \"optimum\", \"max\", \"value\"]\nconst _hoisted_4 = [\"src\"]\nconst _hoisted_5 = { key: 1 }\nconst _hoisted_6 = {\n  key: 2,\n  class: \"h5pFeedbackText\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, _toDisplayString(_ctx.resultMessage), 1),\n    (_ctx.maxPoints)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"meter\", {\n            min: \"0\",\n            low: _ctx.lowNumber,\n            high: _ctx.highNumber,\n            optimum: _ctx.maxPoints,\n            max: _ctx.maxPoints,\n            value: _ctx.achievedPoints\n          }, null, 8, _hoisted_3),\n          (_ctx.achievedMaxPoints)\n            ? (_openBlock(), _createElementBlock(\"img\", {\n                key: 0,\n                src: _ctx.urlForIcon('star'),\n                width: \"36\",\n                height: \"36\"\n              }, null, 8, _hoisted_4))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(_ctx.achievedPoints), 1)),\n    (_ctx.feedbackMessage)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString(_ctx.feedbackMessage), 1))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","\n// need v-model to provide and get content -> <studip-wysiwyg v-model=\"content\" />\nimport { defineComponent, PropType } from 'vue';\nimport { Feedback } from '@/models/TaskDefinition';\nimport { round } from 'lodash';\n\nexport default defineComponent({\n  name: 'FeedbackElement',\n  props: {\n    achievedPoints: Number,\n    maxPoints: Number,\n    resultMessage: String,\n    feedback: Object as PropType<Feedback[]>,\n  },\n  data() {\n    return {};\n  },\n  mounted() {},\n  methods: {\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n  computed: {\n    lowNumber(): Number {\n      if (this.maxPoints) return this.maxPoints / 3;\n      return 0;\n    },\n\n    highNumber(): Number {\n      if (this.maxPoints) return (this.maxPoints * 2) / 3;\n      return 0;\n    },\n\n    feedbackSortedByScore(): Feedback[] {\n      if (this.feedback) {\n        return this.feedback\n          .map((value) => value)\n          .sort((a, b) => b.percentage - a.percentage);\n      }\n      return [];\n    },\n\n    feedbackMessage(): string | undefined {\n      if (\n        typeof this.achievedPoints === 'undefined' ||\n        typeof this.maxPoints === 'undefined'\n      ) {\n        return undefined;\n      }\n\n      const percentageCorrect = round(\n        (this.achievedPoints / this.maxPoints) * 100\n      );\n\n      for (const feedback of this.feedbackSortedByScore) {\n        if (percentageCorrect >= feedback.percentage) {\n          return feedback.message;\n        }\n      }\n\n      return undefined;\n    },\n\n    achievedMaxPoints(): boolean {\n      return this.achievedPoints === this.maxPoints;\n    },\n  },\n});\n","import { render } from \"./FeedbackElement.vue?vue&type=template&id=0b5aa6df&ts=true\"\nimport script from \"./FeedbackElement.vue?vue&type=script&lang=ts\"\nexport * from \"./FeedbackElement.vue?vue&type=script&lang=ts\"\n\nimport \"./FeedbackElement.vue?vue&type=style&index=0&id=0b5aa6df&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { Feedback, FillInTheBlanksTask } from '@/models/TaskDefinition';\nimport { v4 as uuidv4 } from 'uuid';\nimport { isEqual, round } from 'lodash';\nimport { $gettext } from '@/language/gettext';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\ntype FillInTheBlanksElement = Blank | StaticText;\ntype Blank = {\n  type: 'blank';\n  uuid: Uuid;\n  solutions: string[];\n  hint: string;\n};\ntype StaticText = {\n  type: 'staticText';\n  uuid: Uuid;\n  text: string;\n};\ntype Uuid = string;\n\nconst dljs = require('damerau-levenshtein-js');\n\nexport default defineComponent({\n  name: 'FillInTheBlanksViewer',\n  components: {\n    FeedbackElement,\n  },\n  props: {\n    task: {\n      type: Object as PropType<FillInTheBlanksTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      userInputs: {} as Record<Uuid, string>,\n      submittedAnswers: null as Record<Uuid, string> | null,\n      userWantsToSeeSolutions: false,\n      editable: true,\n    };\n  },\n  methods: {\n    $gettext,\n\n    submittedAnswerIsCorrect(element: FillInTheBlanksElement): boolean {\n      const blank = element as Blank;\n\n      const submittedAnswer = this.submittedAnswers?.[blank.uuid];\n      if (!submittedAnswer) {\n        return false;\n      } else {\n        return blank.solutions.some((solution) =>\n          this.isAnswerCorrect(submittedAnswer, solution)\n        );\n      }\n    },\n\n    isAnswerCorrect(userAnswer: string, solution: string): boolean {\n      if (this.task.caseSensitive) {\n        if (this.task.acceptTypos) {\n          return this.isAnswerCorrectWithTypo(userAnswer, solution);\n        } else {\n          return userAnswer === solution;\n        }\n      } else {\n        // TODO: Was ist, wenn das in einem Sprachkurs mit einer nichtlateinischen Schrift verwendet wird? :D\n        if (this.task.acceptTypos) {\n          return this.isAnswerCorrectWithTypo(\n            userAnswer.toLowerCase(),\n            solution.toLowerCase()\n          );\n        } else {\n          return userAnswer.toLowerCase() === solution.toLowerCase();\n        }\n      }\n    },\n\n    isAnswerCorrectWithTypo(userAnswer: string, solution: string): boolean {\n      if (userAnswer === solution) return true;\n\n      // Calculate the Damerau-Levenshtein distance between the answer and the solution\n      const distance = dljs.distance(userAnswer, solution);\n\n      // If the word is between 4 and 9 characters, a distance of 1 will be accepted\n      // If the word is more than 9 characters long, a distance of 2 will be accepted\n      return (\n        (userAnswer.length > 3 && distance <= 1) ||\n        (userAnswer.length > 9 && distance <= 2)\n      );\n    },\n\n    updateAttempt() {\n      // Tell the server which blanks were filled out correctly.\n      const points = {} as Record<string, number>;\n      this.blanks.forEach((blank, index) => {\n        // TODO Consider what the key should be. This is a bit ugly.\n        // The key is shown directly in the 'assessment' UI.\n        // Maybe we should change how that works?\n        points[`${index} - ${blank.solutions[0]}`] =\n          this.submittedAnswerIsCorrect(blank) ? 1 : 0;\n      });\n      this.$emit('updateAttempt', {\n        points,\n        // The attempt is marked as successful if all answers were correct.\n        success: this.correctAnswers === this.blanks.length,\n      });\n    },\n\n    /**\n     * Adapted from the H5P source code, MIT License\n     * https://github.com/h5p/h5p-blanks/blob/e9bf6862211c082a5724d9873496e66c489d23f7/js/blanks.js#L401\n     * TODO: Put the license in the appropriate place\n     */\n    autoGrowTextField(input: HTMLInputElement) {\n      // Do not set text field size when separate lines is enabled\n      // if (this.params.behaviour.separateLines) {\n      //   return;\n      // }\n      const computedStyles = window.getComputedStyle(input, null);\n      const computedFontSize = computedStyles.getPropertyValue('font-size');\n      const computedFontFamily = computedStyles.getPropertyValue('font-family');\n      const computedPadding = computedStyles.getPropertyValue('padding');\n      const fontSize = parseInt(computedFontSize, 10);\n      const minEm = 6;\n      const minPx = fontSize * minEm;\n      const rightPadEm = 3.25;\n      const rightPadPx = fontSize * rightPadEm;\n      const static_min_pad = 0.5 * fontSize;\n\n      setTimeout(() => {\n        const tmp = document.createElement('div');\n        tmp.textContent = input.value;\n        const tmpStyles = {\n          position: 'absolute',\n          'white-space': 'nowrap',\n          'font-size': computedFontSize,\n          'font-family': computedFontFamily,\n          padding: computedPadding,\n          width: 'initial',\n        };\n        for (const [key, value] of Object.entries(tmpStyles)) {\n          tmp.style[key as any] = value;\n        }\n        input.parentElement!.append(tmp);\n        const width = tmp.clientWidth;\n        const parentWidth = (this.$refs.wrapperElement as HTMLDivElement)\n          .clientWidth;\n        tmp.remove();\n        if (width <= minPx) {\n          // Apply min width\n          input.style.width = (minPx + static_min_pad).toString() + 'px';\n        } else if (width + rightPadPx >= parentWidth) {\n          // Apply max width of parent\n          input.style.width = (parentWidth - rightPadPx).toString() + 'px';\n        } else {\n          // Apply width that wraps input\n          input.style.width = (width + static_min_pad).toString() + 'px';\n        }\n      }, 1);\n    },\n\n    onClickCheck(taskEditableAfterCheck: boolean) {\n      // Save a copy of the user's inputs.\n      this.submittedAnswers = { ...this.userInputs };\n      this.updateAttempt();\n      this.editable = taskEditableAfterCheck;\n    },\n\n    onClickShowSolution() {\n      this.userWantsToSeeSolutions = true;\n    },\n\n    onClickTryAgain() {\n      this.userWantsToSeeSolutions = false;\n      this.userInputs = {};\n      this.submittedAnswers = null;\n      this.editable = true;\n    },\n\n    onInputBlurOrEnter() {\n      this.userWantsToSeeSolutions = false;\n      if (this.task.autoCorrect) {\n        this.onClickCheck(true);\n      }\n    },\n\n    onInput(event: Event) {\n      this.autoGrowTextField(event.target as HTMLInputElement);\n    },\n\n    classForInput(blank: FillInTheBlanksElement) {\n      if (!this.submittedAnswers) {\n        return 'h5pBlank';\n      }\n\n      if (this.submittedAnswers?.[blank.uuid] != undefined) {\n        if (this.submittedAnswerIsCorrect(blank)) {\n          return 'h5pBlank h5pBlankCorrect';\n        } else {\n          return 'h5pBlank h5pBlankIncorrect';\n        }\n      } else {\n        if (this.task.autoCorrect) {\n          return 'h5pBlank';\n        } else {\n          return 'h5pBlank h5pBlankIncorrect';\n        }\n      }\n    },\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n  computed: {\n    splitTemplate(): string[] {\n      // Returns an array where the even indexes are the static text portions,\n      // and the odd indexes are the blanks.\n      return this.task.template.split(/\\*([^*]*)\\*/);\n    },\n\n    parsedTemplate(): FillInTheBlanksElement[] {\n      return this.splitTemplate.map((value, index) => {\n        if (index % 2 === 0) {\n          return { type: 'staticText', text: value, uuid: uuidv4() };\n        } else {\n          let splitString = value.split(':');\n          let solutions = splitString[0].split('/');\n          let hint = splitString[1];\n          return {\n            type: 'blank',\n            solutions: solutions,\n            hint: hint,\n            uuid: uuidv4(),\n          };\n        }\n      });\n    },\n\n    blanks(): Blank[] {\n      return this.parsedTemplate.filter(\n        (word) => word.type === 'blank'\n      ) as Blank[];\n    },\n\n    blanksFilled(): number {\n      if (!this.submittedAnswers) {\n        return 0;\n      } else {\n        return Object.keys(this.submittedAnswers).length;\n      }\n    },\n\n    allBlanksAreFilled(): boolean {\n      return this.blanksFilled == this.blanks.length;\n    },\n\n    correctAnswers(): number {\n      return this.blanks.filter((blank) => this.submittedAnswerIsCorrect(blank))\n        .length;\n    },\n\n    allAnswersAreCorrect(): boolean {\n      return this.blanks.every((blank) => this.submittedAnswerIsCorrect(blank));\n    },\n\n    maxPoints(): number {\n      return this.blanks.length;\n    },\n\n    inputHasChanged(): boolean {\n      return !isEqual(this.submittedAnswers, this.userInputs);\n    },\n\n    showExtraButtons(): boolean {\n      if (this.task.autoCorrect) {\n        if (this.allBlanksAreFilled) {\n          return (\n            this.submittedAnswers !== null &&\n            !this.inputHasChanged &&\n            !this.allAnswersAreCorrect\n          );\n        } else {\n          return false;\n        }\n      } else {\n        return (\n          this.submittedAnswers !== null &&\n          !this.inputHasChanged &&\n          !this.allAnswersAreCorrect\n        );\n      }\n    },\n\n    showCheckButton(): boolean {\n      return (\n        (this.submittedAnswers === null || this.inputHasChanged) &&\n        !this.task.autoCorrect\n      );\n    },\n\n    showSolutionButton(): boolean {\n      return !this.showSolutions && this.task.showSolutionsAllowed;\n    },\n\n    showRetryButton(): boolean {\n      return this.task.retryAllowed && this.submittedAnswers !== null;\n    },\n\n    showSolutions(): boolean {\n      return (\n        this.userWantsToSeeSolutions &&\n        (this.allBlanksAreFilled ||\n          !this.task.allBlanksMustBeFilledForSolutions)\n      );\n    },\n\n    showFillInAllTheBlanksMessage(): boolean {\n      return (\n        this.task.allBlanksMustBeFilledForSolutions &&\n        this.userWantsToSeeSolutions &&\n        !this.allBlanksAreFilled &&\n        !this.inputHasChanged\n      );\n    },\n\n    showResults(): boolean {\n      return (\n        !(this.submittedAnswers === null) &&\n        !this.showFillInAllTheBlanksMessage &&\n        (!this.task.autoCorrect || this.allBlanksAreFilled) &&\n        !this.inputHasChanged\n      );\n    },\n\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.blanks.length.toString()\n      );\n\n      return resultMessage;\n    },\n\n    feedbackSortedByScore(): Feedback[] {\n      return this.task.feedback\n        .map((value) => value)\n        .sort((a, b) => b.percentage - a.percentage);\n    },\n\n    fillInAllTheBlanksMessage(): string {\n      return this.task.strings.fillInAllBlanksMessage\n        ? this.task.strings.fillInAllBlanksMessage\n        : $gettext(\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen'\n          );\n    },\n  },\n});\n","import { render } from \"./FillInTheBlanksViewer.vue?vue&type=template&id=cd635ab8&scoped=true&ts=true\"\nimport script from \"./FillInTheBlanksViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./FillInTheBlanksViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./FillInTheBlanksViewer.vue?vue&type=style&index=0&id=cd635ab8&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cd635ab8\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, createTextVNode as _createTextVNode, vModelSelect as _vModelSelect, vModelText as _vModelText, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-71de5281\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"h5pEditorTopPanel\" }\nconst _hoisted_3 = [\"data-tooltip\"]\nconst _hoisted_4 = { class: \"collapsable collapsed\" }\nconst _hoisted_5 = { value: false }\nconst _hoisted_6 = { value: true }\nconst _hoisted_7 = [\"disabled\"]\nconst _hoisted_8 = [\"disabled\"]\nconst _hoisted_9 = [\"disabled\"]\nconst _hoisted_10 = [\"disabled\"]\nconst _hoisted_11 = [\"disabled\"]\nconst _hoisted_12 = { class: \"collapsable collapsed\" }\nconst _hoisted_13 = { class: \"feedbackContainer\" }\nconst _hoisted_14 = { class: \"feedbackPercentagesChild\" }\nconst _hoisted_15 = [\"onUpdate:modelValue\"]\nconst _hoisted_16 = { class: \"feedbackMessagesChild\" }\nconst _hoisted_17 = [\"onUpdate:modelValue\"]\nconst _hoisted_18 = [\"title\", \"onClick\"]\nconst _hoisted_19 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_studip_wysiwyg = _resolveComponent(\"studip-wysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Fill In The Blanks')), 1),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addBlank && _ctx.addBlank(...args))),\n          class: \"button\",\n          type: \"button\",\n          style: {\"margin-right\":\"0.1em\"}\n        }, _toDisplayString(_ctx.$gettext('Lcke hinzufgen')), 1),\n        _createElementVNode(\"div\", {\n          class: \"tooltip tooltip-icon\",\n          \"data-tooltip\": _ctx.instructions\n        }, null, 8, _hoisted_3)\n      ]),\n      _createVNode(_component_studip_wysiwyg, {\n        modelValue: _ctx.taskDefinition.template,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.taskDefinition.template) = $event)),\n        ref: \"wysiwyg\",\n        \"force-soft-breaks\": \"\",\n        \"remove-wrapping-p-tag\": \"\",\n        \"disable-autoformat\": \"\"\n      }, null, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_4, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.taskDefinition.caseSensitive) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.caseSensitive]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Gro- und Kleinschreibung beachten')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.taskDefinition.acceptTypos) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.acceptTypos]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Rechtschreib- oder Tippfehler ignorieren')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Korrigiert wird')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"select\", {\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.taskDefinition.autoCorrect) = $event))\n        }, [\n          _createElementVNode(\"option\", _hoisted_5, _toDisplayString(_ctx.$gettext('manuell per Button')), 1),\n          _createElementVNode(\"option\", _hoisted_6, _toDisplayString(_ctx.$gettext('automatisch nach Eingabe')), 1)\n        ], 512), [\n          [_vModelSelect, _ctx.taskDefinition.autoCorrect]\n        ])\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.autoCorrect ? 'setting-disabled' : '')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: _ctx.taskDefinition.autoCorrect,\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.strings.checkButton) = $event))\n        }, null, 8, _hoisted_7), [\n          [_vModelText, _ctx.taskDefinition.strings.checkButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.retryAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.retryAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Versuche erlauben')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.retryAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.retryAllowed,\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.taskDefinition.strings.retryButton) = $event))\n        }, null, 8, _hoisted_8), [\n          [_vModelText, _ctx.taskDefinition.strings.retryButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((_ctx.taskDefinition.showSolutionsAllowed) = $event)),\n          onChange: _cache[9] || (_cache[9] = ($event: any) => (\n            !_ctx.taskDefinition.showSolutionsAllowed\n              ? (_ctx.taskDefinition.allBlanksMustBeFilledForSolutions =\n                  _ctx.taskDefinition.showSolutionsAllowed)\n              : ''\n          ))\n        }, null, 544), [\n          [_vModelCheckbox, _ctx.taskDefinition.showSolutionsAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Lsungen knnen angezeigt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((_ctx.taskDefinition.strings.solutionsButton) = $event))\n        }, null, 8, _hoisted_9), [\n          [_vModelText, _ctx.taskDefinition.strings.solutionsButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((_ctx.taskDefinition.allBlanksMustBeFilledForSolutions) = $event))\n        }, null, 8, _hoisted_10), [\n          [_vModelCheckbox, _ctx.taskDefinition.allBlanksMustBeFilledForSolutions]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext(\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen.'\n          )), 1)\n      ], 2),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(\n          _ctx.taskDefinition.allBlanksMustBeFilledForSolutions\n            ? ''\n            : 'setting-disabled'\n        )\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Mitteilung, wenn nicht alle Lcken ausgefllt sind:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.allBlanksMustBeFilledForSolutions,\n          \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event: any) => ((_ctx.taskDefinition.strings.fillInAllBlanksMessage) = $event)),\n          style: {\"width\":\"100%\"}\n        }, null, 8, _hoisted_11), [\n          [_vModelText, _ctx.taskDefinition.strings.fillInAllBlanksMessage]\n        ])\n      ], 2)\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_12, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Feedback')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext(\n            'Ergebnismitteilung (mgliche Variablen :correct und :total):'\n          )) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[13] || (_cache[13] = ($event: any) => ((_ctx.taskDefinition.strings.resultMessage) = $event)),\n          style: {\"width\":\"100%\"}\n        }, null, 512), [\n          [_vModelText, _ctx.taskDefinition.strings.resultMessage]\n        ])\n      ]),\n      _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Benutzerdefiniertes Feedback fr beliebige Punktebereiche:')), 1),\n      _createElementVNode(\"div\", _hoisted_13, [\n        _createElementVNode(\"div\", _hoisted_14, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Prozent')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n              key: i,\n              type: \"number\",\n              min: \"0\",\n              max: \"100\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].percentage) = $event)\n            }, null, 8, _hoisted_15)), [\n              [_vModelText, _ctx.taskDefinition.feedback[i].percentage]\n            ])\n          }), 128))\n        ]),\n        _createElementVNode(\"div\", _hoisted_16, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Mitteilung')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"feedbackMessagesChildSubdivision\",\n              key: i\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].message) = $event)\n              }, null, 8, _hoisted_17), [\n                [_vModelText, _ctx.taskDefinition.feedback[i].message]\n              ]),\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                title: _ctx.titleForDeleteButtonForFeedback(feedback),\n                onClick: ($event: any) => (_ctx.removeFeedback(feedback))\n              }, [\n                _createElementVNode(\"img\", {\n                  src: _ctx.urlForIcon('trash'),\n                  width: \"16\",\n                  height: \"16\"\n                }, null, 8, _hoisted_19)\n              ], 8, _hoisted_18)\n            ]))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"button\",\n        onClick: _cache[14] || (_cache[14] = \n//@ts-ignore\n(...args) => (_ctx.addFeedback && _ctx.addFeedback(...args)))\n      }, _toDisplayString(_ctx.$gettext('Neuer Bereich')), 1)\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { Feedback, FillInTheBlanksTask } from '@/models/TaskDefinition';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'FillInTheBlanksEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<FillInTheBlanksTask>,\n      required: true,\n    },\n  },\n  computed: {\n    feedbackSortedByScore(): Feedback[] {\n      return this.taskDefinition.feedback\n        .map((value) => value)\n        .sort((a, b) => b.percentage - a.percentage);\n    },\n\n    instructions(): string {\n      return $gettext(\n        'Fgen Sie Lcken hinzu, indem Sie ein Sternchen (*) vor und hinter dem korrekten Wort bzw. den Wrtern setzen oder markieren Sie ein Wort und klicken Sie den \"Lcke hinzufgen\"Button.' +\n          ' Sie knnen alternative Antworten mit einem Schrgstrich (/) hinzufgen.' +\n          ' Auerdem knnen Sie einen Tooltip mit einem Doppelpunkt (:) hinzufgen.'\n      );\n    },\n  },\n  methods: {\n    $gettext,\n\n    titleForDeleteButtonForFeedback(feedback: Feedback): string {\n      return this.$gettext(\n        'Entferne den Feedback-Bereich, der ab %{ percentage }% anfngt.',\n        { percentage: feedback.percentage.toString() }\n      );\n    },\n\n    /**\n     * Surround the selected text with two asterisks\n     */\n    addBlank() {\n      const wysiwygEl = (this.$refs.wysiwyg as any)?.$el;\n      const editor = window.STUDIP.wysiwyg.getEditor(wysiwygEl);\n      if (!editor) {\n        console.error('getEditor(wysiwygEl) returned: ', editor);\n        throw new Error('Could not get reference to wysiwyg editor');\n      }\n      const selection = editor.model.document.selection;\n      const start = selection.getFirstPosition();\n      const end = selection.getLastPosition();\n      if (!start || !end) {\n        console.error('selection start: ', start, ' selection end: ', end);\n        throw new Error('Could not get selection in editor');\n      }\n      editor.model.change((writer) => {\n        writer.insertText('*', end);\n        writer.insertText('*', start);\n      });\n    },\n\n    addFeedback(): void {\n      this.taskDefinition.feedback.push({\n        percentage: this.feedbackSortedByScore[0]?.percentage,\n        message: 'Feedback',\n      });\n    },\n\n    removeFeedback(feedbackToRemove: Feedback): void {\n      this.taskDefinition.feedback = this.taskDefinition.feedback.filter(\n        (feedback) => feedback !== feedbackToRemove\n      );\n    },\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n});\n","import { render } from \"./FillInTheBlanksEditor.vue?vue&type=template&id=71de5281&scoped=true&ts=true\"\nimport script from \"./FillInTheBlanksEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./FillInTheBlanksEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./FillInTheBlanksEditor.vue?vue&type=style&index=0&id=71de5281&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-71de5281\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, vModelText as _vModelText, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2a137151\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"flex-parent-element\" }\nconst _hoisted_3 = [\"onUpdate:modelValue\"]\nconst _hoisted_4 = [\"onUpdate:modelValue\"]\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = [\"src\", \"title\"]\nconst _hoisted_7 = { class: \"collapsable collapsed\" }\nconst _hoisted_8 = [\"onUpdate:modelValue\"]\nconst _hoisted_9 = [\"onUpdate:modelValue\"]\nconst _hoisted_10 = [\"onUpdate:modelValue\"]\nconst _hoisted_11 = { class: \"collapsable collapsed\" }\nconst _hoisted_12 = [\"disabled\"]\nconst _hoisted_13 = [\"disabled\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_studip_wysiwyg = _resolveComponent(\"studip-wysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Question')), 1),\n      _createElementVNode(\"label\", null, [\n        _createVNode(_component_studip_wysiwyg, {\n          modelValue: _ctx.taskDefinition.question,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.taskDefinition.question) = $event)),\n          \"force-soft-breaks\": \"\",\n          \"remove-wrapping-p-tag\": \"\",\n          \"disable-autoformat\": \"\"\n        }, null, 8, [\"modelValue\"])\n      ]),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.answers, (answer, i) => {\n        return (_openBlock(), _createElementBlock(\"fieldset\", {\n          class: \"collapsable collapsed\",\n          key: i\n        }, [\n          _createElementVNode(\"legend\", null, _toDisplayString(answer.text), 1),\n          _createElementVNode(\"div\", _hoisted_2, [\n            _withDirectives(_createElementVNode(\"input\", {\n              class: \"flex-child-element checkbox\",\n              type: \"checkbox\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].correct) = $event)\n            }, null, 8, _hoisted_3), [\n              [_vModelCheckbox, _ctx.taskDefinition.answers[i].correct]\n            ]),\n            _withDirectives(_createElementVNode(\"input\", {\n              class: \"flex-child-element textbox\",\n              type: \"text\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].text) = $event)\n            }, null, 8, _hoisted_4), [\n              [_vModelText, _ctx.taskDefinition.answers[i].text]\n            ]),\n            _createElementVNode(\"button\", {\n              type: \"button\",\n              class: \"flex-child-element removeAnswerButton\",\n              onClick: ($event: any) => (_ctx.removeAnswer(answer))\n            }, [\n              _createElementVNode(\"img\", {\n                src: _ctx.urlForIcon('trash'),\n                title: _ctx.$gettext('Lschen')\n              }, null, 8, _hoisted_6)\n            ], 8, _hoisted_5)\n          ]),\n          _createElementVNode(\"fieldset\", _hoisted_7, [\n            _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Hinweis und Feedback')), 1),\n            _createElementVNode(\"label\", null, [\n              _createElementVNode(\"span\", null, _toDisplayString(_ctx.$gettext('Hinweis')), 1),\n              _withDirectives(_createElementVNode(\"input\", {\n                class: \"textbox\",\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].strings.hint) = $event)\n              }, null, 8, _hoisted_8), [\n                [_vModelText, _ctx.taskDefinition.answers[i].strings.hint]\n              ])\n            ]),\n            _createElementVNode(\"label\", null, [\n              _createElementVNode(\"span\", null, _toDisplayString(_ctx.$gettext('Feedback wenn ausgewhlt')), 1),\n              _withDirectives(_createElementVNode(\"input\", {\n                class: \"textbox\",\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].strings.feedbackSelected) = $event)\n              }, null, 8, _hoisted_9), [\n                [_vModelText, _ctx.taskDefinition.answers[i].strings.feedbackSelected]\n              ])\n            ]),\n            _createElementVNode(\"label\", null, [\n              _createElementVNode(\"span\", null, _toDisplayString(_ctx.$gettext('Feedback wenn nicht ausgewhlt')), 1),\n              _withDirectives(_createElementVNode(\"input\", {\n                class: \"textbox\",\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].strings.feedbackNotSelected) = $event)\n              }, null, 8, _hoisted_10), [\n                [_vModelText, _ctx.taskDefinition.answers[i].strings.feedbackNotSelected]\n              ])\n            ])\n          ])\n        ]))\n      }), 128)),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"button\",\n        onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.addAnswer && _ctx.addAnswer(...args)))\n      }, _toDisplayString(_ctx.$gettext('Neue Antwort')), 1)\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_11, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.taskDefinition.strings.checkButton) = $event))\n        }, null, 512), [\n          [_vModelText, _ctx.taskDefinition.strings.checkButton]\n        ])\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.taskDefinition.canAnswerMultiple) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.canAnswerMultiple]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Antworten knnen ausgewhlt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.taskDefinition.randomOrder) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.randomOrder]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Zeige Antworten in zuflliger Reihenfolge')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.retryAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.retryAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Versuche erlauben')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.retryAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.retryAllowed,\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.strings.retryButton) = $event))\n        }, null, 8, _hoisted_12), [\n          [_vModelText, _ctx.taskDefinition.strings.retryButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.taskDefinition.showSolutionsAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.showSolutionsAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Lsungen knnen angezeigt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((_ctx.taskDefinition.strings.solutionsButton) = $event))\n        }, null, 8, _hoisted_13), [\n          [_vModelText, _ctx.taskDefinition.strings.solutionsButton]\n        ])\n      ], 2)\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { QuestionAnswer, QuestionTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'QuestionEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<QuestionTask>,\n      required: true,\n    },\n  },\n  methods: {\n    $gettext,\n    addAnswer(): void {\n      this.taskDefinition.answers.push({\n        text: this.$gettext('Neue Antwort'),\n        correct: true,\n        strings: {\n          hint: '',\n          feedbackSelected: '',\n          feedbackNotSelected: '',\n        },\n      });\n    },\n    removeAnswer(answerToRemove: QuestionAnswer): void {\n      this.taskDefinition.answers = this.taskDefinition.answers.filter(\n        (answer) => answer !== answerToRemove\n      );\n    },\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n  computed: {\n    currentUndoRedoState: () =>\n      taskEditorStore.undoRedoStack[taskEditorStore.undoRedoIndex],\n  },\n});\n","import { render } from \"./QuestionEditor.vue?vue&type=template&id=2a137151&scoped=true&ts=true\"\nimport script from \"./QuestionEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./QuestionEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./QuestionEditor.vue?vue&type=style&index=0&id=2a137151&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a137151\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, vModelRadio as _vModelRadio, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-51f5f696\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"h5pModule\" }\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = [\"value\", \"onUpdate:modelValue\", \"disabled\"]\nconst _hoisted_4 = [\"data-tooltip\"]\nconst _hoisted_5 = {\n  key: 0,\n  class: \"answerFeedback\"\n}\nconst _hoisted_6 = {\n  key: 1,\n  class: \"answerFeedback\"\n}\nconst _hoisted_7 = [\"value\", \"disabled\"]\nconst _hoisted_8 = [\"data-tooltip\"]\nconst _hoisted_9 = {\n  key: 0,\n  class: \"answerFeedback\"\n}\nconst _hoisted_10 = {\n  key: 1,\n  class: \"answerFeedback\"\n}\nconst _hoisted_11 = { class: \"h5pButtonPanel\" }\nconst _hoisted_12 = [\"textContent\"]\nconst _hoisted_13 = [\"textContent\"]\nconst _hoisted_14 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"h5pQuestion\",\n      innerHTML: this.task.question\n    }, null, 8, _hoisted_2),\n    (_ctx.task.canAnswerMultiple)\n      ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_ctx.answers, (answer, i) => {\n          return (_openBlock(), _createElementBlock(_Fragment, { key: i }, [\n            _createElementVNode(\"label\", {\n              class: _normalizeClass(_ctx.classForAnswer(answer))\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"checkbox\",\n                value: answer.text,\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.selectedAnswers[answer.text]) = $event),\n                disabled: _ctx.isSubmitted\n              }, null, 8, _hoisted_3), [\n                [_vModelCheckbox, _ctx.selectedAnswers[answer.text]]\n              ]),\n              _createTextVNode(\" \" + _toDisplayString(answer.text) + \" \", 1),\n              (answer.strings.hint && !_ctx.isSubmitted)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"tooltip tooltip-icon h5pTooltip\",\n                    \"data-tooltip\": answer.strings.hint\n                  }, null, 8, _hoisted_4))\n                : _createCommentVNode(\"\", true)\n            ], 2),\n            (_ctx.isSubmitted)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  (\n              answer.strings.feedbackSelected && _ctx.selectedAnswers[answer.text]\n            )\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(answer.strings.feedbackSelected), 1))\n                    : (\n              answer.strings.feedbackNotSelected &&\n              !_ctx.selectedAnswers[answer.text]\n            )\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString(answer.strings.feedbackNotSelected), 1))\n                      : _createCommentVNode(\"\", true)\n                ], 64))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        }), 128))\n      : (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.answers, (answer, i) => {\n          return (_openBlock(), _createElementBlock(_Fragment, { key: i }, [\n            _createElementVNode(\"label\", {\n              class: _normalizeClass(_ctx.classForAnswer(answer))\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"radio\",\n                class: \"answerRadioButton\",\n                value: answer,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selectedAnswer) = $event)),\n                disabled: _ctx.isSubmitted\n              }, null, 8, _hoisted_7), [\n                [_vModelRadio, _ctx.selectedAnswer]\n              ]),\n              _createTextVNode(\" \" + _toDisplayString(answer.text) + \" \", 1),\n              (answer.strings.hint && !_ctx.isSubmitted)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"tooltip tooltip-icon h5pTooltip\",\n                    \"data-tooltip\": answer.strings.hint\n                  }, null, 8, _hoisted_8))\n                : _createCommentVNode(\"\", true)\n            ], 2),\n            (_ctx.isSubmitted)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  (answer.strings.feedbackSelected && _ctx.selectedAnswer == answer)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _toDisplayString(answer.strings.feedbackSelected), 1))\n                    : (\n              answer.strings.feedbackNotSelected && _ctx.selectedAnswer !== answer\n            )\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, _toDisplayString(answer.strings.feedbackNotSelected), 1))\n                      : _createCommentVNode(\"\", true)\n                ], 64))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        }), 128)),\n    (_ctx.isSubmitted)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 2,\n          \"achieved-points\": _ctx.points,\n          \"max-points\": _ctx.maxPoints\n        }, null, 8, [\"achieved-points\", \"max-points\"]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_11, [\n      (!_ctx.isSubmitted)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onClickCheck && _ctx.onClickCheck(...args))),\n            class: \"h5pButton\",\n            textContent: _toDisplayString(this.task.strings.checkButton)\n          }, null, 8, _hoisted_12))\n        : _createCommentVNode(\"\", true),\n      (this.task.retryAllowed && _ctx.isSubmitted)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 1,\n            onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n            class: \"h5pButton\",\n            textContent: _toDisplayString(this.task.strings.retryButton)\n          }, null, 8, _hoisted_13))\n        : _createCommentVNode(\"\", true),\n      (_ctx.showSolutionsButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 2,\n            onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.onClickShowSolution && _ctx.onClickShowSolution(...args))),\n            class: \"h5pButton\",\n            textContent: _toDisplayString(this.task.strings.solutionsButton)\n          }, null, 8, _hoisted_14))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { QuestionAnswer, QuestionTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\nexport default defineComponent({\n  name: 'QuestionViewer',\n  props: {\n    task: {\n      type: Object as PropType<QuestionTask>,\n      required: true,\n    },\n  },\n  components: { FeedbackElement },\n  data() {\n    return {\n      selectedAnswers: {} as Record<string, boolean>,\n      selectedAnswer: this.task.answers[0],\n      isSubmitted: false,\n      showSolutions: false,\n    };\n  },\n  methods: {\n    $gettext,\n    onClickCheck(): void {\n      this.isSubmitted = true;\n    },\n    onClickTryAgain(): void {\n      this.isSubmitted = false;\n      this.showSolutions = false;\n      this.selectedAnswers = {};\n    },\n    onClickShowSolution(): void {\n      this.showSolutions = true;\n    },\n    selectAnswer(answer: QuestionAnswer): void {\n      if (this.isSubmitted) return;\n\n      this.selectedAnswers[answer.text] = !this.selectedAnswers[answer.text];\n    },\n    classForAnswer(answer: QuestionAnswer): string {\n      if (this.showSolutions) {\n        if (answer.correct) return 'correctAnswer';\n      }\n\n      if (this.isSubmitted) {\n        if (this.task.canAnswerMultiple) {\n          if (this.selectedAnswers[answer.text]) {\n            if (answer.correct) {\n              return 'correctAnswer';\n            } else {\n              return 'incorrectAnswer';\n            }\n          } else {\n            return 'submittedAnswer';\n          }\n        } else {\n          if (this.selectedAnswer === answer) {\n            if (answer.correct) {\n              return 'correctAnswer';\n            } else {\n              return 'incorrectAnswer';\n            }\n          } else {\n            return 'submittedAnswer';\n          }\n        }\n      } else {\n        return 'answer';\n      }\n    },\n  },\n  computed: {\n    maxPoints(): number {\n      if (this.task.canAnswerMultiple) {\n        let maxPoints = 0;\n        this.task.answers.forEach((answer) => {\n          if (answer.correct) {\n            maxPoints++;\n          }\n        });\n        return maxPoints;\n      } else {\n        return 1;\n      }\n    },\n    points(): number {\n      if (this.task.canAnswerMultiple) {\n        let points = 0;\n\n        this.task.answers.forEach((answer) => {\n          if (this.selectedAnswers[answer.text]) {\n            if (answer.correct) {\n              points++;\n            } else {\n              points--;\n            }\n          }\n        });\n\n        // Cannot get less than 0 points\n        if (points < 0) points = 0;\n\n        return points;\n      } else {\n        return this.selectedAnswer.correct ? 1 : 0;\n      }\n    },\n    answers(): QuestionAnswer[] {\n      if (this.task.randomOrder) {\n        // https://stackoverflow.com/a/46545530\n        return this.task.answers\n          .map((value) => ({ value, sort: Math.random() }))\n          .sort((a, b) => a.sort - b.sort)\n          .map(({ value }) => value);\n      } else {\n        return this.task.answers;\n      }\n    },\n    showSolutionsButton(): boolean {\n      return this.task.showSolutionsAllowed && this.isSubmitted;\n    },\n  },\n});\n","import { render } from \"./QuestionViewer.vue?vue&type=template&id=51f5f696&scoped=true&ts=true\"\nimport script from \"./QuestionViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./QuestionViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./QuestionViewer.vue?vue&type=style&index=0&id=51f5f696&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-51f5f696\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, withModifiers as _withModifiers, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-32be8122\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  class: \"h5pModule\",\n  ref: \"wrapperElement\"\n}\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = [\"draggable\", \"onDragstart\", \"onDrop\"]\nconst _hoisted_4 = [\"onDrop\", \"onClick\"]\nconst _hoisted_5 = { key: 2 }\nconst _hoisted_6 = [\"data-tooltip\"]\nconst _hoisted_7 = {\n  key: 3,\n  class: \"h5pSolution\"\n}\nconst _hoisted_8 = [\"draggable\", \"onDragstart\", \"onClick\"]\nconst _hoisted_9 = [\"textContent\"]\nconst _hoisted_10 = { class: \"h5pButtonPanel\" }\nconst _hoisted_11 = [\"textContent\"]\nconst _hoisted_12 = [\"textContent\"]\nconst _hoisted_13 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.parsedTemplate, (element) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: element.uuid\n      }, [\n        (element.type === 'staticText')\n          ? (_openBlock(), _createElementBlock(\"span\", {\n              key: 0,\n              innerHTML: element.text\n            }, null, 8, _hoisted_2))\n          : (element.type === 'blank')\n            ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                (_ctx.userInputs[element.uuid])\n                  ? (_openBlock(), _createElementBlock(\"span\", {\n                      key: 0,\n                      class: _normalizeClass(_ctx.classForFilledBlank(element)),\n                      draggable: _ctx.editable,\n                      onDragstart: ($event: any) => (\n            _ctx.startDragUsedAnswer($event, element, _ctx.userInputs[element.uuid])\n          ),\n                      onDrop: ($event: any) => (_ctx.onDropBlank($event, element)),\n                      onDragover: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"])),\n                      onDragenter: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"]))\n                    }, _toDisplayString(_ctx.getAnswerById(_ctx.userInputs[element.uuid])?.text), 43, _hoisted_3))\n                  : (_openBlock(), _createElementBlock(\"span\", {\n                      key: 1,\n                      class: \"h5pBlank\",\n                      onDrop: ($event: any) => (_ctx.onDropBlank($event, element)),\n                      onDragover: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"])),\n                      onDragenter: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"prevent\"])),\n                      onClick: ($event: any) => (_ctx.onClickBlank(element))\n                    }, \" \", 40, _hoisted_4)),\n                (element.hint)\n                  ? (_openBlock(), _createElementBlock(\"label\", _hoisted_5, [\n                      _createElementVNode(\"span\", {\n                        class: \"tooltip tooltip-icon\",\n                        \"data-tooltip\": element.hint\n                      }, null, 8, _hoisted_6)\n                    ]))\n                  : _createCommentVNode(\"\", true),\n                (_ctx.showSolutions && !_ctx.submittedAnswerIsCorrect(element))\n                  ? (_openBlock(), _createElementBlock(\"span\", _hoisted_7, _toDisplayString(element.solution), 1))\n                  : _createCommentVNode(\"\", true)\n              ], 64))\n            : _createCommentVNode(\"\", true)\n      ], 64))\n    }), 128)),\n    _createElementVNode(\"div\", {\n      class: \"unused-answers-list\",\n      onDrop: _cache[4] || (_cache[4] = ($event: any) => (_ctx.onDropUnusedAnswers($event))),\n      onDragover: _cache[5] || (_cache[5] = _withModifiers(() => {}, [\"prevent\"])),\n      onDragenter: _cache[6] || (_cache[6] = _withModifiers(() => {}, [\"prevent\"]))\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.unusedAnswers, (answer) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: answer.uuid\n        }, [\n          _createElementVNode(\"span\", {\n            class: _normalizeClass([\"h5pBlankSolution\", { disabled: !this.editable }]),\n            draggable: _ctx.editable,\n            onDragstart: ($event: any) => (_ctx.startDragUnusedAnswer($event, answer)),\n            onClick: ($event: any) => (_ctx.onClickUnusedAnswer(answer))\n          }, _toDisplayString(answer.text), 43, _hoisted_8)\n        ]))\n      }), 128))\n    ], 32),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          \"achieved-points\": _ctx.correctAnswers,\n          \"max-points\": _ctx.maxPoints,\n          feedback: _ctx.task.feedback,\n          \"result-message\": _ctx.resultMessage\n        }, null, 8, [\"achieved-points\", \"max-points\", \"feedback\", \"result-message\"]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.showFillInAllTheBlanksMessage)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: \"h5pMessage\",\n          textContent: _toDisplayString(_ctx.fillInAllTheBlanksMessage)\n        }, null, 8, _hoisted_9))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_10, [\n      (_ctx.showCheckButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            onClick: _cache[7] || (_cache[7] = \n//@ts-ignore\n(...args) => (_ctx.onClickCheck && _ctx.onClickCheck(...args))),\n            class: \"h5pButton\",\n            textContent: _toDisplayString(this.task.strings.checkButton)\n          }, null, 8, _hoisted_11))\n        : _createCommentVNode(\"\", true),\n      (_ctx.showExtraButtons)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n            (!_ctx.showSolutions && this.task.showSolutionsAllowed)\n              ? (_openBlock(), _createElementBlock(\"button\", {\n                  key: 0,\n                  onClick: _cache[8] || (_cache[8] = \n//@ts-ignore\n(...args) => (_ctx.onClickShowSolution && _ctx.onClickShowSolution(...args))),\n                  class: \"h5pButton\",\n                  textContent: _toDisplayString(this.task.strings.solutionsButton)\n                }, null, 8, _hoisted_12))\n              : _createCommentVNode(\"\", true),\n            (this.task.retryAllowed)\n              ? (_openBlock(), _createElementBlock(\"button\", {\n                  key: 1,\n                  onClick: _cache[9] || (_cache[9] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n                  class: \"h5pButton\",\n                  textContent: _toDisplayString(this.task.strings.retryButton)\n                }, null, 8, _hoisted_13))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        : _createCommentVNode(\"\", true)\n    ])\n  ], 512))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { DragTheWordsTask, Feedback } from '@/models/TaskDefinition';\nimport { v4 as uuidv4 } from 'uuid';\nimport { isEqual, round } from 'lodash';\nimport { $gettext } from '@/language/gettext';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\ntype DragTheWordsElement = Blank | StaticText;\n\ninterface Blank {\n  type: 'blank';\n  uuid: Uuid;\n  solution: string;\n  hint: string;\n}\n\ninterface Answer {\n  uuid: Uuid;\n  text: string;\n}\n\ntype StaticText = {\n  type: 'staticText';\n  uuid: Uuid;\n  text: string;\n};\n\ntype Uuid = string;\n\nexport default defineComponent({\n  name: 'DragTheWordsViewer',\n  components: { FeedbackElement },\n  props: {\n    task: {\n      type: Object as PropType<DragTheWordsTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      // Map from Blank IDs to Answer IDs\n      userInputs: {} as Record<Uuid, Uuid>,\n      submittedAnswers: null as Record<Uuid, Uuid> | null,\n      userWantsToSeeSolutions: false,\n      draggedAnswerId: undefined as Uuid | undefined,\n      draggedSourceId: undefined as Uuid | undefined,\n      clickedAnswerId: undefined as Uuid | undefined,\n      editable: true as Boolean,\n    };\n  },\n  methods: {\n    $gettext,\n\n    submittedAnswerIsCorrect(blank: Blank): boolean {\n      const submittedAnswerId = this.submittedAnswers?.[blank.uuid];\n      if (!submittedAnswerId) return false;\n\n      const submittedAnswer = this.getAnswerById(submittedAnswerId)?.text;\n      if (!submittedAnswer) return false;\n\n      return this.isAnswerCorrect(submittedAnswer, blank.solution);\n    },\n\n    isAnswerCorrect(userAnswer: string, solution: string): boolean {\n      return userAnswer === solution;\n    },\n\n    updateAttempt() {\n      // Tell the server which blanks were filled out correctly.\n      const points = {} as Record<string, number>;\n      this.blanks.forEach((blank, index) => {\n        // TODO Consider what the key should be. This is a bit ugly.\n        // The key is shown directly in the 'assessment' UI.\n        // Maybe we should change how that works?\n        points[`${index} - ${blank.solution}`] = this.submittedAnswerIsCorrect(\n          blank\n        )\n          ? 1\n          : 0;\n      });\n      this.$emit('updateAttempt', {\n        points,\n        // The attempt is marked as successful if all answers were correct.\n        success: this.correctAnswers === this.blanks.length,\n      });\n    },\n\n    getElement(elementId: Uuid): DragTheWordsElement {\n      const el = this.parsedTemplate.find((el) => el.uuid === elementId);\n      if (!el) {\n        throw new Error(\n          'The given element does not exist in parsedTemplate: ' + elementId\n        );\n      }\n      return el;\n    },\n\n    startDragUsedAnswer(\n      dragEvent: DragEvent,\n      blank: Blank,\n      answerId: Uuid\n    ): void {\n      if (!this.editable) return;\n      if (dragEvent.dataTransfer) {\n        dragEvent.dataTransfer.dropEffect = 'move';\n        dragEvent.dataTransfer.effectAllowed = 'move';\n      }\n      const answer = this.getAnswerById(answerId);\n      console.log('Dragging answer: ', answer, 'From blank: ', blank);\n\n      for (const property in this.userInputs) {\n        console.log(property);\n      }\n\n      this.draggedAnswerId = answerId;\n    },\n\n    startDragUnusedAnswer(dragEvent: DragEvent, answer: Answer): void {\n      if (dragEvent.dataTransfer) {\n        dragEvent.dataTransfer.dropEffect = 'move';\n        dragEvent.dataTransfer.effectAllowed = 'move';\n\n        console.log('Dragging answer: ', answer);\n        this.draggedAnswerId = answer.uuid;\n      }\n    },\n\n    onDropBlank(dragEvent: DragEvent, blank: Blank): void {\n      if (!this.draggedAnswerId) {\n        throw new Error('Dragged answer id is undefined');\n      }\n\n      console.log('Dropped answer :', this.draggedAnswer, 'on blank: ', blank);\n\n      // Remove the dropped answer from the blank, if any, where it has been dragged from\n      const previousBlank = this.blanks.find(\n        (blank) => this.userInputs[blank.uuid] === this.draggedAnswerId\n      );\n\n      if (previousBlank) {\n        delete this.userInputs[previousBlank.uuid];\n      }\n\n      // Set the answer for the blank where the answer was dropped\n      this.userInputs[blank.uuid] = this.draggedAnswerId;\n\n      this.draggedAnswerId = undefined;\n    },\n\n    onDropUnusedAnswers(ev: DragEvent): void {\n      console.error('Not implemented');\n      ev.preventDefault(); // Indicate that dropping is al\n      if (!this.draggedAnswer) {\n        throw new Error('draggedAnswer is undefined');\n      }\n      // Remove the dropped answer from the blank, if any, where it has been dragged from\n      const blank = this.blanks.find(\n        (blank) => this.userInputs[blank.uuid] === this.draggedAnswerId\n      );\n      if (blank) {\n        delete this.userInputs[blank.uuid];\n      }\n    },\n\n    onClickCheck() {\n      // Save a copy of the user's inputs.\n      this.submittedAnswers = { ...this.userInputs };\n      this.editable = false;\n    },\n\n    onClickShowSolution() {\n      this.userWantsToSeeSolutions = true;\n    },\n\n    onClickTryAgain() {\n      this.userWantsToSeeSolutions = false;\n      this.userInputs = {};\n      this.submittedAnswers = null;\n      this.editable = true;\n    },\n\n    classForFilledBlank(blank: Blank) {\n      if (!this.submittedAnswers && !this.task.instantFeedback) {\n        return 'h5pFilledBlank';\n      }\n\n      if (this.task.instantFeedback) {\n        this.submittedAnswers = { ...this.userInputs };\n      }\n\n      if (this.userInputs?.[blank.uuid]) {\n        if (this.submittedAnswerIsCorrect(blank)) {\n          return 'h5pFilledBlank h5pBlankCorrect disabled';\n        } else {\n          return 'h5pFilledBlank h5pBlankIncorrect disabled';\n        }\n      } else {\n        return 'h5pBlank';\n      }\n    },\n\n    getAnswerById(id: Uuid): Answer | undefined {\n      return this.answers.find((answer) => answer.uuid === id);\n    },\n\n    onClickUnusedAnswer(answer: Answer): void {\n      console.log('Clicked answer:', answer);\n      if (this.editable) this.clickedAnswerId = answer.uuid;\n    },\n\n    onClickBlank(blank: Blank): void {\n      console.log('Clicked blank:', blank);\n      if (!this.clickedAnswerId) return;\n      this.userInputs[blank.uuid] = this.clickedAnswerId;\n      this.clickedAnswerId = undefined;\n    },\n  },\n  computed: {\n    splitTemplate(): string[] {\n      // Returns an array where the even indexes are the static text portions,\n      // and the odd indexes are the blanks.\n      return this.task.template.split(/\\*([^*]*)\\*/);\n    },\n\n    parsedTemplate(): DragTheWordsElement[] {\n      return this.splitTemplate.map((value, index) => {\n        if (index % 2 === 0) {\n          return { type: 'staticText', text: value, uuid: uuidv4() };\n        } else {\n          let splitString = value.split(':');\n          let solution = splitString[0];\n          let hint = splitString[1];\n          return {\n            type: 'blank',\n            solution: solution,\n            hint: hint,\n            uuid: uuidv4(),\n          };\n        }\n      });\n    },\n\n    blanks(): Blank[] {\n      return this.parsedTemplate.filter(\n        (word) => word.type === 'blank'\n      ) as Blank[];\n    },\n\n    answers(): Answer[] {\n      return this.blanks.map((blank) => ({\n        uuid: uuidv4(),\n        text: blank.solution,\n      }));\n    },\n\n    draggedAnswer(): Answer | undefined {\n      if (!this.draggedAnswerId) {\n        return undefined;\n      } else {\n        return this.getAnswerById(this.draggedAnswerId);\n      }\n    },\n\n    randomizedAnswers(): Answer[] {\n      // https://stackoverflow.com/a/46545530\n      return this.answers\n        .map((value) => ({ value, sort: Math.random() }))\n        .sort((a, b) => a.sort - b.sort)\n        .map(({ value }) => value);\n    },\n\n    sortedAnswers(): Answer[] {\n      // https://stackoverflow.com/a/45544166\n      return this.answers\n        .map((value) => value)\n        .sort((a, b) => a.text.localeCompare(b.text));\n    },\n\n    blanksFilled(): number {\n      if (!this.submittedAnswers) {\n        return 0;\n      } else {\n        return Object.keys(this.submittedAnswers).length;\n      }\n    },\n\n    allBlanksAreFilled(): boolean {\n      return this.blanksFilled == this.blanks.length;\n    },\n\n    correctAnswers(): number {\n      return this.blanks.filter((blank) => this.submittedAnswerIsCorrect(blank))\n        .length;\n    },\n\n    allAnswersAreCorrect(): boolean {\n      return this.blanks.every((blank) => this.submittedAnswerIsCorrect(blank));\n    },\n\n    maxPoints(): number {\n      return this.blanks.length;\n    },\n\n    unusedAnswers(): Answer[] {\n      if (this.task.alphabeticOrder) {\n        return this.sortedAnswers.filter(\n          (answer) => !Object.values(this.userInputs).includes(answer.uuid)\n        );\n      } else {\n        return this.randomizedAnswers.filter(\n          (answer) => !Object.values(this.userInputs).includes(answer.uuid)\n        );\n      }\n    },\n\n    inputHasChanged(): boolean {\n      return !isEqual(this.submittedAnswers, this.userInputs);\n    },\n\n    showExtraButtons(): boolean {\n      if (this.task.instantFeedback) {\n        if (this.allBlanksAreFilled) {\n          return (\n            this.submittedAnswers !== null &&\n            !this.inputHasChanged &&\n            !this.allAnswersAreCorrect\n          );\n        } else {\n          return false;\n        }\n      } else {\n        return (\n          this.submittedAnswers !== null &&\n          !this.inputHasChanged &&\n          !this.allAnswersAreCorrect\n        );\n      }\n    },\n\n    showCheckButton(): boolean {\n      return (\n        (this.submittedAnswers === null || this.inputHasChanged) &&\n        !this.task.instantFeedback\n      );\n    },\n\n    showSolutionButton(): boolean {\n      return !this.showSolutions && this.task.showSolutionsAllowed;\n    },\n\n    showRetryButton(): boolean {\n      return this.task.retryAllowed && this.submittedAnswers !== null;\n    },\n\n    showSolutions(): boolean {\n      return (\n        this.userWantsToSeeSolutions &&\n        (this.allBlanksAreFilled ||\n          !this.task.allBlanksMustBeFilledForSolutions)\n      );\n    },\n\n    showFillInAllTheBlanksMessage(): boolean {\n      return (\n        this.task.allBlanksMustBeFilledForSolutions &&\n        this.userWantsToSeeSolutions &&\n        !this.allBlanksAreFilled &&\n        !this.inputHasChanged\n      );\n    },\n\n    showResults(): boolean {\n      return (\n        !(this.submittedAnswers === null) &&\n        !this.showFillInAllTheBlanksMessage &&\n        (!this.task.instantFeedback || this.allBlanksAreFilled) &&\n        !this.inputHasChanged\n      );\n    },\n\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.blanks.length.toString()\n      );\n\n      return resultMessage;\n    },\n\n    fillInAllTheBlanksMessage(): string {\n      return this.task.strings.fillInAllBlanksMessage\n        ? this.task.strings.fillInAllBlanksMessage\n        : $gettext(\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen'\n          );\n    },\n  },\n});\n","import { render } from \"./DragTheWordsViewer.vue?vue&type=template&id=32be8122&scoped=true&ts=true\"\nimport script from \"./DragTheWordsViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./DragTheWordsViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./DragTheWordsViewer.vue?vue&type=style&index=0&id=32be8122&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-32be8122\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createTextVNode as _createTextVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, vModelCheckbox as _vModelCheckbox, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8c60d656\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"h5pEditorTopPanel\" }\nconst _hoisted_3 = [\"data-tooltip\"]\nconst _hoisted_4 = { class: \"collapsable collapsed\" }\nconst _hoisted_5 = { value: false }\nconst _hoisted_6 = { value: true }\nconst _hoisted_7 = [\"disabled\"]\nconst _hoisted_8 = [\"disabled\"]\nconst _hoisted_9 = [\"disabled\"]\nconst _hoisted_10 = { class: \"collapsable collapsed\" }\nconst _hoisted_11 = { class: \"feedbackContainer\" }\nconst _hoisted_12 = { class: \"feedbackPercentagesChild\" }\nconst _hoisted_13 = [\"onUpdate:modelValue\"]\nconst _hoisted_14 = { class: \"feedbackMessagesChild\" }\nconst _hoisted_15 = [\"onUpdate:modelValue\"]\nconst _hoisted_16 = [\"title\", \"onClick\"]\nconst _hoisted_17 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_studip_wysiwyg = _resolveComponent(\"studip-wysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Drag The Words')), 1),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addBlank && _ctx.addBlank(...args))),\n          class: \"button\",\n          type: \"button\",\n          style: {\"margin-right\":\"0.1em\"}\n        }, _toDisplayString(_ctx.$gettext('Lcke hinzufgen')), 1),\n        _createElementVNode(\"div\", {\n          class: \"tooltip tooltip-icon\",\n          \"data-tooltip\": _ctx.instructions\n        }, null, 8, _hoisted_3)\n      ]),\n      _createVNode(_component_studip_wysiwyg, {\n        modelValue: _ctx.taskDefinition.template,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.taskDefinition.template) = $event)),\n        ref: \"wysiwyg\",\n        \"force-soft-breaks\": \"\",\n        \"remove-wrapping-p-tag\": \"\",\n        \"disable-autoformat\": \"\"\n      }, null, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_4, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Korrigiert wird')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"select\", {\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.taskDefinition.instantFeedback) = $event))\n        }, [\n          _createElementVNode(\"option\", _hoisted_5, _toDisplayString(_ctx.$gettext('manuell per Button')), 1),\n          _createElementVNode(\"option\", _hoisted_6, _toDisplayString(_ctx.$gettext('automatisch nach Eingabe')), 1)\n        ], 512), [\n          [_vModelSelect, _ctx.taskDefinition.instantFeedback]\n        ])\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.instantFeedback ? 'setting-disabled' : '')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: _ctx.taskDefinition.instantFeedback,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.taskDefinition.strings.checkButton) = $event))\n        }, null, 8, _hoisted_7), [\n          [_vModelText, _ctx.taskDefinition.strings.checkButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.taskDefinition.alphabeticOrder) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.alphabeticOrder]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Antworten alphabetisch sortieren')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.retryAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.retryAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Versuche erlauben')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.retryAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.retryAllowed,\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.strings.retryButton) = $event))\n        }, null, 8, _hoisted_8), [\n          [_vModelText, _ctx.taskDefinition.strings.retryButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.taskDefinition.showSolutionsAllowed) = $event)),\n          onChange: _cache[8] || (_cache[8] = ($event: any) => (\n            !_ctx.taskDefinition.showSolutionsAllowed\n              ? (_ctx.taskDefinition.allBlanksMustBeFilledForSolutions =\n                  _ctx.taskDefinition.showSolutionsAllowed)\n              : ''\n          ))\n        }, null, 544), [\n          [_vModelCheckbox, _ctx.taskDefinition.showSolutionsAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Lsungen knnen angezeigt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((_ctx.taskDefinition.strings.solutionsButton) = $event))\n        }, null, 8, _hoisted_9), [\n          [_vModelText, _ctx.taskDefinition.strings.solutionsButton]\n        ])\n      ], 2)\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_10, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Feedback')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext(\n            'Ergebnismitteilung (mgliche Variablen :correct und :total):'\n          )) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((_ctx.taskDefinition.strings.resultMessage) = $event)),\n          style: {\"width\":\"100%\"}\n        }, null, 512), [\n          [_vModelText, _ctx.taskDefinition.strings.resultMessage]\n        ])\n      ]),\n      _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Benutzerdefiniertes Feedback fr beliebige Punktebereiche:')), 1),\n      _createElementVNode(\"div\", _hoisted_11, [\n        _createElementVNode(\"div\", _hoisted_12, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Prozent')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n              key: i,\n              type: \"number\",\n              min: \"0\",\n              max: \"100\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].percentage) = $event)\n            }, null, 8, _hoisted_13)), [\n              [_vModelText, _ctx.taskDefinition.feedback[i].percentage]\n            ])\n          }), 128))\n        ]),\n        _createElementVNode(\"div\", _hoisted_14, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Mitteilung')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"feedbackMessagesChildSubdivision\",\n              key: i\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].message) = $event)\n              }, null, 8, _hoisted_15), [\n                [_vModelText, _ctx.taskDefinition.feedback[i].message]\n              ]),\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                title: _ctx.titleForDeleteButtonForFeedback(feedback),\n                onClick: ($event: any) => (_ctx.removeFeedback(feedback))\n              }, [\n                _createElementVNode(\"img\", {\n                  src: _ctx.urlForIcon('trash'),\n                  width: \"16\",\n                  height: \"16\"\n                }, null, 8, _hoisted_17)\n              ], 8, _hoisted_16)\n            ]))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"button\",\n        onClick: _cache[11] || (_cache[11] = \n//@ts-ignore\n(...args) => (_ctx.addFeedback && _ctx.addFeedback(...args)))\n      }, _toDisplayString(_ctx.$gettext('Neuer Bereich')), 1)\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want.\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { DragTheWordsTask, Feedback } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport { $gettext } from '@/language/gettext';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\n\nexport default defineComponent({\n  name: 'DragTheWordsEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<DragTheWordsTask>,\n      required: true,\n    },\n  },\n  computed: {\n    currentUndoRedoState: () =>\n      taskEditorStore.undoRedoStack[taskEditorStore.undoRedoIndex],\n\n    instructions(): string {\n      return $gettext(\n        'Fgen Sie Lcken hinzu, indem Sie ein Sternchen (*) vor und hinter dem korrekten Wort bzw. den Wrtern setzen oder markieren Sie ein Wort und klicken Sie den \"Lcke hinzufgen\"Button.' +\n          ' Auerdem knnen Sie einen Tooltip mit einem Doppelpunkt (:) hinzufgen.'\n      );\n    },\n\n    feedbackSortedByScore(): Feedback[] {\n      return this.taskDefinition.feedback\n        .map((value) => value)\n        .sort((a, b) => b.percentage - a.percentage);\n    },\n  },\n  methods: {\n    $gettext,\n\n    /**\n     * Surround the selected text with two asterisks\n     */\n    addBlank() {\n      const wysiwygEl = (this.$refs.wysiwyg as any)?.$el;\n      const editor = window.STUDIP.wysiwyg.getEditor(wysiwygEl);\n      if (!editor) {\n        console.error('getEditor(wysiwygEl) returned: ', editor);\n        throw new Error('Could not get reference to wysiwyg editor');\n      }\n      const selection = editor.model.document.selection;\n      const start = selection.getFirstPosition();\n      const end = selection.getLastPosition();\n      if (!start || !end) {\n        console.error('selection start: ', start, ' selection end: ', end);\n        throw new Error('Could not get selection in editor');\n      }\n      editor.model.change((writer) => {\n        writer.insertText('*', end);\n        writer.insertText('*', start);\n      });\n    },\n\n    addFeedback(): void {\n      this.taskDefinition.feedback.push({\n        percentage: this.feedbackSortedByScore[0]?.percentage,\n        message: 'Feedback',\n      });\n    },\n\n    removeFeedback(feedbackToRemove: Feedback): void {\n      this.taskDefinition.feedback = this.taskDefinition.feedback.filter(\n        (feedback) => feedback !== feedbackToRemove\n      );\n    },\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n\n    titleForDeleteButtonForFeedback(feedback: Feedback): string {\n      return this.$gettext(\n        'Entferne den Feedback-Bereich, der ab %{ percentage }% anfngt.',\n        { percentage: feedback.percentage.toString() }\n      );\n    },\n  },\n});\n","import { render } from \"./DragTheWordsEditor.vue?vue&type=template&id=8c60d656&scoped=true&ts=true\"\nimport script from \"./DragTheWordsEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./DragTheWordsEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./DragTheWordsEditor.vue?vue&type=style&index=0&id=8c60d656&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8c60d656\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4a18c520\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"h5pModule\" }\nconst _hoisted_2 = {\n  class: \"h5pMarkTheWordText\",\n  ref: \"wrapperElement\"\n}\nconst _hoisted_3 = [\"aria-pressed\", \"onClick\", \"onKeydown\", \"onKeyup\", \"innerHTML\"]\nconst _hoisted_4 = {\n  key: 0,\n  class: \"space\"\n}\nconst _hoisted_5 = { class: \"h5pButtonPanel\" }\nconst _hoisted_6 = [\"textContent\"]\nconst _hoisted_7 = [\"textContent\"]\nconst _hoisted_8 = { key: 1 }\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\" Marked words: \")\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\" template: \")\nconst _hoisted_11 = /*#__PURE__*/_createTextVNode(\" Split template: \")\nconst _hoisted_12 = /*#__PURE__*/_createTextVNode(\" Parsed template: \")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_feedback_element = _resolveComponent(\"feedback-element\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.parsedTemplate, (element, index) => {\n        return (_openBlock(), _createElementBlock(\"span\", {\n          key: element.uuid\n        }, [\n          _createElementVNode(\"span\", {\n            tabindex: \"0\",\n            role: \"button\",\n            \"aria-pressed\": _ctx.isMarked(element),\n            onClick: ($event: any) => (_ctx.onClickWord(element)),\n            onKeydown: (event) => _ctx.onWordKeydown(event, element),\n            onKeyup: (event) => _ctx.onWordKeyup(event, element),\n            class: _normalizeClass(_ctx.classForWord(element)),\n            innerHTML: element.text\n          }, null, 42, _hoisted_3),\n          (index < _ctx.parsedTemplate.length)\n            ? (_openBlock(), _createElementBlock(\"pre\", _hoisted_4, \" \"))\n            : _createCommentVNode(\"\", true)\n        ]))\n      }), 128))\n    ], 512),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_feedback_element, {\n          key: 0,\n          \"achieved-points\": _ctx.score,\n          \"max-points\": _ctx.maxScore,\n          feedback: this.task.feedback,\n          \"result-message\": _ctx.resultMessage\n        }, null, 8, [\"achieved-points\", \"max-points\", \"feedback\", \"result-message\"]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_5, [\n      (_ctx.showCheckButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onClickCheck && _ctx.onClickCheck(...args))),\n            class: \"h5pButton\",\n            textContent: _toDisplayString(this.task.strings.checkButton)\n          }, null, 8, _hoisted_6))\n        : _createCommentVNode(\"\", true),\n      (_ctx.showRetryButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 1,\n            onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onClickRetry && _ctx.onClickRetry(...args))),\n            class: \"h5pButton\",\n            textContent: _toDisplayString(this.task.strings.retryButton)\n          }, null, 8, _hoisted_7))\n        : _createCommentVNode(\"\", true)\n    ]),\n    (_ctx.debug)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n          _hoisted_9,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.markedWords), 1),\n          _hoisted_10,\n          _createElementVNode(\"pre\", null, _toDisplayString(this.task.template), 1),\n          _hoisted_11,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.splitTemplate), 1),\n          _hoisted_12,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.parsedTemplate), 1)\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { MarkTheWordsTask } from '@/models/TaskDefinition';\nimport { v4 as uuidv4 } from 'uuid';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\ntype MarkTheWordsElement = {\n  uuid: Uuid;\n  text: string;\n  correct: boolean;\n};\n\ntype Uuid = string;\n\nexport default defineComponent({\n  name: 'MarkTheWordsViewer',\n  props: {\n    task: {\n      type: Object as PropType<MarkTheWordsTask>,\n      required: true,\n    },\n  },\n  components: {\n    FeedbackElement,\n  },\n  data() {\n    return {\n      markedWords: new Set<MarkTheWordsElement>(),\n      showResults: false,\n      debug: false,\n    };\n  },\n\n  methods: {\n    onClickCheck() {\n      this.showResults = true;\n    },\n\n    onClickRetry() {\n      this.showResults = false;\n      this.markedWords.clear();\n    },\n\n    onClickWord(word: MarkTheWordsElement) {\n      if (this.showResults) return;\n\n      if (this.isMarked(word)) {\n        this.markedWords.delete(word);\n      } else {\n        this.markedWords.add(word);\n      }\n    },\n\n    /**\n     * Marks/unmarks a word using the enter key.\n     */\n    onWordKeydown(event: KeyboardEvent, word: MarkTheWordsElement) {\n      // The action button is activated by space on the keyup event, but the\n      // default action for space is already triggered on keydown. It needs to be\n      // prevented to stop scrolling the page before activating the button.\n      if (event.code === 'Space') {\n        event.preventDefault();\n      }\n      // If enter is pressed, activate the button\n      else if (event.code === 'Enter' || event.code === 'Return') {\n        event.preventDefault();\n        this.onClickWord(word);\n      }\n    },\n\n    /**\n     * Marks/unmarks a word with the space key.\n     */\n    onWordKeyup(event: KeyboardEvent, word: MarkTheWordsElement) {\n      if (event.code === 'Space') {\n        event.preventDefault();\n        this.onClickWord(word);\n      }\n    },\n\n    classForWord(word: MarkTheWordsElement) {\n      if (this.showResults) {\n        // User is done marking words and wants to see the results\n        if (this.isMarked(word)) {\n          if (word.correct) {\n            return 'h5pCorrectAnswer';\n          } else {\n            return 'h5pIncorrectAnswer';\n          }\n        } else {\n          return 'h5pStaticTextNoHover';\n        }\n      } else {\n        // User is working on the task\n        if (this.isMarked(word)) {\n          return 'h5pMarkedWord';\n        } else {\n          return 'h5pStaticText';\n        }\n      }\n    },\n\n    isMarked(word: MarkTheWordsElement): boolean {\n      return this.markedWords.has(word);\n    },\n  },\n  computed: {\n    /**\n     * Returns an array where the even indexes are the static text portions,\n     * and the odd indexes are the correct words to be marked.\n     */\n    splitTemplate(): string[] {\n      // Split the text into chunks based on pairs of asterisks\n      return this.task.template.split(/\\*([^*]*)\\*/);\n    },\n\n    parsedTemplate(): MarkTheWordsElement[] {\n      let parsedTemplate: MarkTheWordsElement[] = [];\n      this.splitTemplate.forEach((templateElement, i) => {\n        if (i % 2 === 0) {\n          // Even indexes are the static text portions which we split further by spaces here\n          templateElement\n            .trim()\n            .split(' ')\n            .filter((el) => el !== '')\n            .forEach((staticWord) => {\n              parsedTemplate.push({\n                uuid: uuidv4(),\n                text: staticWord,\n                correct: false,\n              });\n            });\n        } else {\n          parsedTemplate.push({\n            uuid: uuidv4(),\n            text: templateElement,\n            correct: true,\n          });\n        }\n      });\n      return parsedTemplate;\n    },\n\n    showCheckButton(): boolean {\n      return !this.showResults;\n    },\n\n    showRetryButton(): boolean {\n      return this.task.retryAllowed && this.showResults;\n    },\n\n    score(): number {\n      let score = 0;\n\n      for (const element of this.markedWords) {\n        if (element.correct) {\n          score++;\n        } else {\n          score--;\n        }\n      }\n\n      if (score < 0) score = 0;\n\n      return score;\n    },\n\n    maxScore(): number {\n      let maxScore = 0;\n      for (const element of this.parsedTemplate) {\n        if (element.correct) maxScore++;\n      }\n      return maxScore;\n    },\n\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.score.toString()\n      );\n\n      resultMessage = resultMessage.replace(':total', this.maxScore.toString());\n\n      return resultMessage;\n    },\n  },\n});\n","import { render } from \"./MarkTheWordsViewer.vue?vue&type=template&id=4a18c520&scoped=true&ts=true\"\nimport script from \"./MarkTheWordsViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./MarkTheWordsViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./MarkTheWordsViewer.vue?vue&type=style&index=0&id=4a18c520&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4a18c520\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-096b7c32\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"h5pEditorTopPanel\" }\nconst _hoisted_3 = [\"data-tooltip\"]\nconst _hoisted_4 = { class: \"collapsable collapsed\" }\nconst _hoisted_5 = { class: \"feedbackContainer\" }\nconst _hoisted_6 = { class: \"feedbackPercentagesChild\" }\nconst _hoisted_7 = [\"onUpdate:modelValue\"]\nconst _hoisted_8 = { class: \"feedbackMessagesChild\" }\nconst _hoisted_9 = [\"onUpdate:modelValue\"]\nconst _hoisted_10 = [\"title\", \"onClick\"]\nconst _hoisted_11 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_StudipWysiwyg = _resolveComponent(\"StudipWysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Mark The Words')), 1),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addSolution && _ctx.addSolution(...args))),\n          class: \"button\",\n          type: \"button\",\n          style: {\"margin-right\":\"0.1em\"}\n        }, _toDisplayString(_ctx.$gettext('Richtiges Wort markieren')), 1),\n        _createElementVNode(\"div\", {\n          class: \"tooltip tooltip-icon\",\n          \"data-tooltip\": _ctx.instructions\n        }, null, 8, _hoisted_3)\n      ]),\n      _createVNode(_component_StudipWysiwyg, {\n        modelValue: _ctx.taskDefinition.template,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.taskDefinition.template) = $event)),\n        ref: \"wysiwyg\",\n        \"force-soft-breaks\": \"\",\n        \"remove-wrapping-p-tag\": \"\",\n        \"disable-autoformat\": \"\"\n      }, null, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_4, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Feedback')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext(\n            'Ergebnismitteilung (mgliche Variablen :correct und :total):'\n          )) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.taskDefinition.strings.resultMessage) = $event)),\n          style: {\"width\":\"100%\"}\n        }, null, 512), [\n          [_vModelText, _ctx.taskDefinition.strings.resultMessage]\n        ])\n      ]),\n      _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Benutzerdefiniertes Feedback fr beliebige Punktebereiche:')), 1),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Prozent')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n              key: i,\n              type: \"number\",\n              min: \"0\",\n              max: \"100\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].percentage) = $event)\n            }, null, 8, _hoisted_7)), [\n              [_vModelText, _ctx.taskDefinition.feedback[i].percentage]\n            ])\n          }), 128))\n        ]),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Mitteilung')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"feedbackMessagesChildSubdivision\",\n              key: i\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].message) = $event)\n              }, null, 8, _hoisted_9), [\n                [_vModelText, _ctx.taskDefinition.feedback[i].message]\n              ]),\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                title: _ctx.titleForDeleteButtonForFeedback(feedback),\n                onClick: ($event: any) => (_ctx.removeFeedback(feedback))\n              }, [\n                _createElementVNode(\"img\", {\n                  src: _ctx.urlForIcon('trash'),\n                  width: \"16\",\n                  height: \"16\"\n                }, null, 8, _hoisted_11)\n              ], 8, _hoisted_10)\n            ]))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"button\",\n        onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.addFeedback && _ctx.addFeedback(...args)))\n      }, _toDisplayString(_ctx.$gettext('Neuer Bereich')), 1)\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { Feedback, MarkTheWordsTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport { $gettext } from '@/language/gettext';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\n\nexport default defineComponent({\n  name: 'MarkTheWordsEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<MarkTheWordsTask>,\n      required: true,\n    },\n  },\n  methods: {\n    $gettext,\n\n    /**\n     * Surround the selected text with two asterisks\n     */\n    addSolution() {\n      const wysiwygEl = (this.$refs.wysiwyg as any)?.$el;\n      const editor = window.STUDIP.wysiwyg.getEditor(wysiwygEl);\n      if (!editor) {\n        console.error('getEditor(wysiwygEl) returned: ', editor);\n        throw new Error('Could not get reference to wysiwyg editor');\n      }\n      const selection = editor.model.document.selection;\n      const start = selection.getFirstPosition();\n      const end = selection.getLastPosition();\n      if (!start || !end) {\n        console.error('selection start: ', start, ' selection end: ', end);\n        throw new Error('Could not get selection in editor');\n      }\n      editor.model.change((writer) => {\n        writer.insertText('*', end);\n        writer.insertText('*', start);\n      });\n    },\n\n    titleForDeleteButtonForFeedback(feedback: Feedback): string {\n      return this.$gettext(\n        'Entferne den Feedback-Bereich, der ab %{ percentage }% anfngt.',\n        { percentage: feedback.percentage.toString() }\n      );\n    },\n\n    addFeedback(): void {\n      this.taskDefinition.feedback.push({\n        percentage: this.feedbackSortedByScore[0]?.percentage,\n        message: 'Feedback',\n      });\n    },\n\n    removeFeedback(feedbackToRemove: Feedback): void {\n      this.taskDefinition.feedback = this.taskDefinition.feedback.filter(\n        (feedback) => feedback !== feedbackToRemove\n      );\n    },\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n\n  computed: {\n    instructions(): string {\n      return $gettext(\n        'Markieren Sie ein Wort als Lsung, indem Sie ein Sternchen (*) vor und hinter dem Wort setzen oder markieren Sie ein Wort und klicken Sie den \"Richtiges Wort markieren\"Button.'\n      );\n    },\n\n    feedbackSortedByScore(): Feedback[] {\n      return this.taskDefinition.feedback\n        .map((value) => value)\n        .sort((a, b) => b.percentage - a.percentage);\n    },\n  },\n});\n","import { render } from \"./MarkTheWordsEditor.vue?vue&type=template&id=096b7c32&scoped=true&ts=true\"\nimport script from \"./MarkTheWordsEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./MarkTheWordsEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./MarkTheWordsEditor.vue?vue&type=style&index=0&id=096b7c32&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-096b7c32\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withModifiers as _withModifiers, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b500394e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"main-flex\" }\nconst _hoisted_2 = { class: \"cards-list\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = [\"onClick\"]\nconst _hoisted_5 = [\"src\", \"alt\"]\nconst _hoisted_6 = {\n  key: 1,\n  class: \"edited-memory-card no-card-selected-placeholder\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_EditedMemoryCard = _resolveComponent(\"EditedMemoryCard\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.cards, (card, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: card.uuid,\n          class: _normalizeClass({\n          'cards-list-item': true,\n          'selected-card': index === this.selectedCardIndex,\n        }),\n          onClick: ($event: any) => (_ctx.selectCard(index))\n        }, [\n          _createTextVNode(_toDisplayString(index) + \". \" + _toDisplayString(card.question === '' ? _ctx.$gettext('Karte') : card.question), 1),\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"flex-child-element removeAnswerButton\",\n            onClick: _withModifiers(($event: any) => (_ctx.deleteCard(index)), [\"stop\"])\n          }, [\n            _createElementVNode(\"img\", {\n              src: _ctx.urlForIcon('trash'),\n              alt: _ctx.$gettext('Karte lschen')\n            }, null, 8, _hoisted_5)\n          ], 8, _hoisted_4)\n        ], 10, _hoisted_3))\n      }), 128)),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addCard && _ctx.addCard(...args)))\n      }, _toDisplayString(_ctx.$gettext('Karte hinzufgen')), 1)\n    ]),\n    (this.taskDefinition.cards[this.selectedCardIndex])\n      ? (_openBlock(), _createBlock(_component_EditedMemoryCard, {\n          key: 0,\n          class: \"edited-memory-card\",\n          card: this.taskDefinition.cards[this.selectedCardIndex],\n          \"card-index\": this.selectedCardIndex\n        }, null, 8, [\"card\", \"card-index\"]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString(_ctx.$gettext('Keine Karte ist zum Bearbeiten ausgewhlt.')), 1))\n  ]))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_EditedMemoryCardImage = _resolveComponent(\"EditedMemoryCardImage\")!\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Karte')), 1),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"h4\", null, _toDisplayString(_ctx.$gettext('Bild')), 1),\n        (_ctx.card.imageUrl)\n          ? (_openBlock(), _createBlock(_component_EditedMemoryCardImage, {\n              key: 0,\n              card: _ctx.card\n            }, null, 8, [\"card\"]))\n          : (_openBlock(), _createBlock(_component_FileUpload, {\n              key: 1,\n              onFileUploaded: _ctx.onFileUploaded\n            }, null, 8, [\"onFileUploaded\"]))\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Alternativer Text')) + \" \", 1),\n        _createElementVNode(\"input\", {\n          type: \"text\",\n          value: _ctx.taskDefinition.cards[_ctx.cardIndex].altText,\n          onInput: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputAltText && _ctx.onInputAltText(...args)))\n        }, null, 40, _hoisted_2)\n      ])\n    ])\n  ]))\n}","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"src\", \"alt\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"img\", {\n      src: _ctx.card.imageUrl,\n      alt: _ctx.card.altText\n    }, null, 8, _hoisted_1),\n    _createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.deleteImage && _ctx.deleteImage(...args)))\n    }, _toDisplayString(_ctx.$gettext('Bild Lschen')), 1)\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { MemoryCard, MemoryTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'EditedMemoryCardImage',\n  props: {\n    card: {\n      type: Object as PropType<MemoryCard>,\n      required: true,\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as MemoryTask,\n  },\n  methods: {\n    $gettext,\n    deleteImage(): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        const cardIndex = draft.cards.findIndex(\n          (card) => card.uuid === this.card.uuid\n        );\n        draft.cards[cardIndex].imageUrl = '';\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n  },\n});\n","import { render } from \"./EditedMemoryCardImage.vue?vue&type=template&id=5feecc35&ts=true\"\nimport script from \"./EditedMemoryCardImage.vue?vue&type=script&lang=ts\"\nexport * from \"./EditedMemoryCardImage.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = [\"accept\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_ctx.uploadRequestPromise)\n    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, _toDisplayString(_ctx.$gettext('Datei wird hochgeladen')), 1))\n    : (_openBlock(), _createElementBlock(\"input\", {\n        key: 1,\n        ref: \"fileInput\",\n        type: \"file\",\n        accept: _ctx.accept,\n        onChange: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputChange && _ctx.onInputChange(...args)))\n      }, null, 40, _hoisted_2))\n}","\nimport { defineComponent } from 'vue';\nimport { uploadFile } from '@/routes';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'FileUpload',\n  emits: ['fileUploaded'],\n  props: {\n    // The 'accept' property passed to the <input type=\"file\"> element.  Default: 'image/*'\n    accept: {\n      type: String,\n      required: false,\n      default: 'image/*',\n    },\n  },\n  data() {\n    return {\n      // Wenn dieser Promise vorhanden ist, heit das, dass eine HTTP-Anfrage\n      // unterwegs ist.\n      uploadRequestPromise: undefined as Promise<unknown> | undefined,\n    };\n  },\n  methods: {\n    $gettext,\n    onInputChange(event: Event): void {\n      if (this.uploadRequestPromise) {\n        console.warn(\n          'FileUpload: onInputChange fired while uploadRequestPromise is already defined.'\n        );\n        return;\n      }\n      const input = this.$refs.fileInput as HTMLInputElement;\n      const file = input.files?.item(0);\n      if (!file) {\n        console.warn(\n          'FileUpload: onInputChange fired, but input.files[] is empty.'\n        );\n        return;\n      }\n      this.uploadRequestPromise = uploadFile(file)\n        .then((res) => {\n          this.$emit('fileUploaded', res.files[0]);\n          this.uploadRequestPromise = undefined;\n        })\n        .catch((error) => {\n          console.error(error);\n          // TODO Display the error somewhere!\n          this.uploadRequestPromise = undefined;\n        });\n    },\n  },\n});\n","import { render } from \"./FileUpload.vue?vue&type=template&id=3e1b5cf7&ts=true\"\nimport script from \"./FileUpload.vue?vue&type=script&lang=ts\"\nexport * from \"./FileUpload.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { MemoryCard, MemoryTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport { $gettext } from '@/language/gettext';\nimport EditedMemoryCardImage from '@/components/EditedMemoryCardImage.vue';\nimport FileUpload from '@/components/FileUpload.vue';\nimport { UploadedFile } from '@/routes';\n\nexport default defineComponent({\n  name: 'EditedMemoryCard',\n  components: { FileUpload, EditedMemoryCardImage },\n  props: {\n    card: {\n      type: Object as PropType<MemoryCard>,\n      required: true,\n    },\n    cardIndex: {\n      type: Number as PropType<number>,\n      required: true,\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as MemoryTask,\n  },\n  methods: {\n    $gettext,\n    onImageUploaded(file: UploadedFile): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        // TODO #20  - Store file ID instead of URL\n        draft.cards[this.cardIndex].imageUrl = file.url;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n    // This is how you write the @input event handler if you want undo-redo and reactivity to work\n    onInputAltText(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.cards[this.cardIndex].altText = value;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: { type: 'EditedAltText' },\n      });\n    },\n    // This is what results if you write v-model=\"taskDefinition.cards[this.cardIndex].altText\"\n    onInputAltTextBAD(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      this.taskDefinition.cards[this.cardIndex].altText = value;\n    },\n  },\n});\n","import { render } from \"./EditedMemoryCard.vue?vue&type=template&id=6980ed08&ts=true\"\nimport script from \"./EditedMemoryCard.vue?vue&type=script&lang=ts\"\nexport * from \"./EditedMemoryCard.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { taskEditorStore } from '@/store';\nimport { MemoryTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport produce from 'immer';\nimport { v4 } from 'uuid';\nimport EditedMemoryCard from '@/components/EditedMemoryCard.vue';\n\nexport default defineComponent({\n  name: 'MemoryEditor',\n  components: { EditedMemoryCard },\n  props: {},\n  data() {\n    return {\n      selectedCardIndex: -1,\n    };\n  },\n  beforeMount(): void {\n    if (this.taskDefinition.cards.length > 0) {\n      this.selectedCardIndex = 0;\n    }\n  },\n  methods: {\n    $gettext,\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n    selectCard(index: number) {\n      this.selectedCardIndex = index;\n    },\n    addCard() {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.cards.push({\n          uuid: v4(),\n          imageUrl: '',\n          altText: '',\n        });\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Select the newly inserted card\n      this.selectedCardIndex = this.taskDefinition.cards.length - 1;\n    },\n    deleteCard(index: number) {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.cards.splice(index, 1);\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Adjust the selection index so the selected card doesn't unexpectedly change\n      if (index <= this.selectedCardIndex) {\n        this.selectedCardIndex = this.selectedCardIndex - 1;\n      }\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as MemoryTask,\n  },\n});\n","import { render } from \"./MemoryEditor.vue?vue&type=template&id=b500394e&scoped=true&ts=true\"\nimport script from \"./MemoryEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./MemoryEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./MemoryEditor.vue?vue&type=style&index=0&id=b500394e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b500394e\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1da67fcf\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"h5pModule\" }\nconst _hoisted_2 = { class: \"h5pMemoryGame\" }\nconst _hoisted_3 = { class: \"h5pFeedbackContainer\" }\nconst _hoisted_4 = { class: \"h5pFeedbackContainerTop\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"h5pFeedbackText\"\n}\nconst _hoisted_6 = { class: \"h5pFeedbackContainerCenter\" }\nconst _hoisted_7 = {\n  key: 0,\n  class: \"h5pFeedbackText\"\n}\nconst _hoisted_8 = { class: \"h5pFeedbackContainerBottom\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_MemoryCardComponent = _resolveComponent(\"MemoryCardComponent\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", null, _toDisplayString(_ctx.$gettext('Umgedrehte Karten: ') + this.amountOfFlips), 1),\n    _createElementVNode(\"div\", null, _toDisplayString(_ctx.$gettext(\n          'Aufgedeckte Paare: %{ amountOfPairsSolved } von %{ totalAmountOfPairs }',\n          {\n            amountOfPairsSolved: this.amountOfPairsSolved.toString(),\n            totalAmountOfPairs: this.totalAmountOfPairs.toString(),\n          }\n        )), 1),\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.cards, (card) => {\n        return (_openBlock(), _createBlock(_component_MemoryCardComponent, {\n          key: card.uuid,\n          card: card,\n          onClick: ($event: any) => (_ctx.onClickCard(card))\n        }, null, 8, [\"card\", \"onClick\"]))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        (_ctx.showResults && _ctx.feedbackMessage)\n          ? (_openBlock(), _createElementBlock(\"label\", _hoisted_5, _toDisplayString(this.feedbackMessage), 1))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        (_ctx.showResults)\n          ? (_openBlock(), _createElementBlock(\"label\", _hoisted_7, _toDisplayString(this.resultMessage), 1))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        (_ctx.showRetryButton)\n          ? (_openBlock(), _createElementBlock(\"button\", {\n              key: 0,\n              onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n              class: \"h5pButton\"\n            }, _toDisplayString(this.task.strings.retryButton), 1))\n          : _createCommentVNode(\"\", true)\n      ])\n    ])\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '../assets/memoryCardBack.png'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1915ee96\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"memoryCardFront\"\n}\nconst _hoisted_2 = [\"src\", \"alt\"]\nconst _hoisted_3 = {\n  key: 1,\n  class: \"memoryCardBack\"\n}\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  class: \"memoryImage\"\n}, null, -1))\nconst _hoisted_5 = [\n  _hoisted_4\n]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"memoryCard\", { memoryCardFlipped: _ctx.card.flipped }])\n  }, [\n    (_ctx.card.flipped)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createElementVNode(\"img\", {\n            src: _ctx.card.imageUrl,\n            alt: _ctx.card.altText,\n            class: \"memoryImage\"\n          }, null, 8, _hoisted_2)\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _hoisted_5))\n  ], 2))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { ViewerMemoryCard } from '@/components/MemoryViewer.vue';\n\nexport default defineComponent({\n  name: 'MemoryCard',\n  props: {\n    card: {\n      type: Object as PropType<ViewerMemoryCard>,\n      required: true,\n    },\n  },\n  computed: {},\n  methods: {},\n});\n","import { render } from \"./MemoryCard.vue?vue&type=template&id=1915ee96&scoped=true&ts=true\"\nimport script from \"./MemoryCard.vue?vue&type=script&lang=ts\"\nexport * from \"./MemoryCard.vue?vue&type=script&lang=ts\"\n\nimport \"./MemoryCard.vue?vue&type=style&index=0&id=1915ee96&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1915ee96\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { MemoryTask, MemoryCard } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport MemoryCardComponent from '@/components/MemoryCard.vue';\nimport { v4 } from 'uuid';\n\nexport interface ViewerMemoryCard extends MemoryCard {\n  flipped: boolean;\n  solved: boolean;\n  matchingCardId: string | undefined;\n}\n\nexport default defineComponent({\n  name: 'MemoryViewer',\n  components: { MemoryCardComponent },\n  emits: ['updateAttempt'],\n  props: {\n    task: {\n      type: Object as PropType<MemoryTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      cards: [] as ViewerMemoryCard[],\n      firstFlippedCardId: undefined as string | undefined,\n      amountOfFlips: 0 as number,\n      showResults: false as boolean,\n      feedbackMessage: undefined as string | undefined,\n      resultMessage: undefined as string | undefined,\n    };\n  },\n  methods: {\n    $gettext,\n\n    onClickCard(card: ViewerMemoryCard): void {\n      // do nothing if card is already open\n      if (card.flipped) return;\n\n      card.flipped = true;\n      console.log('Flipped', card.altText);\n\n      this.amountOfFlips++;\n\n      if (!this.firstFlippedCardId) {\n        // This is the first of two cards to be flipped around\n        // Reset all previous unsuccessful cardflips except the card we just flipped\n        this.resetAllUnsolvedCardsExcept(card.uuid);\n\n        this.firstFlippedCardId = card.uuid;\n      } else {\n        // We flipped the second card around, check if we got a pair\n        if (card.matchingCardId === this.firstFlippedCardId) {\n          // We found a pair!\n          // Set both cards' solved attribute to true\n          card.solved = true;\n          const firstCard = this.getCardById(this.firstFlippedCardId);\n          firstCard.solved = true;\n          console.log('Found a pair of', card.altText);\n        }\n\n        this.firstFlippedCardId = undefined;\n      }\n    },\n\n    resetAllUnsolvedCardsExcept(exceptionId: string): void {\n      for (const card of this.cards) {\n        if (!card.solved && card.uuid !== exceptionId) {\n          card.flipped = false;\n        }\n      }\n    },\n\n    onClickTryAgain(): void {\n      this.amountOfFlips = 0;\n      this.firstFlippedCardId = undefined;\n      this.resetCards();\n      this.shuffleCards();\n    },\n\n    resetCards(): void {\n      // Set all cards' flipped and solved attribute to false\n      for (const card of this.cards) {\n        card.flipped = false;\n        card.solved = false;\n      }\n    },\n\n    shuffleCards(): void {\n      // Shuffle the cards\n      // https://stackoverflow.com/a/46545530\n      this.cards = this.cards\n        .map((card) => ({ card, sort: Math.random() }))\n        .sort((card1, card2) => card1.sort - card2.sort)\n        .map(({ card }) => card);\n    },\n\n    getCardById(cardId: string): ViewerMemoryCard {\n      const card = this.cards.find((card) => card.uuid === cardId);\n      if (!card) {\n        throw new Error('No card found with the given ID: ' + cardId);\n      }\n      return card;\n    },\n  },\n\n  computed: {\n    totalAmountOfPairs(): number {\n      return this.task.cards.length;\n    },\n\n    amountOfPairsSolved(): number {\n      let amountOfCardsSolved = 0;\n      for (const card of this.cards) {\n        if (card.solved) amountOfCardsSolved++;\n      }\n      return amountOfCardsSolved / 2;\n    },\n\n    showRetryButton(): boolean {\n      return this.amountOfPairsSolved === this.totalAmountOfPairs;\n    },\n  },\n  watch: {\n    task: {\n      handler() {\n        console.log('watcher for this.task');\n        this.firstFlippedCardId = undefined;\n        this.amountOfFlips = 0;\n        // Make two copies of each card in the task. Add the flipped, solved and matchingCardId attributes\n        this.cards = this.task.cards.flatMap((card) => {\n          // The two copies of each card are linked to each other through the matchingCardId attribute\n          const duplicateCardId = v4();\n          return [\n            // The original card with the set matchingCardId attribute\n            {\n              ...card,\n              flipped: false,\n              solved: false,\n              uuid: card.uuid,\n              matchingCardId: duplicateCardId,\n            },\n            // The duplicate card\n            {\n              ...card,\n              flipped: false,\n              solved: false,\n              uuid: duplicateCardId,\n              matchingCardId: card.uuid,\n            },\n          ];\n        });\n\n        // Shuffle the cards\n        this.shuffleCards();\n      },\n      immediate: true, // Ensure that the watcher is also called immediately when the component is first mounted\n    },\n  },\n});\n","import { render } from \"./MemoryViewer.vue?vue&type=template&id=1da67fcf&scoped=true&ts=true\"\nimport script from \"./MemoryViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./MemoryViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./MemoryViewer.vue?vue&type=style&index=0&id=1da67fcf&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1da67fcf\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, withModifiers as _withModifiers, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6739ebf4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"imagePairingRow\" }\nconst _hoisted_2 = [\"draggable\", \"onDragstart\", \"onDragend\", \"onClick\"]\nconst _hoisted_3 = [\"src\", \"alt\"]\nconst _hoisted_4 = { class: \"targetImagesColumn\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_TargetImage = _resolveComponent(\"TargetImage\")!\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", {\n        class: \"draggableImagesColumn\",\n        draggable: \"false\",\n        onDragover: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"])),\n        onDragenter: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"])),\n        onDrop: _cache[2] || (_cache[2] = ($event: any) => (_ctx.onDropOnInteractiveImages($event)))\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.draggableImages, (draggableImageId) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: draggableImageId,\n            draggable: \n          !this.isDraggableImageUsed(draggableImageId) && !this.showResults\n        ,\n            onDragstart: ($event: any) => (_ctx.startDragImage($event, draggableImageId)),\n            onDragend: ($event: any) => (_ctx.endDragImage($event, draggableImageId)),\n            onClick: ($event: any) => (_ctx.onClickDraggableImage(draggableImageId)),\n            class: _normalizeClass([\"draggableImageContainer\", {\n          disabled:\n            this.isDraggableImageUsed(draggableImageId) ||\n            this.showResults ||\n            this.draggedImageId === draggableImageId,\n          selected: this.imageIdInteractedWith === draggableImageId,\n        }])\n          }, [\n            _createElementVNode(\"img\", {\n              class: \"draggableImage\",\n              src: _ctx.getImageById(draggableImageId).imageUrl,\n              alt: _ctx.getImageById(draggableImageId).altText,\n              draggable: \"false\",\n              ref_for: true,\n              ref: \"draggableImages\"\n            }, null, 8, _hoisted_3)\n          ], 42, _hoisted_2))\n        }), 128))\n      ], 32),\n      _createElementVNode(\"div\", _hoisted_4, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.task.imagePairs, (imagePair) => {\n          return (_openBlock(), _createBlock(_component_TargetImage, {\n            class: _normalizeClass([\"targetImage\", {\n          outlined:\n            !this.imagesDraggedOntoTargets.hasOwnProperty(\n              imagePair.targetImage.uuid\n            ) &&\n            (this.draggedImageId || this.imageIdInteractedWith),\n        }]),\n            \"draggable-image\": _ctx.getImageDraggedOntoTarget(imagePair.targetImage.uuid),\n            \"target-image\": _ctx.getImageById(imagePair.targetImage.uuid),\n            isCorrect: this.isAnswerCorrect(imagePair.targetImage.uuid),\n            showResult: this.showResults,\n            key: imagePair.uuid,\n            onDrop: ($event: any) => (_ctx.onDropOnTargetImage($event, imagePair.targetImage.uuid)),\n            draggable: \n          _ctx.getImageDraggedOntoTarget(imagePair.targetImage.uuid) &&\n          !this.showResults\n        ,\n            onDragstart: ($event: any) => (_ctx.startDragTargetImage($event, imagePair.targetImage.uuid)),\n            onDragend: ($event: any) => (_ctx.endDragTargetImage($event, imagePair.targetImage.uuid)),\n            onDragover: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"prevent\"])),\n            onDragenter: _cache[4] || (_cache[4] = _withModifiers(() => {}, [\"prevent\"])),\n            onClick: ($event: any) => (_ctx.onClickTargetImage(imagePair.targetImage.uuid))\n          }, null, 8, [\"class\", \"draggable-image\", \"target-image\", \"isCorrect\", \"showResult\", \"onDrop\", \"draggable\", \"onDragstart\", \"onDragend\", \"onClick\"]))\n        }), 128))\n      ])\n    ]),\n    _hoisted_5,\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          achievedPoints: _ctx.correctAnswers,\n          maxPoints: _ctx.maxPoints,\n          resultMessage: _ctx.resultMessage,\n          feedback: _ctx.task.feedback\n        }, null, 8, [\"achievedPoints\", \"maxPoints\", \"resultMessage\", \"feedback\"]))\n      : _createCommentVNode(\"\", true),\n    (!this.showResults)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 1,\n          type: \"button\",\n          class: \"h5pButton\",\n          onClick: _cache[5] || (_cache[5] = ($event: any) => (_ctx.checkResults()))\n        }, _toDisplayString(this.task.strings.checkButton), 1))\n      : _createCommentVNode(\"\", true),\n    (this.showResults)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 2,\n          type: \"button\",\n          class: \"h5pButton\",\n          onClick: _cache[6] || (_cache[6] = ($event: any) => (_ctx.reset()))\n        }, _toDisplayString(this.task.strings.retryButton), 1))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}","import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-191f3972\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"grid-square two-images\"\n}\nconst _hoisted_2 = { class: \"image-container back\" }\nconst _hoisted_3 = [\"src\", \"alt\"]\nconst _hoisted_4 = { class: \"image-container front\" }\nconst _hoisted_5 = [\"src\", \"alt\"]\nconst _hoisted_6 = {\n  key: 1,\n  class: \"grid-square one-image\"\n}\nconst _hoisted_7 = [\"src\", \"alt\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_ctx.draggableImage)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"img\", {\n            src: _ctx.targetImage.imageUrl,\n            alt: _ctx.targetImage.altText,\n            class: _normalizeClass([\"image\", {\n          correct: this.isCorrect,\n          incorrect: !this.isCorrect,\n          showResult: this.showResult,\n        }]),\n            draggable: \"false\"\n          }, null, 10, _hoisted_3)\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"img\", {\n            src: _ctx.draggableImage.imageUrl,\n            alt: _ctx.draggableImage.altText,\n            class: _normalizeClass([\"image\", {\n          correct: this.isCorrect,\n          incorrect: !this.isCorrect,\n          showResult: this.showResult,\n        }]),\n            draggable: \"false\"\n          }, null, 10, _hoisted_5)\n        ])\n      ]))\n    : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n        _createElementVNode(\"img\", {\n          draggable: \"false\",\n          src: _ctx.targetImage.imageUrl,\n          alt: _ctx.targetImage.altText,\n          class: \"image\"\n        }, null, 8, _hoisted_7)\n      ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { Image } from '@/models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'TargetImage',\n  components: {},\n  props: {\n    draggableImage: {\n      type: Object as PropType<Image>,\n      required: false,\n    },\n    targetImage: {\n      type: Object as PropType<Image>,\n      required: true,\n    },\n    isCorrect: {\n      type: Boolean,\n      required: false,\n    },\n    showResult: {\n      type: Boolean,\n      required: false,\n    },\n  },\n  computed: {},\n  methods: {},\n});\n","import { render } from \"./TargetImage.vue?vue&type=template&id=191f3972&scoped=true&ts=true\"\nimport script from \"./TargetImage.vue?vue&type=script&lang=ts\"\nexport * from \"./TargetImage.vue?vue&type=script&lang=ts\"\n\nimport \"./TargetImage.vue?vue&type=style&index=0&id=191f3972&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-191f3972\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { Image, ImagePairingTask } from '@/models/TaskDefinition';\nimport TargetImage from '@/components/TargetImage.vue';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\ntype Uuid = string;\n\nexport default defineComponent({\n  name: 'ImagePairingViewer',\n  components: {\n    TargetImage,\n    FeedbackElement,\n  },\n  props: {\n    task: {\n      type: Object as PropType<ImagePairingTask>,\n      required: true,\n    },\n  },\n  emits: ['updateAttempt'],\n  data() {\n    return {\n      imageIdInteractedWith: undefined as Uuid | undefined,\n      draggedImageId: undefined as Uuid | undefined,\n      // We used Record instead of Set because I wasn't sure if sets are\n      // reactive in Vue 3.\n      // Record from target ID -> draggable image ID.\n      imagesDraggedOntoTargets: {} as Record<Uuid, Uuid>,\n      showResults: false as boolean,\n    };\n  },\n  methods: {\n    isAnswerCorrect(targetId: Uuid): boolean {\n      const userInput = this.imagesDraggedOntoTargets[targetId];\n      if (!userInput) {\n        return false;\n      }\n      // A little bit awkward -- we have to find the pair to which the target\n      // belongs so that we can check whether the user's solution is right\n      // This method itself is therefore O(n), giving an O(n^2) if you check\n      // every user answer in a loop every time the user makes an input.\n      // But it should be fine, because even if there are 50 images in a set\n      // (very unlikely), this comes out to 2500 comparisons, which should\n      // complete in under a millisecond.\n      const pair = this.task.imagePairs.find(\n        (pair) => pair.targetImage.uuid === targetId\n      );\n      if (!pair) {\n        throw new Error(\n          'could not find the pair to which the target id ' +\n            targetId +\n            ' belongs'\n        );\n      }\n      return pair.draggableImage.uuid === userInput;\n    },\n\n    getImageDraggedOntoTarget(targetId: Uuid): Image | undefined {\n      const draggedImageId = this.imagesDraggedOntoTargets[targetId];\n      if (draggedImageId) {\n        return this.getImageById(draggedImageId);\n      } else {\n        return undefined;\n      }\n    },\n\n    startDragImage(dragEvent: DragEvent, imageId: Uuid): void {\n      if (!this.isDraggableImageUsed(imageId)) {\n        console.log('Dragging image:', imageId);\n        this.imageIdInteractedWith = imageId;\n        this.draggedImageId = imageId;\n\n        dragEvent.dataTransfer!.dropEffect = 'move';\n        dragEvent.dataTransfer!.effectAllowed = 'move';\n\n        // Change the drag image to the parent element to include the border\n        const refToImage = (\n          this.$refs.draggableImages as HTMLImageElement[]\n        ).find((value) => value.src == this.getImageById(imageId).imageUrl);\n\n        const parentElementOfImage = refToImage?.parentElement!;\n\n        if (refToImage && parentElementOfImage) {\n          const cloneOfParent = parentElementOfImage.cloneNode(\n            true\n          ) as HTMLElement;\n\n          cloneOfParent.style.top = '0';\n          cloneOfParent.style.left = '0';\n          cloneOfParent.style.position = 'absolute';\n          cloneOfParent.style.zIndex = '-999';\n\n          parentElementOfImage.parentElement!.append(cloneOfParent);\n\n          dragEvent.dataTransfer!.setDragImage(\n            cloneOfParent,\n            parentElementOfImage.clientWidth / 2,\n            parentElementOfImage.clientHeight / 2\n          );\n\n          setTimeout(() => cloneOfParent.remove());\n        }\n      }\n    },\n\n    endDragImage(dragEvent: DragEvent, imageId: string): void {\n      this.imageIdInteractedWith = undefined;\n      this.draggedImageId = undefined;\n    },\n\n    startDragTargetImage(dragEvent: DragEvent, targetImageId: Uuid): void {\n      dragEvent.dataTransfer!.dropEffect = 'move';\n      dragEvent.dataTransfer!.effectAllowed = 'move';\n      // Remember that the image has been dragged away from a target\n      // where it had been placed by the user\n      dragEvent.dataTransfer!.setData('targetId', targetImageId);\n\n      // Check if an image has been dragged onto the target already\n      const userDraggedImageId = this.imagesDraggedOntoTargets[targetImageId];\n      if (userDraggedImageId) {\n        this.imageIdInteractedWith = userDraggedImageId;\n\n        // Add the interactive image to the cursor even if the user\n        // clicked on the target image\n        const refToImage = (\n          this.$refs.draggableImages as HTMLImageElement[]\n        ).find(\n          (value) => value.src == this.getImageById(userDraggedImageId).imageUrl\n        );\n\n        const parentElementOfImage = refToImage?.parentElement!;\n\n        if (parentElementOfImage) {\n          dragEvent.dataTransfer!.setDragImage(\n            parentElementOfImage,\n            parentElementOfImage.clientWidth / 2,\n            parentElementOfImage.clientHeight / 2\n          );\n        }\n\n        console.log(\n          'Dragging image:',\n          this.imageIdInteractedWith,\n          'from target image',\n          targetImageId\n        );\n      }\n    },\n\n    endDragTargetImage(event: DragEvent, targetImageId: Uuid) {\n      this.imageIdInteractedWith = undefined;\n      this.draggedImageId = undefined;\n    },\n\n    onDropOnTargetImage(event: DragEvent, targetImageId: Uuid): void {\n      if (!this.imageIdInteractedWith) {\n        return;\n      }\n\n      // If the image has been dragged away from another target, then it should\n      // be removed from that target when it is dropped onto this target.\n      const otherTargetId = event.dataTransfer?.getData('targetId');\n      if (otherTargetId) {\n        delete this.imagesDraggedOntoTargets[otherTargetId];\n      }\n      // Save the dragged image onto the target where it has been dropped\n      this.imagesDraggedOntoTargets[targetImageId] = this.imageIdInteractedWith;\n\n      console.log(\n        'Dropped image:',\n        this.imageIdInteractedWith,\n        'on target:',\n        targetImageId\n      );\n      // Mark that the drag interaction is over.\n      this.imageIdInteractedWith = undefined;\n      this.draggedImageId = undefined;\n    },\n\n    getImageById(imageId: string): Image {\n      const image = this.imagesById[imageId];\n      if (!image) {\n        throw new Error('No image found with the given ID: ' + imageId);\n      }\n      return image;\n    },\n\n    onClickTargetImage(targetImageId: Uuid): void {\n      console.log('Clicked on target image', targetImageId);\n\n      // Do nothing if we are displaying the results already\n      if (this.showResults) return;\n\n      // Remove the image, if any, that has been dragged by the user onto\n      // the target they have clicked.\n      const usedImageId = this.imagesDraggedOntoTargets[targetImageId];\n      if (usedImageId) {\n        delete this.imagesDraggedOntoTargets[targetImageId];\n      }\n      // Check if the user clicked a draggable image and wants to put it here\n      if (this.imageIdInteractedWith) {\n        this.imagesDraggedOntoTargets[targetImageId] =\n          this.imageIdInteractedWith;\n        this.imageIdInteractedWith = undefined;\n      }\n    },\n\n    // This has a complexity of O(n).  When it is called in our v-for to set\n    // the class of every draggable image element, it makes it O(n^2).\n    // But that should be OK, because no one will put more than (say) 100\n    // images in a single task, right?\n    isDraggableImageUsed(draggableImageId: Uuid): boolean {\n      return Object.values(this.imagesDraggedOntoTargets).includes(\n        draggableImageId\n      );\n    },\n\n    onClickDraggableImage(imageId: Uuid): void {\n      if (!this.isDraggableImageUsed(imageId) && !this.showResults) {\n        console.log('Clicked on image:', imageId);\n        this.imageIdInteractedWith = imageId;\n      }\n    },\n\n    onDropOnInteractiveImages(event: DragEvent): void {\n      if (!this.imageIdInteractedWith) {\n        return;\n      }\n\n      // If the image has been dragged away from a target, then it should\n      // be removed from that target when it is dropped here.\n      const otherTargetId = event.dataTransfer?.getData('targetId');\n      if (otherTargetId) {\n        delete this.imagesDraggedOntoTargets[otherTargetId];\n      }\n\n      console.log('Returned image:', this.imageIdInteractedWith);\n\n      // Mark that the interaction is over.\n      this.imageIdInteractedWith = undefined;\n    },\n\n    checkResults(): void {\n      this.showResults = true;\n    },\n\n    reset(): void {\n      this.showResults = false;\n      this.imagesDraggedOntoTargets = {};\n    },\n  },\n  computed: {\n    draggableImages(): Uuid[] {\n      // Shuffle the images\n      // https://stackoverflow.com/a/46545530\n      return this.task.imagePairs\n        .map((imagePair) => ({ imagePair: imagePair, sort: Math.random() }))\n        .sort((imagePair1, imagePair2) => imagePair1.sort - imagePair2.sort)\n        .map(({ imagePair }) => imagePair.draggableImage.uuid);\n    },\n\n    imagesById(): Record<Uuid, Image> {\n      const imagesById: Record<Uuid, Image> = {};\n      for (const imagePair of this.task.imagePairs) {\n        imagesById[imagePair.draggableImage.uuid] = imagePair.draggableImage;\n        imagesById[imagePair.targetImage.uuid] = imagePair.targetImage;\n      }\n      return imagesById;\n    },\n\n    correctAnswers(): number {\n      let correctAnswers = 0;\n      for (const imagePair of this.task.imagePairs) {\n        if (this.isAnswerCorrect(imagePair.targetImage.uuid)) correctAnswers++;\n      }\n      return correctAnswers;\n    },\n\n    maxPoints(): number {\n      return this.task.imagePairs.length;\n    },\n\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.maxPoints.toString()\n      );\n\n      return resultMessage;\n    },\n  },\n});\n","import { render } from \"./ImagePairingViewer.vue?vue&type=template&id=6739ebf4&scoped=true&ts=true\"\nimport script from \"./ImagePairingViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./ImagePairingViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./ImagePairingViewer.vue?vue&type=style&index=0&id=6739ebf4&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6739ebf4\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-797ef1a9\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"main-flex\" }\nconst _hoisted_2 = { class: \"cards-list\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = [\"src\", \"onClick\"]\nconst _hoisted_5 = {\n  key: 1,\n  class: \"edited-memory-card no-card-selected-placeholder\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_EditedImagePair = _resolveComponent(\"EditedImagePair\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.imagePairs, (pair, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: pair.uuid,\n          class: _normalizeClass({\n          'cards-list-item': true,\n          'selected-card': index === this.selectedPairIndex,\n        }),\n          onClick: ($event: any) => (_ctx.selectPair(index))\n        }, [\n          _createTextVNode(_toDisplayString(index) + \". \", 1),\n          _createElementVNode(\"img\", {\n            class: \"flex-child-element removeAnswerButton\",\n            src: _ctx.urlForIcon('trash'),\n            onClick: _withModifiers(($event: any) => (_ctx.deletePair(index)), [\"stop\"]),\n            alt: \"an icon showing a trash bin\"\n          }, null, 8, _hoisted_4)\n        ], 10, _hoisted_3))\n      }), 128)),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addPair && _ctx.addPair(...args)))\n      }, _toDisplayString(_ctx.$gettext('Karte hinzufgen')), 1)\n    ]),\n    (this.taskDefinition.imagePairs[this.selectedPairIndex])\n      ? (_openBlock(), _createBlock(_component_EditedImagePair, {\n          key: 0,\n          class: \"edited-memory-card\",\n          pair: this.taskDefinition.imagePairs[this.selectedPairIndex],\n          \"pair-index\": this.selectedPairIndex\n        }, null, 8, [\"pair\", \"pair-index\"]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(_ctx.$gettext('Keine Karte ist zum Bearbeiten ausgewhlt.')), 1))\n  ]))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = [\"value\"]\nconst _hoisted_3 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_EditedImagePairImage = _resolveComponent(\"EditedImagePairImage\")!\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Image Pair')), 1),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"h4\", null, _toDisplayString(_ctx.$gettext('Das zu ziehende Bild')), 1),\n        (_ctx.pair.draggableImage.imageUrl)\n          ? (_openBlock(), _createBlock(_component_EditedImagePairImage, {\n              key: 0,\n              image: _ctx.pair.draggableImage\n            }, null, 8, [\"image\"]))\n          : (_openBlock(), _createBlock(_component_FileUpload, {\n              key: 1,\n              onFileUploaded: _ctx.onUploadDraggableImage\n            }, null, 8, [\"onFileUploaded\"]))\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Alternativer Text')) + \" \", 1),\n        _createElementVNode(\"input\", {\n          type: \"text\",\n          value: _ctx.taskDefinition.imagePairs[_ctx.pairIndex].draggableImage.altText,\n          onInput: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputDraggableImageAltText && _ctx.onInputDraggableImageAltText(...args)))\n        }, null, 40, _hoisted_2)\n      ]),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"h4\", null, _toDisplayString(_ctx.$gettext('Das Zielbild')), 1),\n        (_ctx.pair.targetImage.imageUrl)\n          ? (_openBlock(), _createBlock(_component_EditedImagePairImage, {\n              key: 0,\n              image: _ctx.pair.targetImage\n            }, null, 8, [\"image\"]))\n          : (_openBlock(), _createBlock(_component_FileUpload, {\n              key: 1,\n              onFileUploaded: _ctx.onUploadTargetImage\n            }, null, 8, [\"onFileUploaded\"]))\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Alternativer Text')) + \" \", 1),\n        _createElementVNode(\"input\", {\n          type: \"text\",\n          value: _ctx.taskDefinition.imagePairs[_ctx.pairIndex].targetImage.altText,\n          onInput: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onInputTargetImageAltText && _ctx.onInputTargetImageAltText(...args)))\n        }, null, 40, _hoisted_3)\n      ])\n    ])\n  ]))\n}","import { openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d7c0d98e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\", \"alt\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"img\", {\n    src: _ctx.image.imageUrl,\n    alt: _ctx.image.altText,\n    class: \"edited-image-pair-image\"\n  }, null, 8, _hoisted_1))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { Image } from '@/models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'EditedImagePairImage',\n  props: {\n    image: {\n      type: Object as PropType<Image>,\n      required: true,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {},\n  computed: {},\n});\n","import { render } from \"./EditedImagePairImage.vue?vue&type=template&id=d7c0d98e&scoped=true&ts=true\"\nimport script from \"./EditedImagePairImage.vue?vue&type=script&lang=ts\"\nexport * from \"./EditedImagePairImage.vue?vue&type=script&lang=ts\"\n\nimport \"./EditedImagePairImage.vue?vue&type=style&index=0&id=d7c0d98e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d7c0d98e\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { $gettext } from '@/language/gettext';\nimport { ImagePair, ImagePairingTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport EditedImagePairImage from '@/components/EditedImagePairImage.vue';\nimport FileUpload from '@/components/FileUpload.vue';\nimport { UploadedFile } from '@/routes';\n\nexport default defineComponent({\n  name: 'EditedImagePair',\n  components: { FileUpload, EditedImagePairImage },\n  props: {\n    pair: {\n      type: Object as PropType<ImagePair>,\n      required: true,\n    },\n    pairIndex: {\n      type: Number as PropType<number>,\n      required: true,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    $gettext,\n    onUploadDraggableImage(file: UploadedFile): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        // TODO #20  - Store file ID instead of URL\n        draft.imagePairs[this.pairIndex].draggableImage.imageUrl = file.url;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n    onUploadTargetImage(file: UploadedFile): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        // TODO #20  - Store file ID instead of URL\n        draft.imagePairs[this.pairIndex].targetImage.imageUrl = file.url;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n    onInputDraggableImageAltText(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.imagePairs[this.pairIndex].draggableImage.altText = value;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: { type: 'EditedDraggableImageAltText' },\n      });\n    },\n    onInputTargetImageAltText(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.imagePairs[this.pairIndex].targetImage.altText = value;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: { type: 'EditedTargetImageAltText' },\n      });\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as ImagePairingTask,\n  },\n});\n","import { render } from \"./EditedImagePair.vue?vue&type=template&id=4deb1247&ts=true\"\nimport script from \"./EditedImagePair.vue?vue&type=script&lang=ts\"\nexport * from \"./EditedImagePair.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport EditedImagePair from '@/components/EditedImagePair.vue';\nimport { ImagePairingTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport produce from 'immer';\nimport { taskEditorStore } from '@/store';\nimport { v4 } from 'uuid';\n\nexport default defineComponent({\n  name: 'ImagePairingEditor',\n  components: { EditedImagePair },\n  props: {\n    task: {\n      type: Object as PropType<ImagePairingTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      selectedPairIndex: -1,\n    };\n  },\n  beforeMount(): void {\n    if (this.taskDefinition.imagePairs.length > 0) {\n      this.selectedPairIndex = 0;\n    }\n  },\n  methods: {\n    $gettext,\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n    selectPair(index: number) {\n      this.selectedPairIndex = index;\n    },\n    addPair() {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.imagePairs.push({\n          uuid: v4(),\n          draggableImage: {\n            uuid: v4(),\n            imageUrl: '',\n            altText: '',\n          },\n          targetImage: {\n            uuid: v4(),\n            imageUrl: '',\n            altText: '',\n          },\n        });\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Select the newly inserted card\n      this.selectedPairIndex = this.taskDefinition.imagePairs.length - 1;\n    },\n    deletePair(index: number) {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.imagePairs.splice(index, 1);\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Adjust the selection index so the selected card doesn't unexpectedly change\n      if (index <= this.selectedPairIndex) {\n        this.selectedPairIndex = this.selectedPairIndex - 1;\n      }\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as ImagePairingTask,\n  },\n});\n","import { render } from \"./ImagePairingEditor.vue?vue&type=template&id=797ef1a9&scoped=true&ts=true\"\nimport script from \"./ImagePairingEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./ImagePairingEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./ImagePairingEditor.vue?vue&type=style&index=0&id=797ef1a9&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-797ef1a9\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-535321f0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"imageRow\" }\nconst _hoisted_2 = [\"draggable\", \"onDragstart\", \"onDragover\", \"onDrop\"]\nconst _hoisted_3 = [\"src\", \"alt\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.images, (image) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: image.uuid,\n          class: \"imageContainer\",\n          draggable: !this.showResults,\n          onDragstart: ($event: any) => (_ctx.startDragImage($event, image)),\n          onDragover: ($event: any) => (_ctx.onDragOver($event, image)),\n          onDrop: ($event: any) => (_ctx.onDropImage($event, image))\n        }, [\n          _createElementVNode(\"img\", {\n            class: \"image\",\n            draggable: \"false\",\n            onDragover: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"])),\n            onDragenter: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"])),\n            src: image.imageUrl,\n            alt: image.altText\n          }, null, 40, _hoisted_3),\n          _createElementVNode(\"span\", {\n            class: \"imageDescription\",\n            onDragover: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"])),\n            onDragenter: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"prevent\"]))\n          }, _toDisplayString(image.altText), 33)\n        ], 40, _hoisted_2))\n      }), 128))\n    ]),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          achievedPoints: _ctx.correctAnswers,\n          maxPoints: _ctx.maxPoints,\n          resultMessage: _ctx.resultMessage,\n          feedback: _ctx.task.feedback\n        }, null, 8, [\"achievedPoints\", \"maxPoints\", \"resultMessage\", \"feedback\"]))\n      : _createCommentVNode(\"\", true),\n    (!this.showResults)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 1,\n          type: \"button\",\n          class: \"h5pButton\",\n          onClick: _cache[4] || (_cache[4] = ($event: any) => (_ctx.checkResults()))\n        }, _toDisplayString(this.task.strings.checkButton), 1))\n      : _createCommentVNode(\"\", true),\n    (this.showResults)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 2,\n          type: \"button\",\n          class: \"h5pButton\",\n          onClick: _cache[5] || (_cache[5] = ($event: any) => (_ctx.reset()))\n        }, _toDisplayString(this.task.strings.retryButton), 1))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { Image, ImageSequencingTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport { taskEditorStore } from '@/store';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\nimport { round } from 'lodash';\n\nexport default defineComponent({\n  name: 'ImageSequencingViewer',\n  components: {\n    FeedbackElement,\n  },\n  props: {\n    task: {\n      type: Object as PropType<ImageSequencingTask>,\n      required: true,\n    },\n  },\n  emits: ['updateAttempt'],\n  data() {\n    return {\n      images: [] as Image[],\n      imageInteractedWith: undefined as Image | undefined,\n      showResults: false as boolean,\n    };\n  },\n  beforeMount(): void {\n    console.log('Before Mount');\n  },\n  methods: {\n    $gettext,\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n\n    startDragImage(dragEvent: DragEvent, image: Image) {\n      this.imageInteractedWith = image;\n      console.log('Dragging image', image.altText);\n    },\n\n    onDropImage(event: DragEvent, image: Image): void {\n      console.log('Dropped image', this.imageInteractedWith?.altText);\n      this.imageInteractedWith = undefined;\n    },\n\n    onDragOver(event: DragEvent, image: Image): void {\n      if (this.imageInteractedWith && this.imageInteractedWith != image) {\n        const fromIndex = this.images.indexOf(this.imageInteractedWith);\n        const toIndex = this.images.indexOf(image);\n\n        console.log(\n          'Dragging image',\n          this.imageInteractedWith?.altText,\n          '(',\n          fromIndex,\n          ') over target',\n          image.altText,\n          '(',\n          toIndex,\n          ')'\n        );\n\n        this.moveInArray(this.images, fromIndex, toIndex);\n      }\n    },\n\n    moveInArray(array: Image[], fromIndex: number, toIndex: number) {\n      let element = array[fromIndex];\n      array.splice(fromIndex, 1);\n      array.splice(toIndex, 0, element);\n    },\n\n    checkResults(): void {\n      this.showResults = true;\n    },\n\n    reset(): void {\n      this.showResults = false;\n      this.shuffleImages();\n    },\n\n    shuffleImages() {\n      // Shuffle the images\n      // https://stackoverflow.com/a/46545530\n      this.images = this.images\n        .map((image) => ({ image: image, sort: Math.random() }))\n        .sort((image1, image2) => image1.sort - image2.sort)\n        .map(({ image }) => image);\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as ImageSequencingTask,\n    correctAnswers(): Number {\n      let correctAnswers = 0;\n      for (let i = 0; i < this.task.images.length; i++) {\n        if (this.task.images[i].uuid === this.images[i].uuid) {\n          correctAnswers++;\n        }\n      }\n      return correctAnswers;\n    },\n    maxPoints(): Number {\n      return this.task.images.length;\n    },\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.maxPoints.toString()\n      );\n\n      return resultMessage;\n    },\n  },\n  watch: {\n    task: {\n      handler() {\n        console.log('watcher for this.task');\n        this.images = [...this.task.images];\n        this.shuffleImages();\n      },\n      immediate: true, // Ensure that the watcher is also called immediately when the component is first mounted\n    },\n  },\n});\n","import { render } from \"./ImageSequencingViewer.vue?vue&type=template&id=535321f0&scoped=true&ts=true\"\nimport script from \"./ImageSequencingViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./ImageSequencingViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./ImageSequencingViewer.vue?vue&type=style&index=0&id=535321f0&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-535321f0\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4fffd5a2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"main-flex\" }\nconst _hoisted_2 = { class: \"cards-list\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = [\"src\", \"onClick\"]\nconst _hoisted_5 = {\n  key: 1,\n  class: \"edited-memory-card no-card-selected-placeholder\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ImageSequencingEditorImage = _resolveComponent(\"ImageSequencingEditorImage\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.images, (image, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: image.uuid,\n          class: _normalizeClass({\n          'cards-list-item': true,\n          'selected-card': index === this.selectedImageIndex,\n        }),\n          onClick: ($event: any) => (_ctx.selectImage(index))\n        }, [\n          _createTextVNode(_toDisplayString(index) + \". \", 1),\n          _createElementVNode(\"img\", {\n            class: \"flex-child-element removeAnswerButton\",\n            src: _ctx.urlForIcon('trash'),\n            onClick: _withModifiers(($event: any) => (_ctx.deleteImage(index)), [\"stop\"]),\n            alt: \"an icon showing a trash bin\"\n          }, null, 8, _hoisted_4)\n        ], 10, _hoisted_3))\n      }), 128)),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addImage && _ctx.addImage(...args)))\n      }, _toDisplayString(_ctx.$gettext('Bild hinzufgen')), 1)\n    ]),\n    (this.taskDefinition.images[this.selectedImageIndex])\n      ? (_openBlock(), _createBlock(_component_ImageSequencingEditorImage, {\n          key: 0,\n          class: \"edited-memory-card\",\n          image: this.taskDefinition.images[this.selectedImageIndex],\n          \"image-index\": this.selectedImageIndex\n        }, null, 8, [\"image\", \"image-index\"]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(_ctx.$gettext('Keine Karte ist zum Bearbeiten ausgewhlt.')), 1))\n  ]))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-20582d70\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = [\"src\", \"alt\"]\nconst _hoisted_3 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Bild')), 1),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"h4\", null, _toDisplayString(_ctx.$gettext('Das Bild')), 1),\n        (_ctx.image.imageUrl)\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 0,\n              src: _ctx.image.imageUrl,\n              alt: _ctx.image.altText,\n              class: \"image-sequencing-editor-image\"\n            }, null, 8, _hoisted_2))\n          : (_openBlock(), _createBlock(_component_FileUpload, {\n              key: 1,\n              onFileUploaded: _ctx.onUploadImage\n            }, null, 8, [\"onFileUploaded\"]))\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Alternativer Text')) + \" \", 1),\n        _createElementVNode(\"input\", {\n          type: \"text\",\n          value: _ctx.taskDefinition.images[_ctx.imageIndex].altText,\n          onInput: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputImageAltText && _ctx.onInputImageAltText(...args)))\n        }, null, 40, _hoisted_3)\n      ])\n    ])\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { $gettext } from '@/language/gettext';\nimport { Image, ImageSequencingTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport FileUpload from '@/components/FileUpload.vue';\nimport { UploadedFile } from '@/routes';\n\nexport default defineComponent({\n  name: 'ImageSequencingEditorImage',\n  components: { FileUpload },\n  props: {\n    image: {\n      type: Object as PropType<Image>,\n      required: true,\n    },\n    imageIndex: {\n      type: Number as PropType<number>,\n      required: true,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    $gettext,\n    onUploadImage(file: UploadedFile): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        // TODO #20  - Store file ID instead of URL\n        draft.images[this.imageIndex].imageUrl = file.url;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n    onInputImageAltText(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.images[this.imageIndex].altText = value;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: { type: 'EditedImageAltText' },\n      });\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as ImageSequencingTask,\n  },\n});\n","import { render } from \"./ImageSequencingEditorImage.vue?vue&type=template&id=20582d70&scoped=true&ts=true\"\nimport script from \"./ImageSequencingEditorImage.vue?vue&type=script&lang=ts\"\nexport * from \"./ImageSequencingEditorImage.vue?vue&type=script&lang=ts\"\n\nimport \"./ImageSequencingEditorImage.vue?vue&type=style&index=0&id=20582d70&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-20582d70\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { ImageSequencingTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport { v4 } from 'uuid';\nimport ImageSequencingEditorImage from '@/components/ImageSequencingEditorImage.vue';\n\nexport default defineComponent({\n  name: 'ImageSequencingEditor',\n  components: { ImageSequencingEditorImage },\n  props: {\n    task: {\n      type: Object as PropType<ImageSequencingTask>,\n      required: true,\n    },\n  },\n  data() {\n    return { selectedImageIndex: -1 };\n  },\n  beforeMount(): void {\n    if (this.taskDefinition.images.length > 0) {\n      this.selectedImageIndex = 0;\n    }\n  },\n  methods: {\n    $gettext,\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n    selectImage(index: number) {\n      this.selectedImageIndex = index;\n    },\n    addImage() {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.images.push({\n          uuid: v4(),\n          imageUrl: '',\n          altText: '',\n        });\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Select the newly inserted image\n      this.selectedImageIndex = this.taskDefinition.images.length - 1;\n    },\n    deleteImage(index: number) {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.images.splice(index, 1);\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Adjust the selection index so the selected card doesn't unexpectedly change\n      if (index <= this.selectedImageIndex) {\n        this.selectedImageIndex = this.selectedImageIndex - 1;\n      }\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as ImageSequencingTask,\n  },\n});\n","import { render } from \"./ImageSequencingEditor.vue?vue&type=template&id=4fffd5a2&scoped=true&ts=true\"\nimport script from \"./ImageSequencingEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./ImageSequencingEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./ImageSequencingEditor.vue?vue&type=style&index=0&id=4fffd5a2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4fffd5a2\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Find The Hotspot - Editor\", -1)\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _hoisted_2,\n    _createVNode(_component_FileUpload, { onFileUploaded: _ctx.onImageUploaded }, null, 8, [\"onFileUploaded\"])\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { FindTheHotspotTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport FileUpload from '@/components/FileUpload.vue';\nimport produce from 'immer';\nimport { UploadedFile } from '@/routes';\n\nexport default defineComponent({\n  name: 'FindTheHotspotEditor',\n  components: { FileUpload },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<FindTheHotspotTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    onImageUploaded(file: UploadedFile): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.image.imageUrl = file.url;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n  },\n  computed: {\n    currentUndoRedoState: () =>\n      taskEditorStore.undoRedoStack[taskEditorStore.undoRedoIndex],\n  },\n});\n","import { render } from \"./FindTheHotspotEditor.vue?vue&type=template&id=351cd476&ts=true\"\nimport script from \"./FindTheHotspotEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./FindTheHotspotEditor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Find The Hotspot - Viewer\", -1)\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_3 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _hoisted_2,\n    _createElementVNode(\"img\", {\n      src: this.task.image.imageUrl\n    }, null, 8, _hoisted_3)\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { FindTheHotspotTask } from '@/models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'FindTheHotspotViewer',\n  props: {\n    task: { type: Object as PropType<FindTheHotspotTask>, required: true },\n  },\n  emits: ['updateAttempt'],\n  data() {\n    return {};\n  },\n  methods: {},\n  computed: {},\n});\n","import { render } from \"./FindTheHotspotViewer.vue?vue&type=template&id=337a9646&ts=true\"\nimport script from \"./FindTheHotspotViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./FindTheHotspotViewer.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// Types for the Interactive Video task type.\nimport { z } from 'zod';\nimport {\n  iconForTaskType,\n  printTaskType,\n  taskDefinitionSchemaMinusInteractiveVideo,\n} from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport { uploadedFileSchema } from '@/routes';\n\n// There are different types of 'interaction' which can be added to the video.\n// TODO Maybe put the 'base' attributes shared by all types of interaction all in one place.\n// TODO I think it may be wiser to use 'startTime' and 'duration' rather than 'startTime' and 'endTime'.\n// I chose to use 'start' and 'end' because it made the ui in one place easier to implement\n// (v-model for 'end time' input field), but I have noticed that I must calculate a duration\n// by hand in many other places anyway.\n\n// Overlay: An overlay is shown on top of the video over a span of time\nconst overlaySchema = z.object({\n  type: z.literal('overlay'),\n  id: z.string(),\n  startTime: z.number(), // Seconds\n  endTime: z.number(), // Seconds\n  x: z.number(), // Position, as a fraction of video width, between 0 and 1\n  y: z.number(), // Position, as a fraction of video height, between 0 and 1\n  width: z.number(), // Width, as a fraction of video width, between 0 and 1\n  height: z.number(), // Height, as a fraction of video width, between 0 and 1\n  text: z.string(), // Sanitized HTML from Wysiwyg editor\n  pauseWhenVisible: z.boolean().optional().default(true),\n});\nexport type OverlayInteraction = z.infer<typeof overlaySchema>;\n\n// LMB Task interaction: A Lernmodule Block Task (LMB Task) is shown at a given\n// point in the video for the student to solve.\nconst lmbTaskInteractionSchema = z.object({\n  type: z.literal('lmbTask'),\n  id: z.string(),\n  startTime: z.number(), // Seconds\n  endTime: z.number(), // Seconds\n  x: z.number(), // Position, as a fraction of video width, between 0 and 1\n  y: z.number(), // Position, as a fraction of video height, between 0 and 1\n  taskDefinition: z.lazy(() => taskDefinitionSchemaMinusInteractiveVideo),\n  pauseWhenVisible: z.boolean().optional().default(true),\n});\nexport type LmbTaskInteraction = z.infer<typeof lmbTaskInteractionSchema>;\n\nconst interactiveVideoInteractionSchema = z\n  .union([overlaySchema, lmbTaskInteractionSchema])\n  .refine((data) => data.endTime > data.startTime, {\n    message: 'endTime cannot be earlier than startTime',\n    path: ['endTime'],\n  });\nexport type Interaction = z.infer<typeof interactiveVideoInteractionSchema>;\n\nexport const interactiveVideoTaskSchema = z.object({\n  task_type: z.literal('InteractiveVideo'),\n  video: z.union([\n    z.object({\n      type: z.literal('none'),\n    }),\n    z.object({\n      type: z.literal('youtube'),\n      url: z.string(),\n    }),\n    z.object({\n      type: z.literal('studipFileReference'),\n      // TODO #20 -- Consider storing file ID instead of { url, name, type }\n      file: uploadedFileSchema,\n    }),\n  ]),\n  autoplay: z.boolean().optional().default(false),\n  startAt: z.number().optional().default(0),\n  disableNavigation: z\n    .union([\n      z.literal('not disabled'),\n      z.literal('forward disabled'),\n      z.literal('forward and backward disabled'),\n    ])\n    .default('not disabled'),\n  interactions: z.array(interactiveVideoInteractionSchema),\n});\nexport type InteractiveVideoTask = z.infer<typeof interactiveVideoTaskSchema>;\n\nexport function printInteractionType(interaction: Interaction): string {\n  switch (interaction.type) {\n    case 'lmbTask':\n      return printTaskType(interaction.taskDefinition.task_type);\n    case 'overlay':\n      return $gettext('Einblendung');\n  }\n}\n\nexport function iconForInteraction(interaction: Interaction): string {\n  switch (interaction.type) {\n    case 'overlay':\n      return 'item';\n    case 'lmbTask':\n      return iconForTaskType(interaction.taskDefinition.task_type);\n  }\n}\n\nexport const resizeHandles = [\n  'left',\n  'top-left',\n  'top',\n  'top-right',\n  'right',\n  'bottom-right',\n  'bottom',\n  'bottom-left',\n] as const;\nexport type ResizeHandle = typeof resizeHandles[number];\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { style: {\"display\":\"none\"} }\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" Task definition: \")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_SelectVideo = _resolveComponent(\"SelectVideo\")!\n  const _component_TabComponent = _resolveComponent(\"TabComponent\")!\n  const _component_AddInteractions = _resolveComponent(\"AddInteractions\")!\n  const _component_TabsComponent = _resolveComponent(\"TabsComponent\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_TabsComponent, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_TabComponent, {\n          title: _ctx.$gettext('1. Video auswhlen'),\n          icon: \"video2\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_SelectVideo, { \"task-definition\": _ctx.taskDefinition }, null, 8, [\"task-definition\"])\n          ]),\n          _: 1\n        }, 8, [\"title\"]),\n        _createVNode(_component_TabComponent, {\n          title: _ctx.$gettext('2. Interaktionen hinzufgen'),\n          icon: \"content\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_AddInteractions, { \"task-definition\": _ctx.taskDefinition }, null, 8, [\"task-definition\"])\n          ]),\n          _: 1\n        }, 8, [\"title\"])\n      ]),\n      _: 1\n    }),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _hoisted_2,\n      _createElementVNode(\"pre\", null, _toDisplayString(_ctx.taskDefinition), 1)\n    ])\n  ], 64))\n}","<!-- Adapted from https://zerotomastery.io/blog/tab-component-design-with-vue/ -->\n<template>\n  <div class=\"cw-tabs\">\n    <div role=\"tablist\" class=\"cw-tabs-nav\">\n      <button\n        v-for=\"tab in tabs\"\n        :key=\"tab.title\"\n        @click=\"activeTabHash = tab.hash\"\n        :class=\"{\n          'is-active': tab.hash === activeTabHash,\n          [`cw-tabs-nav-icon-text-${tab.icon}`]:\n            tab.icon !== '' && tab.name !== '',\n          [`cw-tabs-nav-icon-solo-${tab.icon}`]:\n            tab.icon !== '' && tab.name === '',\n        }\"\n        :aria-selected=\"tab.hash === activeTabHash\"\n        :aria-controls=\"tab.hash\"\n        :id=\"'#' + tab.hash\"\n        :tabindex=\"0\"\n      >\n        {{ tab.title }}\n      </button>\n    </div>\n    <slot />\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent } from 'vue';\n\nexport default defineComponent({\n  data() {\n    return {\n      activeTabHash: '',\n      tabs: [],\n    };\n  },\n  provide() {\n    return {\n      addTab: (tab) => {\n        const count = this.tabs.push(tab);\n\n        if (count === 1) {\n          this.activeTabHash = tab.hash;\n        }\n      },\n      activeTabHash: computed(() => this.activeTabHash),\n    };\n  },\n});\n</script>\n","import { render } from \"./TabsComponent.vue?vue&type=template&id=37927ae0\"\nimport script from \"./TabsComponent.vue?vue&type=script&lang=js\"\nexport * from \"./TabsComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- Adapted from https://zerotomastery.io/blog/tab-component-design-with-vue/ -->\n<template>\n  <div\n    role=\"tabpanel\"\n    class=\"cw-tab cw-tabs-content\"\n    :class=\"{ 'cw-tab-active': isActive }\"\n    v-show=\"isActive\"\n    :aria-labelledby=\"buttonSelector\"\n  >\n    <slot />\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nexport default defineComponent({\n  inject: ['activeTabHash', 'addTab'],\n  props: {\n    title: {\n      type: String,\n      required: true,\n    },\n    icon: {\n      type: String,\n      required: false,\n      default: '',\n    },\n  },\n  data() {\n    return { hash: '', isActive: false };\n  },\n  created() {\n    this.hash = '#' + this.title.toLowerCase().replace(/ /g, '-');\n\n    this.addTab({\n      title: this.title,\n      hash: this.hash,\n      icon: this.icon,\n    });\n  },\n  watch: {\n    activeTabHash() {\n      this.isActive = this.activeTabHash === this.hash;\n    },\n  },\n  computed: {\n    buttonSelector() {\n      return '#' + this.hash;\n    },\n  },\n});\n</script>\n","import { render } from \"./TabComponent.vue?vue&type=template&id=800c4dce\"\nimport script from \"./TabComponent.vue?vue&type=script&lang=js\"\nexport * from \"./TabComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, toDisplayString as _toDisplayString, resolveDynamicComponent as _resolveDynamicComponent, withModifiers as _withModifiers, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-57f406d4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { ref: \"videoJsContainer\" }\nconst _hoisted_2 = [\"onClick\", \"title\"]\nconst _hoisted_3 = [\"title\"]\nconst _hoisted_4 = [\"title\"]\nconst _hoisted_5 = [\"title\"]\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"arrow\",\n  \"data-popper-arrow\": \"\"\n}, null, -1))\nconst _hoisted_7 = { class: \"active-interaction\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_LmbTaskInteraction = _resolveComponent(\"LmbTaskInteraction\")!\n  const _component_OverlayInteraction = _resolveComponent(\"OverlayInteraction\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"video-player-root\", { 'drag-in-progress': !!_ctx.dragState }]),\n    ref: \"root\"\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, null, 512),\n    (!!_ctx.selectedInteractionId)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: \"cancel-selection-overlay\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.editor!.selectInteraction(undefined)))\n        }))\n      : _createCommentVNode(\"\", true),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.task.interactions, (interaction) => {\n      return (_openBlock(), _createElementBlock(\"button\", {\n        class: \"progress-bar-interaction-marker\",\n        key: interaction.id,\n        style: _normalizeStyle(_ctx.progressBarInteractionMarkerStyle(interaction)),\n        onClick: ($event: any) => (_ctx.onClickInteractionMarker(interaction)),\n        title: \n        _ctx.$gettext('Zu %{ interaction } springen', {\n          interaction: _ctx.printInteractionType(interaction),\n        })\n      \n      }, null, 12, _hoisted_2))\n    }), 128)),\n    (_ctx.editor)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          ref: \"selectedInteractionTooltip\",\n          class: _normalizeClass([\"selected-interaction-tooltip\", {\n        hidden: !_ctx.interactionForPopper,\n      }])\n        }, [\n          (_ctx.selectedInteraction?.type === 'lmbTask')\n            ? (_openBlock(), _createElementBlock(\"button\", {\n                key: 0,\n                type: \"button\",\n                class: \"small-button visibility-visible\",\n                onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.activateInteraction(_ctx.selectedInteraction))),\n                title: _ctx.$gettext('Vorschau')\n              }, null, 8, _hoisted_3))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"small-button edit\",\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.editInteraction(_ctx.selectedInteraction))),\n            title: _ctx.$gettext('Bearbeiten')\n          }, null, 8, _hoisted_4),\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"small-button trash\",\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.editor?.deleteInteraction(_ctx.selectedInteractionId))),\n            title: _ctx.$gettext('Lschen')\n          }, null, 8, _hoisted_5),\n          _hoisted_6\n        ], 2))\n      : _createCommentVNode(\"\", true),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.visibleInteractions, (interaction) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: interaction.id\n      }, [\n        (interaction.type === 'lmbTask')\n          ? (_openBlock(), _createBlock(_component_LmbTaskInteraction, {\n              key: 0,\n              id: `interaction-${_ctx.uid}-${interaction.id}`,\n              class: \"video-player-interaction\",\n              style: _normalizeStyle({\n          left: `${interaction.x * 100}%`,\n          top: `${interaction.y * 100}%`,\n        }),\n              interaction: interaction,\n              onClick: ($event: any) => (_ctx.editor?.selectInteraction(interaction.id)),\n              onPointerdown: ($event: any) => (_ctx.onPointerDownInteraction($event, interaction)),\n              onPointermove: ($event: any) => (_ctx.onPointerMoveInteraction($event, interaction)),\n              onPointerup: ($event: any) => (_ctx.onPointerUpInteraction($event, interaction)),\n              onActivateInteraction: _ctx.activateInteraction\n            }, null, 8, [\"id\", \"style\", \"interaction\", \"onClick\", \"onPointerdown\", \"onPointermove\", \"onPointerup\", \"onActivateInteraction\"]))\n          : (interaction.type === 'overlay')\n            ? (_openBlock(), _createBlock(_component_OverlayInteraction, {\n                key: 1,\n                id: `interaction-${_ctx.uid}-${interaction.id}`,\n                class: \"video-player-interaction\",\n                style: _normalizeStyle({\n          left: `${interaction.x * 100}%`,\n          top: `${interaction.y * 100}%`,\n          width: `${interaction.width * 100}%`,\n          height: `${interaction.height * 100}%`,\n        }),\n                interaction: interaction,\n                onClick: ($event: any) => (_ctx.editor?.selectInteraction(interaction.id)),\n                onPointerdown: ($event: any) => (_ctx.onPointerDownInteraction($event, interaction)),\n                onPointermove: ($event: any) => (_ctx.onPointerMoveInteraction($event, interaction)),\n                onPointerup: ($event: any) => (_ctx.onPointerUpInteraction($event, interaction)),\n                onPointerDownResizeHandle: _ctx.onPointerDownResizeHandle,\n                onPointerMoveResizeHandle: _ctx.onPointerMoveResizeHandle,\n                onPointerUpResizeHandle: _ctx.onPointerUpResizeHandle\n              }, null, 8, [\"id\", \"style\", \"interaction\", \"onClick\", \"onPointerdown\", \"onPointermove\", \"onPointerup\", \"onPointerDownResizeHandle\", \"onPointerMoveResizeHandle\", \"onPointerUpResizeHandle\"]))\n            : _createCommentVNode(\"\", true)\n      ], 64))\n    }), 128)),\n    _createVNode(_Transition, { name: \"fade\" }, {\n      default: _withCtx(() => [\n        (_ctx.activeInteraction?.type === 'lmbTask')\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              class: \"active-interaction-container\",\n              onClick: _cache[5] || (_cache[5] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.closeInteraction && _ctx.closeInteraction(...args)), [\"self\"]))\n            }, [\n              _createElementVNode(\"div\", _hoisted_7, [\n                _createElementVNode(\"h1\", null, _toDisplayString(_ctx.printTaskType(_ctx.activeInteraction.taskDefinition.task_type)), 1),\n                (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.viewerForTaskType(_ctx.activeInteraction.taskDefinition.task_type)), {\n                  task: _ctx.activeInteraction.taskDefinition\n                }, null, 8, [\"task\"])),\n                _createElementVNode(\"button\", {\n                  type: \"button\",\n                  class: \"button cancel\",\n                  onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.closeInteraction && _ctx.closeInteraction(...args)))\n                }, _toDisplayString(_ctx.$gettext('Schlieen')), 1)\n              ])\n            ]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ], 2))\n}","import { InjectionKey, Ref } from 'vue';\n\n/**\n * In the Interactive Video Editor, we use provide/inject to pass data to many\n * different components at once without prop drilling.\n * There is a little bit of ceremony required to have the passed data be statically typed.\n * https://vuejs.org/guide/typescript/composition-api.html#typing-provide-inject\n */\nexport const editorStateSymbol = Symbol(\n  'Interactive Video Editor state'\n) as InjectionKey<EditorState>;\n\nexport interface EditorState {\n  selectedInteractionId: Ref<string | undefined>;\n  selectInteraction(id: string): void;\n  editInteraction(id: string): void;\n  dragInteraction(\n    interactionId: string,\n    clampedXFraction: number,\n    clampedYFraction: number\n  ): void;\n  resizeOverlay(\n    id: string,\n    x: number,\n    y: number,\n    width: number,\n    height: number\n  ): void;\n  deleteInteraction(interactionId: string): void;\n\n  dragInteractionTimeline(id: string, startTime: number): void;\n}\n","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-ab6f7b1e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"data-hover-tooltip\"]\nconst _hoisted_2 = { class: \"interaction-label\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"icon-circle-border\" }, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"button\", {\n    type: \"button\",\n    class: _normalizeClass([\"lmb-task-interaction\", {\n      selected: _ctx.editor?.selectedInteractionId.value === _ctx.interaction.id,\n      editor: !!_ctx.editor,\n    }]),\n    \"data-hover-tooltip\": _ctx.printTaskType(_ctx.interaction.taskDefinition.task_type),\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (!this.editor && _ctx.$emit('activateInteraction', _ctx.interaction)))\n  }, [\n    _createElementVNode(\"div\", _hoisted_2, _toDisplayString(_ctx.printTaskType(_ctx.interaction.taskDefinition.task_type)), 1),\n    _hoisted_3,\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"icon-circle button no-hover-effect\", _ctx.iconForTaskType(_ctx.interaction.taskDefinition.task_type)])\n    }, null, 2)\n  ], 10, _hoisted_1))\n}","\nimport { defineComponent, inject, PropType } from 'vue';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport { Interaction, LmbTaskInteraction } from '@/models/InteractiveVideoTask';\nimport { iconForTaskType, printTaskType } from '../../../models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'LmbTaskInteraction',\n  methods: { iconForTaskType, printTaskType },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    interaction: {\n      type: Object as PropType<LmbTaskInteraction>,\n      required: true,\n    },\n  },\n});\n","import { render } from \"./LmbTaskInteraction.vue?vue&type=template&id=ab6f7b1e&scoped=true&ts=true\"\nimport script from \"./LmbTaskInteraction.vue?vue&type=script&lang=ts\"\nexport * from \"./LmbTaskInteraction.vue?vue&type=script&lang=ts\"\n\nimport \"./LmbTaskInteraction.vue?vue&type=style&index=0&id=ab6f7b1e&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ab6f7b1e\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3b95883a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"data-hover-tooltip\"]\nconst _hoisted_2 = [\"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_3 = [\"innerHTML\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"overlay\", {\n      selected: _ctx.editor?.selectedInteractionId.value === _ctx.interaction.id,\n      editor: !!_ctx.editor,\n    }]),\n    \"data-hover-tooltip\": _ctx.$gettext('Einblendung')\n  }, [\n    (_ctx.editor)\n      ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_ctx.resizeHandles, (handle) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: handle,\n            class: _normalizeClass([\"resize-handle\", handle]),\n            onPointerdown: _withModifiers(($event: any) => (_ctx.onPointerDownResizeHandle($event, handle)), [\"stop\"]),\n            onPointermove: _withModifiers(($event: any) => (_ctx.onPointerMoveResizeHandle($event, handle)), [\"stop\"]),\n            onPointerup: _withModifiers(($event: any) => (_ctx.onPointerUpResizeHandle($event, handle)), [\"stop\"])\n          }, null, 42, _hoisted_2))\n        }), 128))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      class: \"overlay-content\",\n      innerHTML: _ctx.interaction.text\n    }, null, 8, _hoisted_3)\n  ], 10, _hoisted_1))\n}","\nimport { defineComponent, inject, PropType } from 'vue';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport { OverlayInteraction } from '@/models/InteractiveVideoTask';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'OverlayInteraction',\n  methods: {\n    $gettext,\n    onPointerDownResizeHandle(event: PointerEvent, handle: string) {\n      this.$emit('pointerDownResizeHandle', {\n        event,\n        handle,\n        interaction: this.interaction,\n      });\n    },\n    onPointerMoveResizeHandle(event: PointerEvent, handle: string) {\n      this.$emit('pointerMoveResizeHandle', {\n        event,\n        handle,\n        interaction: this.interaction,\n      });\n    },\n    onPointerUpResizeHandle(event: PointerEvent, handle: string) {\n      this.$emit('pointerUpResizeHandle', {\n        event,\n        handle,\n        interaction: this.interaction,\n      });\n    },\n  },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  data() {\n    return {\n      resizeHandles: [\n        'left',\n        'top-left',\n        'top',\n        'top-right',\n        'right',\n        'bottom-right',\n        'bottom',\n        'bottom-left',\n      ],\n    };\n  },\n  props: {\n    interaction: {\n      type: Object as PropType<OverlayInteraction>,\n      required: true,\n    },\n  },\n});\n","import { render } from \"./OverlayInteraction.vue?vue&type=template&id=3b95883a&scoped=true&ts=true\"\nimport script from \"./OverlayInteraction.vue?vue&type=script&lang=ts\"\nexport * from \"./OverlayInteraction.vue?vue&type=script&lang=ts\"\n\nimport \"./OverlayInteraction.vue?vue&type=style&index=0&id=3b95883a&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3b95883a\"]])\n\nexport default __exports__","\nimport { defineComponent, inject, PropType } from 'vue';\nimport videojs from 'video.js';\nimport Player from 'video.js/dist/types/player';\nrequire('!style-loader!css-loader!video.js/dist/video-js.css');\nimport 'videojs-youtube/dist/Youtube.min.js';\nimport {\n  Interaction,\n  InteractiveVideoTask,\n  printInteractionType,\n  ResizeHandle,\n} from '@/models/InteractiveVideoTask';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport LmbTaskInteraction from '@/components/interactiveVideo/interactions/LmbTaskInteraction.vue';\nimport { printTaskType, viewerForTaskType } from '@/models/TaskDefinition';\nimport { $gettext } from '../../language/gettext';\nimport { createPopper, Instance } from '@popperjs/core';\nimport type { StrictModifiers } from '@popperjs/core';\nimport { v4 } from 'uuid';\nimport OverlayInteraction from '@/components/interactiveVideo/interactions/OverlayInteraction.vue';\nimport { OverlayInteraction as OverlayInteractionType } from '@/models/InteractiveVideoTask';\n\ntype DragState =\n  | {\n      type: 'dragInteraction';\n      interactionId: string;\n      mouseStartPos: [number, number]; // clientX, clientY\n      interactionStartPos: [number, number]; // fraction x, fraction y\n    }\n  | {\n      type: 'resizeInteraction';\n      interactionId: string;\n      mouseStartPos: [number, number]; // clientX, clientY\n      interactionStartPos: [number, number]; // fraction x, fraction y\n      interactionStartSize: [number, number]; // fraction x, fraction y\n      handle: string;\n    }\n  | undefined;\n\nlet popperInstance: Instance | undefined;\nexport default defineComponent({\n  name: 'VideoPlayer',\n  components: { OverlayInteraction, LmbTaskInteraction },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    task: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      player: null as Player | null,\n      // The time the video player is seeked to\n      time: 0,\n      // The time reached by the user watching the video without seeking.\n      // This is used to enforce the setting 'disable navigation'.\n      playedTime: 0,\n      isPlaying: false,\n      dragState: undefined as DragState,\n      activeInteraction: undefined as Interaction | undefined,\n      progressBarParameters: {\n        widthPixels: 1,\n        xOffsetPixels: 0,\n      },\n      progressBarObserver: undefined as ResizeObserver | undefined,\n    };\n  },\n  computed: {\n    // A unique ID for this instance of VideoPlayer, so that we can refer\n    // to elements inside of it by ID when there are multiple VideoPlayers\n    // (e.g. viewer on one tab, editor on another tab).\n    uid(): string {\n      return v4();\n    },\n    // Return the Interaction, if any, for which a popper tooltip should be shown\n    interactionForPopper(): Interaction | undefined {\n      // The popper should only be rendered if the selected interaction is visible.\n      if (\n        this.selectedInteraction &&\n        this.visibleInteractions.includes(this.selectedInteraction)\n      ) {\n        return this.selectedInteraction;\n      } else {\n        return undefined;\n      }\n    },\n    selectedInteraction(): Interaction | undefined {\n      return this.task.interactions.find(\n        (i) => i.id === this.selectedInteractionId\n      );\n    },\n    selectedInteractionId(): string | undefined {\n      return this.editor?.selectedInteractionId.value;\n    },\n    videoUrl(): string {\n      switch (this.task.video.type) {\n        case 'youtube':\n          return this.task.video.url;\n        case 'studipFileReference':\n          return this.task.video.file.url;\n        default:\n          return '';\n      }\n    },\n    videoType(): string | undefined {\n      switch (this.task.video.type) {\n        case 'youtube':\n          return 'video/youtube';\n        case 'studipFileReference':\n          return this.task.video.file.type;\n        default:\n          return '';\n      }\n    },\n    /**\n     * @return a list of Interaction objects whose clickable icons (or other elements)\n     * should be shown overlaid over the video at the timestamp given by this.time.\n     */\n    visibleInteractions(): Interaction[] {\n      return this.task.interactions.filter((i) => {\n        return i.startTime <= this.time && i.endTime > this.time;\n      });\n    },\n    // Computed property created so that we can register a watcher which triggers\n    // when either of these things changes.\n    timeAndVisibleInteractions(): [number, Interaction[]] {\n      return [this.time, this.visibleInteractions];\n    },\n  },\n  watch: {\n    'task.video': function (value) {\n      console.log('video prop changed', value);\n      this.initializePlayer();\n    },\n    // Handle pausing the video when an interaction becomes visible.\n    timeAndVisibleInteractions(\n      [newTime, newVisibleInteractions]: [number, Interaction[]],\n      [oldTime, oldVisibleInteractions]: [number, Interaction[]]\n    ): void {\n      const isPlayingForward = this.isPlaying && newTime > oldTime;\n      const newlyVisibleInteractionWithPause = newVisibleInteractions.find(\n        (i) => !oldVisibleInteractions.includes(i) && i.pauseWhenVisible\n      );\n      if (isPlayingForward && newlyVisibleInteractionWithPause) {\n        console.log(\n          'pausing for interaction: ',\n          newlyVisibleInteractionWithPause\n        );\n        this.player!.pause();\n      }\n    },\n    interactionForPopper: {\n      immediate: true,\n      handler: function (interaction: Interaction | undefined) {\n        popperInstance?.destroy();\n        if (interaction) {\n          // Run on next tick, because we need to wait for the interactionElement\n          // to be rendered by Vue, in case it isn't yet visible at the moment this\n          // watcher is triggered.\n          // For example, if the user clicks on the timeline to jump to a point\n          // in the video where the currently selected interaction is visible,\n          // when it previously was not.\n          this.$nextTick(() => {\n            const interactionElement = document.getElementById(\n              `interaction-${this.uid}-${interaction.id}`\n            ) as HTMLElement;\n            const tooltipElement = this.$refs\n              .selectedInteractionTooltip as HTMLElement;\n            popperInstance = createPopper(interactionElement, tooltipElement, {\n              placement: 'top',\n              modifiers: [\n                {\n                  name: 'offset',\n                  options: {\n                    offset: [0, 8],\n                  },\n                },\n              ],\n            });\n          });\n        }\n      },\n    },\n  },\n  methods: {\n    printInteractionType,\n    $gettext,\n    printTaskType,\n    viewerForTaskType,\n    onPlayerReady() {\n      console.log('player ready');\n    },\n    initializePlayer() {\n      // If player has already been created, it must be destroyed before we\n      // create a new one.\n      this.progressBarObserver?.disconnect();\n      this.player?.dispose();\n\n      // The dispose() method removes the player element from the dom, so we must\n      // create and append the player element by hand to the DOM each time.\n      const playerElement = document.createElement('video-js');\n      playerElement.classList.add('video-js', 'vjs-fluid');\n      (this.$refs.videoJsContainer as HTMLDivElement).appendChild(\n        playerElement\n      );\n\n      // Create the player and set up event listeners\n      this.player = videojs(\n        playerElement,\n        {\n          techOrder: ['html5', 'youtube'],\n          sources: [\n            {\n              src: this.videoUrl,\n              type: this.videoType,\n            },\n          ],\n          controls: true,\n          controlBar: {\n            children: [\n              'playToggle',\n              'progressControl',\n              'currentTimeDisplay',\n              'timeDivider',\n              'durationDisplay',\n              'volumePanel',\n              'fullscreenToggle',\n            ],\n            volumePanel: {\n              inline: false,\n            },\n          },\n          autoplay: this.task.autoplay && !this.editor,\n          // Major browsers block autoplay unless the video is muted.\n          muted: this.task.autoplay && !this.editor,\n        },\n        this.onPlayerReady\n      );\n      this.player.on('timeupdate', () => {\n        const time = this.player!.currentTime();\n        if (time) {\n          this.$emit('timeupdate', time);\n          this.time = time;\n          if (this.isPlaying && !this.player!.paused()!) {\n            // Track how far the user has \"watched\" the video without seeking\n            this.playedTime = Math.max(this.playedTime, time);\n          }\n        }\n      });\n      this.player.on('loadedmetadata', () => {\n        this.playedTime = this.task.startAt;\n        this.player!.currentTime(this.task.startAt);\n        if (this.task.autoplay && !this.editor) {\n          this.player!.play();\n        }\n        this.$emit('metadataChange', {\n          length: this.player!.duration(),\n        });\n      });\n      this.player.on('playing', () => {\n        this.isPlaying = true;\n      });\n      this.player.on(['waiting', 'pause'], () => {\n        this.isPlaying = false;\n      });\n\n      const enforceDisabledNavigation = () => {\n        if (this.task.disableNavigation === 'forward disabled') {\n          // Prevent forward navigation\n          if (this.player!.currentTime()! - this.playedTime > 0.5) {\n            this.player!.currentTime(this.playedTime);\n          }\n        } else if (\n          this.task.disableNavigation === 'forward and backward disabled'\n        ) {\n          // Prevent all navigation\n          if (Math.abs(this.player!.currentTime()! - this.playedTime) > 0.5) {\n            this.player!.currentTime(this.playedTime);\n          }\n        }\n      };\n      this.player.on('seeking', () => {\n        if (!this.editor) {\n          enforceDisabledNavigation();\n        }\n      });\n      this.player.on('seeked', () => {\n        if (!this.editor) {\n          enforceDisabledNavigation();\n        }\n      });\n\n      // Observe the progress bar -- we need to know its size and location\n      // in order to position our interaction markers correctly on top of it.\n      const progressBarEls = playerElement.getElementsByClassName(\n        'vjs-progress-holder'\n      );\n      const progressHolder = progressBarEls.item(0) as HTMLElement | undefined;\n      if (!progressHolder) {\n        console.error('no progress holder found');\n      } else {\n        this.progressBarObserver = new ResizeObserver((entries) => {\n          const root = this.$refs.root as HTMLElement;\n          const rootLeft = root.getBoundingClientRect().x;\n          const progressHolderLeft = progressHolder.getBoundingClientRect().x;\n          const offset = progressHolderLeft - rootLeft;\n          this.progressBarParameters.xOffsetPixels = offset;\n          this.progressBarParameters.widthPixels = progressHolder.clientWidth;\n        });\n        this.progressBarObserver.observe(progressHolder);\n      }\n    },\n    activateInteraction(interaction: Interaction) {\n      this.activeInteraction = interaction;\n      this.player!.pause();\n    },\n    closeInteraction() {\n      this.activeInteraction = undefined;\n    },\n    editInteraction(interaction: Interaction) {\n      this.editor!.editInteraction(interaction.id);\n    },\n    onPointerDownResizeHandle(payload: {\n      event: PointerEvent;\n      handle: ResizeHandle;\n      interaction: OverlayInteractionType;\n    }) {\n      console.log('onPointerDownResizeHandle');\n      if (!this.editor) {\n        return;\n      }\n      const { event, handle, interaction } = payload;\n      this.editor.selectInteraction(interaction.id);\n      this.dragState = {\n        type: 'resizeInteraction',\n        interactionId: interaction.id,\n        mouseStartPos: [event.clientX, event.clientY],\n        interactionStartPos: [interaction.x, interaction.y],\n        interactionStartSize: [interaction.width, interaction.height],\n        handle,\n      };\n      (event.target as HTMLElement).setPointerCapture(event.pointerId);\n    },\n    onPointerUpResizeHandle(payload: {\n      event: PointerEvent;\n      handle: ResizeHandle;\n      interaction: Interaction;\n    }) {\n      console.log('onPointerUpResizeHandle');\n      this.dragState = undefined;\n      (payload.event.target as HTMLElement).releasePointerCapture(\n        payload.event.pointerId\n      );\n    },\n    onPointerMoveResizeHandle(payload: {\n      event: PointerEvent;\n      handle: ResizeHandle;\n      interaction: OverlayInteractionType;\n    }) {\n      const { event, handle, interaction } = payload;\n      if (\n        this.dragState?.type === 'resizeInteraction' &&\n        this.dragState.interactionId === interaction.id\n      ) {\n        const rootRect = (\n          this.$refs.root as HTMLElement\n        ).getBoundingClientRect();\n        const interactionEl = document.getElementById(\n          `interaction-${this.uid}-${interaction.id}`\n        ) as HTMLElement;\n\n        // TODO implement resizing\n        const {\n          interactionStartPos: [xInitial, yInitial],\n          interactionStartSize: [widthInitial, heightInitial],\n        } = this.dragState;\n        let newX = xInitial;\n        let newWidth = widthInitial;\n        let newY = yInitial;\n        let newHeight = heightInitial;\n\n        // Convert mouse movement in pixels to fractions of root rect width/height\n        const xPointer = event.clientX / rootRect.width;\n        const dxPointerPixels = event.clientX - this.dragState.mouseStartPos[0];\n        const dxPointer = dxPointerPixels / rootRect.width;\n\n        const yPointer = event.clientY / rootRect.height;\n        const dyPointerPixels = event.clientY - this.dragState.mouseStartPos[1];\n        const dyPointer = dyPointerPixels / rootRect.height;\n\n        // Horizontal resizing\n        if (\n          handle === 'left' ||\n          handle === 'top-left' ||\n          handle === 'bottom-left'\n        ) {\n          if (xPointer > xInitial + widthInitial) {\n            newX = xInitial + widthInitial;\n            newWidth = xPointer - newX;\n          } else {\n            newX = xInitial + dxPointer;\n            newWidth = widthInitial - dxPointer;\n          }\n        } else if (\n          handle === 'right' ||\n          handle === 'top-right' ||\n          handle === 'bottom-right'\n        ) {\n          if (xPointer < xInitial) {\n            newX = xPointer;\n            newWidth = xInitial - xPointer;\n          } else {\n            newX = xInitial;\n            newWidth = widthInitial + dxPointer;\n          }\n        }\n\n        // Vertical resizing\n        if (\n          handle === 'top-left' ||\n          handle === 'top' ||\n          handle === 'top-right'\n        ) {\n          if (yPointer > yInitial + heightInitial) {\n            newY = yInitial + heightInitial;\n            newHeight = yPointer - newY;\n          } else {\n            newY = yInitial + dyPointer;\n            newHeight = heightInitial - dyPointer;\n          }\n        } else if (\n          handle === 'bottom-left' ||\n          handle === 'bottom' ||\n          handle === 'bottom-right'\n        ) {\n          if (yPointer < yInitial) {\n            newY = yPointer;\n            newHeight = yInitial - yPointer;\n          } else {\n            newY = yInitial;\n            newHeight = heightInitial + dyPointer;\n          }\n        }\n\n        // Prevent shrinking the interaction below a minimum size\n        let filteredHeight = interaction.height,\n          filteredWidth = interaction.width,\n          filteredX = interaction.x,\n          filteredY = interaction.y;\n        if (newHeight > 0.05) {\n          filteredHeight = newHeight;\n          filteredY = newY;\n        }\n        if (newWidth > 0.05) {\n          filteredWidth = newWidth;\n          filteredX = newX;\n        }\n\n        // Prevent moving the interaction completely off screen\n        const isOffscreenX =\n          filteredX > 0.95 || filteredX + filteredWidth < 0.05;\n        const isOffscreenY =\n          filteredY > 0.95 || filteredY + filteredHeight < 0.05;\n        if (isOffscreenX) {\n          filteredX = interaction.x;\n          filteredWidth = interaction.width;\n        }\n        if (isOffscreenY) {\n          filteredY = interaction.y;\n          filteredHeight = interaction.height;\n        }\n\n        this.editor!.resizeOverlay(\n          interaction.id,\n          filteredX,\n          filteredY,\n          filteredWidth,\n          filteredHeight\n        );\n        popperInstance?.update();\n      }\n    },\n    onPointerDownInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerDownInteraction');\n      if (!this.editor) {\n        return;\n      }\n      this.editor.selectInteraction(interaction.id);\n      this.dragState = {\n        type: 'dragInteraction',\n        interactionId: interaction.id,\n        mouseStartPos: [event.clientX, event.clientY],\n        interactionStartPos: [interaction.x, interaction.y],\n      };\n      (event.target as HTMLElement).setPointerCapture(event.pointerId);\n    },\n    onPointerUpInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerUpInteraction');\n      this.dragState = undefined;\n      (event.target as HTMLElement).releasePointerCapture(event.pointerId);\n    },\n    onPointerMoveInteraction(event: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'dragInteraction' &&\n        this.dragState.interactionId === interaction.id\n      ) {\n        const rootRect = (\n          this.$refs.root as HTMLElement\n        ).getBoundingClientRect();\n        const interactionEl = event.currentTarget as HTMLElement;\n\n        const clientDx = event.clientX - this.dragState.mouseStartPos[0];\n        const dxFraction = clientDx / rootRect.width;\n        const xFraction = this.dragState.interactionStartPos[0] + dxFraction;\n        const interactionWidth = interactionEl.clientWidth / rootRect.width;\n        const minX = 0.05 - interactionWidth;\n        const maxX = 0.95;\n        const clampedXFraction = Math.min(maxX, Math.max(minX, xFraction));\n\n        const clientDy = event.clientY - this.dragState.mouseStartPos[1];\n        const dyFraction = clientDy / rootRect.height;\n        const yFraction = this.dragState.interactionStartPos[1] + dyFraction;\n        const interactionHeight = interactionEl.clientHeight / rootRect.height;\n        const minY = 0.05 - interactionHeight;\n        const maxY = 0.95;\n        const clampedYFraction = Math.min(maxY, Math.max(minY, yFraction));\n\n        const id = this.dragState.interactionId;\n        this.editor?.dragInteraction(id, clampedXFraction, clampedYFraction);\n        popperInstance?.update();\n      }\n    },\n    progressBarInteractionMarkerStyle(\n      interaction: Interaction\n    ): Partial<CSSStyleDeclaration> {\n      const progressPercentage =\n        interaction.startTime / (this.player?.duration() ?? 1);\n      const timeOffsetPx =\n        this.progressBarParameters.widthPixels * progressPercentage;\n      return {\n        left: `calc(${this.progressBarParameters.xOffsetPixels}px +\n        ${timeOffsetPx}px - 0.25em)`,\n      };\n    },\n    onClickInteractionMarker(interaction: Interaction): void {\n      this.editor?.selectInteraction(interaction.id);\n      // Give keyboard focus to the interaction whose interaction marker was clicked.\n      const focusInteraction = () => {\n        const interactionElement = document.getElementById(\n          `interaction-${this.uid}-${interaction.id}`\n        ) as HTMLElement;\n        interactionElement.focus({\n          focusVisible: true,\n        } as any);\n      };\n      if (!this.visibleInteractions.includes(interaction)) {\n        // Wait for player to seek so the interaction becomes visible\n        this.player!.one('seeked', () => {\n          // Need to wait one Vue 'tick' so that the interaction element appears.\n          this.$nextTick(focusInteraction);\n        });\n      } else {\n        // The interaction is already visible. Focus it immediately.\n        focusInteraction();\n      }\n      // Skip to a time just slightly ahead of the point where the interaction\n      // appears.  This is necessary to avoid off-by-one-frame errors\n      const delta = 0.2;\n      const difference = this.player!.currentTime()! - interaction.startTime;\n      if (difference < 0 || difference > delta) {\n        this.player!.currentTime(interaction.startTime + delta / 2);\n      }\n    },\n  },\n  mounted() {\n    this.initializePlayer();\n  },\n  beforeUnmount() {\n    this.progressBarObserver?.disconnect();\n  },\n});\n","import { render } from \"./VideoPlayer.vue?vue&type=template&id=57f406d4&scoped=true&ts=true\"\nimport script from \"./VideoPlayer.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoPlayer.vue?vue&type=script&lang=ts\"\n\nimport \"./VideoPlayer.vue?vue&type=style&index=0&id=57f406d4&scoped=true&lang=scss\"\nimport \"./VideoPlayer.vue?vue&type=style&index=1&id=57f406d4&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-57f406d4\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-32afa486\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"tick-label\" }\nconst _hoisted_2 = [\"onClick\", \"title\"]\nconst _hoisted_3 = { class: \"timeline-interactions\" }\nconst _hoisted_4 = [\"title\"]\nconst _hoisted_5 = { class: \"overflow-container\" }\nconst _hoisted_6 = [\"onClick\", \"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_7 = { class: \"timeline-interaction-label\" }\nconst _hoisted_8 = [\"title\", \"onClick\"]\nconst _hoisted_9 = [\"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_10 = [\"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_11 = { style: {\"white-space\":\"pre-wrap\",\"display\":\"none\"} }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    ref: \"root\",\n    class: \"timeline-root\",\n    onDragoverCapture: _cache[6] || (_cache[6] = \n//@ts-ignore\n(...args) => (_ctx.onDragOverTimeline && _ctx.onDragOverTimeline(...args)))\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"timeline-axis\",\n      ref: \"timelineAxis\",\n      onPointerdown: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onPointerDownAxis && _ctx.onPointerDownAxis(...args)))\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.axisScale, (point, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"tick\",\n          key: index\n        }, [\n          _createElementVNode(\"div\", _hoisted_1, _toDisplayString(index % 5 === 0 ? _ctx.formatVideoTimestamp(point) : ' '), 1),\n          _createElementVNode(\"div\", {\n            class: _normalizeClass([\"tick-line\", {\n            major: index % 5 === 0,\n          }])\n          }, null, 2)\n        ]))\n      }), 128)),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.visibleInteractions, (interaction) => {\n        return (_openBlock(), _createElementBlock(\"button\", {\n          key: interaction.id,\n          class: \"interaction-marker\",\n          style: _normalizeStyle(_ctx.interactionMarkerStyle(interaction)),\n          onPointerdown: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"])),\n          onClick: _withModifiers(($event: any) => {\n          _ctx.onClickInteraction(interaction);\n          _ctx.$emit('timelineSeek', interaction.startTime + 0.1);\n        }, [\"stop\"]),\n          title: \n          _ctx.$gettext('Zu %{ interaction } springen', {\n            interaction: _ctx.printInteractionType(interaction),\n          })\n        \n        }, null, 44, _hoisted_2))\n      }), 128))\n    ], 544),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"timeline\", { 'pan-timeline': this.dragState?.type === 'panTimeline' }]),\n      ref: \"timeline\",\n      onPointerdown: _cache[3] || (_cache[3] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.onPointerDownAxis && _ctx.onPointerDownAxis(...args)), [\"self\"])),\n      onWheel: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.onWheel && _ctx.onWheel(...args))),\n      onContextmenu: _cache[5] || (_cache[5] = _withModifiers(() => {}, [\"prevent\"]))\n    }, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.visibleInteractions, (interaction) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: interaction.id,\n            class: _normalizeClass([\"timeline-interaction\", {\n            selected: _ctx.selectedInteractionId === interaction.id,\n          }]),\n            style: _normalizeStyle(_ctx.timelineInteractionStyle(interaction)),\n            title: _ctx.printInteractionType(interaction)\n          }, [\n            _createElementVNode(\"div\", _hoisted_5, [\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                class: _normalizeClass([\"button select-interaction\", _ctx.iconForInteraction(interaction)]),\n                onClick: _withModifiers(($event: any) => (_ctx.onClickInteraction(interaction)), [\"stop\"]),\n                onPointerdown: ($event: any) => (_ctx.onPointerDownInteraction($event, interaction)),\n                onPointermove: ($event: any) => (_ctx.onPointerMoveInteraction($event, interaction)),\n                onPointerup: ($event: any) => (_ctx.onPointerUpInteraction($event, interaction))\n              }, [\n                _createElementVNode(\"span\", _hoisted_7, _toDisplayString(_ctx.printInteractionType(interaction)), 1)\n              ], 42, _hoisted_6),\n              (interaction.endTime < _ctx.viewportEnd)\n                ? (_openBlock(), _createElementBlock(\"button\", {\n                    key: 0,\n                    type: \"button\",\n                    class: \"small-button trash delete-interaction\",\n                    title: _ctx.$gettext('Lschen'),\n                    onClick: ($event: any) => (_ctx.$emit('deleteInteraction', interaction.id))\n                  }, null, 8, _hoisted_8))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _createElementVNode(\"div\", {\n              class: \"interaction-drag-handle start\",\n              onPointerdown: ($event: any) => (_ctx.onPointerDownInteractionStart($event, interaction)),\n              onPointermove: ($event: any) => (_ctx.onPointerMoveInteractionStart($event, interaction)),\n              onPointerup: ($event: any) => (_ctx.onPointerUpInteractionStart($event, interaction))\n            }, null, 40, _hoisted_9),\n            _createElementVNode(\"div\", {\n              class: \"interaction-drag-handle end\",\n              onPointerdown: ($event: any) => (_ctx.onPointerDownInteractionEnd($event, interaction)),\n              onPointermove: ($event: any) => (_ctx.onPointerMoveInteractionEnd($event, interaction)),\n              onPointerup: ($event: any) => (_ctx.onPointerUpInteractionEnd($event, interaction))\n            }, null, 40, _hoisted_10)\n          ], 14, _hoisted_4))\n        }), 128))\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"time-marker\",\n        draggable: \"true\",\n        onDragstart: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.onDragStartTimeMarker && _ctx.onDragStartTimeMarker(...args))),\n        style: _normalizeStyle({\n          left: _ctx.positionForTimeMarker,\n        })\n      }, null, 36)\n    ], 34),\n    _createElementVNode(\"div\", _hoisted_11, _toDisplayString({\n          zoomTransform: _ctx.zoomTransform,\n          viewportWidthEm: _ctx.viewportWidthEm,\n          viewportWidthSeconds: _ctx.viewportWidthSeconds,\n          viewportStart: _ctx.viewportStart,\n          viewportEnd: _ctx.viewportEnd,\n          dragState: _ctx.dragState,\n        }), 1)\n  ], 544))\n}","/**\n * Get the equivalent EM value on a given element with a given pixel value.\n *\n * Normally the number of pixel specified should come from the element itself (e.g. element.style.height) since EM is\n * relative.\n *\n * @param {Object} element - The HTML element.\n * @param {Number} pixelValue - The number of pixel to convert in EM on this specific element.\n * @author Nicolas Bouvrette\n * @license CC BY-SA 3.0 https://stackoverflow.com/a/34540037/7359454\n * Adapted by Ann Yanich\n *\n * @returns {Boolean|undefined} The EM value, or undefined if unable to convert.\n */\nexport default function getEmValueFromElement(\n  element: Element,\n  pixelValue: number\n): number | undefined {\n  if (element.parentNode) {\n    const parentFontSize = parseFloat(\n      window.getComputedStyle(element.parentNode as Element).fontSize\n    );\n    const elementFontSize = parseFloat(\n      window.getComputedStyle(element).fontSize\n    );\n    const pixelValueOfOneEm =\n      (elementFontSize / parentFontSize) * elementFontSize;\n    return pixelValue / pixelValueOfOneEm;\n  }\n  return undefined;\n}\n","\nimport {\n  ComponentPublicInstance,\n  defineComponent,\n  inject,\n  PropType,\n  StyleValue,\n} from 'vue';\nimport { VideoMetadata } from '@/components/interactiveVideo/events';\nimport { throttle } from 'lodash';\nimport {\n  iconForInteraction,\n  Interaction,\n  InteractiveVideoTask,\n  printInteractionType,\n} from '@/models/InteractiveVideoTask';\nimport { $gettext } from '../../language/gettext';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport getEmValueFromElement from '@/components/interactiveVideo/getEmValueFromElement';\nimport { select } from 'd3-selection';\nimport { D3DragEvent, drag } from 'd3-drag';\n\ntype DragState =\n  | { type: 'timeMarker' }\n  | { type: 'panTimeline' }\n  | {\n      type: 'interaction';\n      id: string;\n      mouseStartPos: [number, number]; // clientX, clientY\n      interactionStartTime: number; // Seconds\n      interactionDuration: number; // Seconds\n    }\n  | {\n      type: 'interactionStart';\n      id: string;\n      time: number; // Seconds\n    }\n  | {\n      type: 'interactionEnd';\n      id: string;\n      time: number; // Seconds\n    }\n  | undefined;\nexport default defineComponent({\n  name: 'VideoTimeline',\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    currentTime: {\n      type: Number,\n      required: true,\n    },\n    videoMetadata: {\n      type: Object as PropType<VideoMetadata>,\n      required: true,\n    },\n    task: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n    selectedInteractionId: {\n      type: String,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      dragState: undefined as DragState,\n      zoomTransform: { t: 0, k: 1 },\n      viewportWidthEm: 1,\n    };\n  },\n  mounted() {\n    // When timeline axis becomes visible, its width should be recalculated.\n    // TODO recalculate also when it changes size (e.g. window is resized)\n    const observer = new IntersectionObserver(() =>\n      this.recomputeViewportWidth()\n    );\n    observer.observe(this.$refs.timelineAxis as HTMLElement);\n\n    // Set up d3-drag\n    const dragTimeline = (ev: D3DragEvent<HTMLElement, unknown, unknown>) => {\n      const dSeconds = this.pixelsToSeconds(ev.dx);\n      const translate = this.zoomTransform.t - dSeconds;\n      this.zoomTransform.t = this.constrainZoomTranslate(translate);\n    };\n    const dragBehavior = drag<HTMLElement, unknown>()\n      .filter((event: D3DragEvent<HTMLElement, unknown, unknown>) => {\n        return (event as any).button !== 0; // All buttons except 'left click'\n      })\n      .on('start', () => {\n        this.dragState = { type: 'panTimeline' };\n      })\n      .on('drag', dragTimeline)\n      .on('end', () => {\n        this.dragState = undefined;\n      });\n    select(this.$refs.timeline as HTMLElement).call(dragBehavior);\n  },\n  watch: {\n    // Automatically scroll timeline to keep the current playback position in view\n    currentTime(currentTime: number) {\n      if (currentTime < this.viewportStart || currentTime > this.viewportEnd) {\n        this.zoomTransform.t = this.constrainZoomTranslate(currentTime - 0.5);\n      }\n    },\n  },\n  computed: {\n    visibleInteractions(): Interaction[] {\n      const visibleInteractions: Interaction[] = [];\n      for (let i of this.task.interactions) {\n        const isWithinViewport =\n          i.startTime < this.viewportEnd && i.endTime > this.viewportStart;\n        // An Interaction element should not suddenly disappear if it is dragged\n        // outside of the timeline viewport. That would cause the drag-drop\n        // interaction to unexpectedly end in a confusing way.\n        const isBeingDragged =\n          (this.dragState?.type === 'interaction' ||\n            this.dragState?.type === 'interactionStart' ||\n            this.dragState?.type === 'interactionEnd') &&\n          this.dragState.id === i.id;\n        if (isWithinViewport || isBeingDragged) {\n          visibleInteractions.push(i);\n        }\n      }\n      return visibleInteractions;\n    },\n    viewportWidthSeconds(): number {\n      const secondsPerEm = 0.5 / this.zoomTransform.k;\n      return this.viewportWidthEm * secondsPerEm;\n    },\n    viewportStart(): number {\n      return this.zoomTransform.t;\n    },\n    viewportEnd(): number {\n      return this.viewportStart + this.viewportWidthSeconds;\n    },\n    positionForTimeMarker(): string {\n      return `${this.secondsToTimelinePercentage(this.currentTime)}%`;\n    },\n    axisScale(): number[] {\n      const points = 25;\n      const start = this.viewportStart;\n      const end = this.viewportEnd;\n      const scale: number[] = [];\n      for (let i = 0; i < points; i++) {\n        scale.push(start + ((end - start) / points) * i);\n      }\n      scale.push(end);\n      return scale;\n    },\n  },\n  methods: {\n    iconForInteraction,\n    printInteractionType,\n    $gettext,\n    secondsToTimelinePercentage(seconds: number): number {\n      const deltaT = seconds - this.viewportStart;\n      return (deltaT / this.viewportWidthSeconds) * 100;\n    },\n    interactionMarkerStyle(\n      interaction: Interaction\n    ): Partial<CSSStyleDeclaration> {\n      return {\n        left: `${this.secondsToTimelinePercentage(interaction.startTime)}%`,\n      };\n    },\n    zoom(delta: number, time?: number) {\n      if (!time) {\n        time = (this.viewportStart + this.viewportEnd) / 2;\n      }\n      // Save information needed to recalculate 't' (translate) parameter after zoom\n      const viewportStart0 = this.zoomTransform.t;\n      const viewportWidth0 = this.viewportWidthSeconds;\n\n      // Calculate new zoom level\n      const exp = Math.exp(delta);\n      const newK = this.zoomTransform.k * exp;\n      // Prevent zooming too far in/out\n      this.zoomTransform.k = Math.max(0.005, Math.min(5, newK));\n\n      // Calculate new translation in order to keep the point under the mouse\n      // cursor stationary.\n      // viewportWidthSeconds is recalculated (because it's a computed property)\n      // after zoomTransform.k is modified in the previous block of code..\n      const viewportWidth1 = this.viewportWidthSeconds;\n      const viewportStart1 =\n        time - ((time - viewportStart0) / viewportWidth0) * viewportWidth1;\n      // Prevent panning before video start or after video end\n      this.zoomTransform.t = this.constrainZoomTranslate(viewportStart1);\n    },\n    onWheel(event: WheelEvent) {\n      event.preventDefault(); // Prevent scrolling page up/down\n      const t = this.xCoordinateToTime(event.clientX);\n      const delta = -event.deltaY / 1000;\n      this.zoom(delta, t);\n    },\n    constrainZoomTranslate(t: number): number {\n      return Math.max(0, Math.min(this.videoMetadata.length, t));\n    },\n    pixelsToEm(pixels: number): number {\n      const timeline = this.$refs.timelineAxis;\n      if (!timeline) {\n        return 1;\n      }\n      return (\n        getEmValueFromElement(this.$refs.timelineAxis as HTMLElement, pixels) ??\n        NaN\n      );\n    },\n    recomputeViewportWidth() {\n      const axis = this.$refs.timelineAxis as HTMLElement | null;\n      if (!axis) {\n        console.warn('recomputeViewportWidth: timelineAxis is null');\n        return;\n      }\n      const rect = axis.getBoundingClientRect();\n      const widthInEm = this.pixelsToEm(rect.width);\n      this.viewportWidthEm = widthInEm;\n    },\n    // Format video timestamp for timeline axis. e.g. 1m30s becomes 00;01;30;00\n    formatVideoTimestamp(timestampSeconds: number): string {\n      let hours = 0,\n        minutes = 0,\n        seconds = 0,\n        centiseconds = 0;\n      while (timestampSeconds >= 3600) {\n        hours++;\n        timestampSeconds -= 3600;\n      }\n      while (timestampSeconds >= 60) {\n        minutes++;\n        timestampSeconds -= 60;\n      }\n      while (timestampSeconds >= 1) {\n        seconds++;\n        timestampSeconds -= 1;\n      }\n      centiseconds = Math.floor(timestampSeconds * 100);\n      function twoDigits(n: number): string {\n        return n.toLocaleString('de-DE', {\n          minimumIntegerDigits: 2,\n          maximumFractionDigits: 0,\n        });\n      }\n      return `${twoDigits(hours)};${twoDigits(minutes)};${twoDigits(\n        seconds\n      )};${twoDigits(centiseconds)}`;\n    },\n    pixelsToSeconds(pixels: number): number {\n      const rect = (\n        this.$refs.timelineAxis as HTMLElement\n      ).getBoundingClientRect();\n      const fraction = pixels / rect.width;\n      return fraction * this.viewportWidthSeconds;\n    },\n    /**\n     * Convert the x coordinate in pixels on the timeline to a time in seconds\n     * in the video, clamped between 0 and the video's length.\n     */\n    xCoordinateToTime(clientX: number): number {\n      const rect = (\n        this.$refs.timelineAxis as HTMLElement\n      ).getBoundingClientRect();\n      const x = clientX - rect.left; //x position within the element.\n      const xFraction = x / rect.width;\n      const time = this.viewportStart + xFraction * this.viewportWidthSeconds;\n      const clampedTime = Math.min(\n        this.videoMetadata.length,\n        Math.max(0, time)\n      );\n      return clampedTime;\n    },\n    timelineInteractionStyle(interaction: Interaction): StyleValue {\n      const startDeltaT = interaction.startTime - this.viewportStart;\n      const startPercent = (startDeltaT / this.viewportWidthSeconds) * 100;\n      const endDeltaT = interaction.endTime - this.viewportStart;\n      const endPercent = (endDeltaT / this.viewportWidthSeconds) * 100;\n      return {\n        left: `${startPercent}%`,\n        width: `${endPercent - startPercent}%`,\n      };\n    },\n    onClickInteraction(interaction: Interaction) {\n      console.log('onClickInteraction');\n      this.$emit('clickInteraction', interaction);\n    },\n    onPointerDownInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerDownInteraction');\n      if (event.button !== 0) {\n        // Prevent unintentionally selecting interaction when dragging to\n        // scroll around in the timeline\n        return;\n      }\n      const interactionLength = interaction.endTime - interaction.startTime;\n      this.dragState = {\n        type: 'interaction',\n        id: interaction.id,\n        mouseStartPos: [event.clientX, event.clientY],\n        interactionStartTime: interaction.startTime,\n        interactionDuration: interactionLength,\n      };\n      (event.target as HTMLElement).setPointerCapture(event.pointerId);\n      this.editor!.selectInteraction(interaction.id);\n    },\n    onPointerMoveInteraction(event: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'interaction' &&\n        this.dragState.id === interaction.id\n      ) {\n        const mouseDx = event.clientX - this.dragState.mouseStartPos[0];\n        const rect = (\n          this.$refs.timelineAxis as HTMLElement\n        ).getBoundingClientRect();\n        const secondsPerPixel = this.viewportWidthSeconds / rect.width;\n        const dSeconds = mouseDx * secondsPerPixel;\n        const seconds = this.dragState.interactionStartTime + dSeconds;\n        // Prevent from dragging so far that the endTime > video length\n        const maxTime =\n          this.videoMetadata.length - this.dragState.interactionDuration;\n        const secondsClamped = Math.max(0, Math.min(maxTime, seconds));\n        const id = this.dragState.id;\n        this.editor?.dragInteractionTimeline(id, secondsClamped);\n      }\n    },\n    onPointerUpInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerUpInteraction');\n      this.dragState = undefined;\n      (event.target as HTMLElement).releasePointerCapture(event.pointerId);\n    },\n    onPointerDownInteractionStart(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = {\n        type: 'interactionStart',\n        id: interaction.id,\n        time: interaction.startTime,\n      };\n      (ev.target as HTMLElement).setPointerCapture(ev.pointerId);\n    },\n    onPointerDownInteractionEnd(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = {\n        type: 'interactionEnd',\n        id: interaction.id,\n        time: interaction.endTime,\n      };\n      (ev.target as HTMLElement).setPointerCapture(ev.pointerId);\n    },\n    onPointerMoveInteractionStart(ev: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'interactionStart' &&\n        this.dragState.id === interaction.id\n      ) {\n        const dSeconds = this.pixelsToSeconds(ev.movementX);\n        this.dragState.time += dSeconds;\n        const timeClamped = Math.max(\n          0,\n          Math.min(interaction.endTime - 1, this.dragState.time)\n        );\n        // TODO make undoable\n        interaction.startTime = timeClamped;\n      }\n    },\n    onPointerMoveInteractionEnd(ev: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'interactionEnd' &&\n        this.dragState.id === interaction.id\n      ) {\n        const dSeconds = this.pixelsToSeconds(ev.movementX);\n        this.dragState.time += dSeconds;\n        const secondsClamped = Math.max(\n          interaction.startTime + 1,\n          Math.min(this.videoMetadata.length, this.dragState.time)\n        );\n        // TODO make undoable\n        interaction.endTime = secondsClamped;\n      }\n    },\n    onPointerUpInteractionStart(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = undefined;\n      (ev.target as HTMLElement).releasePointerCapture(ev.pointerId);\n    },\n    onPointerUpInteractionEnd(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = undefined;\n      (ev.target as HTMLElement).releasePointerCapture(ev.pointerId);\n    },\n    onPointerDownAxis(e: PointerEvent) {\n      const time = this.xCoordinateToTime(e.clientX);\n      this.$emit('timelineSeek', time);\n    },\n    onDragStartTimeMarker(e: DragEvent) {\n      console.log('dragstart time marker');\n      this.dragState = { type: 'timeMarker' };\n    },\n    onDragOverTimeline(e: DragEvent) {\n      if (this.dragState?.type === 'timeMarker') {\n        e.preventDefault(); // Stop ghost image from flying back after drop\n        const time = this.xCoordinateToTime(e.clientX);\n        this.emitTimelineSeekThrottled(time);\n      }\n    },\n    emitTimelineSeekThrottled: throttle(function emitTimelineSeek(\n      this: ComponentPublicInstance,\n      time: number\n    ) {\n      this.$emit('timelineSeek', time);\n    },\n    100),\n  },\n});\n","import { render } from \"./VideoTimeline.vue?vue&type=template&id=32afa486&scoped=true&ts=true\"\nimport script from \"./VideoTimeline.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoTimeline.vue?vue&type=script&lang=ts\"\n\nimport \"./VideoTimeline.vue?vue&type=style&index=0&id=32afa486&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-32afa486\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, createBlock as _createBlock, KeepAlive as _KeepAlive, resolveDynamicComponent as _resolveDynamicComponent, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-117c65d4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"selected-interaction-properties\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"default\"\n}\nconst _hoisted_3 = { class: \"collapsable\" }\nconst _hoisted_4 = { class: \"start-and-end-time-inputs\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_VideoTimeInput = _resolveComponent(\"VideoTimeInput\")!\n  const _component_StudipWysiwyg = _resolveComponent(\"StudipWysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"h3\", null, _toDisplayString(_ctx.$gettext('Interaktion')) + \" \\\"\" + _toDisplayString(_ctx.printInteractionType(_ctx.selectedInteraction)) + \"\\\" \", 1),\n    (_ctx.selectedInteraction)\n      ? (_openBlock(), _createElementBlock(\"form\", _hoisted_2, [\n          _createElementVNode(\"fieldset\", _hoisted_3, [\n            _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createElementVNode(\"label\", null, [\n                _createTextVNode(_toDisplayString(_ctx.$gettext('Start')) + \" \", 1),\n                _createVNode(_component_VideoTimeInput, {\n                  modelValue: _ctx.inputStartTime,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.inputStartTime) = $event)),\n                  \"onUpdate:error\": _cache[1] || (_cache[1] = (error) => (_ctx.inputStartTimeFormatError = error)),\n                  class: _normalizeClass([\"time-input\", {\n                invalid: _ctx.inputStartTimeErrors.length > 0,\n              }]),\n                  \"aria-invalid\": _ctx.inputStartTimeErrors.length > 0\n                }, null, 8, [\"modelValue\", \"class\", \"aria-invalid\"])\n              ]),\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.inputStartTimeErrors, (error) => {\n                return (_openBlock(), _createElementBlock(\"p\", {\n                  class: \"validation-error\",\n                  key: error\n                }, _toDisplayString(error), 1))\n              }), 128)),\n              _createElementVNode(\"label\", null, [\n                _createTextVNode(_toDisplayString(_ctx.$gettext('Ende')) + \" \", 1),\n                _createVNode(_component_VideoTimeInput, {\n                  modelValue: _ctx.inputEndTime,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.inputEndTime) = $event)),\n                  \"onUpdate:error\": _cache[3] || (_cache[3] = (error) => (_ctx.inputEndTimeFormatError = error)),\n                  class: _normalizeClass([\"time-input\", {\n                invalid: _ctx.inputEndTimeErrors.length > 0,\n              }]),\n                  \"aria-invalid\": _ctx.inputEndTimeErrors.length > 0\n                }, null, 8, [\"modelValue\", \"class\", \"aria-invalid\"])\n              ])\n            ]),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.inputEndTimeErrors, (error) => {\n              return (_openBlock(), _createElementBlock(\"p\", {\n                class: \"validation-error\",\n                key: error\n              }, _toDisplayString(error), 1))\n            }), 128)),\n            _createElementVNode(\"label\", null, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"checkbox\",\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.selectedInteraction.pauseWhenVisible) = $event))\n              }, null, 512), [\n                [_vModelCheckbox, _ctx.selectedInteraction.pauseWhenVisible]\n              ]),\n              _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Video pausieren')), 1)\n            ])\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.selectedInteraction.type === 'overlay')\n      ? (_openBlock(), _createBlock(_KeepAlive, { key: 1 }, [\n          _createElementVNode(\"div\", null, [\n            (_openBlock(), _createBlock(_component_StudipWysiwyg, {\n              key: `${_ctx.selectedInteraction.id}-overlay-wysiwyg`,\n              modelValue: _ctx.selectedInteraction.text,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.selectedInteraction.text) = $event))\n            }, null, 8, [\"modelValue\"]))\n          ])\n        ], 1024))\n      : (_ctx.selectedInteraction.type === 'lmbTask')\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n            (_openBlock(), _createBlock(_KeepAlive, null, [\n              (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.editorForTaskType(_ctx.selectedInteraction.taskDefinition.task_type)), {\n                key: `${_ctx.selectedInteraction.id}-editor`,\n                taskDefinition: _ctx.selectedInteraction.taskDefinition\n              }, null, 8, [\"taskDefinition\"]))\n            ], 1024)),\n            _createElementVNode(\"h3\", null, _toDisplayString(_ctx.$gettext('Vorschau')), 1),\n            (_openBlock(), _createBlock(_KeepAlive, null, [\n              (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.viewerForTaskType(_ctx.selectedInteraction.taskDefinition.task_type)), {\n                class: \"lmb-task-preview\",\n                key: `${_ctx.selectedInteraction.id}-viewer`,\n                task: _ctx.selectedInteraction.taskDefinition\n              }, null, 8, [\"task\"]))\n            ], 1024))\n          ], 64))\n        : _createCommentVNode(\"\", true)\n  ]))\n}","import { vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.userInput) = $event)),\n    onBlur: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onBlurUserInput && _ctx.onBlurUserInput(...args)))\n  }, null, 544)), [\n    [_vModelText, _ctx.userInput]\n  ])\n}","\nimport { defineComponent } from 'vue';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'VideoTimeInput',\n  props: {\n    modelValue: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      userInput: '',\n    };\n  },\n  watch: {\n    modelValue: {\n      immediate: true,\n      handler(newValue: number) {\n        this.userInput = this.formatSeconds(newValue);\n      },\n    },\n    parsedUserInput() {\n      if (this.parsedUserInput instanceof Error) {\n        this.$emit('update:error', this.parsedUserInput);\n      } else {\n        this.$emit('update:error', undefined);\n      }\n    },\n  },\n  methods: {\n    onBlurUserInput() {\n      if (this.parsedUserInput instanceof Error) {\n        // Reset the input to a good value\n        this.userInput = this.formatSeconds(this.modelValue);\n        this.$emit('update:error', undefined);\n      } else {\n        this.$emit('update:modelValue', this.parsedUserInput);\n        this.$emit('update:error', undefined);\n      }\n    },\n    // Format a time in seconds as HH;MM;SS;SS (Centiseconds at end)\n    formatSeconds(time: number): string {\n      let hours = 0,\n        minutes = 0,\n        seconds = 0,\n        centiseconds = 0;\n      while (time >= 3600) {\n        time -= 3600;\n        hours += 1;\n      }\n      while (time >= 60) {\n        time -= 60;\n        minutes += 1;\n      }\n      while (time >= 1) {\n        time -= 1;\n        seconds += 1;\n      }\n      centiseconds = Math.floor(time * 100);\n      function twoDigits(n: number): string {\n        return n.toLocaleString('de-DE', {\n          minimumIntegerDigits: 2,\n          maximumFractionDigits: 0,\n        });\n      }\n      let string = `${twoDigits(hours)};${twoDigits(minutes)};${twoDigits(\n        seconds\n      )};${twoDigits(centiseconds)}`;\n      return string;\n    },\n  },\n  computed: {\n    /**\n     * Either the time the user input, converted into seconds, or an Error with\n     * a message explaining why the user's input was invalid.\n     */\n    parsedUserInput(): number | Error {\n      const timeRegexCentiseconds =\n        /^(\\d?\\d)[;:](\\d?\\d)[;:](\\d?\\d)[;:](\\d?\\d)$/;\n      const centisecondsMatch = timeRegexCentiseconds.exec(this.userInput);\n      if (centisecondsMatch) {\n        return (\n          parseInt(centisecondsMatch[1]) * 3600 +\n          parseInt(centisecondsMatch[2]) * 60 +\n          parseInt(centisecondsMatch[3]) +\n          parseInt(centisecondsMatch[4]) / 100\n        );\n      }\n      // If the exact format for a time with centiseconds isn't matched, use\n      // a more permissive regex.\n      // This regex is adapted from https://stackoverflow.com/a/8318367/7359454\n      // License CC BY-SA 3.0 https://creativecommons.org/licenses/by-sa/3.0/\n      // Accessed and adapted on 10.01.2024 by Ann Yanich\n      const timeRegexHhMmSs =\n        /^(?:(?:([0-9]?\\d)[;:])?([0-5]?\\d)[:;])?([0-5]?\\d)$/;\n      const hhMmSsMatch = timeRegexHhMmSs.exec(this.userInput);\n      if (!hhMmSsMatch || hhMmSsMatch.length !== 4) {\n        return new Error(\n          $gettext(\n            'Die Startposition muss der Syntax HH;MM;SS oder HH;MM;SS;SS entsprechen.'\n          )\n        );\n      }\n      // match[0] is the time string with colons,\n      // match[1] is hours (or undefined if not present),\n      // match[2] is minutes (or undefined if not present),\n      // and match[3] is seconds (always present).\n      if (hhMmSsMatch[1]) {\n        return (\n          parseInt(hhMmSsMatch[1]) * 3600 +\n          parseInt(hhMmSsMatch[2]) * 60 +\n          parseInt(hhMmSsMatch[3])\n        );\n      } else if (hhMmSsMatch[2]) {\n        return parseInt(hhMmSsMatch[2]) * 60 + parseInt(hhMmSsMatch[3]);\n      } else {\n        return parseInt(hhMmSsMatch[3]);\n      }\n    },\n  },\n});\n","import { render } from \"./VideoTimeInput.vue?vue&type=template&id=9aba7cc0&ts=true\"\nimport script from \"./VideoTimeInput.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoTimeInput.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, inject, PropType } from 'vue';\nimport {\n  Interaction,\n  printInteractionType,\n} from '@/models/InteractiveVideoTask';\nimport { editorForTaskType, viewerForTaskType } from '@/models/TaskDefinition';\nimport { $gettext } from '../../language/gettext';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport VideoTimeInput from '@/components/interactiveVideo/VideoTimeInput.vue';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\n\nexport default defineComponent({\n  name: 'SelectedInteractionProperties',\n  components: { VideoTimeInput, StudipWysiwyg },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    selectedInteraction: {\n      type: Object as PropType<Interaction>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      inputStartTime: 0,\n      inputStartTimeFormatError: undefined as Error | undefined,\n      inputEndTime: 1,\n      inputEndTimeFormatError: undefined as Error | undefined,\n    };\n  },\n  methods: {\n    viewerForTaskType,\n    $gettext,\n    printInteractionType,\n    editorForTaskType,\n  },\n  watch: {\n    inputStartTime(value: number) {\n      if (this.inputStartTimeErrors.length === 0) {\n        // eslint-disable-next-line vue/no-mutating-props\n        this.selectedInteraction.startTime = value;\n      }\n      if (this.inputEndTimeErrors.length === 0) {\n        // eslint-disable-next-line vue/no-mutating-props\n        this.selectedInteraction.endTime = this.inputEndTime;\n      }\n    },\n    'selectedInteraction.startTime': {\n      handler: function (value: number) {\n        this.inputStartTime = value;\n      },\n      immediate: true,\n    },\n    inputEndTime(value: number) {\n      if (this.inputEndTimeErrors.length === 0) {\n        // eslint-disable-next-line vue/no-mutating-props\n        this.selectedInteraction.endTime = value;\n        /*\n         Scenario: startTime = 0, endTime = 4.\n         User begins to edit startTime and sets startTime = 5.\n         This is invalid (startTime > endTime) and is not applied.\n         Then, user edits endTime and sets endTime = 6.\n         Now, both inputs are valid. start < end. So, both should be applied.\n        */\n        if (this.inputStartTimeErrors.length === 0) {\n          // eslint-disable-next-line vue/no-mutating-props\n          this.selectedInteraction.startTime = this.inputStartTime;\n        }\n      }\n    },\n    'selectedInteraction.endTime': {\n      handler: function (value: number) {\n        this.inputEndTime = value;\n      },\n      immediate: true,\n    },\n  },\n  computed: {\n    inputStartTimeErrors(): string[] {\n      const errors: string[] = [];\n      if (this.inputStartTimeFormatError) {\n        errors.push(this.inputStartTimeFormatError.message);\n      }\n      if (this.inputStartTime < 0) {\n        errors.push($gettext('Das eingegebene Wert muss grer als 0 sein.'));\n      }\n      if (this.inputStartTime >= this.selectedInteraction.endTime) {\n        errors.push($gettext('Der Startpunkt muss vor dem Endpunkt sein.'));\n      }\n      // TODO check video length as well.\n      return errors;\n    },\n    inputEndTimeErrors(): string[] {\n      const errors: string[] = [];\n      if (this.inputEndTimeFormatError) {\n        errors.push(this.inputEndTimeFormatError.message);\n      }\n      if (this.inputEndTime < 0) {\n        errors.push($gettext('Das eingegebene Wert muss grer als 0 sein.'));\n      }\n      if (this.inputEndTime <= this.selectedInteraction.startTime) {\n        errors.push($gettext('Der Startpunkt muss vor dem Endpunkt sein.'));\n      }\n      // TODO check video length as well.\n      return errors;\n    },\n  },\n});\n","import { render } from \"./SelectedInteractionProperties.vue?vue&type=template&id=117c65d4&scoped=true&ts=true\"\nimport script from \"./SelectedInteractionProperties.vue?vue&type=script&lang=ts\"\nexport * from \"./SelectedInteractionProperties.vue?vue&type=script&lang=ts\"\n\nimport \"./SelectedInteractionProperties.vue?vue&type=style&index=0&id=117c65d4&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-117c65d4\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-301505ea\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"add-interactions-root\" }\nconst _hoisted_2 = { class: \"toolbar-under-video\" }\nconst _hoisted_3 = { class: \"insert-interactions-buttons\" }\nconst _hoisted_4 = [\"title\"]\nconst _hoisted_5 = [\"onClick\", \"title\"]\nconst _hoisted_6 = { class: \"video-controls\" }\nconst _hoisted_7 = [\"title\"]\nconst _hoisted_8 = [\"title\"]\nconst _hoisted_9 = [\"title\"]\nconst _hoisted_10 = [\"title\"]\n\nimport { computed, nextTick, PropType, provide, ref } from 'vue';\nimport type {\n  Interaction,\n  InteractiveVideoTask,\n  OverlayInteraction,\n} from '@/models/InteractiveVideoTask';\nimport VideoPlayer from '@/components/interactiveVideo/VideoPlayer.vue';\nimport VideoTimeline from '@/components/interactiveVideo/VideoTimeline.vue';\nimport SelectedInteractionProperties from '@/components/interactiveVideo/SelectedInteractionProperties.vue';\nimport { VideoMetadata } from '@/components/interactiveVideo/events';\nimport {\n  iconForTaskType,\n  newTask,\n  printTaskType,\n  TaskDefinition,\n} from '@/models/TaskDefinition';\nimport { v4 } from 'uuid';\nimport { editorStateSymbol } from '@/components/interactiveVideo/editorState';\nimport { $gettext } from '../../language/gettext';\nimport { printInteractionType } from '@/models/InteractiveVideoTask';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n  taskDefinition: {\n    type: Object as PropType<InteractiveVideoTask>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props\n\n\nconst currentTime = ref(0);\nconst videoMetadata = ref<VideoMetadata>({ length: 1 });\nconst selectedInteractionId = ref<string | undefined>(undefined);\nconst videoPlayer = ref<InstanceType<typeof VideoPlayer> | undefined>(\n  undefined\n);\nconst videoTimeline = ref<InstanceType<typeof VideoTimeline> | undefined>(\n  undefined\n);\nconst selectedInteractionProperties = ref<\n  InstanceType<typeof SelectedInteractionProperties> | undefined\n>(undefined);\n\nconst taskTypes: Array<TaskDefinition['task_type']> = [\n  'FillInTheBlanks',\n  'DragTheWords',\n  'MarkTheWords',\n  'Question',\n];\n\nprovide(editorStateSymbol, {\n  selectInteraction,\n  selectedInteractionId,\n  editInteraction,\n  dragInteraction,\n  resizeOverlay,\n  deleteInteraction,\n  dragInteractionTimeline,\n});\n\nconst selectedInteraction = computed(() =>\n  props.taskDefinition.interactions.find(\n    (interaction) => interaction.id === selectedInteractionId.value\n  )\n);\n\nfunction selectInteraction(selectionId: string) {\n  selectedInteractionId.value = selectionId;\n}\nfunction editInteraction(id: string) {\n  selectedInteractionId.value = id;\n  nextTick(() => {\n    const el = selectedInteractionProperties.value?.$el as HTMLElement;\n    el.scrollIntoView({\n      behavior: 'smooth',\n      block: 'start',\n    });\n  });\n}\nfunction onVideoMetadataChange(data: VideoMetadata) {\n  videoMetadata.value = data;\n}\nfunction onTimeUpdate(time: number) {\n  currentTime.value = time;\n}\nfunction onTimelineSeek(time: number) {\n  console.log('onTImelineSeek', time);\n  videoPlayer.value!.player!.currentTime(time);\n}\nfunction onClickZoomIn() {\n  videoTimeline.value!.zoom(0.18);\n}\nfunction onClickZoomOut() {\n  videoTimeline.value!.zoom(-0.18);\n}\nfunction onClickPlay() {\n  videoPlayer.value!.player!.play();\n}\nfunction onClickPause() {\n  videoPlayer.value!.player!.pause();\n}\nfunction insertOverlay() {\n  const interaction: OverlayInteraction = {\n    type: 'overlay',\n    id: v4(),\n    startTime: currentTime.value,\n    endTime: Math.min(videoMetadata.value.length, currentTime.value + 10),\n    x: 0.4,\n    y: 0.4,\n    width: 0.2,\n    height: 0.2,\n    text: $gettext('Einblendung'),\n    pauseWhenVisible: true,\n  };\n  // TODO make undoable ?\n  // eslint-disable-next-line vue/no-mutating-props\n  props.taskDefinition.interactions.push(interaction);\n  selectedInteractionId.value = interaction.id;\n}\n\nfunction insertLmbTaskInteraction(type: TaskDefinition['task_type']) {\n  console.log('insertLmbTaskInteraction', type);\n  const task = newTask(type);\n  const interaction: Interaction = {\n    type: 'lmbTask',\n    id: v4(),\n    taskDefinition: task,\n    startTime: currentTime.value,\n    endTime: Math.min(videoMetadata.value.length, currentTime.value + 10),\n    x: 0.5,\n    y: 0.5,\n    pauseWhenVisible: true,\n  };\n  // TODO make undoable ?\n  // eslint-disable-next-line vue/no-mutating-props\n  props.taskDefinition.interactions.push(interaction);\n  selectedInteractionId.value = interaction.id;\n}\nfunction deleteInteraction(id: string) {\n  console.log('deleteInteraction', id);\n  const interaction = props.taskDefinition.interactions.find(\n    (i) => i.id === id\n  );\n  const prompt = $gettext('%{ interaction } lschen', {\n    interaction: printInteractionType(interaction),\n  });\n  const confirmed = window.confirm(prompt);\n  if (!confirmed) {\n    console.info('Delete prompt canceled by user');\n    return;\n  }\n  const index = props.taskDefinition.interactions.findIndex((i) => i.id === id);\n  // TODO make undoable... Don't want to delete a whole task permanently with no undo\n  // eslint-disable-next-line vue/no-mutating-props\n  props.taskDefinition.interactions.splice(index, 1);\n}\nfunction dragInteraction(id: string, xFraction: number, yFraction: number) {\n  const interaction = props.taskDefinition?.interactions.find(\n    (i) => i.id === id\n  );\n  if (!interaction) {\n    throw new Error(`Interaction with id ${id} not found`);\n  }\n  // TODO make undoable ?\n  interaction.x = xFraction;\n  interaction.y = yFraction;\n}\nfunction resizeOverlay(\n  id: string,\n  x: number,\n  y: number,\n  width: number,\n  height: number\n) {\n  const interaction = props.taskDefinition?.interactions.find(\n    (i) => i.id === id\n  );\n  if (!interaction) {\n    throw new Error(`Interaction with id ${id} not found`);\n  }\n  // TODO make undoable ?\n  interaction.x = x;\n  interaction.y = y;\n  interaction.width = width;\n  interaction.height = height;\n}\nfunction dragInteractionTimeline(id: string, startTime: number) {\n  const interaction = props.taskDefinition?.interactions.find(\n    (i) => i.id === id\n  );\n  if (!interaction) {\n    throw new Error(`Interaction with id ${id} not found`);\n  }\n  // TODO make undoable ?\n  const duration = interaction.endTime - interaction.startTime;\n  interaction.endTime = startTime + duration;\n  interaction.startTime = startTime;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(VideoPlayer, {\n      ref_key: \"videoPlayer\",\n      ref: videoPlayer,\n      task: __props.taskDefinition,\n      onTimeupdate: onTimeUpdate,\n      onMetadataChange: onVideoMetadataChange,\n      onClickInteraction: _cache[0] || (_cache[0] = (i) => selectInteraction(i.id))\n    }, null, 8, [\"task\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button item\",\n          onClick: insertOverlay,\n          title: \n            _unref($gettext)('%{ interactionType } einfgen', {\n              interactionType: _unref($gettext)('Einblendung'),\n            })\n          \n        }, null, 8, _hoisted_4),\n        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(taskTypes, (taskType) => {\n          return _createElementVNode(\"button\", {\n            key: taskType,\n            type: \"button\",\n            class: _normalizeClass([\"button\", _unref(iconForTaskType)(taskType)]),\n            onClick: ($event: any) => (insertLmbTaskInteraction(taskType)),\n            title: \n            _unref($gettext)('%{ interactionType } einfgen', {\n              interactionType: _unref(printTaskType)(taskType),\n            })\n          \n          }, null, 10, _hoisted_5)\n        }), 64))\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button zoom-in\",\n          title: _unref($gettext)('Vergrern'),\n          onClick: onClickZoomIn\n        }, null, 8, _hoisted_7),\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button zoom-out\",\n          title: _unref($gettext)('Verkleinern'),\n          onClick: onClickZoomOut\n        }, null, 8, _hoisted_8),\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button play\",\n          title: _unref($gettext)('Abspielen'),\n          onClick: onClickPlay\n        }, null, 8, _hoisted_9),\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button pause\",\n          title: _unref($gettext)('Pausieren'),\n          onClick: onClickPause\n        }, null, 8, _hoisted_10)\n      ])\n    ]),\n    _createVNode(VideoTimeline, {\n      class: \"video-timeline\",\n      ref_key: \"videoTimeline\",\n      ref: videoTimeline,\n      task: __props.taskDefinition,\n      currentTime: currentTime.value,\n      videoMetadata: videoMetadata.value,\n      selectedInteractionId: selectedInteractionId.value,\n      onTimelineSeek: onTimelineSeek,\n      onClickInteraction: _cache[1] || (_cache[1] = (i) => selectInteraction(i.id)),\n      onDeleteInteraction: deleteInteraction\n    }, null, 8, [\"task\", \"currentTime\", \"videoMetadata\", \"selectedInteractionId\"]),\n    (_unref(selectedInteraction))\n      ? (_openBlock(), _createBlock(SelectedInteractionProperties, {\n          key: 0,\n          ref_key: \"selectedInteractionProperties\",\n          ref: selectedInteractionProperties,\n          selectedInteraction: _unref(selectedInteraction)\n        }, null, 8, [\"selectedInteraction\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./AddInteractions.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AddInteractions.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./AddInteractions.vue?vue&type=style&index=0&id=301505ea&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-301505ea\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelCheckbox as _vModelCheckbox, normalizeClass as _normalizeClass, vModelSelect as _vModelSelect, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4f0fe178\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"picker\" }\nconst _hoisted_2 = { class: \"default\" }\nconst _hoisted_3 = { class: \"youtube-url-actions\" }\nconst _hoisted_4 = { class: \"default\" }\nconst _hoisted_5 = { class: \"youtube-url-actions\" }\nconst _hoisted_6 = {\n  key: 1,\n  class: \"video-preview\"\n}\nconst _hoisted_7 = { key: 0 }\nconst _hoisted_8 = [\"href\"]\nconst _hoisted_9 = { key: 1 }\nconst _hoisted_10 = [\"href\"]\nconst _hoisted_11 = { class: \"video-preview-actions\" }\nconst _hoisted_12 = { class: \"form default\" }\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  disabled: \"\",\n  style: {\"display\":\"none\"},\n  \"aria-hidden\": \"true\"\n}, null, -1))\nconst _hoisted_14 = { class: \"start-at-setting\" }\nconst _hoisted_15 = { class: \"start-at-setting-flex\" }\nconst _hoisted_16 = {\n  key: 0,\n  class: \"errors\"\n}\nconst _hoisted_17 = { key: 0 }\nconst _hoisted_18 = { value: 'not disabled' }\nconst _hoisted_19 = { value: 'forward disabled' }\nconst _hoisted_20 = { value: 'forward and backward disabled' }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n  const _component_FilePicker = _resolveComponent(\"FilePicker\")!\n  const _component_VideoPlayer = _resolveComponent(\"VideoPlayer\")!\n  const _component_VideoTimeInput = _resolveComponent(\"VideoTimeInput\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (_ctx.taskDefinition.video.type === 'none')\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"p\", null, _toDisplayString(_ctx.$gettext(\n          'Lade ein Video hoch oder fge einen Link zu einem Youtube-Video ein.'\n        )), 1),\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createElementVNode(\"form\", _hoisted_2, [\n              _createElementVNode(\"fieldset\", null, [\n                _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Stud.IP-Video')), 1),\n                _createElementVNode(\"label\", null, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Neues Video hochladen')) + \" \", 1),\n                  _createVNode(_component_FileUpload, {\n                    onFileUploaded: _ctx.onUploadStudipVideo,\n                    accept: 'video/*'\n                  }, null, 8, [\"onFileUploaded\"])\n                ]),\n                _createElementVNode(\"label\", null, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Vorhandenes Video auswhlen')) + \" \", 1),\n                  _createVNode(_component_FilePicker, {\n                    modelValue: _ctx.selectedFileId,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selectedFileId) = $event)),\n                    \"is-video\": \"\",\n                    onSelectFile: _ctx.updateCurrentFile\n                  }, null, 8, [\"modelValue\", \"onSelectFile\"])\n                ]),\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _createElementVNode(\"button\", {\n                    type: \"button\",\n                    class: \"button accept\",\n                    onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onSaveUploadedFile && _ctx.onSaveUploadedFile(...args)))\n                  }, _toDisplayString(_ctx.$gettext('bernehmen')), 1)\n                ])\n              ])\n            ]),\n            _createElementVNode(\"form\", _hoisted_4, [\n              _createElementVNode(\"fieldset\", null, [\n                _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Youtube-Video')), 1),\n                _createElementVNode(\"label\", null, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Youtube-URL')) + \" \", 1),\n                  _withDirectives(_createElementVNode(\"input\", {\n                    class: \"youtube-url-input\",\n                    type: \"text\",\n                    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.youtubeUrlInput) = $event))\n                  }, null, 512), [\n                    [_vModelText, _ctx.youtubeUrlInput]\n                  ])\n                ]),\n                _createElementVNode(\"div\", _hoisted_5, [\n                  _createElementVNode(\"button\", {\n                    type: \"submit\",\n                    class: \"button accept\",\n                    onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.onSaveYoutubeVideo && _ctx.onSaveYoutubeVideo(...args)))\n                  }, _toDisplayString(_ctx.$gettext('bernehmen')), 1)\n                ])\n              ])\n            ])\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true),\n    (_ctx.taskDefinition.video.type !== 'none')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n          _createVNode(_component_VideoPlayer, {\n            ref: \"videoPlayer\",\n            task: _ctx.taskDefinition,\n            class: \"video-player\",\n            onTimeupdate: _ctx.onTimeUpdate\n          }, null, 8, [\"task\", \"onTimeupdate\"]),\n          (_ctx.taskDefinition.video.type === 'youtube')\n            ? (_openBlock(), _createElementBlock(\"p\", _hoisted_7, [\n                _createTextVNode(_toDisplayString(_ctx.$gettext('Youtube-Video: ')) + \" \", 1),\n                _createElementVNode(\"a\", {\n                  href: _ctx.taskDefinition.video.url,\n                  target: \"_blank\"\n                }, _toDisplayString(_ctx.taskDefinition.video.url), 9, _hoisted_8)\n              ]))\n            : (_ctx.taskDefinition.video.type === 'studipFileReference')\n              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_9, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Hochgeladenes Video: ')) + \" \", 1),\n                  _createElementVNode(\"a\", {\n                    href: _ctx.taskDefinition.video.file.url,\n                    target: \"_blank\"\n                  }, _toDisplayString(_ctx.taskDefinition.video.file.name), 9, _hoisted_10)\n                ]))\n              : _createCommentVNode(\"\", true),\n          _createElementVNode(\"div\", _hoisted_11, [\n            _createElementVNode(\"button\", {\n              class: \"button trash\",\n              onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.deleteVideo && _ctx.deleteVideo(...args)))\n            }, _toDisplayString(_ctx.$gettext('Video lschen')), 1)\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"form\", _hoisted_12, [\n      _hoisted_13,\n      _createElementVNode(\"fieldset\", null, [\n        _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n        _createElementVNode(\"label\", null, [\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"checkbox\",\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.autoplay) = $event))\n          }, null, 512), [\n            [_vModelCheckbox, _ctx.taskDefinition.autoplay]\n          ]),\n          _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Automatisch abspielen')), 1)\n        ]),\n        _createElementVNode(\"div\", _hoisted_14, [\n          _createElementVNode(\"div\", _hoisted_15, [\n            _createElementVNode(\"label\", null, [\n              _createTextVNode(_toDisplayString(_ctx.$gettext('Anfangen um')) + \" \", 1),\n              _createVNode(_component_VideoTimeInput, {\n                class: _normalizeClass({ invalid: !!_ctx.startPositionInputError }),\n                \"aria-invalid\": !!_ctx.startPositionInputError,\n                modelValue: _ctx.taskDefinition.startAt,\n                \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.startAt) = $event)),\n                \"onUpdate:error\": _cache[7] || (_cache[7] = (error) => (_ctx.startPositionInputError = error))\n              }, null, 8, [\"class\", \"aria-invalid\", \"modelValue\"])\n            ]),\n            _createElementVNode(\"button\", {\n              type: \"button\",\n              class: \"button\",\n              onClick: _cache[8] || (_cache[8] = \n//@ts-ignore\n(...args) => (_ctx.onClickUseCurrentTime && _ctx.onClickUseCurrentTime(...args)))\n            }, _toDisplayString(_ctx.$gettext('Aktuelle Position setzen')), 1)\n          ]),\n          (_ctx.startPositionInputError)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, _toDisplayString(_ctx.startPositionInputError), 1))\n            : _createCommentVNode(\"\", true)\n        ]),\n        false\n          ? (_openBlock(), _createElementBlock(\"label\", _hoisted_17, [\n              _createTextVNode(_toDisplayString(_ctx.$gettext('Navigation deaktivieren')) + \" \", 1),\n              _withDirectives(_createElementVNode(\"select\", {\n                \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((_ctx.taskDefinition.disableNavigation) = $event))\n              }, [\n                _createElementVNode(\"option\", _hoisted_18, _toDisplayString(_ctx.$gettext('Nicht deaktiviert')), 1),\n                _createElementVNode(\"option\", _hoisted_19, _toDisplayString(_ctx.$gettext('Vorspulen deaktiviert')), 1),\n                _createElementVNode(\"option\", _hoisted_20, _toDisplayString(_ctx.$gettext('Vorspulen und Rckspulen deaktiviert')), 1)\n              ], 512), [\n                [_vModelSelect, _ctx.taskDefinition.disableNavigation]\n              ])\n            ]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ])\n  ], 64))\n}","import { toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, vShow as _vShow, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect } from \"vue\"\n\nconst _hoisted_1 = { class: \"cw-file-chooser\" }\nconst _hoisted_2 = { value: \"\" }\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"Keine Auswahl\")\nconst _hoisted_4 = [\"value\"]\nconst _hoisted_5 = { disabled: \"\" }\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"Keine Dateien vorhanden\")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FolderPicker = _resolveComponent(\"FolderPicker\")!\n  const _component_translate = _resolveComponent(\"translate\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"label\", null, [\n      _createTextVNode(_toDisplayString(_ctx.$gettext('Ordner-Filter')) + \" \", 1),\n      _createVNode(_component_FolderPicker, {\n        allowUserFolders: \"\",\n        unchoose: \"\",\n        modelValue: _ctx.selectedFolderId,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selectedFolderId) = $event))\n      }, null, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"label\", null, [\n      _createTextVNode(_toDisplayString(_ctx.$gettext('Datei')) + \" \", 1),\n      _withDirectives(_createElementVNode(\"select\", {\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.currentValue) = $event)),\n        onChange: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.selectFile && _ctx.selectFile(...args)))\n      }, [\n        _withDirectives(_createElementVNode(\"option\", _hoisted_2, [\n          _createVNode(_component_translate, null, {\n            default: _withCtx(() => [\n              _hoisted_3\n            ]),\n            _: 1\n          })\n        ], 512), [\n          [_vShow, _ctx.canBeEmpty]\n        ]),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.files, (file, index) => {\n          return (_openBlock(), _createElementBlock(\"option\", {\n            key: index,\n            value: file.id\n          }, _toDisplayString(file.name), 9, _hoisted_4))\n        }), 128)),\n        _withDirectives(_createElementVNode(\"option\", _hoisted_5, [\n          _createVNode(_component_translate, null, {\n            default: _withCtx(() => [\n              _hoisted_6\n            ]),\n            _: 1\n          })\n        ], 512), [\n          [_vShow, _ctx.files.length === 0]\n        ])\n      ], 544), [\n        [_vModelSelect, _ctx.currentValue]\n      ])\n    ])\n  ]))\n}","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  value: \"\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"kein Ordner ausgewhlt\")\nconst _hoisted_3 = [\"label\"]\nconst _hoisted_4 = [\"value\"]\nconst _hoisted_5 = [\"label\"]\nconst _hoisted_6 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_translate = _resolveComponent(\"translate\")!\n\n  return _withDirectives((_openBlock(), _createElementBlock(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.currentValue) = $event)),\n    onChange: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.changeSelection && _ctx.changeSelection(...args)))\n  }, [\n    (_ctx.unchoose)\n      ? (_openBlock(), _createElementBlock(\"option\", _hoisted_1, [\n          _createVNode(_component_translate, null, {\n            default: _withCtx(() => [\n              _hoisted_2\n            ]),\n            _: 1\n          })\n        ]))\n      : _createCommentVNode(\"\", true),\n    (this.context.type === 'courses')\n      ? (_openBlock(), _createElementBlock(\"optgroup\", {\n          key: 1,\n          label: _ctx.textOptGroupCourse\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.loadedCourseFolders, (folder) => {\n            return (_openBlock(), _createElementBlock(\"option\", {\n              key: folder.id,\n              value: folder.id\n            }, _toDisplayString(folder.attributes.name), 9, _hoisted_4))\n          }), 128))\n        ], 8, _hoisted_3))\n      : _createCommentVNode(\"\", true),\n    (_ctx.allowUserFolders)\n      ? (_openBlock(), _createElementBlock(\"optgroup\", {\n          key: 2,\n          label: _ctx.textOptGroupUser\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.loadedUserFolders, (folder) => {\n            return (_openBlock(), _createElementBlock(\"option\", {\n              key: folder.id,\n              value: folder.id\n            }, _toDisplayString(folder.attributes.name), 9, _hoisted_6))\n          }), 128))\n        ], 8, _hoisted_5))\n      : _createCommentVNode(\"\", true)\n  ], 544)), [\n    [_vModelSelect, _ctx.currentValue]\n  ])\n}","\nimport { defineComponent } from 'vue';\nimport { Context } from '@/models/CoursewareBlockIframeMessages';\nimport { coursewareBlockStore } from '@/store';\nimport { mapActions, mapGetters } from 'vuex';\n\ninterface Folder {\n  id: string;\n  attributes: {\n    'folder-type': string;\n    'data-content': {\n      download_allowed: number;\n    };\n    name: string;\n  };\n  relationships?: {\n    parent?: {\n      data: {\n        id: string;\n      };\n    };\n  };\n}\n\nfunction filterCourseFolders(\n  folders: Folder[],\n  { allowHomeworkFolders }: { allowHomeworkFolders: boolean }\n) {\n  const validatedParents = new Map();\n\n  return folders.filter((folder: Folder) => {\n    if (validateParentFolder(folder)) {\n      switch (folder.attributes['folder-type']) {\n        case 'HiddenFolder':\n          if (folder.attributes['data-content']['download_allowed'] === 1) {\n            return true;\n          }\n          break;\n        case 'HomeworkFolder':\n          if (allowHomeworkFolders) {\n            return true;\n          }\n          break;\n        default:\n          return true;\n      }\n    }\n  });\n\n  function validateParentFolder(folder: Folder): boolean {\n    let isValid = true;\n    if (folder?.relationships?.parent) {\n      let parentId = folder.relationships.parent.data.id;\n      if (validatedParents.has(parentId)) {\n        isValid = validatedParents.get(parentId);\n      } else {\n        let parent = folders.find((f) => f.id === parentId);\n        if (parent) {\n          isValid = hiddenParentFolderValidation(parent);\n          validatedParents.set(parentId, isValid);\n        }\n      }\n    }\n    return isValid;\n  }\n\n  function hiddenParentFolderValidation(parentFolder: Folder): boolean {\n    if (parentFolder.attributes['folder-type'] === 'HiddenFolder') {\n      return false;\n    } else if (parentFolder?.relationships?.parent) {\n      // Recursively validating the parents.\n      return validateParentFolder(parentFolder);\n    } else {\n      return true;\n    }\n  }\n}\n\nexport default defineComponent({\n  name: 'FolderPicker',\n  props: {\n    value: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    allowUserFolders: { type: Boolean, default: false },\n    allowHomeworkFolders: { type: Boolean, default: false },\n    unchoose: { type: Boolean, default: false },\n  },\n  data() {\n    return {\n      currentValue: '',\n      textOptGroupCourse: this.$gettext('Dateibereich dieser Veranstaltung'),\n      textOptGroupUser: this.$gettext('Persnlicher Dateibereich'),\n    };\n  },\n  computed: {\n    ...mapGetters({\n      relatedFolders: 'folders/related',\n    }),\n    context(): Context {\n      // Replaces the vuex getter 'context'\n      return coursewareBlockStore.studipContext;\n    },\n    userId(): string {\n      // Replaces the vuex getter 'userId'\n      return window.STUDIP.USER_ID;\n    },\n    courseObject() {\n      return { type: 'courses', id: `${this.context.id}` };\n    },\n    userObject() {\n      return { type: 'users', id: `${this.userId}` };\n    },\n    loadedCourseFolders() {\n      return filterCourseFolders(\n        this.relatedFolders({\n          parent: this.courseObject,\n          relationship: 'folders',\n        }) ?? [],\n        {\n          allowHomeworkFolders: this.allowHomeworkFolders,\n        }\n      );\n    },\n    loadedUserFolders() {\n      let loadedUserFolders: Folder[] = [];\n      let UserFolders: Folder[] =\n        this.relatedFolders({\n          parent: this.userObject,\n          relationship: 'folders',\n        }) ?? [];\n      UserFolders.forEach((folder: Folder) => {\n        if (folder.attributes['folder-type'] === 'PublicFolder') {\n          loadedUserFolders.push(folder);\n        }\n      });\n\n      return loadedUserFolders;\n    },\n  },\n  methods: {\n    ...mapActions({\n      _loadRelatedFolders: 'folders/loadRelated',\n    }),\n    // Typed shim for vuex action 'folders/loadRelated'\n    loadRelatedFolders(params: {\n      parent: {\n        type: string;\n        id: string;\n      };\n      relationship: string;\n      options: {\n        'page[limit]': number;\n      };\n    }): Promise<unknown> {\n      return this._loadRelatedFolders(params);\n    },\n\n    changeSelection() {\n      this.$emit('input', this.currentValue);\n    },\n\n    getCourseFolders() {\n      const parent = this.courseObject;\n      const relationship = 'folders';\n      const options = { 'page[limit]': 10000 };\n\n      return this.loadRelatedFolders({ parent, relationship, options });\n    },\n\n    getUserFolders() {\n      const parent = this.userObject;\n      const relationship = 'folders';\n      const options = { 'page[limit]': 10000 };\n\n      return this.loadRelatedFolders({ parent, relationship, options });\n    },\n\n    confirmSelectedFolder() {\n      const folders: Folder[] = this.loadedUserFolders.concat(\n        this.loadedCourseFolders\n      );\n\n      let folder = folders.find((folder) => folder.id === this.currentValue);\n\n      if (this.currentValue !== '' && folder === undefined) {\n        this.currentValue = '';\n        this.changeSelection();\n      }\n    },\n  },\n  async mounted() {\n    this.currentValue = this.value;\n    if (this.context.type !== 'users') {\n      await this.getCourseFolders();\n    }\n    await this.getUserFolders();\n    this.confirmSelectedFolder();\n  },\n  watch: {\n    value() {\n      this.currentValue = this.value;\n    },\n  },\n});\n","import { render } from \"./FolderPicker.vue?vue&type=template&id=32532642&ts=true\"\nimport script from \"./FolderPicker.vue?vue&type=script&lang=ts\"\nexport * from \"./FolderPicker.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport FolderPicker from '@/components/courseware-components-ported-to-vue3/FolderPicker.vue';\nimport { mapActions, mapGetters } from 'vuex';\nimport { defineComponent } from 'vue';\nimport { $gettext } from '../../language/gettext';\n\nexport default defineComponent({\n  name: 'FilePicker',\n  components: { FolderPicker },\n  props: {\n    value: String,\n    mimeType: { type: String, default: '' },\n    isImage: { type: Boolean, default: false },\n    isVideo: { type: Boolean, default: false },\n    isAudio: { type: Boolean, default: false },\n    isDocument: { type: Boolean, default: false },\n    canBeEmpty: { type: Boolean, default: false },\n  },\n  data() {\n    return {\n      currentValue: '',\n      selectedFolderId: '',\n      files: [] as any[],\n    };\n  },\n  computed: {\n    ...mapGetters({\n      fileRefById: 'file-refs/byId',\n      relatedFileRefs: 'file-refs/related',\n      relatedTermOfUse: 'terms-of-use/related',\n    }),\n    userId(): string {\n      return window.STUDIP.USER_ID;\n    },\n  },\n  methods: {\n    $gettext,\n    ...mapActions({\n      loadFileRef: 'file-refs/loadById',\n      loadRelatedFileRefs: 'file-refs/loadRelated',\n    }),\n    selectFile() {\n      this.$emit(\n        'selectFile',\n        this.files.find((file) => file.id === this.currentValue)\n      );\n    },\n    filterFiles(loadArray: any[]) {\n      const filterFile = (file: any) => {\n        let fileTermsOfUse = this.relatedTermOfUse({\n          parent: file,\n          relationship: 'terms-of-use',\n        });\n\n        if (\n          fileTermsOfUse !== null &&\n          fileTermsOfUse.attributes['download-condition'] !== 0\n        ) {\n          return false;\n        }\n        if (\n          this.mimeType !== '' &&\n          this.mimeType !== file.attributes['mime-type']\n        ) {\n          return false;\n        }\n        if (this.isImage && !file.attributes['mime-type'].includes('image')) {\n          return false;\n        }\n        const videoConditions = ['video/mp4', 'video/ogg', 'video/webm'];\n        if (\n          this.isVideo &&\n          !videoConditions.some((condition) =>\n            file.attributes['mime-type'].includes(condition)\n          )\n        ) {\n          return false;\n        }\n        const audioConditions = [\n          'audio/wav',\n          'audio/ogg',\n          'audio/webm',\n          'audio/flac',\n          'audio/mpeg',\n          'audio/x-m4a',\n          'audio/mp4',\n        ];\n        if (\n          this.isAudio &&\n          !audioConditions.some((condition) =>\n            file.attributes['mime-type'].includes(condition)\n          )\n        ) {\n          return false;\n        }\n        const officeConditions = ['application/pdf']; //TODO enable more mime types\n        if (\n          this.isDocument &&\n          !officeConditions.some((condition) =>\n            file.attributes['mime-type'].includes(condition)\n          )\n        ) {\n          return false;\n        }\n\n        return true;\n      };\n\n      return loadArray.filter(filterFile).map((file) => ({\n        id: file.id,\n        name: file.attributes.name,\n        mime_type: file.attributes['mime-type'],\n        download_url: window.STUDIP.URLHelper.getURL(\n          'sendfile.php',\n          { type: 0, file_id: file.id, file_name: file.attributes.name },\n          true\n        ),\n      }));\n    },\n    async getFolderFiles() {\n      const parent = { type: 'folders', id: `${this.selectedFolderId}` };\n      const relationship = 'file-refs';\n      const options = { include: 'terms-of-use', 'page[limit]': 10000 };\n      await this.loadRelatedFileRefs({ parent, relationship, options });\n\n      const fileRefs = this.relatedFileRefs({ parent, relationship });\n      this.files = this.filterFiles(fileRefs);\n    },\n  },\n  async mounted() {\n    console.log('mounted');\n    if (this.value !== '') {\n      await this.loadFileRef({ id: this.value });\n      const fileRef = this.fileRefById({ id: this.value });\n\n      if (fileRef) {\n        this.selectedFolderId = fileRef.relationships.parent.data.id;\n        this.currentValue = this.value ?? '';\n      }\n    }\n  },\n  watch: {\n    selectedFolderId() {\n      if (this.selectedFolderId !== '') {\n        this.getFolderFiles();\n      }\n    },\n    value(newValue, oldValue) {\n      if (newValue === '') {\n        this.selectedFolderId = '';\n        this.currentValue = '';\n      }\n    },\n  },\n});\n","import { render } from \"./FilePicker.vue?vue&type=template&id=d7417ea6&ts=true\"\nimport script from \"./FilePicker.vue?vue&type=script&lang=ts\"\nexport * from \"./FilePicker.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport VideoPlayer from '@/components/interactiveVideo/VideoPlayer.vue';\nimport { $gettext } from '@/language/gettext';\nimport { InteractiveVideoTask } from '@/models/InteractiveVideoTask';\nimport FileUpload from '@/components/FileUpload.vue';\nimport { UploadedFile } from '@/routes';\nimport VideoTimeInput from '@/components/interactiveVideo/VideoTimeInput.vue';\nimport FilePicker from '@/components/courseware-components-ported-to-vue3/FilePicker.vue';\n\nfunction formatSecondsToHhMmSs(time: number): string {\n  let hours = 0,\n    minutes = 0,\n    seconds = 0;\n  while (time > 3600) {\n    time -= 3600;\n    hours += 1;\n  }\n  while (time > 60) {\n    time -= 60;\n    minutes += 1;\n  }\n  seconds = time;\n  function twoDigits(n: number): string {\n    return n.toLocaleString('de-DE', {\n      minimumIntegerDigits: 2,\n      maximumFractionDigits: 0,\n    });\n  }\n  return `${twoDigits(hours)}:${twoDigits(minutes)}:${twoDigits(seconds)}`;\n}\n\ninterface JsonApiFile {\n  id: string;\n  name: string;\n  mime_type: string;\n  download_url: string;\n}\n\nexport default defineComponent({\n  name: 'SelectVideo',\n  props: {\n    taskDefinition: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      youtubeUrlInput: '',\n      startPositionInputError: undefined as Error | undefined,\n      currentTime: 0,\n      selectedFolderId: '',\n      selectedFile: undefined as JsonApiFile | undefined,\n      selectedFileId: '',\n    };\n  },\n  watch: {\n    'taskDefinition.video': {\n      immediate: true,\n      handler: function (value) {\n        if (value.type === 'youtube') {\n          this.youtubeUrlInput = value.url;\n        } else {\n          this.youtubeUrlInput = '';\n        }\n      },\n    },\n  },\n  methods: {\n    $gettext,\n    onTimeUpdate(time: number) {\n      this.currentTime = time;\n    },\n    onClickUseCurrentTime() {\n      this.taskDefinition.startAt = this.currentTime;\n    },\n    updateCurrentFile(file: JsonApiFile) {\n      this.selectedFile = file;\n      this.selectedFileId = file.id;\n    },\n    onSaveYoutubeVideo() {\n      this.taskDefinition.video = {\n        type: 'youtube',\n        url: this.youtubeUrlInput,\n      };\n    },\n    onSaveUploadedFile() {\n      if (!this.selectedFile) {\n        return;\n      }\n      this.taskDefinition.video = {\n        type: 'studipFileReference',\n        file: {\n          name: this.selectedFile.name,\n          type: this.selectedFile.mime_type,\n          url: this.selectedFile.download_url,\n        },\n      };\n    },\n    deleteVideo() {\n      this.taskDefinition.video = {\n        type: 'none',\n      };\n    },\n    onUploadStudipVideo(file: UploadedFile) {\n      this.taskDefinition.video = {\n        type: 'studipFileReference',\n        file,\n      };\n    },\n  },\n  components: {\n    VideoTimeInput,\n    FileUpload,\n    VideoPlayer,\n    FilePicker,\n  },\n});\n","import { render } from \"./SelectVideo.vue?vue&type=template&id=4f0fe178&scoped=true&ts=true\"\nimport script from \"./SelectVideo.vue?vue&type=script&lang=ts\"\nexport * from \"./SelectVideo.vue?vue&type=script&lang=ts\"\n\nimport \"./SelectVideo.vue?vue&type=style&index=0&id=4f0fe178&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4f0fe178\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { InteractiveVideoTask } from '@/models/InteractiveVideoTask';\nimport { $gettext } from '@/language/gettext';\nimport TabsComponent from '@/components/courseware-components-ported-to-vue3/TabsComponent.vue';\nimport TabComponent from '@/components/courseware-components-ported-to-vue3/TabComponent.vue';\nimport AddInteractions from '@/components/interactiveVideo/AddInteractions.vue';\nimport SelectVideo from '@/components/interactiveVideo/SelectVideo.vue';\n\nexport default defineComponent({\n  name: 'InteractiveVideoEditor',\n  data() {\n    return {};\n  },\n  methods: {\n    $gettext,\n  },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  computed: {},\n  components: {\n    SelectVideo,\n    AddInteractions,\n    TabComponent,\n    TabsComponent,\n  },\n});\n","import { render } from \"./InteractiveVideoEditor.vue?vue&type=template&id=4ad9d729&ts=true\"\nimport script from \"./InteractiveVideoEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./InteractiveVideoEditor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_VideoPlayer = _resolveComponent(\"VideoPlayer\")!\n\n  return (_openBlock(), _createBlock(_component_VideoPlayer, { task: _ctx.task }, null, 8, [\"task\"]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { InteractiveVideoTask } from '@/models/InteractiveVideoTask';\nimport VideoPlayer from '@/components/interactiveVideo/VideoPlayer.vue';\n\nexport default defineComponent({\n  name: 'InteractiveVideoViewer',\n  components: { VideoPlayer },\n  props: {\n    task: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      counter: 0,\n    };\n  },\n});\n","import { render } from \"./InteractiveVideoViewer.vue?vue&type=template&id=80198370&ts=true\"\nimport script from \"./InteractiveVideoViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./InteractiveVideoViewer.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import FillInTheBlanksViewer from '@/components/FillInTheBlanksViewer.vue';\nimport FillInTheBlanksEditor from '@/components/FillInTheBlanksEditor.vue';\nimport QuestionEditor from '@/components/QuestionEditor.vue';\nimport QuestionViewer from '@/components/QuestionViewer.vue';\nimport DragTheWordsViewer from '@/components/DragTheWordsViewer.vue';\nimport DragTheWordsEditor from '@/components/DragTheWordsEditor.vue';\nimport MarkTheWordsViewer from '@/components/MarkTheWordsViewer.vue';\nimport MarkTheWordsEditor from '@/components/MarkTheWordsEditor.vue';\nimport MemoryEditor from '@/components/MemoryEditor.vue';\nimport MemoryViewer from '@/components/MemoryViewer.vue';\nimport ImagePairingViewer from '@/components/ImagePairingViewer.vue';\nimport ImagePairingEditor from '@/components/ImagePairingEditor.vue';\nimport ImageSequencingViewer from '@/components/ImageSequencingViewer.vue';\nimport ImageSequencingEditor from '@/components/ImageSequencingEditor.vue';\nimport { v4 } from 'uuid';\nimport { z } from 'zod';\nimport FindTheHotspotEditor from '@/components/FindTheHotspotEditor.vue';\nimport FindTheHotspotViewer from '@/components/FindTheHotspotViewer.vue';\nimport { interactiveVideoTaskSchema } from '@/models/InteractiveVideoTask';\nimport { $gettext } from '@/language/gettext';\nimport InteractiveVideoEditor from '@/components/interactiveVideo/InteractiveVideoEditor.vue';\nimport InteractiveVideoViewer from '@/components/interactiveVideo/InteractiveVideoViewer.vue';\n\nexport const feedbackSchema = z.object({\n  percentage: z.number(),\n  message: z.string(),\n});\nexport type Feedback = z.infer<typeof feedbackSchema>;\n\nexport const imageSchema = z.object({\n  uuid: z.string(),\n  imageUrl: z.string(),\n  altText: z.string(),\n});\nexport type Image = z.infer<typeof imageSchema>;\n\nexport const dragTheWordsTaskSchema = z.object({\n  task_type: z.literal('DragTheWords'),\n  template: z.string(),\n  retryAllowed: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  instantFeedback: z.boolean(),\n  allBlanksMustBeFilledForSolutions: z.boolean(),\n  alphabeticOrder: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    fillInAllBlanksMessage: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type DragTheWordsTask = z.infer<typeof dragTheWordsTaskSchema>;\n\nexport const findTheHotspotTaskSchema = z.object({\n  task_type: z.literal('FindTheHotspot'),\n  image: imageSchema,\n});\nexport type FindTheHotspotTask = z.infer<typeof findTheHotspotTaskSchema>;\n\nexport const markTheWordsTaskSchema = z.object({\n  task_type: z.literal('MarkTheWords'),\n  template: z.string(),\n  retryAllowed: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema).default(() => defaultFeedback()),\n});\nexport type MarkTheWordsTask = z.infer<typeof markTheWordsTaskSchema>;\n\nexport const memoryCardSchema = z.object({\n  uuid: z.string(),\n  imageUrl: z.string(),\n  altText: z.string(),\n});\nexport type MemoryCard = z.infer<typeof memoryCardSchema>;\n\nexport const memoryTaskSchema = z.object({\n  task_type: z.literal('Memory'),\n  cards: z.array(memoryCardSchema),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n});\nexport type MemoryTask = z.infer<typeof memoryTaskSchema>;\n\nexport const fillInTheBlanksTaskSchema = z.object({\n  task_type: z.literal('FillInTheBlanks'),\n  template: z.string(),\n  retryAllowed: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  caseSensitive: z.boolean(),\n  autoCorrect: z.boolean(),\n  allBlanksMustBeFilledForSolutions: z.boolean(),\n  acceptTypos: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    fillInAllBlanksMessage: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type FillInTheBlanksTask = z.infer<typeof fillInTheBlanksTaskSchema>;\n\nexport const questionAnswerSchema = z.object({\n  text: z.string(),\n  correct: z.boolean(),\n  strings: z.object({\n    hint: z.string(),\n    feedbackSelected: z.string(),\n    feedbackNotSelected: z.string(),\n  }),\n});\nexport type QuestionAnswer = z.infer<typeof questionAnswerSchema>;\n\nexport const questionTaskSchema = z.object({\n  task_type: z.literal('Question'),\n  question: z.string(),\n  answers: z.array(questionAnswerSchema),\n  canAnswerMultiple: z.boolean(),\n  retryAllowed: z.boolean(),\n  randomOrder: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n  }),\n});\nexport type QuestionTask = z.infer<typeof questionTaskSchema>;\n\nexport const imagePairSchema = z.object({\n  uuid: z.string(),\n  draggableImage: imageSchema,\n  targetImage: imageSchema,\n});\nexport type ImagePair = z.infer<typeof imagePairSchema>;\n\nexport const imagePairingTaskSchema = z.object({\n  task_type: z.literal('ImagePairing'),\n  imagePairs: z.array(imagePairSchema),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type ImagePairingTask = z.infer<typeof imagePairingTaskSchema>;\n\nexport const imageSequencingTaskSchema = z.object({\n  task_type: z.literal('ImageSequencing'),\n  images: z.array(imageSchema),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type ImageSequencingTask = z.infer<typeof imageSequencingTaskSchema>;\n\nexport const taskDefinitionSchema = z.union([\n  dragTheWordsTaskSchema,\n  fillInTheBlanksTaskSchema,\n  findTheHotspotTaskSchema,\n  imagePairingTaskSchema,\n  imageSequencingTaskSchema,\n  interactiveVideoTaskSchema,\n  markTheWordsTaskSchema,\n  memoryTaskSchema,\n  questionTaskSchema,\n]);\nexport type TaskDefinition = z.infer<typeof taskDefinitionSchema>;\n\n// Allowed lmb task types to be inserted in the Interactive Video Editor.\n// Excludes the type 'interactive video' to avoid a recursive reference, which\n// is cumbersome to solve in Typescript/Zod.\n// I at first used the workaround described at https://github.com/colinhacks/zod#recursive-types\n// but I later ran into hard-to-resolve typechecking errors when I started to\n// use .optional() inside of schemas. I decided this is the better option for now. -Ann\nexport const taskDefinitionSchemaMinusInteractiveVideo = z.union([\n  dragTheWordsTaskSchema,\n  fillInTheBlanksTaskSchema,\n  findTheHotspotTaskSchema,\n  imagePairingTaskSchema,\n  imageSequencingTaskSchema,\n  markTheWordsTaskSchema,\n  memoryTaskSchema,\n  questionTaskSchema,\n]);\n\n// Here, a bit of boilerplate is required to create a schema for the union of\n// all possible 'task_type' values\nexport const taskTypeSchema = z.union([\n  dragTheWordsTaskSchema.shape.task_type,\n  fillInTheBlanksTaskSchema.shape.task_type,\n  findTheHotspotTaskSchema.shape.task_type,\n  imagePairingTaskSchema.shape.task_type,\n  imageSequencingTaskSchema.shape.task_type,\n  interactiveVideoTaskSchema.shape.task_type,\n  markTheWordsTaskSchema.shape.task_type,\n  memoryTaskSchema.shape.task_type,\n  questionTaskSchema.shape.task_type,\n]);\n\nfunction defaultFeedback(): Feedback[] {\n  return [\n    { percentage: 0, message: 'Versuchen Sie es noch einmal.' },\n    { percentage: 50, message: 'Gut.' },\n    { percentage: 75, message: 'Sehr gut.' },\n    { percentage: 100, message: 'Perfekt!' },\n  ];\n}\n\nexport function newTask(type: TaskDefinition['task_type']): TaskDefinition {\n  switch (type) {\n    case 'DragTheWords':\n      return {\n        task_type: 'DragTheWords',\n        template: 'Drag the *words* to the matching *gaps*.',\n        retryAllowed: true,\n        showSolutionsAllowed: true,\n        instantFeedback: false,\n        allBlanksMustBeFilledForSolutions: false,\n        alphabeticOrder: false,\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          fillInAllBlanksMessage:\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen.',\n          resultMessage: ':correct von :total Lcken richtig ausgefllt.',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'FillInTheBlanks':\n      return {\n        task_type: 'FillInTheBlanks',\n        template: 'Hier entsteht der *Lcken*text.',\n        retryAllowed: true,\n        showSolutionsAllowed: true,\n        caseSensitive: false,\n        autoCorrect: false,\n        allBlanksMustBeFilledForSolutions: false,\n        acceptTypos: true,\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          fillInAllBlanksMessage:\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen.',\n          resultMessage: ':correct von :total Lcken richtig ausgefllt.',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'FindTheHotspot':\n      return {\n        task_type: 'FindTheHotspot',\n        image: {\n          uuid: v4(),\n          imageUrl: '',\n          altText: '',\n        },\n      };\n    case 'ImagePairing':\n      return {\n        task_type: 'ImagePairing',\n        imagePairs: [\n          {\n            uuid: v4(),\n            draggableImage: {\n              uuid: v4(),\n              imageUrl: '',\n              altText: '',\n            },\n            targetImage: {\n              uuid: v4(),\n              imageUrl: '',\n              altText: '',\n            },\n          },\n        ],\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          resultMessage: ':correct von :total Bilder richtig zugeordnet.',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'ImageSequencing':\n      return {\n        task_type: 'ImageSequencing',\n        images: [\n          {\n            uuid: v4(),\n            imageUrl: '',\n            altText: '',\n          },\n        ],\n        strings: {\n          checkButton: 'Reihenfolge berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          resultMessage: ':correct von :total Bildern richtig sortiert.',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'InteractiveVideo':\n      return {\n        task_type: 'InteractiveVideo',\n        interactions: [],\n        video: {\n          type: 'none',\n        },\n        autoplay: false,\n        startAt: 0,\n        disableNavigation: 'not disabled',\n      };\n    case 'MarkTheWords':\n      return {\n        task_type: 'MarkTheWords',\n        template:\n          '*The* moon is our natural satellite, *i.e.* it revolves around the *Earth!*',\n        retryAllowed: true,\n        showSolutionsAllowed: true,\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          resultMessage: ':correct von :total Wrter richtig ausgewhlt.',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'Memory':\n      return {\n        task_type: 'Memory',\n        cards: [\n          {\n            uuid: v4(),\n            imageUrl: '',\n            altText: '',\n          },\n        ],\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          resultMessage: ':correct von :total Wrter richtig ausgewhlt.',\n        },\n      };\n    case 'Question':\n      return {\n        task_type: 'Question',\n        question:\n          'Welche dieser Himmelskrper sind Planeten in unserem Sonnensystem?',\n        answers: [\n          {\n            text: 'Mond',\n            correct: false,\n            strings: {\n              hint: '',\n              feedbackSelected: 'Dies ist ein Mond, kein Planet.',\n              feedbackNotSelected: 'Genau, der Mond ist ein Mond.',\n            },\n          },\n          {\n            text: 'Merkur',\n            correct: true,\n            strings: {\n              hint: '',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n          {\n            text: 'Venus',\n            correct: true,\n            strings: {\n              hint: '',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n          {\n            text: 'Mars',\n            correct: true,\n            strings: {\n              hint: '',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n          {\n            text: 'Pluto',\n            correct: false,\n            strings: {\n              hint: 'Hat sich hier was gendert?',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n          {\n            text: 'Titan',\n            correct: false,\n            strings: {\n              hint: '',\n              feedbackSelected:\n                'Das ist leider nicht richtig. Der Titan ist ein Mond vom Saturn.',\n              feedbackNotSelected: 'Genau, der Titan ist ein Mond vom Saturn.',\n            },\n          },\n          {\n            text: 'Sonne',\n            correct: false,\n            strings: {\n              hint: '',\n              feedbackSelected:\n                'Das ist leider nicht richtig. Die Sonne ist ein Stern.',\n              feedbackNotSelected: 'Genau, die Sonne ist ein Stern.',\n            },\n          },\n        ],\n        canAnswerMultiple: true,\n        retryAllowed: true,\n        randomOrder: true,\n        showSolutionsAllowed: true,\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n        },\n      };\n    default:\n      throw new Error('Unimplemented type: ' + type);\n  }\n}\n\nexport function viewerForTaskType(type: TaskDefinition['task_type']) {\n  switch (type) {\n    case 'DragTheWords':\n      return DragTheWordsViewer;\n    case 'FillInTheBlanks':\n      return FillInTheBlanksViewer;\n    case 'FindTheHotspot':\n      return FindTheHotspotViewer;\n    case 'ImagePairing':\n      return ImagePairingViewer;\n    case 'ImageSequencing':\n      return ImageSequencingViewer;\n    case 'InteractiveVideo':\n      return InteractiveVideoViewer;\n    case 'MarkTheWords':\n      return MarkTheWordsViewer;\n    case 'Memory':\n      return MemoryViewer;\n    case 'Question':\n      return QuestionViewer;\n    default:\n      throw new Error('Unimplemented task type: ' + type);\n  }\n}\n\nexport function editorForTaskType(type: TaskDefinition['task_type']) {\n  switch (type) {\n    case 'DragTheWords':\n      return DragTheWordsEditor;\n    case 'FillInTheBlanks':\n      return FillInTheBlanksEditor;\n    case 'FindTheHotspot':\n      return FindTheHotspotEditor;\n    case 'ImagePairing':\n      return ImagePairingEditor;\n    case 'ImageSequencing':\n      return ImageSequencingEditor;\n    case 'InteractiveVideo':\n      return InteractiveVideoEditor;\n    case 'MarkTheWords':\n      return MarkTheWordsEditor;\n    case 'Memory':\n      return MemoryEditor;\n    case 'Question':\n      return QuestionEditor;\n    default:\n      throw new Error('Unimplemented task type: ' + type);\n  }\n}\n\nexport function printTaskType(type: TaskDefinition['task_type']): string {\n  switch (type) {\n    case 'DragTheWords':\n      return $gettext('Drag The Words');\n    case 'FillInTheBlanks':\n      return $gettext('Fill In The Blanks');\n    case 'FindTheHotspot':\n      return $gettext('Find The Hotspot');\n    case 'ImagePairing':\n      return $gettext('Image Pairing');\n    case 'ImageSequencing':\n      return $gettext('Image Sequencing');\n    case 'InteractiveVideo':\n      return $gettext('Interactive Video');\n    case 'MarkTheWords':\n      return $gettext('Mark The Words');\n    case 'Memory':\n      return $gettext('Memory');\n    case 'Question':\n      return $gettext('Question');\n  }\n}\n\n/**\n * @return true if the viewer for the given task type should be visible\n * while the editor for that task type is open.\n */\nexport function showViewerAboveEditor(\n  type: TaskDefinition['task_type']\n): boolean {\n  return type !== 'InteractiveVideo';\n}\n\nexport function iconForTaskType(type: TaskDefinition['task_type']): string {\n  switch (type) {\n    case 'Memory':\n      break;\n    case 'FillInTheBlanks':\n      return 'file-office';\n    case 'Question':\n      return 'question';\n    case 'DragTheWords':\n      return 'tan3';\n    case 'MarkTheWords':\n      return 'tan3';\n    case 'ImagePairing':\n      break;\n    case 'ImageSequencing':\n      break;\n    case 'InteractiveVideo':\n      break;\n  }\n  return 'question';\n}\n","import { TaskDefinition } from '@/models/TaskDefinition';\nimport { z } from 'zod';\n\n/**\n * Save a Vue.js Lernmodul that is being edited in the \"Lernmodule\" tab of a\n * course.\n * @param taskDefinition The definition of the task\n * @param moduleName The name of the Lernmodul\n * @param infoText The HTML description of the Lernmodul\n * @param module_id The id from lernmodule_module\n * @param block_id The id from lernmodule_blocks where the module is to be\n *                 inserted.  (This only applies for newly created modules.)\n */\nexport async function saveTask(\n  taskDefinition: TaskDefinition,\n  moduleName: string,\n  infoText: string,\n  module_id: string,\n  block_id?: string\n): Promise<SaveTaskResponse> {\n  const url = window.STUDIP.LernmoduleVueJS.saveRoute;\n  const token = window.STUDIP.CSRF_TOKEN;\n  const formData = new FormData();\n  // TODO Maybe we should parse taskDefinition here to ensure it has no extra\n  //   fields we didn't intend to save.\n  formData.append('task_definition', JSON.stringify(taskDefinition));\n  formData.append('module_id', module_id);\n  formData.append('name', moduleName);\n  formData.append('infotext', infoText);\n  if (block_id) {\n    formData.append('block_id', block_id);\n  }\n  formData.append(token.name, token.value);\n  return fetch(url, {\n    method: 'POST',\n    body: formData,\n  }).then((response) => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    // TODO Maybe we should parse the server's response to ensure it really is\n    //  an instance of SaveTaskResponse.\n    return response.json() as Promise<SaveTaskResponse>;\n  });\n}\n\nexport interface SaveTaskResponse {\n  status: 'success';\n  taskDefinition: TaskDefinition;\n  moduleName: string;\n  infotext: string;\n}\n\n/**\n * Send a request to Stud.IP to update the number of points earned by the student\n * for the Lernmodul that is currently viewed.\n * @param points -- a map describing how many points the student should be reported\n * as having for each part of the Lernmodul.\n * Key: The ID or name of the part.  Value: The number of points.\n * @param success - If true, the attempt will be marked as 'successful'.\n */\nexport async function updateAttempt(\n  points: Record<string, number>,\n  success: boolean\n): Promise<void> {\n  // The ID of the Lernmodul is encoded in this URL provided to us by the server.\n  const url = window.STUDIP.LernmoduleVueJS.updateAttemptRoute;\n  const formData = new FormData();\n  const token = window.STUDIP.CSRF_TOKEN;\n  formData.append(token.name, token.value);\n  // Convert object into a nested array which PHP will understand\n  Object.entries(points).forEach(([name, score]) => {\n    formData.append(`message[points][${name}]`, score.toString());\n  });\n  if (success) {\n    formData.append('message[success]', 'true');\n  }\n  return fetch(url, {\n    method: 'POST',\n    body: formData,\n  }).then((response) => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n  });\n}\n\nexport const uploadedFileSchema = z.object({\n  name: z.string(),\n  type: z.string(),\n  url: z.string(),\n});\nexport type UploadedFile = z.infer<typeof uploadedFileSchema>;\n\nconst uploadFileResponseSchema = z.object({\n  files: z.array(uploadedFileSchema),\n});\nexport type UploadFileResponse = z.infer<typeof uploadFileResponseSchema>;\n\n/**\n * Upload the given file to the user's Wysiwyg Uploads folder in Stud.IP.\n * @param image A File object\n */\nexport async function uploadFile(image: File): Promise<UploadFileResponse> {\n  const uploadUrl = window.STUDIP.URLHelper.getURL(\n    'dispatch.php/wysiwyg/upload'\n  );\n  const formData = new FormData();\n  const token = window.STUDIP.CSRF_TOKEN;\n  formData.append(token.name, token.value);\n  formData.append('files[]', image);\n  return fetch(uploadUrl, {\n    method: 'POST',\n    body: formData,\n  }).then(async (response) => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const json = await response.json();\n    try {\n      return uploadFileResponseSchema.parse(json);\n    } catch (error) {\n      throw new Error('Could not parse server response', { cause: error });\n    }\n  });\n}\n","import { Action, Module, Mutation, VuexModule } from 'vuex-module-decorators';\nimport {\n  newTask,\n  TaskDefinition,\n  taskDefinitionSchema,\n} from '@/models/TaskDefinition';\nimport { isArray, isEqual } from 'lodash';\nimport { saveTask, SaveTaskResponse } from '@/routes';\nimport { setAutoFreeze } from 'immer';\n\n// Prevent immer from freezing objects.  This behavior causes trouble when we\n// attempt to use v-model with an object produced by immer, because v-model\n// works by mutating objects.\nsetAutoFreeze(false);\n\ntype Saved = {\n  status: 'saved';\n};\ntype Saving = {\n  status: 'saving';\n};\ntype SaveError = {\n  status: 'error';\n  error: unknown;\n};\ntype SaveStatus = Saved | Saving | SaveError;\n\ninterface UndoRedoState {\n  taskDefinition: TaskDefinition;\n  undoBatch: unknown;\n}\n\nfunction sleep(ms: number) {\n  return new Promise((r) => setTimeout(r, ms));\n}\n\n@Module({ name: 'taskEditor' })\nexport class TaskEditorModule extends VuexModule {\n  saveStatus: SaveStatus = { status: 'saved' };\n  fatalErrors: string[] = [];\n  nonFatalErrors: string[] = [];\n  serverTaskDefinition: TaskDefinition | [] = [];\n  serverModuleName: string = '';\n  serverInfotext: string = '';\n  moduleName: string = '';\n  infotext: string = '';\n  undoRedoStack: UndoRedoState[] = [\n    {\n      taskDefinition: newTask('FillInTheBlanks'),\n      undoBatch: {},\n    },\n  ];\n  undoRedoIndex = 0;\n\n  get taskDefinition(): TaskDefinition {\n    return this.undoRedoStack[this.undoRedoIndex].taskDefinition;\n  }\n\n  get hasUnsavedChanges(): boolean {\n    return (\n      !isEqual(this.taskDefinition, this.serverTaskDefinition) ||\n      this.serverModuleName !== this.moduleName ||\n      this.serverInfotext !== this.infotext\n    );\n  }\n\n  get canUndo() {\n    return this.undoRedoIndex > 0;\n  }\n\n  get canRedo() {\n    return this.undoRedoIndex < this.undoRedoStack.length - 1;\n  }\n\n  @Mutation\n  undo() {\n    if (this.undoRedoIndex > 0) {\n      const currentState = this.undoRedoStack[this.undoRedoIndex];\n      this.undoRedoIndex--;\n\n      // Focus the input field whose contents will change as a result of this undo.\n      // That's how undo/redo behaves in native apps like Microsoft Word.\n      // When you press undo, it scrolls to the point in the document where\n      // the undo took place.  This lets you observe the result of your action.\n      const inputElements = document.querySelectorAll(\n        `[data-undo-focus-id=\"${currentState.undoBatch}\"]`\n      );\n      if (inputElements.length > 0) {\n        const inputEl = inputElements.item(0) as HTMLElement;\n        // If the input is inside of a collapsed <fieldset>, then the <fieldset>\n        // should be un-collapsed so that the user can see the input field.\n        const collapsedParents = [\n          ...document.querySelectorAll('fieldset.collapsable.collapsed'),\n        ].filter((element) => element.contains(inputEl));\n        collapsedParents.forEach((parent) =>\n          parent.classList.remove('collapsed')\n        );\n        inputEl.focus();\n      }\n    }\n  }\n\n  @Mutation\n  redo() {\n    if (this.undoRedoIndex < this.undoRedoStack.length - 1) {\n      this.undoRedoIndex++;\n      const nextState = this.undoRedoStack[this.undoRedoIndex];\n\n      // Manage focus -- see comments in undo()\n      const inputElements = document.querySelectorAll(\n        `[data-undo-focus-id=\"${nextState.undoBatch}\"]`\n      );\n      if (inputElements.length > 0) {\n        const inputEl = inputElements.item(0) as HTMLElement;\n        const collapsedParents = [\n          ...document.querySelectorAll('fieldset.collapsable.collapsed'),\n        ].filter((element) => element.contains(inputEl));\n        collapsedParents.forEach((parent) =>\n          parent.classList.remove('collapsed')\n        );\n        inputEl.focus();\n      }\n    }\n  }\n\n  // Initialize the editor store to a state usable for courseware\n  @Mutation\n  initializeCourseware(task_json: TaskDefinition) {\n    console.info('initializeCourseware()', task_json);\n    this.serverTaskDefinition = task_json;\n    this.undoRedoStack = [\n      { taskDefinition: this.serverTaskDefinition, undoBatch: {} },\n    ];\n  }\n\n  // Initialize the editor store to a state usable for the non-courseware version\n  // of Lernmodule (AKA the 'Lernmodule' tab in a course).\n  @Mutation\n  initializeNonCourseware() {\n    // In Linux on Anns PC this is an empty array but on Windows on Thomas PC it's just NULL.\n    // We don't know why this is, but for now, we will just accept it and handle both cases.\n    if (\n      window.STUDIP.LernmoduleVueJS.module.customdata &&\n      !isArray(window.STUDIP.LernmoduleVueJS.module.customdata)\n    ) {\n      this.serverTaskDefinition = taskDefinitionSchema.parse(\n        window.STUDIP.LernmoduleVueJS.module.customdata\n      );\n      this.undoRedoStack = [\n        { taskDefinition: this.serverTaskDefinition, undoBatch: {} },\n      ];\n    }\n    this.serverModuleName = window.STUDIP.LernmoduleVueJS.module.name;\n    this.serverInfotext = window.STUDIP.LernmoduleVueJS.infotext;\n    this.moduleName = window.STUDIP.LernmoduleVueJS.module.name;\n    this.infotext = window.STUDIP.LernmoduleVueJS.infotext;\n  }\n\n  @Mutation\n  startedSaving() {\n    this.saveStatus = { status: 'saving' };\n  }\n\n  @Mutation\n  saveSuccess(payload: SaveTaskResponse) {\n    this.saveStatus = { status: 'saved' };\n    this.serverTaskDefinition = payload.taskDefinition;\n    this.serverModuleName = payload.moduleName;\n    this.serverInfotext = payload.infotext;\n  }\n\n  @Mutation\n  saveFailure(error: unknown) {\n    this.saveStatus = { status: 'error', error };\n    this.nonFatalErrors.push(\n      'The task could not be saved.  Check the console for more details. '\n    );\n    console.log(error);\n  }\n\n  @Action\n  async saveTask() {\n    if (this.saveStatus.status === 'saving') {\n      return;\n    }\n    this.context.commit('startedSaving');\n    try {\n      const saveResult = await saveTask(\n        this.taskDefinition,\n        this.moduleName,\n        this.infotext,\n        window.STUDIP.LernmoduleVueJS.module.module_id,\n        window.STUDIP.LernmoduleVueJS.block_id\n      );\n      await sleep(500);\n      this.context.commit('saveSuccess', saveResult);\n    } catch (error) {\n      this.context.commit('saveFailure', { error });\n    }\n  }\n\n  /**\n   * Modify the currently edited task definition, creating a new undo/redo state\n   * if appropriate.  Edits are batched together based on the parameter 'undoBatch'.\n   * @param payload.taskDefinition The new state of the task being edited\n   * @param payload.undoBatch Any value.\n   * If undoBatch is an empty object, a new undo/redo state will always be created.\n   * Otherwise, a new undo/redo state will be created if undoBatch is different\n   * from the undoBatch of the previously performed action.\n   */\n  @Mutation\n  performEdit(payload: {\n    newTaskDefinition: TaskDefinition;\n    undoBatch: unknown;\n  }) {\n    const currentUndoRedoState = this.undoRedoStack[this.undoRedoIndex];\n    if (\n      isEqual(currentUndoRedoState.taskDefinition, payload.newTaskDefinition)\n    ) {\n      return; // Do not pollute the undo-redo history with no-op changes\n    }\n    const shouldMergeEdits =\n      !isEqual(payload.undoBatch, {}) &&\n      isEqual(payload.undoBatch, currentUndoRedoState.undoBatch);\n    if (shouldMergeEdits) {\n      // Amend the last undo state instead of creating a new one.\n      currentUndoRedoState.taskDefinition = payload.newTaskDefinition;\n      this.undoRedoStack = this.undoRedoStack.slice(0, this.undoRedoIndex + 1);\n    } else {\n      // Create a new undo state and append it to the stack.\n      this.undoRedoStack = this.undoRedoStack\n        .slice(0, this.undoRedoIndex + 1)\n        .concat([\n          {\n            taskDefinition: payload.newTaskDefinition,\n            undoBatch: payload.undoBatch,\n          },\n        ]);\n      this.undoRedoIndex += 1;\n    }\n  }\n\n  @Mutation\n  setModuleName(name: string) {\n    this.moduleName = name;\n  }\n\n  @Mutation\n  setInfoText(value: string) {\n    this.infotext = value;\n  }\n}\n","import { Action, Module, Mutation, VuexModule } from 'vuex-module-decorators';\nimport { taskEditorStore } from '@/store';\nimport { Context } from '@/models/CoursewareBlockIframeMessages';\n\n@Module({ name: 'coursewareBlock' })\nexport class CoursewareBlockModule extends VuexModule {\n  showEditorUI: boolean = false;\n  studipContext: Context = {\n    id: '',\n    type: '',\n  };\n\n  // Toggle whether to show the editing UI in the courseware block.\n  // This should be triggered via messages posted to the iframe.\n  // See courseware-main.ts and LernmoduleCoursewareBlockBase.vue.\n  @Mutation\n  setShowEditorUI(state: boolean) {\n    this.showEditorUI = state;\n  }\n\n  @Mutation\n  saveBlock() {\n    console.log('coursewareBlockStore: saveBlock() mutation called');\n    // Tell the Vue 2 component we are wrapped in to save the block.\n    // See the method 'onWindowMessage' of LernmoduleCoursewareBlockBase.vue\n    // The taskDefinition must be serialized in order for it to be passed\n    // between windows.\n    const taskDefinition = JSON.parse(\n      JSON.stringify(taskEditorStore.taskDefinition)\n    );\n    window.parent.postMessage({\n      type: 'SaveCoursewareBlock',\n      taskDefinition,\n    });\n  }\n\n  @Mutation\n  cancelEditing() {\n    console.log('coursewareBlockStore: cancelEditing() mutation called');\n    // Tell the Vue 2 component we are wrapped in to stop editing the block\n    // without saving the user's changes.\n    // See the method 'onWindowMessage' of LernmoduleCoursewareBlockBase.vue\n    window.parent.postMessage({\n      type: 'CancelEditingCoursewareBlock',\n    });\n  }\n\n  @Mutation\n  setContext(context: Context) {\n    this.studipContext = context;\n  }\n}\n","import { createStore } from 'vuex';\nimport { getModule } from 'vuex-module-decorators';\nimport { TaskEditorModule } from '@/store/modules/taskEditor';\nimport { CoursewareBlockModule } from '@/store/modules/coursewareBlock';\nimport axios from 'axios';\nconst reststateVuex = require('@elan-ev/reststate-vuex');\nconst mapResourceModules = reststateVuex.mapResourceModules;\n\nconst httpClient = axios.create({\n  baseURL: window.STUDIP.URLHelper.getURL(`jsonapi.php/v1`, {}, true),\n  headers: {\n    'Content-Type': 'application/vnd.api+json',\n  },\n});\n\nexport const store = createStore({\n  modules: {\n    taskEditor: TaskEditorModule,\n    coursewareBlock: CoursewareBlockModule,\n    // Dynamically generated store modules used to access Stud.IP's JSON API\n    ...mapResourceModules({\n      names: [\n        'courses',\n        'course-memberships',\n        'courseware-blocks',\n        'courseware-block-comments',\n        'courseware-block-feedback',\n        'courseware-clipboards',\n        'courseware-containers',\n        'courseware-instances',\n        'courseware-public-links',\n        'courseware-structural-elements',\n        'courseware-structural-element-comments',\n        'courseware-structural-element-feedback',\n        'courseware-task-feedback',\n        'courseware-task-groups',\n        'courseware-tasks',\n        'courseware-templates',\n        'courseware-user-data-fields',\n        'courseware-user-progresses',\n        'courseware-units',\n        'files',\n        'file-refs',\n        'folders',\n        'lti-tools',\n        'status-groups',\n        'users',\n        'institutes',\n        'institute-memberships',\n        'semesters',\n        'sem-classes',\n        'sem-types',\n        'terms-of-use',\n        'user-data-field',\n        'studip-properties',\n      ],\n      httpClient,\n    }),\n  },\n});\n// These variables have type information attached to them, thanks to\n// the library vuex-module-decorators.\nexport const taskEditorStore = getModule(TaskEditorModule, store);\nexport const coursewareBlockStore = getModule(CoursewareBlockModule, store);\n","import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"textarea\", {\n    value: _ctx.modelValue,\n    ref: \"studip_wysiwyg\",\n    class: \"studip-wysiwyg\",\n    onInput: _cache[0] || (_cache[0] = ($event: any) => (_ctx.updateValue($event.target.value)))\n  }, null, 40, _hoisted_1))\n}","\n// need v-model to provide and get content -> <studip-wysiwyg v-model=\"content\" />\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'studip-wysiwyg',\n  props: {\n    modelValue: String,\n    forceSoftBreaks: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    removeWrappingPTag: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    disableAutoformat: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    insertHtmlComment: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      fallbackActive: false,\n    };\n  },\n  mounted() {\n    let ckeInit = this.initCKE();\n    if (!ckeInit) {\n      this.fallbackActive = true;\n    }\n  },\n  methods: {\n    initCKE() {\n      if (!window.STUDIP.wysiwyg_enabled) {\n        return false;\n      }\n      const textAreaElement = this.$refs.studip_wysiwyg as HTMLTextAreaElement;\n      // Process the jQuery event 'wysiwyg.load' which is triggered asynchronously\n      // after the wysiwyg editor is mounted using the 'replace()' method.\n      textAreaElement.onload = (event: any) => {\n        console.info('load');\n        let ckeditor = window.STUDIP.wysiwyg.getEditor(textAreaElement)!;\n        ckeditor.model.document.on('change:data', () => {\n          let data = ckeditor.getData();\n          if (this.removeWrappingPTag) {\n            // Remove the <p> tag wrapping the editor's contents.\n            // These tags are inserted automatically by CKEditor5.\n            // It appears to be a WONTFIX on their end.\n            // See https://github.com/ckeditor/ckeditor5/issues/1537\n            data = data.replace(/<p>(.*?)/, '$1').replace(/(.*?)<\\/p>/, '$1');\n          }\n          if (this.insertHtmlComment) {\n            /**\n             Insert <!--HTML--> at the start of the text so it is recognized by studip as a\n             raw HTML that should be inserted as-is into a PHP page when formatted\n             using htmlReady.\n             */\n            // This regex is the one used in Markup.class.php to recognize HTML\n            const regex = /^\\s*<!--\\s*HTML.*?-->/i;\n            if (!regex.test(data)) {\n              data = '<!--HTML-->'.concat(data);\n            }\n          }\n          this.$emit('update:modelValue', data);\n        });\n        ckeditor.editing.view.document.on(\n          'enter',\n          (evt, data) => {\n            if (this.forceSoftBreaks) {\n              // Override 'enter' to insert <br /> instead of <p></p> in the editor.\n              // This produces HTML which is more easily parsed in our various learning tasks.\n              // Source: https://github.com/ckeditor/ckeditor5/issues/1141#issuecomment-403403526\n              ckeditor.execute('shiftEnter');\n              data.preventDefault();\n              evt.stop();\n            }\n          },\n          { priority: 'high' }\n        );\n        if (this.disableAutoformat) {\n          // Disable the autoformat plugin so that *asterisks* surrounding text\n          // are not automatically converted into italic formatting.\n          // We use this syntax in the editor for various tasks, such as Fill In The Blanks.\n          // (It might be nicer to disable this using 'removePlugins' option in\n          // the config for CKEditor5, but the interface of STUDIP.wysiwyg.replace()\n          // does not allow us to alter the CKEditor5 config.)\n          const autoformat = ckeditor.plugins.get('Autoformat');\n          (autoformat as unknown as { isEnabled: boolean }).isEnabled = false;\n        }\n      };\n      // This asynchronous method does not return a promise.  Instead, it fires\n      // a 'load' event, which is processed in the above event handler. >:|\n      window.STUDIP.wysiwyg.replace(textAreaElement);\n      return true;\n    },\n    updateValue(value: unknown) {\n      if (this.fallbackActive) {\n        this.$emit('update:modelValue', value);\n      }\n    },\n  },\n});\n","import { render } from \"./StudipWysiwyg.vue?vue&type=template&id=02095a60&ts=true\"\nimport script from \"./StudipWysiwyg.vue?vue&type=script&lang=ts\"\nexport * from \"./StudipWysiwyg.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["modelUndoable","mounted","el","binding","vnode","prevVnode","validEl","validateElement","setElValueFromStore","splitPath","parsePath","storeValue","getValueAtPath","taskEditorStore","validatedStoreValue","validateBoundValue","value","toString","setAttribute","join","addEventListener","ev","firstPathEl","restOfPath","newState","JSON","parse","stringify","setValueAtPath","newTaskDefinition","undoBatch","console","log","store","Error","bindingMustBeStringError","split","bindingMustUseTaskDefinitionError","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","invalidElementTypeError","val","boundValueMustBePrimitiveError","o","path","reduce","accumulator","pathComponent","Object","prototype","hasOwnProperty","call","invalidPathError","lastPathComponent","pop","undefined","targetObject","selectedLanguage","values","window","STUDIP","INSTALLED_LANGUAGES","find","lang","selected","gettextPlugin","createGettext","availableLanguages","en","de","defaultLanguage","translations","$gettext","memoize","args","_hoisted_1","class","ref","_hoisted_2","_hoisted_3","_hoisted_4","key","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","render","_ctx","_cache","$props","$setup","$data","$options","_component_FeedbackElement","_resolveComponent","_openBlock","_createElementBlock","_Fragment","_renderList","parsedTemplate","element","uuid","type","innerHTML","text","_withDirectives","_createElementVNode","$event","userInputs","readonly","this","editable","disabled","_normalizeClass","classForInput","onBlur","onInputBlurOrEnter","onKeyup","_withKeys","onInput","_vModelText","hint","_createCommentVNode","showSolutions","submittedAnswerIsCorrect","_toDisplayString","solutions","showResults","_createBlock","achievedPoints","correctAnswers","maxPoints","feedback","task","resultMessage","showFillInAllTheBlanksMessage","textContent","fillInAllTheBlanksMessage","showCheckButton","onClick","onClickCheck","strings","checkButton","showExtraButtons","showSolutionButton","onClickShowSolution","solutionsButton","showRetryButton","onClickTryAgain","retryButton","min","low","lowNumber","high","highNumber","optimum","max","achievedMaxPoints","src","urlForIcon","width","height","feedbackMessage","defineComponent","name","props","Number","String","data","methods","iconName","ASSETS_URL","computed","feedbackSortedByScore","map","sort","a","b","percentage","percentageCorrect","round","message","__exports__","dljs","require","components","FeedbackElement","required","submittedAnswers","userWantsToSeeSolutions","blank","submittedAnswer","some","solution","isAnswerCorrect","userAnswer","caseSensitive","acceptTypos","isAnswerCorrectWithTypo","toLowerCase","distance","length","updateAttempt","points","blanks","forEach","index","$emit","success","autoGrowTextField","input","computedStyles","getComputedStyle","computedFontSize","getPropertyValue","computedFontFamily","computedPadding","fontSize","parseInt","minEm","minPx","rightPadEm","rightPadPx","static_min_pad","setTimeout","tmp","document","createElement","tmpStyles","position","padding","entries","style","parentElement","append","clientWidth","parentWidth","$refs","wrapperElement","remove","taskEditableAfterCheck","autoCorrect","event","target","splitTemplate","template","uuidv4","splitString","filter","word","blanksFilled","keys","allBlanksAreFilled","allAnswersAreCorrect","every","inputHasChanged","isEqual","showSolutionsAllowed","retryAllowed","allBlanksMustBeFilledForSolutions","replace","fillInAllBlanksMessage","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_component_studip_wysiwyg","addBlank","instructions","_createVNode","modelValue","taskDefinition","_vModelCheckbox","_createTextVNode","_vModelSelect","onChange","i","title","titleForDeleteButtonForFeedback","removeFeedback","addFeedback","StudipWysiwyg","wysiwygEl","wysiwyg","$el","editor","getEditor","error","selection","model","start","getFirstPosition","end","getLastPosition","change","writer","insertText","push","feedbackToRemove","question","answers","answer","correct","removeAnswer","feedbackSelected","feedbackNotSelected","addAnswer","canAnswerMultiple","randomOrder","answerToRemove","currentUndoRedoState","classForAnswer","selectedAnswers","isSubmitted","selectedAnswer","_vModelRadio","showSolutionsButton","selectAnswer","Math","random","classForFilledBlank","draggable","onDragstart","startDragUsedAnswer","onDrop","onDropBlank","onDragover","_withModifiers","onDragenter","getAnswerById","onClickBlank","onDropUnusedAnswers","unusedAnswers","startDragUnusedAnswer","onClickUnusedAnswer","draggedAnswerId","draggedSourceId","clickedAnswerId","submittedAnswerId","getElement","elementId","dragEvent","answerId","dataTransfer","dropEffect","effectAllowed","property","draggedAnswer","previousBlank","preventDefault","instantFeedback","id","randomizedAnswers","sortedAnswers","localeCompare","alphabeticOrder","includes","_component_feedback_element","tabindex","role","isMarked","onClickWord","onKeydown","onWordKeydown","onWordKeyup","classForWord","score","maxScore","onClickRetry","debug","markedWords","Set","clear","delete","add","code","has","templateElement","trim","staticWord","_component_StudipWysiwyg","addSolution","_component_EditedMemoryCard","cards","card","selectedCardIndex","selectCard","deleteCard","alt","addCard","_component_EditedMemoryCardImage","_component_FileUpload","imageUrl","onFileUploaded","cardIndex","altText","onInputAltText","deleteImage","produce","draft","findIndex","uploadRequestPromise","accept","onInputChange","emits","default","warn","fileInput","file","files","item","uploadFile","then","res","catch","FileUpload","EditedMemoryCardImage","onImageUploaded","url","onInputAltTextBAD","EditedMemoryCard","beforeMount","v4","splice","_component_MemoryCardComponent","amountOfFlips","amountOfPairsSolved","totalAmountOfPairs","onClickCard","_withScopeId","n","_pushScopeId","_popScopeId","_imports_0","memoryCardFlipped","flipped","MemoryCardComponent","firstFlippedCardId","matchingCardId","solved","firstCard","getCardById","resetAllUnsolvedCardsExcept","exceptionId","resetCards","shuffleCards","card1","card2","cardId","amountOfCardsSolved","watch","handler","flatMap","duplicateCardId","immediate","_component_TargetImage","onDropOnInteractiveImages","draggableImages","draggableImageId","isDraggableImageUsed","startDragImage","onDragend","endDragImage","onClickDraggableImage","draggedImageId","imageIdInteractedWith","getImageById","ref_for","imagePairs","imagePair","outlined","imagesDraggedOntoTargets","targetImage","getImageDraggedOntoTarget","isCorrect","showResult","onDropOnTargetImage","startDragTargetImage","endDragTargetImage","onClickTargetImage","checkResults","reset","draggableImage","incorrect","Boolean","TargetImage","targetId","userInput","pair","imageId","refToImage","parentElementOfImage","cloneOfParent","cloneNode","top","left","zIndex","setDragImage","clientHeight","targetImageId","setData","userDraggedImageId","otherTargetId","getData","image","imagesById","usedImageId","imagePair1","imagePair2","_component_EditedImagePair","selectedPairIndex","selectPair","deletePair","addPair","_component_EditedImagePairImage","onUploadDraggableImage","pairIndex","onInputDraggableImageAltText","onUploadTargetImage","onInputTargetImageAltText","EditedImagePairImage","EditedImagePair","images","onDragOver","onDropImage","imageInteractedWith","fromIndex","indexOf","toIndex","moveInArray","array","shuffleImages","image1","image2","_component_ImageSequencingEditorImage","selectedImageIndex","selectImage","addImage","onUploadImage","imageIndex","onInputImageAltText","ImageSequencingEditorImage","overlaySchema","z","startTime","endTime","x","y","pauseWhenVisible","optional","lmbTaskInteractionSchema","taskDefinitionSchemaMinusInteractiveVideo","interactiveVideoInteractionSchema","refine","interactiveVideoTaskSchema","task_type","video","uploadedFileSchema","autoplay","startAt","disableNavigation","interactions","printInteractionType","interaction","printTaskType","iconForInteraction","iconForTaskType","_component_SelectVideo","_component_TabComponent","_component_AddInteractions","_component_TabsComponent","_withCtx","icon","_","tab","hash","_renderSlot","activeTabHash","tabs","provide","addTab","count","inject","isActive","created","buttonSelector","_component_LmbTaskInteraction","_component_OverlayInteraction","dragState","selectedInteractionId","selectInteraction","_normalizeStyle","progressBarInteractionMarkerStyle","onClickInteractionMarker","hidden","interactionForPopper","selectedInteraction","activateInteraction","editInteraction","deleteInteraction","visibleInteractions","uid","onPointerdown","onPointerDownInteraction","onPointermove","onPointerMoveInteraction","onPointerup","onPointerUpInteraction","onActivateInteraction","onPointerDownResizeHandle","onPointerMoveResizeHandle","onPointerUpResizeHandle","_Transition","activeInteraction","closeInteraction","_resolveDynamicComponent","viewerForTaskType","editorStateSymbol","Symbol","setup","resizeHandles","handle","popperInstance","OverlayInteraction","LmbTaskInteraction","player","time","playedTime","isPlaying","progressBarParameters","widthPixels","xOffsetPixels","progressBarObserver","videoUrl","videoType","timeAndVisibleInteractions","initializePlayer","newTime","newVisibleInteractions","oldTime","oldVisibleInteractions","isPlayingForward","newlyVisibleInteractionWithPause","pause","destroy","$nextTick","interactionElement","getElementById","tooltipElement","selectedInteractionTooltip","createPopper","placement","modifiers","options","offset","onPlayerReady","disconnect","dispose","playerElement","classList","videoJsContainer","appendChild","videojs","techOrder","sources","controls","controlBar","children","volumePanel","inline","muted","on","currentTime","paused","play","duration","enforceDisabledNavigation","abs","progressBarEls","getElementsByClassName","progressHolder","ResizeObserver","root","rootLeft","getBoundingClientRect","progressHolderLeft","observe","payload","interactionId","mouseStartPos","clientX","clientY","interactionStartPos","interactionStartSize","setPointerCapture","pointerId","releasePointerCapture","rootRect","xInitial","yInitial","widthInitial","heightInitial","newX","newWidth","newY","newHeight","xPointer","dxPointerPixels","dxPointer","yPointer","dyPointerPixels","dyPointer","filteredHeight","filteredWidth","filteredX","filteredY","isOffscreenX","isOffscreenY","resizeOverlay","update","interactionEl","currentTarget","clientDx","dxFraction","xFraction","interactionWidth","minX","maxX","clampedXFraction","clientDy","dyFraction","yFraction","interactionHeight","minY","maxY","clampedYFraction","dragInteraction","progressPercentage","timeOffsetPx","focusInteraction","focus","focusVisible","one","delta","difference","beforeUnmount","onDragoverCapture","onDragOverTimeline","onPointerDownAxis","axisScale","point","formatVideoTimestamp","major","interactionMarkerStyle","onClickInteraction","onWheel","onContextmenu","timelineInteractionStyle","viewportEnd","onPointerDownInteractionStart","onPointerMoveInteractionStart","onPointerUpInteractionStart","onPointerDownInteractionEnd","onPointerMoveInteractionEnd","onPointerUpInteractionEnd","onDragStartTimeMarker","positionForTimeMarker","zoomTransform","viewportWidthEm","viewportWidthSeconds","viewportStart","getEmValueFromElement","pixelValue","parentNode","parentFontSize","parseFloat","elementFontSize","pixelValueOfOneEm","videoMetadata","t","k","observer","IntersectionObserver","recomputeViewportWidth","timelineAxis","dragTimeline","dSeconds","pixelsToSeconds","dx","translate","constrainZoomTranslate","dragBehavior","drag","button","select","timeline","isWithinViewport","isBeingDragged","secondsPerEm","secondsToTimelinePercentage","scale","seconds","deltaT","zoom","viewportStart0","viewportWidth0","exp","newK","viewportWidth1","viewportStart1","xCoordinateToTime","deltaY","pixelsToEm","pixels","NaN","axis","rect","widthInEm","timestampSeconds","hours","minutes","centiseconds","twoDigits","toLocaleString","minimumIntegerDigits","maximumFractionDigits","floor","fraction","clampedTime","startDeltaT","startPercent","endDeltaT","endPercent","interactionLength","interactionStartTime","interactionDuration","mouseDx","secondsPerPixel","maxTime","secondsClamped","dragInteractionTimeline","movementX","timeClamped","e","emitTimelineSeekThrottled","throttle","_component_VideoTimeInput","inputStartTime","inputStartTimeFormatError","invalid","inputStartTimeErrors","inputEndTime","inputEndTimeFormatError","inputEndTimeErrors","_KeepAlive","editorForTaskType","onBlurUserInput","newValue","formatSeconds","parsedUserInput","string","timeRegexCentiseconds","centisecondsMatch","exec","timeRegexHhMmSs","hhMmSsMatch","VideoTimeInput","errors","_defineComponent","__props","videoPlayer","videoTimeline","selectedInteractionProperties","taskTypes","selectionId","nextTick","scrollIntoView","behavior","block","onVideoMetadataChange","onTimeUpdate","onTimelineSeek","onClickZoomIn","onClickZoomOut","onClickPlay","onClickPause","insertOverlay","insertLmbTaskInteraction","newTask","prompt","confirmed","confirm","info","VideoPlayer","ref_key","onTimeupdate","onMetadataChange","_unref","interactionType","taskType","VideoTimeline","onDeleteInteraction","SelectedInteractionProperties","_component_FilePicker","_component_VideoPlayer","onUploadStudipVideo","selectedFileId","onSelectFile","updateCurrentFile","onSaveUploadedFile","youtubeUrlInput","onSaveYoutubeVideo","href","deleteVideo","startPositionInputError","onClickUseCurrentTime","_component_FolderPicker","_component_translate","allowUserFolders","unchoose","selectedFolderId","currentValue","selectFile","_vShow","canBeEmpty","changeSelection","context","label","textOptGroupCourse","loadedCourseFolders","folder","attributes","textOptGroupUser","loadedUserFolders","filterCourseFolders","folders","allowHomeworkFolders","validatedParents","Map","validateParentFolder","isValid","relationships","parent","parentId","get","f","hiddenParentFolderValidation","set","parentFolder","mapGetters","relatedFolders","coursewareBlockStore","userId","USER_ID","courseObject","userObject","relationship","UserFolders","mapActions","_loadRelatedFolders","loadRelatedFolders","params","getCourseFolders","getUserFolders","confirmSelectedFolder","concat","async","FolderPicker","mimeType","isImage","isVideo","isAudio","isDocument","fileRefById","relatedFileRefs","relatedTermOfUse","loadFileRef","loadRelatedFileRefs","filterFiles","loadArray","filterFile","fileTermsOfUse","videoConditions","condition","audioConditions","officeConditions","mime_type","download_url","URLHelper","getURL","file_id","file_name","include","fileRefs","fileRef","getFolderFiles","oldValue","selectedFile","FilePicker","SelectVideo","AddInteractions","TabComponent","TabsComponent","counter","feedbackSchema","imageSchema","dragTheWordsTaskSchema","findTheHotspotTaskSchema","markTheWordsTaskSchema","defaultFeedback","memoryCardSchema","memoryTaskSchema","fillInTheBlanksTaskSchema","questionAnswerSchema","questionTaskSchema","imagePairSchema","imagePairingTaskSchema","imageSequencingTaskSchema","taskDefinitionSchema","taskTypeSchema","shape","DragTheWordsViewer","FillInTheBlanksViewer","FindTheHotspotViewer","ImagePairingViewer","ImageSequencingViewer","InteractiveVideoViewer","MarkTheWordsViewer","MemoryViewer","QuestionViewer","DragTheWordsEditor","FillInTheBlanksEditor","FindTheHotspotEditor","ImagePairingEditor","ImageSequencingEditor","InteractiveVideoEditor","MarkTheWordsEditor","MemoryEditor","QuestionEditor","showViewerAboveEditor","saveTask","moduleName","infoText","module_id","block_id","LernmoduleVueJS","saveRoute","token","CSRF_TOKEN","formData","FormData","fetch","method","body","response","ok","statusText","json","updateAttemptRoute","uploadFileResponseSchema","uploadUrl","cause","sleep","ms","Promise","r","setAutoFreeze","TaskEditorModule","VuexModule","status","undoRedoStack","undoRedoIndex","hasUnsavedChanges","serverTaskDefinition","serverModuleName","serverInfotext","infotext","canUndo","canRedo","undo","currentState","inputElements","querySelectorAll","inputEl","collapsedParents","contains","redo","nextState","initializeCourseware","task_json","initializeNonCourseware","module","customdata","isArray","startedSaving","saveStatus","saveSuccess","saveFailure","nonFatalErrors","commit","saveResult","performEdit","shouldMergeEdits","slice","setModuleName","setInfoText","__decorate","Mutation","Action","Module","CoursewareBlockModule","setShowEditorUI","state","showEditorUI","saveBlock","postMessage","cancelEditing","setContext","studipContext","reststateVuex","mapResourceModules","httpClient","axios","baseURL","headers","createStore","modules","taskEditor","coursewareBlock","names","getModule","updateValue","forceSoftBreaks","removeWrappingPTag","disableAutoformat","insertHtmlComment","fallbackActive","ckeInit","initCKE","wysiwyg_enabled","textAreaElement","studip_wysiwyg","onload","ckeditor","regex","test","editing","view","evt","execute","stop","priority","autoformat","plugins","isEnabled"],"sourceRoot":""}