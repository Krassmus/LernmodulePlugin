{"version":3,"file":"js/chunk-common.js","mappings":"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","sources":["webpack://vue101/./src/directives/vModelUndoable.ts","webpack://vue101/./src/language/gettext.ts","webpack://vue101/./src/components/FillInTheBlanksViewer.vue?9b9d","webpack://vue101/./src/components/FeedbackElement.vue?5ad6","webpack://vue101/./src/components/FeedbackElement.vue?667e","webpack://vue101/./src/components/FeedbackElement.vue","webpack://vue101/./src/components/FillInTheBlanksViewer.vue?a6bf","webpack://vue101/./src/components/FillInTheBlanksViewer.vue","webpack://vue101/./src/components/FillInTheBlanksEditor.vue?4a34","webpack://vue101/./src/components/FillInTheBlanksEditor.vue?bd37","webpack://vue101/./src/components/FillInTheBlanksEditor.vue","webpack://vue101/./src/components/QuestionEditor.vue?e61e","webpack://vue101/./src/components/QuestionEditor.vue?68ef","webpack://vue101/./src/components/QuestionEditor.vue","webpack://vue101/./src/components/QuestionViewer.vue?551e","webpack://vue101/./src/components/QuestionViewer.vue?5a19","webpack://vue101/./src/components/QuestionViewer.vue","webpack://vue101/./src/components/DragTheWordsViewer.vue?bd81","webpack://vue101/./src/components/DragTheWordsViewer.vue?8d04","webpack://vue101/./src/components/DragTheWordsViewer.vue","webpack://vue101/./src/components/DragTheWordsEditor.vue?e986","webpack://vue101/./src/components/DragTheWordsEditor.vue?4b1e","webpack://vue101/./src/components/DragTheWordsEditor.vue","webpack://vue101/./src/components/MarkTheWordsViewer.vue?fbc7","webpack://vue101/./src/components/MarkTheWordsViewer.vue?34dc","webpack://vue101/./src/components/MarkTheWordsViewer.vue","webpack://vue101/./src/components/MarkTheWordsEditor.vue?e686","webpack://vue101/./src/components/MarkTheWordsEditor.vue?b50e","webpack://vue101/./src/components/MarkTheWordsEditor.vue","webpack://vue101/./src/components/MemoryEditor.vue?0ae5","webpack://vue101/./src/components/EditedMemoryCard.vue?347b","webpack://vue101/./src/components/EditedMemoryCardImage.vue?0912","webpack://vue101/./src/components/EditedMemoryCardImage.vue?9bfd","webpack://vue101/./src/components/EditedMemoryCardImage.vue","webpack://vue101/./src/components/FileUpload.vue?2987","webpack://vue101/./src/components/FileUpload.vue?a2bf","webpack://vue101/./src/components/FileUpload.vue","webpack://vue101/./src/components/EditedMemoryCard.vue?eb7b","webpack://vue101/./src/components/EditedMemoryCard.vue","webpack://vue101/./src/components/MemoryEditor.vue?518c","webpack://vue101/./src/components/MemoryEditor.vue","webpack://vue101/./src/components/MemoryViewer.vue?3015","webpack://vue101/./src/components/MemoryCard.vue?2640","webpack://vue101/./src/components/MemoryCard.vue?89da","webpack://vue101/./src/components/MemoryCard.vue","webpack://vue101/./src/components/MemoryViewer.vue?6ce2","webpack://vue101/./src/components/MemoryViewer.vue","webpack://vue101/./src/components/ImagePairingViewer.vue?a995","webpack://vue101/./src/components/TargetImage.vue?26d1","webpack://vue101/./src/components/TargetImage.vue?2ffe","webpack://vue101/./src/components/TargetImage.vue","webpack://vue101/./src/components/ImagePairingViewer.vue?6dc3","webpack://vue101/./src/components/ImagePairingViewer.vue","webpack://vue101/./src/components/ImagePairingEditor.vue?a8b8","webpack://vue101/./src/components/EditedImagePair.vue?eeb8","webpack://vue101/./src/components/EditedImagePairImage.vue?ed11","webpack://vue101/./src/components/EditedImagePairImage.vue?4c87","webpack://vue101/./src/components/EditedImagePairImage.vue","webpack://vue101/./src/components/EditedImagePair.vue?1602","webpack://vue101/./src/components/EditedImagePair.vue","webpack://vue101/./src/components/ImagePairingEditor.vue?ed8a","webpack://vue101/./src/components/ImagePairingEditor.vue","webpack://vue101/./src/components/ImageSequencingViewer.vue?ba95","webpack://vue101/./src/components/ImageSequencingViewer.vue?7a37","webpack://vue101/./src/components/ImageSequencingViewer.vue","webpack://vue101/./src/components/ImageSequencingEditor.vue?9169","webpack://vue101/./src/components/ImageSequencingEditorImage.vue?49ec","webpack://vue101/./src/components/ImageSequencingEditorImage.vue?6317","webpack://vue101/./src/components/ImageSequencingEditorImage.vue","webpack://vue101/./src/components/ImageSequencingEditor.vue?36bd","webpack://vue101/./src/components/ImageSequencingEditor.vue","webpack://vue101/./src/components/FindTheHotspotEditor.vue?fd9f","webpack://vue101/./src/components/FindTheHotspotEditor.vue?67e7","webpack://vue101/./src/components/FindTheHotspotEditor.vue","webpack://vue101/./src/components/FindTheHotspotViewer.vue?4ddb","webpack://vue101/./src/components/FindTheHotspotViewer.vue?4308","webpack://vue101/./src/components/FindTheHotspotViewer.vue","webpack://vue101/./src/models/InteractiveVideoTask.ts","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoEditor.vue?3db9","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabsComponent.vue","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabsComponent.vue?4702","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabComponent.vue","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabComponent.vue?7dcd","webpack://vue101/./src/components/interactiveVideo/VideoPlayer.vue?974c","webpack://vue101/./src/components/interactiveVideo/editorState.ts","webpack://vue101/./src/components/interactiveVideo/interactions/LmbTaskInteraction.vue?e2f7","webpack://vue101/./src/components/interactiveVideo/interactions/LmbTaskInteraction.vue?76e4","webpack://vue101/./src/components/interactiveVideo/interactions/LmbTaskInteraction.vue","webpack://vue101/./src/components/interactiveVideo/interactions/OverlayInteraction.vue?d036","webpack://vue101/./src/components/interactiveVideo/interactions/OverlayInteraction.vue?fd71","webpack://vue101/./src/components/interactiveVideo/interactions/OverlayInteraction.vue","webpack://vue101/./src/components/interactiveVideo/VideoPlayer.vue?f73b","webpack://vue101/./src/components/interactiveVideo/VideoPlayer.vue","webpack://vue101/./src/components/interactiveVideo/VideoTimeline.vue?b49d","webpack://vue101/./src/components/interactiveVideo/getEmValueFromElement.ts","webpack://vue101/./src/components/interactiveVideo/VideoTimeline.vue?a938","webpack://vue101/./src/components/interactiveVideo/VideoTimeline.vue","webpack://vue101/./src/components/interactiveVideo/SelectedInteractionProperties.vue?07f2","webpack://vue101/./src/components/interactiveVideo/VideoTimeInput.vue?05c3","webpack://vue101/./src/components/interactiveVideo/VideoTimeInput.vue?b5ca","webpack://vue101/./src/components/interactiveVideo/VideoTimeInput.vue","webpack://vue101/./src/components/interactiveVideo/SelectedInteractionProperties.vue?09b4","webpack://vue101/./src/components/interactiveVideo/SelectedInteractionProperties.vue","webpack://vue101/./src/components/interactiveVideo/AddInteractions.vue?2832","webpack://vue101/./src/components/interactiveVideo/AddInteractions.vue","webpack://vue101/./src/components/interactiveVideo/SelectVideo.vue?6fe0","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FilePicker.vue?41d6","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FolderPicker.vue?9c9f","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FolderPicker.vue?fbe3","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FolderPicker.vue","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FilePicker.vue?6109","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FilePicker.vue","webpack://vue101/./src/components/interactiveVideo/SelectVideo.vue?3b43","webpack://vue101/./src/components/interactiveVideo/SelectVideo.vue","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoEditor.vue?5045","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoEditor.vue","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoViewer.vue?292b","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoViewer.vue?f621","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoViewer.vue","webpack://vue101/./src/models/TaskDefinition.ts","webpack://vue101/./src/routes.ts","webpack://vue101/./src/store/modules/taskEditor.ts","webpack://vue101/./src/store/modules/coursewareBlock.ts","webpack://vue101/./src/store/index.ts","webpack://vue101/./src/components/StudipWysiwyg.vue?5f34","webpack://vue101/./src/components/StudipWysiwyg.vue?850b","webpack://vue101/./src/components/StudipWysiwyg.vue"],"sourcesContent":["import { store, taskEditorStore } from '@/store';\nimport { Directive, DirectiveBinding } from 'vue';\n\n/**\n * This is a custom directive that you can use like v-model in the Lernmodul-Editor.\n * Like v-model, it is a two-way binding, but rather than directly modifying\n * 'taskDefinition', it saves changes into the undo-redo stack by calling\n * 'taskEditorStore.performEdit'.\n * It also sets an attribute 'data-undo-focus-id' on the element.\n * This attribute is used during the 'undo' and 'redo' operations.\n * The input elements whose contents are modified by 'undo' or 'redo' will\n * automatically be focus()ed and brought into view.\n * TODO: Can I get better stack traces when errors are thrown inside of\n *   directive hooks?  Right now, they do not show what line of the .vue file\n *   caused the errors to be thrown.\n */\nexport const modelUndoable: Directive = {\n  mounted(\n    el: HTMLElement,\n    binding: DirectiveBinding<unknown>,\n    vnode,\n    prevVnode\n  ) {\n    const validEl = validateElement(el);\n    validEl.setAttribute('data-undo-focus-id', parsePath(binding).join('.'));\n\n    el.addEventListener('input', (ev: Event) => {\n      const splitPath = parsePath(binding);\n      const [firstPathEl, ...restOfPath] = splitPath;\n      const value = vnode.el.value;\n      const newState = JSON.parse(\n        JSON.stringify(taskEditorStore.taskDefinition)\n      );\n      setValueAtPath(newState, restOfPath, value);\n      taskEditorStore.performEdit({\n        newTaskDefinition: newState,\n        undoBatch: splitPath.join('.'),\n      });\n      console.log(el, binding, vnode, prevVnode, ev, splitPath, value);\n    });\n\n    function setElValueFromStore() {\n      const splitPath = parsePath(binding);\n      const storeValue = getValueAtPath(taskEditorStore, splitPath);\n      const validatedStoreValue = validateBoundValue(storeValue);\n      validEl.value = validatedStoreValue.toString();\n    }\n    store.watch(\n      () => {\n        const splitPath = parsePath(binding);\n        return getValueAtPath(taskEditorStore, splitPath);\n      },\n      () => setElValueFromStore()\n    );\n    setElValueFromStore();\n  },\n} as const;\n\n/**\n * Make sure that the binding supplied by the user is a valid one.\n * It should be a path to a field of 'taskEditorStore.taskDefinition',\n * e.g. 'taskDefinition.task_type'.\n * @param binding - See https://vuejs.org/guide/reusability/custom-directives.html#directive-hooks\n */\nfunction parsePath(binding: DirectiveBinding<unknown>): Array<string> {\n  if (typeof binding.value !== 'string') {\n    throw new Error(bindingMustBeStringError + binding.value);\n  }\n  const splitPath = binding.value.split('.');\n  const firstPathEl = splitPath[0];\n  if (firstPathEl !== 'taskDefinition') {\n    throw new Error(bindingMustUseTaskDefinitionError + binding.value);\n  }\n  return splitPath;\n}\n\nfunction validateElement(\n  el: HTMLElement\n): HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement {\n  if (\n    el instanceof HTMLInputElement ||\n    el instanceof HTMLTextAreaElement ||\n    el instanceof HTMLSelectElement\n  ) {\n    return el;\n  }\n  throw new Error(invalidElementTypeError);\n}\n\nfunction validateBoundValue(val: unknown): string | number | boolean {\n  if (\n    typeof val !== 'string' &&\n    typeof val !== 'number' &&\n    typeof val !== 'boolean'\n  ) {\n    throw new Error(boundValueMustBePrimitiveError + typeof val);\n  }\n  return val;\n}\n\nfunction getValueAtPath(o: object, path: Array<string>): unknown {\n  return path.reduce((accumulator: any, pathComponent: string) => {\n    if (!Object.prototype.hasOwnProperty.call(accumulator, pathComponent)) {\n      throw new Error(invalidPathError + path.join('.'));\n    }\n    return accumulator[pathComponent];\n  }, o);\n}\n\nfunction setValueAtPath(o: object, splitPath: Array<string>, value: any) {\n  const [lastPathComponent, ...restOfPath] = [splitPath.pop(), ...splitPath];\n  if (lastPathComponent === undefined) {\n    throw new Error('Path has no last element');\n  }\n  const targetObject = restOfPath.reduce(\n    (accumulator: Record<string, any>, pathComponent: string) =>\n      accumulator[pathComponent],\n    o\n  );\n  targetObject[lastPathComponent] = value;\n}\n\n// TODO translate these strings in Weblate.\nconst bindingMustBeStringError =\n  'The value supplied to v-model-undoable must be a string. ' +\n  'Example: <select v-model-undoable=\"\\'taskDefinition.task_type\\'\">\\n' +\n  'You supplied the following value: ';\n\nconst bindingMustUseTaskDefinitionError =\n  'The string supplied to v-model-undoable must be a path which begins with ' +\n  '\"taskDefinition\", and the path must be wrapped in two sets of quotes. \\n' +\n  'Example usage: <select v-model-undoable=\"\\'taskDefinition.task_type\\'\">\\n' +\n  'You supplied the following string: ';\n\nconst boundValueMustBePrimitiveError =\n  'The value bound with v-model-undoable must be a string, number or boolean.  ' +\n  'Other datatypes are not currently supported.  The value found is of type ';\n\nconst invalidPathError =\n  'No field was found in the store under the given path.  Did you make a ' +\n  'typo?  Path: ';\n\nconst invalidElementTypeError =\n  'v-model-undoable can only be used on <input>, <textarea> and <select> elements';\n","import { createGettext } from 'vue3-gettext';\nimport translations from '@/language/translations.json';\nimport { memoize } from 'lodash';\n\nconst selectedLanguage = Object.values(window.STUDIP.INSTALLED_LANGUAGES).find(\n  (lang) => lang.selected\n);\nconst gettextPlugin = createGettext({\n  availableLanguages: {\n    en: 'English',\n    de: 'Deutsch',\n  },\n  defaultLanguage: selectedLanguage?.path ?? 'de',\n  translations: translations,\n});\n\n// Cache gettext results.\n// This fixes the problem we had where the error 'No translations found for de' was\n// being printed excessively often (sometimes 1000s of times per second) during\n// certain UI interactions, e.g. when dragging interactions around on top of\n// the video in the Interactive Video Editor.\nconst $gettext = memoize(gettextPlugin.$gettext, (...args) =>\n  JSON.stringify(args)\n);\n\nexport { gettextPlugin, $gettext };\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withKeys as _withKeys, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-11b575e8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  class: \"h5pModule\",\n  ref: \"wrapperElement\"\n}\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = [\"onUpdate:modelValue\", \"readonly\", \"disabled\"]\nconst _hoisted_4 = { key: 0 }\nconst _hoisted_5 = [\"data-tooltip\"]\nconst _hoisted_6 = {\n  key: 1,\n  class: \"h5pSolution\"\n}\nconst _hoisted_7 = { class: \"h5pFeedbackContainer\" }\nconst _hoisted_8 = {\n  key: 0,\n  class: \"h5pFeedbackText\"\n}\nconst _hoisted_9 = { class: \"h5pFeedbackContainerBottom\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.parsedTemplate, (element) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: element.uuid\n      }, [\n        (element.type === 'staticText')\n          ? (_openBlock(), _createElementBlock(\"span\", {\n              key: 0,\n              innerHTML: element.text\n            }, null, 8, _hoisted_2))\n          : (element.type === 'blank')\n            ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                _withDirectives(_createElementVNode(\"input\", {\n                  type: \"text\",\n                  \"onUpdate:modelValue\": ($event: any) => ((_ctx.userInputs[element.uuid]) = $event),\n                  readonly: _ctx.submittedAnswerIsCorrect(element) || _ctx.showSolutions,\n                  disabled: _ctx.submittedAnswerIsCorrect(element) || _ctx.showSolutions,\n                  class: _normalizeClass(_ctx.classForInput(element)),\n                  onBlur: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputBlurOrEnter && _ctx.onInputBlurOrEnter(...args))),\n                  onKeyup: _cache[1] || (_cache[1] = _withKeys(\n//@ts-ignore\n(...args) => (_ctx.onInputBlurOrEnter && _ctx.onInputBlurOrEnter(...args)), [\"enter\"])),\n                  onInput: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.onInput && _ctx.onInput(...args)))\n                }, null, 42, _hoisted_3), [\n                  [_vModelText, _ctx.userInputs[element.uuid]]\n                ]),\n                (element.hint)\n                  ? (_openBlock(), _createElementBlock(\"label\", _hoisted_4, [\n                      _createElementVNode(\"span\", {\n                        class: \"tooltip tooltip-icon\",\n                        \"data-tooltip\": element.hint\n                      }, null, 8, _hoisted_5)\n                    ]))\n                  : _createCommentVNode(\"\", true),\n                (_ctx.showSolutions && !_ctx.submittedAnswerIsCorrect(element))\n                  ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString(element.solutions[0]), 1))\n                  : _createCommentVNode(\"\", true)\n              ], 64))\n            : _createCommentVNode(\"\", true)\n      ], 64))\n    }), 128)),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          achievedPoints: _ctx.correctAnswers,\n          maxPoints: _ctx.maxPoints,\n          resultMessage: _ctx.resultMessage,\n          feedback: _ctx.task.feedback\n        }, null, 8, [\"achievedPoints\", \"maxPoints\", \"resultMessage\", \"feedback\"]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_7, [\n      (_ctx.showFillInAllTheBlanksMessage)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, _toDisplayString(_ctx.task.strings.fillInAllBlanksMessage\n            ? _ctx.task.strings.fillInAllBlanksMessage\n            : _ctx.$gettext(\n                'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen'\n              )), 1))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_9, [\n        (_ctx.showCheckButton)\n          ? (_openBlock(), _createElementBlock(\"button\", {\n              key: 0,\n              onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.onClickCheck && _ctx.onClickCheck(...args))),\n              class: \"h5pButton\"\n            }, _toDisplayString(_ctx.task.strings.checkButton), 1))\n          : _createCommentVNode(\"\", true),\n        (_ctx.showExtraButtons)\n          ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n              (_ctx.showSolutionButton)\n                ? (_openBlock(), _createElementBlock(\"button\", {\n                    key: 0,\n                    onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.onClickShowSolution && _ctx.onClickShowSolution(...args))),\n                    class: \"h5pButton\"\n                  }, _toDisplayString(_ctx.task.strings.solutionsButton), 1))\n                : _createCommentVNode(\"\", true),\n              (_ctx.showRetryButton)\n                ? (_openBlock(), _createElementBlock(\"button\", {\n                    key: 1,\n                    onClick: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n                    class: \"h5pButton\"\n                  }, _toDisplayString(_ctx.task.strings.retryButton), 1))\n                : _createCommentVNode(\"\", true)\n            ], 64))\n          : _createCommentVNode(\"\", true)\n      ])\n    ])\n  ], 512))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { class: \"h5pFeedbackContainer\" }\nconst _hoisted_2 = { class: \"h5pFeedbackContainerTop\" }\nconst _hoisted_3 = { class: \"h5pFeedbackText\" }\nconst _hoisted_4 = [\"low\", \"high\", \"optimum\", \"max\", \"value\"]\nconst _hoisted_5 = [\"src\"]\nconst _hoisted_6 = { key: 1 }\nconst _hoisted_7 = {\n  key: 0,\n  class: \"h5pFeedbackText\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, _toDisplayString(_ctx.resultMessage), 1),\n      (_ctx.maxPoints)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n            _createElementVNode(\"meter\", {\n              id: \"score\",\n              min: \"0\",\n              low: _ctx.lowNumber,\n              high: _ctx.highNumber,\n              optimum: _ctx.maxPoints,\n              max: _ctx.maxPoints,\n              value: _ctx.achievedPoints\n            }, null, 8, _hoisted_4),\n            (_ctx.achievedMaxPoints)\n              ? (_openBlock(), _createElementBlock(\"img\", {\n                  key: 0,\n                  src: _ctx.urlForIcon('star'),\n                  width: \"36\",\n                  height: \"36\"\n                }, null, 8, _hoisted_5))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString(_ctx.achievedPoints), 1))\n    ]),\n    (_ctx.feedbackMessage)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _toDisplayString(_ctx.feedbackMessage), 1))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","\n// need v-model to provide and get content -> <studip-wysiwyg v-model=\"content\" />\nimport { defineComponent, PropType } from 'vue';\nimport { Feedback } from '@/models/TaskDefinition';\nimport { round } from 'lodash';\n\nexport default defineComponent({\n  name: 'FeedbackElement',\n  props: {\n    achievedPoints: Number,\n    maxPoints: Number,\n    resultMessage: String,\n    feedback: Object as PropType<Feedback[]>,\n  },\n  data() {\n    return {};\n  },\n  mounted() {},\n  methods: {\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n  computed: {\n    lowNumber(): Number {\n      if (this.maxPoints) return this.maxPoints / 3;\n      return 0;\n    },\n\n    highNumber(): Number {\n      if (this.maxPoints) return (this.maxPoints * 2) / 3;\n      return 0;\n    },\n\n    feedbackSortedByScore(): Feedback[] {\n      if (this.feedback) {\n        return this.feedback\n          .map((value) => value)\n          .sort((a, b) => b.percentage - a.percentage);\n      }\n      return [];\n    },\n\n    feedbackMessage(): string | undefined {\n      if (\n        typeof this.achievedPoints === 'undefined' ||\n        typeof this.maxPoints === 'undefined'\n      ) {\n        return undefined;\n      }\n\n      const percentageCorrect = round(\n        (this.achievedPoints / this.maxPoints) * 100\n      );\n\n      for (const feedback of this.feedbackSortedByScore) {\n        if (percentageCorrect >= feedback.percentage) {\n          return feedback.message;\n        }\n      }\n\n      return undefined;\n    },\n\n    achievedMaxPoints(): boolean {\n      return this.achievedPoints === this.maxPoints;\n    },\n  },\n});\n","import { render } from \"./FeedbackElement.vue?vue&type=template&id=70acfa5b&ts=true\"\nimport script from \"./FeedbackElement.vue?vue&type=script&lang=ts\"\nexport * from \"./FeedbackElement.vue?vue&type=script&lang=ts\"\n\nimport \"./FeedbackElement.vue?vue&type=style&index=0&id=70acfa5b&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { Feedback, FillInTheBlanksTask } from '@/models/TaskDefinition';\nimport { v4 as uuidv4 } from 'uuid';\nimport { isEqual, round } from 'lodash';\nimport { $gettext } from '@/language/gettext';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\ntype FillInTheBlanksElement = Blank | StaticText;\ntype Blank = {\n  type: 'blank';\n  uuid: Uuid;\n  solutions: string[];\n  hint: string;\n};\ntype StaticText = {\n  type: 'staticText';\n  uuid: Uuid;\n  text: string;\n};\ntype Uuid = string;\n\nconst dljs = require('damerau-levenshtein-js');\n\nexport default defineComponent({\n  name: 'FillInTheBlanksViewer',\n  components: {\n    FeedbackElement,\n  },\n  props: {\n    task: {\n      type: Object as PropType<FillInTheBlanksTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      userInputs: {} as Record<Uuid, string>,\n      submittedAnswers: null as Record<Uuid, string> | null,\n      userWantsToSeeSolutions: false,\n    };\n  },\n  methods: {\n    $gettext,\n    submittedAnswerIsCorrect(element: FillInTheBlanksElement): boolean {\n      const blank = element as Blank;\n\n      const submittedAnswer = this.submittedAnswers?.[blank.uuid];\n      if (!submittedAnswer) {\n        return false;\n      } else {\n        return blank.solutions.some((solution) =>\n          this.isAnswerCorrect(submittedAnswer, solution)\n        );\n      }\n    },\n    isAnswerCorrect(userAnswer: string, solution: string): boolean {\n      if (this.task.caseSensitive) {\n        if (this.task.acceptTypos) {\n          return this.isAnswerCorrectWithTypo(userAnswer, solution);\n        } else {\n          return userAnswer === solution;\n        }\n      } else {\n        // TODO: Was ist, wenn das in einem Sprachkurs mit einer nichtlateinischen Schrift verwendet wird? :D\n        if (this.task.acceptTypos) {\n          return this.isAnswerCorrectWithTypo(\n            userAnswer.toLowerCase(),\n            solution.toLowerCase()\n          );\n        } else {\n          return userAnswer.toLowerCase() === solution.toLowerCase();\n        }\n      }\n    },\n    isAnswerCorrectWithTypo(userAnswer: string, solution: string): boolean {\n      if (userAnswer === solution) return true;\n\n      // Calculate the Damerau-Levenshtein distance between the answer and the solution\n      const distance = dljs.distance(userAnswer, solution);\n\n      // If the word is between 4 and 9 characters, a distance of 1 will be accepted\n      // If the word is more than 9 characters long, a distance of 2 will be accepted\n      return (\n        (userAnswer.length > 3 && distance <= 1) ||\n        (userAnswer.length > 9 && distance <= 2)\n      );\n    },\n    updateAttempt() {\n      // Tell the server which blanks were filled out correctly.\n      const points = {} as Record<string, number>;\n      this.blanks.forEach((blank, index) => {\n        // TODO Consider what the key should be. This is a bit ugly.\n        // The key is shown directly in the 'assessment' UI.\n        // Maybe we should change how that works?\n        points[`${index} - ${blank.solutions[0]}`] =\n          this.submittedAnswerIsCorrect(blank) ? 1 : 0;\n      });\n      this.$emit('updateAttempt', {\n        points,\n        // The attempt is marked as successful if all answers were correct.\n        success: this.correctAnswers === this.blanks.length,\n      });\n    },\n    /**\n     * Adapted from the H5P source code, MIT License\n     * https://github.com/h5p/h5p-blanks/blob/e9bf6862211c082a5724d9873496e66c489d23f7/js/blanks.js#L401\n     * TODO: Put the license in the appropriate place\n     */\n    autoGrowTextField(input: HTMLInputElement) {\n      // Do not set text field size when separate lines is enabled\n      // if (this.params.behaviour.separateLines) {\n      //   return;\n      // }\n      const computedStyles = window.getComputedStyle(input, null);\n      const computedFontSize = computedStyles.getPropertyValue('font-size');\n      const computedFontFamily = computedStyles.getPropertyValue('font-family');\n      const computedPadding = computedStyles.getPropertyValue('padding');\n      const fontSize = parseInt(computedFontSize, 10);\n      const minEm = 6;\n      const minPx = fontSize * minEm;\n      const rightPadEm = 3.25;\n      const rightPadPx = fontSize * rightPadEm;\n      const static_min_pad = 0.5 * fontSize;\n\n      setTimeout(() => {\n        const tmp = document.createElement('div');\n        tmp.textContent = input.value;\n        const tmpStyles = {\n          position: 'absolute',\n          'white-space': 'nowrap',\n          'font-size': computedFontSize,\n          'font-family': computedFontFamily,\n          padding: computedPadding,\n          width: 'initial',\n        };\n        for (const [key, value] of Object.entries(tmpStyles)) {\n          tmp.style[key as any] = value;\n        }\n        input.parentElement!.append(tmp);\n        const width = tmp.clientWidth;\n        const parentWidth = (this.$refs.wrapperElement as HTMLDivElement)\n          .clientWidth;\n        tmp.remove();\n        if (width <= minPx) {\n          // Apply min width\n          input.style.width = (minPx + static_min_pad).toString() + 'px';\n        } else if (width + rightPadPx >= parentWidth) {\n          // Apply max width of parent\n          input.style.width = (parentWidth - rightPadPx).toString() + 'px';\n        } else {\n          // Apply width that wraps input\n          input.style.width = (width + static_min_pad).toString() + 'px';\n        }\n      }, 1);\n    },\n    onClickCheck() {\n      // Save a copy of the user's inputs.\n      this.submittedAnswers = { ...this.userInputs };\n      this.updateAttempt();\n    },\n    onClickShowSolution() {\n      this.userWantsToSeeSolutions = true;\n    },\n    onClickTryAgain() {\n      this.userWantsToSeeSolutions = false;\n      this.userInputs = {};\n      this.submittedAnswers = null;\n    },\n    onInputBlurOrEnter() {\n      this.userWantsToSeeSolutions = false;\n      if (this.task.autoCorrect) {\n        this.onClickCheck();\n      }\n    },\n    onInput(event: Event) {\n      this.autoGrowTextField(event.target as HTMLInputElement);\n    },\n    classForInput(blank: FillInTheBlanksElement) {\n      if (!this.submittedAnswers) {\n        return 'h5pBlank';\n      }\n\n      if (this.submittedAnswers?.[blank.uuid] != undefined) {\n        if (this.submittedAnswerIsCorrect(blank)) {\n          return 'h5pBlank h5pBlankCorrect';\n        } else {\n          return 'h5pBlank h5pBlankIncorrect';\n        }\n      } else {\n        return 'h5pBlank h5pBlankIncorrect';\n      }\n    },\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n  computed: {\n    splitTemplate(): string[] {\n      // Returns an array where the even indexes are the static text portions,\n      // and the odd indexes are the blanks.\n      return this.task.template.split(/\\*([^*]*)\\*/);\n    },\n    parsedTemplate(): FillInTheBlanksElement[] {\n      return this.splitTemplate.map((value, index) => {\n        if (index % 2 === 0) {\n          return { type: 'staticText', text: value, uuid: uuidv4() };\n        } else {\n          let splitString = value.split(':');\n          let solutions = splitString[0].split('/');\n          let hint = splitString[1];\n          return {\n            type: 'blank',\n            solutions: solutions,\n            hint: hint,\n            uuid: uuidv4(),\n          };\n        }\n      });\n    },\n    blanks(): Blank[] {\n      return this.parsedTemplate.filter(\n        (word) => word.type === 'blank'\n      ) as Blank[];\n    },\n    blanksFilled(): number {\n      if (!this.submittedAnswers) {\n        return 0;\n      } else {\n        return Object.keys(this.submittedAnswers).length;\n      }\n    },\n    allBlanksAreFilled(): boolean {\n      return this.blanksFilled == this.blanks.length;\n    },\n    correctAnswers(): number {\n      return this.blanks.filter((blank) => this.submittedAnswerIsCorrect(blank))\n        .length;\n    },\n    allAnswersAreCorrect(): boolean {\n      return this.blanks.every((blank) => this.submittedAnswerIsCorrect(blank));\n    },\n    maxPoints(): number {\n      return this.blanks.length;\n    },\n    inputHasChanged(): boolean {\n      return !isEqual(this.submittedAnswers, this.userInputs);\n    },\n    showExtraButtons(): boolean {\n      if (this.task.autoCorrect) {\n        if (this.allBlanksAreFilled) {\n          return (\n            this.submittedAnswers !== null &&\n            !this.inputHasChanged &&\n            !this.allAnswersAreCorrect\n          );\n        } else {\n          return false;\n        }\n      } else {\n        return (\n          this.submittedAnswers !== null &&\n          !this.inputHasChanged &&\n          !this.allAnswersAreCorrect\n        );\n      }\n    },\n    showCheckButton(): boolean {\n      return (\n        (this.submittedAnswers === null || this.inputHasChanged) &&\n        !this.task.autoCorrect\n      );\n    },\n    showSolutionButton(): boolean {\n      return !this.showSolutions && this.task.showSolutionsAllowed;\n    },\n    showRetryButton(): boolean {\n      return this.task.retryAllowed && this.submittedAnswers !== null;\n    },\n    showSolutions(): boolean {\n      return (\n        this.userWantsToSeeSolutions &&\n        (this.allBlanksAreFilled ||\n          !this.task.allBlanksMustBeFilledForSolutions)\n      );\n    },\n    showFillInAllTheBlanksMessage(): boolean {\n      return (\n        this.task.allBlanksMustBeFilledForSolutions &&\n        this.userWantsToSeeSolutions &&\n        !this.allBlanksAreFilled &&\n        !this.inputHasChanged\n      );\n    },\n    showResults(): boolean {\n      return (\n        !(this.submittedAnswers === null) &&\n        !this.showFillInAllTheBlanksMessage &&\n        (!this.task.autoCorrect || this.allBlanksAreFilled) &&\n        !this.inputHasChanged\n      );\n    },\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.blanks.length.toString()\n      );\n\n      return resultMessage;\n    },\n    feedbackSortedByScore(): Feedback[] {\n      return this.task.feedback\n        .map((value) => value)\n        .sort((a, b) => b.percentage - a.percentage);\n    },\n  },\n});\n","import { render } from \"./FillInTheBlanksViewer.vue?vue&type=template&id=11b575e8&scoped=true&ts=true\"\nimport script from \"./FillInTheBlanksViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./FillInTheBlanksViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./FillInTheBlanksViewer.vue?vue&type=style&index=0&id=11b575e8&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-11b575e8\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, createTextVNode as _createTextVNode, vModelSelect as _vModelSelect, vModelText as _vModelText, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-dd980ae6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"h5pEditorTopPanel\" }\nconst _hoisted_3 = [\"data-tooltip\"]\nconst _hoisted_4 = { class: \"collapsable collapsed\" }\nconst _hoisted_5 = { value: false }\nconst _hoisted_6 = { value: true }\nconst _hoisted_7 = [\"disabled\"]\nconst _hoisted_8 = [\"disabled\"]\nconst _hoisted_9 = [\"disabled\"]\nconst _hoisted_10 = [\"disabled\"]\nconst _hoisted_11 = [\"disabled\"]\nconst _hoisted_12 = { class: \"collapsable collapsed\" }\nconst _hoisted_13 = { class: \"feedbackContainer\" }\nconst _hoisted_14 = { class: \"feedbackPercentagesChild\" }\nconst _hoisted_15 = [\"onUpdate:modelValue\"]\nconst _hoisted_16 = { class: \"feedbackMessagesChild\" }\nconst _hoisted_17 = [\"onUpdate:modelValue\"]\nconst _hoisted_18 = [\"title\", \"onClick\"]\nconst _hoisted_19 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_studip_wysiwyg = _resolveComponent(\"studip-wysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Fill in the Blanks')), 1),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addBlank && _ctx.addBlank(...args))),\n          class: \"button\",\n          type: \"button\",\n          style: {\"margin-right\":\"0.1em\"}\n        }, _toDisplayString(_ctx.$gettext('Lcke hinzufgen')), 1),\n        _createElementVNode(\"div\", {\n          class: \"tooltip tooltip-icon\",\n          \"data-tooltip\": _ctx.instructions\n        }, null, 8, _hoisted_3)\n      ]),\n      _createVNode(_component_studip_wysiwyg, {\n        modelValue: _ctx.taskDefinition.template,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.taskDefinition.template) = $event)),\n        ref: \"wysiwyg\",\n        \"force-soft-breaks\": \"\",\n        \"remove-wrapping-p-tag\": \"\",\n        \"disable-autoformat\": \"\"\n      }, null, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_4, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.taskDefinition.caseSensitive) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.caseSensitive]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Gro- und Kleinschreibung beachten')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.taskDefinition.acceptTypos) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.acceptTypos]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Rechtschreib- oder Tippfehler ignorieren')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Korrigiert wird')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"select\", {\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.taskDefinition.autoCorrect) = $event))\n        }, [\n          _createElementVNode(\"option\", _hoisted_5, _toDisplayString(_ctx.$gettext('manuell per Button')), 1),\n          _createElementVNode(\"option\", _hoisted_6, _toDisplayString(_ctx.$gettext('automatisch nach Eingabe')), 1)\n        ], 512), [\n          [_vModelSelect, _ctx.taskDefinition.autoCorrect]\n        ])\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.autoCorrect ? 'setting-disabled' : '')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: _ctx.taskDefinition.autoCorrect,\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.strings.checkButton) = $event))\n        }, null, 8, _hoisted_7), [\n          [_vModelText, _ctx.taskDefinition.strings.checkButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.retryAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.retryAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Versuche erlauben')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.retryAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.retryAllowed,\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.taskDefinition.strings.retryButton) = $event))\n        }, null, 8, _hoisted_8), [\n          [_vModelText, _ctx.taskDefinition.strings.retryButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((_ctx.taskDefinition.showSolutionsAllowed) = $event)),\n          onChange: _cache[9] || (_cache[9] = ($event: any) => (\n            !_ctx.taskDefinition.showSolutionsAllowed\n              ? (_ctx.taskDefinition.allBlanksMustBeFilledForSolutions =\n                  _ctx.taskDefinition.showSolutionsAllowed)\n              : ''\n          ))\n        }, null, 544), [\n          [_vModelCheckbox, _ctx.taskDefinition.showSolutionsAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Lsungen knnen angezeigt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((_ctx.taskDefinition.strings.solutionsButton) = $event))\n        }, null, 8, _hoisted_9), [\n          [_vModelText, _ctx.taskDefinition.strings.solutionsButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((_ctx.taskDefinition.allBlanksMustBeFilledForSolutions) = $event))\n        }, null, 8, _hoisted_10), [\n          [_vModelCheckbox, _ctx.taskDefinition.allBlanksMustBeFilledForSolutions]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext(\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen.'\n          )), 1)\n      ], 2),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(\n          _ctx.taskDefinition.allBlanksMustBeFilledForSolutions\n            ? ''\n            : 'setting-disabled'\n        )\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Mitteilung, wenn nicht alle Lcken ausgefllt sind:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.allBlanksMustBeFilledForSolutions,\n          \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event: any) => ((_ctx.taskDefinition.strings.fillInAllBlanksMessage) = $event)),\n          style: {\"width\":\"100%\"}\n        }, null, 8, _hoisted_11), [\n          [_vModelText, _ctx.taskDefinition.strings.fillInAllBlanksMessage]\n        ])\n      ], 2)\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_12, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Feedback')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext(\n            'Ergebnismitteilung (mgliche Variablen :correct und :total):'\n          )) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[13] || (_cache[13] = ($event: any) => ((_ctx.taskDefinition.strings.resultMessage) = $event)),\n          style: {\"width\":\"100%\"}\n        }, null, 512), [\n          [_vModelText, _ctx.taskDefinition.strings.resultMessage]\n        ])\n      ]),\n      _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Benutzerdefiniertes Feedback fr beliebige Punktebereiche:')), 1),\n      _createElementVNode(\"div\", _hoisted_13, [\n        _createElementVNode(\"div\", _hoisted_14, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Prozent')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n              key: i,\n              type: \"number\",\n              min: \"0\",\n              max: \"100\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].percentage) = $event)\n            }, null, 8, _hoisted_15)), [\n              [_vModelText, _ctx.taskDefinition.feedback[i].percentage]\n            ])\n          }), 128))\n        ]),\n        _createElementVNode(\"div\", _hoisted_16, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Mitteilung')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"feedbackMessagesChildSubdivision\",\n              key: i\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].message) = $event)\n              }, null, 8, _hoisted_17), [\n                [_vModelText, _ctx.taskDefinition.feedback[i].message]\n              ]),\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                title: _ctx.titleForDeleteButtonForFeedback(feedback),\n                onClick: ($event: any) => (_ctx.removeFeedback(feedback))\n              }, [\n                _createElementVNode(\"img\", {\n                  src: _ctx.urlForIcon('trash'),\n                  width: \"16\",\n                  height: \"16\"\n                }, null, 8, _hoisted_19)\n              ], 8, _hoisted_18)\n            ]))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"button\",\n        onClick: _cache[14] || (_cache[14] = \n//@ts-ignore\n(...args) => (_ctx.addFeedback && _ctx.addFeedback(...args)))\n      }, _toDisplayString(_ctx.$gettext('Neuer Bereich')), 1)\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { Feedback, FillInTheBlanksTask } from '@/models/TaskDefinition';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'FillInTheBlanksEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<FillInTheBlanksTask>,\n      required: true,\n    },\n  },\n  computed: {\n    feedbackSortedByScore(): Feedback[] {\n      return this.taskDefinition.feedback\n        .map((value) => value)\n        .sort((a, b) => b.percentage - a.percentage);\n    },\n    instructions(): string {\n      return $gettext(\n        'Fgen Sie Lcken hinzu, indem Sie ein Sternchen (*) vor und hinter dem korrekten Wort bzw. den Wrtern setzen oder markieren Sie ein Wort und klicken Sie den \"Lcke hinzufgen\"Button.' +\n          ' Sie knnen alternative Antworten mit einem Schrgstrich (/) hinzufgen.' +\n          ' Auerdem knnen Sie einen Tooltip mit einem Doppelpunkt (:) hinzufgen.'\n      );\n    },\n  },\n  methods: {\n    $gettext,\n    titleForDeleteButtonForFeedback(feedback: Feedback): string {\n      return this.$gettext(\n        'Entferne den Feedback-Bereich, der ab %{ percentage }% anfngt.',\n        { percentage: feedback.percentage.toString() }\n      );\n    },\n    /**\n     * Surround the selected text with two asterisks\n     */\n    addBlank() {\n      const wysiwygEl = (this.$refs.wysiwyg as any)?.$el;\n      const editor = window.STUDIP.wysiwyg.getEditor(wysiwygEl);\n      if (!editor) {\n        console.error('getEditor(wysiwygEl) returned: ', editor);\n        throw new Error('Could not get reference to wysiwyg editor');\n      }\n      const selection = editor.model.document.selection;\n      const start = selection.getFirstPosition();\n      const end = selection.getLastPosition();\n      if (!start || !end) {\n        console.error('selection start: ', start, ' selection end: ', end);\n        throw new Error('Could not get selection in editor');\n      }\n      editor.model.change((writer) => {\n        writer.insertText('*', end);\n        writer.insertText('*', start);\n      });\n    },\n    addFeedback(): void {\n      this.taskDefinition.feedback.push({\n        percentage: this.feedbackSortedByScore[0]?.percentage,\n        message: 'Feedback',\n      });\n    },\n    removeFeedback(feedbackToRemove: Feedback): void {\n      this.taskDefinition.feedback = this.taskDefinition.feedback.filter(\n        (feedback) => feedback !== feedbackToRemove\n      );\n    },\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n});\n","import { render } from \"./FillInTheBlanksEditor.vue?vue&type=template&id=dd980ae6&scoped=true&ts=true\"\nimport script from \"./FillInTheBlanksEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./FillInTheBlanksEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./FillInTheBlanksEditor.vue?vue&type=style&index=0&id=dd980ae6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-dd980ae6\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, vModelText as _vModelText, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2a137151\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"flex-parent-element\" }\nconst _hoisted_3 = [\"onUpdate:modelValue\"]\nconst _hoisted_4 = [\"onUpdate:modelValue\"]\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = [\"src\", \"title\"]\nconst _hoisted_7 = { class: \"collapsable collapsed\" }\nconst _hoisted_8 = [\"onUpdate:modelValue\"]\nconst _hoisted_9 = [\"onUpdate:modelValue\"]\nconst _hoisted_10 = [\"onUpdate:modelValue\"]\nconst _hoisted_11 = { class: \"collapsable collapsed\" }\nconst _hoisted_12 = [\"disabled\"]\nconst _hoisted_13 = [\"disabled\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_studip_wysiwyg = _resolveComponent(\"studip-wysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Question')), 1),\n      _createElementVNode(\"label\", null, [\n        _createVNode(_component_studip_wysiwyg, {\n          modelValue: _ctx.taskDefinition.question,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.taskDefinition.question) = $event)),\n          \"force-soft-breaks\": \"\",\n          \"remove-wrapping-p-tag\": \"\",\n          \"disable-autoformat\": \"\"\n        }, null, 8, [\"modelValue\"])\n      ]),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.answers, (answer, i) => {\n        return (_openBlock(), _createElementBlock(\"fieldset\", {\n          class: \"collapsable collapsed\",\n          key: i\n        }, [\n          _createElementVNode(\"legend\", null, _toDisplayString(answer.text), 1),\n          _createElementVNode(\"div\", _hoisted_2, [\n            _withDirectives(_createElementVNode(\"input\", {\n              class: \"flex-child-element checkbox\",\n              type: \"checkbox\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].correct) = $event)\n            }, null, 8, _hoisted_3), [\n              [_vModelCheckbox, _ctx.taskDefinition.answers[i].correct]\n            ]),\n            _withDirectives(_createElementVNode(\"input\", {\n              class: \"flex-child-element textbox\",\n              type: \"text\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].text) = $event)\n            }, null, 8, _hoisted_4), [\n              [_vModelText, _ctx.taskDefinition.answers[i].text]\n            ]),\n            _createElementVNode(\"button\", {\n              type: \"button\",\n              class: \"flex-child-element removeAnswerButton\",\n              onClick: ($event: any) => (_ctx.removeAnswer(answer))\n            }, [\n              _createElementVNode(\"img\", {\n                src: _ctx.urlForIcon('trash'),\n                title: _ctx.$gettext('Lschen')\n              }, null, 8, _hoisted_6)\n            ], 8, _hoisted_5)\n          ]),\n          _createElementVNode(\"fieldset\", _hoisted_7, [\n            _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Hinweis und Feedback')), 1),\n            _createElementVNode(\"label\", null, [\n              _createElementVNode(\"span\", null, _toDisplayString(_ctx.$gettext('Hinweis')), 1),\n              _withDirectives(_createElementVNode(\"input\", {\n                class: \"textbox\",\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].strings.hint) = $event)\n              }, null, 8, _hoisted_8), [\n                [_vModelText, _ctx.taskDefinition.answers[i].strings.hint]\n              ])\n            ]),\n            _createElementVNode(\"label\", null, [\n              _createElementVNode(\"span\", null, _toDisplayString(_ctx.$gettext('Feedback wenn ausgewhlt')), 1),\n              _withDirectives(_createElementVNode(\"input\", {\n                class: \"textbox\",\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].strings.feedbackSelected) = $event)\n              }, null, 8, _hoisted_9), [\n                [_vModelText, _ctx.taskDefinition.answers[i].strings.feedbackSelected]\n              ])\n            ]),\n            _createElementVNode(\"label\", null, [\n              _createElementVNode(\"span\", null, _toDisplayString(_ctx.$gettext('Feedback wenn nicht ausgewhlt')), 1),\n              _withDirectives(_createElementVNode(\"input\", {\n                class: \"textbox\",\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].strings.feedbackNotSelected) = $event)\n              }, null, 8, _hoisted_10), [\n                [_vModelText, _ctx.taskDefinition.answers[i].strings.feedbackNotSelected]\n              ])\n            ])\n          ])\n        ]))\n      }), 128)),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"button\",\n        onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.addAnswer && _ctx.addAnswer(...args)))\n      }, _toDisplayString(_ctx.$gettext('Neue Antwort')), 1)\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_11, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.taskDefinition.strings.checkButton) = $event))\n        }, null, 512), [\n          [_vModelText, _ctx.taskDefinition.strings.checkButton]\n        ])\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.taskDefinition.canAnswerMultiple) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.canAnswerMultiple]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Antworten knnen ausgewhlt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.taskDefinition.randomOrder) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.randomOrder]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Zeige Antworten in zuflliger Reihenfolge')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.retryAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.retryAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Versuche erlauben')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.retryAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.retryAllowed,\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.strings.retryButton) = $event))\n        }, null, 8, _hoisted_12), [\n          [_vModelText, _ctx.taskDefinition.strings.retryButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.taskDefinition.showSolutionsAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.showSolutionsAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Lsungen knnen angezeigt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((_ctx.taskDefinition.strings.solutionsButton) = $event))\n        }, null, 8, _hoisted_13), [\n          [_vModelText, _ctx.taskDefinition.strings.solutionsButton]\n        ])\n      ], 2)\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { QuestionAnswer, QuestionTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'QuestionEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<QuestionTask>,\n      required: true,\n    },\n  },\n  methods: {\n    $gettext,\n    addAnswer(): void {\n      this.taskDefinition.answers.push({\n        text: this.$gettext('Neue Antwort'),\n        correct: true,\n        strings: {\n          hint: '',\n          feedbackSelected: '',\n          feedbackNotSelected: '',\n        },\n      });\n    },\n    removeAnswer(answerToRemove: QuestionAnswer): void {\n      this.taskDefinition.answers = this.taskDefinition.answers.filter(\n        (answer) => answer !== answerToRemove\n      );\n    },\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n  computed: {\n    currentUndoRedoState: () =>\n      taskEditorStore.undoRedoStack[taskEditorStore.undoRedoIndex],\n  },\n});\n","import { render } from \"./QuestionEditor.vue?vue&type=template&id=2a137151&scoped=true&ts=true\"\nimport script from \"./QuestionEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./QuestionEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./QuestionEditor.vue?vue&type=style&index=0&id=2a137151&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a137151\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, vModelRadio as _vModelRadio, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4cf40adc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"h5pModule\" }\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = [\"value\", \"onUpdate:modelValue\", \"disabled\"]\nconst _hoisted_4 = [\"data-tooltip\"]\nconst _hoisted_5 = {\n  key: 0,\n  class: \"answerFeedback\"\n}\nconst _hoisted_6 = {\n  key: 1,\n  class: \"answerFeedback\"\n}\nconst _hoisted_7 = [\"value\", \"disabled\"]\nconst _hoisted_8 = [\"data-tooltip\"]\nconst _hoisted_9 = {\n  key: 0,\n  class: \"answerFeedback\"\n}\nconst _hoisted_10 = {\n  key: 1,\n  class: \"answerFeedback\"\n}\nconst _hoisted_11 = { class: \"retry-and-show-solutions-buttons\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"h5pQuestion\",\n      innerHTML: this.task.question\n    }, null, 8, _hoisted_2),\n    (_ctx.task.canAnswerMultiple)\n      ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_ctx.answers, (answer, i) => {\n          return (_openBlock(), _createElementBlock(_Fragment, { key: i }, [\n            _createElementVNode(\"label\", {\n              class: _normalizeClass(_ctx.classForAnswer(answer))\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"checkbox\",\n                value: answer.text,\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.selectedAnswers[answer.text]) = $event),\n                disabled: _ctx.isSubmitted\n              }, null, 8, _hoisted_3), [\n                [_vModelCheckbox, _ctx.selectedAnswers[answer.text]]\n              ]),\n              _createTextVNode(\" \" + _toDisplayString(answer.text) + \" \", 1),\n              (answer.strings.hint && !_ctx.isSubmitted)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"tooltip tooltip-icon h5pTooltip\",\n                    \"data-tooltip\": answer.strings.hint\n                  }, null, 8, _hoisted_4))\n                : _createCommentVNode(\"\", true)\n            ], 2),\n            (_ctx.isSubmitted)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  (\n              answer.strings.feedbackSelected && _ctx.selectedAnswers[answer.text]\n            )\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(answer.strings.feedbackSelected), 1))\n                    : (\n              answer.strings.feedbackNotSelected &&\n              !_ctx.selectedAnswers[answer.text]\n            )\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString(answer.strings.feedbackNotSelected), 1))\n                      : _createCommentVNode(\"\", true)\n                ], 64))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        }), 128))\n      : (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.answers, (answer, i) => {\n          return (_openBlock(), _createElementBlock(_Fragment, { key: i }, [\n            _createElementVNode(\"label\", {\n              class: _normalizeClass(_ctx.classForAnswer(answer))\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"radio\",\n                class: \"answerRadioButton\",\n                value: answer,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selectedAnswer) = $event)),\n                disabled: _ctx.isSubmitted\n              }, null, 8, _hoisted_7), [\n                [_vModelRadio, _ctx.selectedAnswer]\n              ]),\n              _createTextVNode(\" \" + _toDisplayString(answer.text) + \" \", 1),\n              (answer.strings.hint && !_ctx.isSubmitted)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"tooltip tooltip-icon h5pTooltip\",\n                    \"data-tooltip\": answer.strings.hint\n                  }, null, 8, _hoisted_8))\n                : _createCommentVNode(\"\", true)\n            ], 2),\n            (_ctx.isSubmitted)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  (answer.strings.feedbackSelected && _ctx.selectedAnswer == answer)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _toDisplayString(answer.strings.feedbackSelected), 1))\n                    : (\n              answer.strings.feedbackNotSelected && _ctx.selectedAnswer !== answer\n            )\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, _toDisplayString(answer.strings.feedbackNotSelected), 1))\n                      : _createCommentVNode(\"\", true)\n                ], 64))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        }), 128)),\n    (!_ctx.isSubmitted)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 2,\n          onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onClickCheck && _ctx.onClickCheck(...args))),\n          class: \"h5pButton\"\n        }, _toDisplayString(this.task.strings.checkButton), 1))\n      : _createCommentVNode(\"\", true),\n    (_ctx.isSubmitted)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 3,\n          \"achieved-points\": _ctx.points,\n          \"max-points\": _ctx.maxPoints\n        }, null, 8, [\"achieved-points\", \"max-points\"]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_11, [\n      (this.task.retryAllowed && _ctx.isSubmitted)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n            class: \"h5pButton\"\n          }, _toDisplayString(this.task.strings.retryButton), 1))\n        : _createCommentVNode(\"\", true),\n      (_ctx.showSolutionsButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 1,\n            onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.onClickShowSolution && _ctx.onClickShowSolution(...args))),\n            class: \"h5pButton\"\n          }, _toDisplayString(this.task.strings.solutionsButton), 1))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { QuestionAnswer, QuestionTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\nexport default defineComponent({\n  name: 'QuestionViewer',\n  props: {\n    task: {\n      type: Object as PropType<QuestionTask>,\n      required: true,\n    },\n  },\n  components: { FeedbackElement },\n  data() {\n    return {\n      selectedAnswers: {} as Record<string, boolean>,\n      selectedAnswer: this.task.answers[0],\n      isSubmitted: false,\n      showSolutions: false,\n    };\n  },\n  methods: {\n    $gettext,\n    onClickCheck(): void {\n      this.isSubmitted = true;\n    },\n    onClickTryAgain(): void {\n      this.isSubmitted = false;\n      this.showSolutions = false;\n      this.selectedAnswers = {};\n    },\n    onClickShowSolution(): void {\n      this.showSolutions = true;\n    },\n    selectAnswer(answer: QuestionAnswer): void {\n      if (this.isSubmitted) return;\n\n      this.selectedAnswers[answer.text] = !this.selectedAnswers[answer.text];\n    },\n    classForAnswer(answer: QuestionAnswer): string {\n      if (this.showSolutions) {\n        if (answer.correct) return 'correctAnswer';\n      }\n\n      if (this.isSubmitted) {\n        if (this.task.canAnswerMultiple) {\n          if (this.selectedAnswers[answer.text]) {\n            if (answer.correct) {\n              return 'correctAnswer';\n            } else {\n              return 'incorrectAnswer';\n            }\n          } else {\n            return 'submittedAnswer';\n          }\n        } else {\n          if (this.selectedAnswer === answer) {\n            if (answer.correct) {\n              return 'correctAnswer';\n            } else {\n              return 'incorrectAnswer';\n            }\n          } else {\n            return 'submittedAnswer';\n          }\n        }\n      } else {\n        return 'answer';\n      }\n    },\n  },\n  computed: {\n    maxPoints(): number {\n      if (this.task.canAnswerMultiple) {\n        let maxPoints = 0;\n        this.task.answers.forEach((answer) => {\n          if (answer.correct) {\n            maxPoints++;\n          }\n        });\n        return maxPoints;\n      } else {\n        return 1;\n      }\n    },\n    points(): number {\n      if (this.task.canAnswerMultiple) {\n        let points = 0;\n\n        this.task.answers.forEach((answer) => {\n          if (this.selectedAnswers[answer.text]) {\n            if (answer.correct) {\n              points++;\n            } else {\n              points--;\n            }\n          }\n        });\n\n        // Cannot get less than 0 points\n        if (points < 0) points = 0;\n\n        return points;\n      } else {\n        return this.selectedAnswer.correct ? 1 : 0;\n      }\n    },\n    answers(): QuestionAnswer[] {\n      if (this.task.randomOrder) {\n        // https://stackoverflow.com/a/46545530\n        return this.task.answers\n          .map((value) => ({ value, sort: Math.random() }))\n          .sort((a, b) => a.sort - b.sort)\n          .map(({ value }) => value);\n      } else {\n        return this.task.answers;\n      }\n    },\n    showSolutionsButton(): boolean {\n      return this.task.showSolutionsAllowed && this.isSubmitted;\n    },\n  },\n});\n","import { render } from \"./QuestionViewer.vue?vue&type=template&id=4cf40adc&scoped=true&ts=true\"\nimport script from \"./QuestionViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./QuestionViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./QuestionViewer.vue?vue&type=style&index=0&id=4cf40adc&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4cf40adc\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, withModifiers as _withModifiers, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-03fcca7e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  class: \"h5pModule\",\n  ref: \"wrapperElement\"\n}\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = [\"onDragstart\", \"onDrop\"]\nconst _hoisted_4 = [\"onDrop\", \"onClick\"]\nconst _hoisted_5 = { key: 2 }\nconst _hoisted_6 = [\"data-tooltip\"]\nconst _hoisted_7 = [\"onDragstart\", \"onClick\"]\nconst _hoisted_8 = { class: \"h5pFeedbackContainer\" }\nconst _hoisted_9 = { class: \"h5pFeedbackContainerTop\" }\nconst _hoisted_10 = {\n  key: 0,\n  class: \"h5pFeedbackText\"\n}\nconst _hoisted_11 = { class: \"h5pFeedbackContainerBottom\" }\nconst _hoisted_12 = {\n  key: 1,\n  class: \"h5pFeedbackResultAndButtons\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.parsedTemplate, (element) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: element.uuid\n      }, [\n        (element.type === 'staticText')\n          ? (_openBlock(), _createElementBlock(\"span\", {\n              key: 0,\n              innerHTML: element.text\n            }, null, 8, _hoisted_2))\n          : (element.type === 'blank')\n            ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                (_ctx.userInputs[element.uuid])\n                  ? (_openBlock(), _createElementBlock(\"span\", {\n                      key: 0,\n                      class: _normalizeClass(_ctx.classForFilledBlank(element)),\n                      draggable: \"true\",\n                      onDragstart: ($event: any) => (\n            _ctx.startDragUsedAnswer($event, element, _ctx.userInputs[element.uuid])\n          ),\n                      onDrop: ($event: any) => (_ctx.onDropBlank($event, element)),\n                      onDragover: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"])),\n                      onDragenter: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"]))\n                    }, _toDisplayString(_ctx.getAnswerById(_ctx.userInputs[element.uuid])?.text), 43, _hoisted_3))\n                  : (_openBlock(), _createElementBlock(\"span\", {\n                      key: 1,\n                      class: \"h5pBlank\",\n                      onDrop: ($event: any) => (_ctx.onDropBlank($event, element)),\n                      onDragover: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"])),\n                      onDragenter: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"prevent\"])),\n                      onClick: ($event: any) => (_ctx.onClickBlank(element))\n                    }, \" \", 40, _hoisted_4)),\n                (element.hint)\n                  ? (_openBlock(), _createElementBlock(\"label\", _hoisted_5, [\n                      _createElementVNode(\"span\", {\n                        class: \"tooltip tooltip-icon\",\n                        \"data-tooltip\": element.hint\n                      }, null, 8, _hoisted_6)\n                    ]))\n                  : _createCommentVNode(\"\", true)\n              ], 64))\n            : _createCommentVNode(\"\", true)\n      ], 64))\n    }), 128)),\n    _createElementVNode(\"div\", {\n      class: \"unused-answers-list\",\n      onDrop: _cache[4] || (_cache[4] = ($event: any) => (_ctx.onDropUnusedAnswers($event))),\n      onDragover: _cache[5] || (_cache[5] = _withModifiers(() => {}, [\"prevent\"])),\n      onDragenter: _cache[6] || (_cache[6] = _withModifiers(() => {}, [\"prevent\"]))\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.unusedAnswers, (answer) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: answer.uuid\n        }, [\n          _createElementVNode(\"span\", {\n            class: \"h5pBlankSolution\",\n            draggable: \"true\",\n            onDragstart: ($event: any) => (_ctx.startDragUnusedAnswer($event, answer)),\n            onClick: ($event: any) => (_ctx.onClickUnusedAnswer(answer))\n          }, _toDisplayString(answer.text), 41, _hoisted_7)\n        ]))\n      }), 128))\n    ], 32),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          \"achieved-points\": _ctx.correctAnswers,\n          \"max-points\": _ctx.maxPoints,\n          feedback: _ctx.task.feedback,\n          \"result-message\": _ctx.resultMessage\n        }, null, 8, [\"achieved-points\", \"max-points\", \"feedback\", \"result-message\"]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _createElementVNode(\"div\", _hoisted_9, [\n        (_ctx.showFillInAllTheBlanksMessage)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, _toDisplayString(this.task.strings.fillInAllBlanksMessage\n              ? this.task.strings.fillInAllBlanksMessage\n              : _ctx.$gettext(\n                  'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen'\n                )), 1))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _createElementVNode(\"div\", _hoisted_11, [\n        (_ctx.showCheckButton)\n          ? (_openBlock(), _createElementBlock(\"button\", {\n              key: 0,\n              onClick: _cache[7] || (_cache[7] = \n//@ts-ignore\n(...args) => (_ctx.onClickCheck && _ctx.onClickCheck(...args))),\n              class: \"h5pButton\"\n            }, _toDisplayString(this.task.strings.checkButton), 1))\n          : _createCommentVNode(\"\", true),\n        (_ctx.showExtraButtons)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n              (!_ctx.showSolutions && this.task.showSolutionsAllowed)\n                ? (_openBlock(), _createElementBlock(\"button\", {\n                    key: 0,\n                    onClick: _cache[8] || (_cache[8] = \n//@ts-ignore\n(...args) => (_ctx.onClickShowSolution && _ctx.onClickShowSolution(...args))),\n                    class: \"h5pButton\"\n                  }, _toDisplayString(this.task.strings.solutionsButton), 1))\n                : _createCommentVNode(\"\", true),\n              (this.task.retryAllowed)\n                ? (_openBlock(), _createElementBlock(\"button\", {\n                    key: 1,\n                    onClick: _cache[9] || (_cache[9] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n                    class: \"h5pButton\"\n                  }, _toDisplayString(this.task.strings.retryButton), 1))\n                : _createCommentVNode(\"\", true)\n            ]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ])\n  ], 512))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { DragTheWordsTask, Feedback } from '@/models/TaskDefinition';\nimport { v4 as uuidv4 } from 'uuid';\nimport { isEqual, round } from 'lodash';\nimport { $gettext } from '@/language/gettext';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\ntype DragTheWordsElement = Blank | StaticText;\n\ninterface Blank {\n  type: 'blank';\n  uuid: Uuid;\n  solution: string;\n  hint: string;\n}\n\ninterface Answer {\n  uuid: Uuid;\n  text: string;\n}\n\ntype StaticText = {\n  type: 'staticText';\n  uuid: Uuid;\n  text: string;\n};\n\ntype Uuid = string;\n\nexport default defineComponent({\n  name: 'DragTheWordsViewer',\n  components: { FeedbackElement },\n  props: {\n    task: {\n      type: Object as PropType<DragTheWordsTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      // Map from Blank IDs to Answer IDs\n      userInputs: {} as Record<Uuid, Uuid>,\n      submittedAnswers: null as Record<Uuid, Uuid> | null,\n      userWantsToSeeSolutions: false,\n      draggedAnswerId: undefined as Uuid | undefined,\n      draggedSourceId: undefined as Uuid | undefined,\n      clickedAnswerId: undefined as Uuid | undefined,\n    };\n  },\n  methods: {\n    $gettext,\n\n    submittedAnswerIsCorrect(blank: Blank): boolean {\n      const submittedAnswerId = this.submittedAnswers?.[blank.uuid];\n      if (!submittedAnswerId) return false;\n\n      const submittedAnswer = this.getAnswerById(submittedAnswerId)?.text;\n      if (!submittedAnswer) return false;\n\n      return this.isAnswerCorrect(submittedAnswer, blank.solution);\n    },\n\n    isAnswerCorrect(userAnswer: string, solution: string): boolean {\n      return userAnswer === solution;\n    },\n\n    updateAttempt() {\n      // Tell the server which blanks were filled out correctly.\n      const points = {} as Record<string, number>;\n      this.blanks.forEach((blank, index) => {\n        // TODO Consider what the key should be. This is a bit ugly.\n        // The key is shown directly in the 'assessment' UI.\n        // Maybe we should change how that works?\n        points[`${index} - ${blank.solution}`] = this.submittedAnswerIsCorrect(\n          blank\n        )\n          ? 1\n          : 0;\n      });\n      this.$emit('updateAttempt', {\n        points,\n        // The attempt is marked as successful if all answers were correct.\n        success: this.correctAnswers === this.blanks.length,\n      });\n    },\n\n    getElement(elementId: Uuid): DragTheWordsElement {\n      const el = this.parsedTemplate.find((el) => el.uuid === elementId);\n      if (!el) {\n        throw new Error(\n          'The given element does not exist in parsedTemplate: ' + elementId\n        );\n      }\n      return el;\n    },\n\n    startDragUsedAnswer(\n      dragEvent: DragEvent,\n      blank: Blank,\n      answerId: Uuid\n    ): void {\n      if (dragEvent.dataTransfer) {\n        dragEvent.dataTransfer.dropEffect = 'move';\n        dragEvent.dataTransfer.effectAllowed = 'move';\n      }\n      const answer = this.getAnswerById(answerId);\n      console.log('Dragging answer: ', answer, 'From blank: ', blank);\n\n      for (const property in this.userInputs) {\n        console.log(property);\n      }\n\n      this.draggedAnswerId = answerId;\n    },\n\n    startDragUnusedAnswer(dragEvent: DragEvent, answer: Answer): void {\n      if (dragEvent.dataTransfer) {\n        dragEvent.dataTransfer.dropEffect = 'move';\n        dragEvent.dataTransfer.effectAllowed = 'move';\n\n        console.log('Dragging answer: ', answer);\n        this.draggedAnswerId = answer.uuid;\n      }\n    },\n\n    onDropBlank(dragEvent: DragEvent, blank: Blank): void {\n      if (!this.draggedAnswerId) {\n        throw new Error('Dragged answer id is undefined');\n      }\n\n      console.log('Dropped answer :', this.draggedAnswer, 'on blank: ', blank);\n\n      // Remove the dropped answer from the blank, if any, where it has been dragged from\n      const previousBlank = this.blanks.find(\n        (blank) => this.userInputs[blank.uuid] === this.draggedAnswerId\n      );\n\n      if (previousBlank) {\n        delete this.userInputs[previousBlank.uuid];\n      }\n\n      // Set the answer for the blank where the answer was dropped\n      this.userInputs[blank.uuid] = this.draggedAnswerId;\n\n      this.draggedAnswerId = undefined;\n    },\n\n    onDropUnusedAnswers(ev: DragEvent): void {\n      console.error('Not implemented');\n      ev.preventDefault(); // Indicate that dropping is al\n      if (!this.draggedAnswer) {\n        throw new Error('draggedAnswer is undefined');\n      }\n      // Remove the dropped answer from the blank, if any, where it has been dragged from\n      const blank = this.blanks.find(\n        (blank) => this.userInputs[blank.uuid] === this.draggedAnswerId\n      );\n      if (blank) {\n        delete this.userInputs[blank.uuid];\n      }\n    },\n\n    onClickCheck() {\n      // Save a copy of the user's inputs.\n      this.submittedAnswers = { ...this.userInputs };\n    },\n\n    onClickShowSolution() {\n      this.userWantsToSeeSolutions = true;\n    },\n\n    onClickTryAgain() {\n      this.userWantsToSeeSolutions = false;\n      this.userInputs = {};\n      this.submittedAnswers = null;\n    },\n\n    classForFilledBlank(blank: Blank) {\n      if (!this.submittedAnswers) {\n        return 'h5pFilledBlank';\n      }\n\n      if (this.userInputs?.[blank.uuid]) {\n        if (this.submittedAnswerIsCorrect(blank)) {\n          return 'h5pFilledBlank h5pBlankCorrect';\n        } else {\n          const userInputHasChangedAfterSubmitting =\n            this.submittedAnswers?.[blank.uuid] !==\n            this.userInputs?.[blank.uuid];\n          if (!userInputHasChangedAfterSubmitting) {\n            return 'h5pFilledBlank h5pBlankIncorrect';\n          } else {\n            return 'h5pFilledBlank';\n          }\n        }\n      } else {\n        return 'h5pBlank';\n      }\n    },\n\n    getAnswerById(id: Uuid): Answer | undefined {\n      return this.answers.find((answer) => answer.uuid === id);\n    },\n\n    onClickUnusedAnswer(answer: Answer): void {\n      console.log('Clicked answer:', answer);\n      this.clickedAnswerId = answer.uuid;\n    },\n\n    onClickBlank(blank: Blank): void {\n      console.log('Clicked blank:', blank);\n      if (!this.clickedAnswerId) return;\n      this.userInputs[blank.uuid] = this.clickedAnswerId;\n      this.clickedAnswerId = undefined;\n    },\n  },\n  computed: {\n    splitTemplate(): string[] {\n      // Returns an array where the even indexes are the static text portions,\n      // and the odd indexes are the blanks.\n      return this.task.template.split(/\\*([^*]*)\\*/);\n    },\n\n    parsedTemplate(): DragTheWordsElement[] {\n      return this.splitTemplate.map((value, index) => {\n        if (index % 2 === 0) {\n          return { type: 'staticText', text: value, uuid: uuidv4() };\n        } else {\n          let splitString = value.split(':');\n          let solution = splitString[0];\n          let hint = splitString[1];\n          return {\n            type: 'blank',\n            solution: solution,\n            hint: hint,\n            uuid: uuidv4(),\n          };\n        }\n      });\n    },\n\n    blanks(): Blank[] {\n      return this.parsedTemplate.filter(\n        (word) => word.type === 'blank'\n      ) as Blank[];\n    },\n\n    answers(): Answer[] {\n      return this.blanks.map((blank) => ({\n        uuid: uuidv4(),\n        text: blank.solution,\n      }));\n    },\n\n    draggedAnswer(): Answer | undefined {\n      if (!this.draggedAnswerId) {\n        return undefined;\n      } else {\n        return this.getAnswerById(this.draggedAnswerId);\n      }\n    },\n\n    randomizedAnswers(): Answer[] {\n      // https://stackoverflow.com/a/46545530\n      return this.answers\n        .map((value) => ({ value, sort: Math.random() }))\n        .sort((a, b) => a.sort - b.sort)\n        .map(({ value }) => value);\n    },\n\n    sortedAnswers(): Answer[] {\n      // https://stackoverflow.com/a/45544166\n      return this.answers\n        .map((value) => value)\n        .sort((a, b) => a.text.localeCompare(b.text));\n    },\n\n    blanksFilled(): number {\n      if (!this.submittedAnswers) {\n        return 0;\n      } else {\n        return Object.keys(this.submittedAnswers).length;\n      }\n    },\n\n    allBlanksAreFilled(): boolean {\n      return this.blanksFilled == this.blanks.length;\n    },\n\n    correctAnswers(): number {\n      return this.blanks.filter((blank) => this.submittedAnswerIsCorrect(blank))\n        .length;\n    },\n\n    allAnswersAreCorrect(): boolean {\n      return this.blanks.every((blank) => this.submittedAnswerIsCorrect(blank));\n    },\n\n    maxPoints(): number {\n      return this.blanks.length;\n    },\n\n    unusedAnswers(): Answer[] {\n      if (this.task.alphabeticOrder) {\n        return this.sortedAnswers.filter(\n          (answer) => !Object.values(this.userInputs).includes(answer.uuid)\n        );\n      } else {\n        return this.randomizedAnswers.filter(\n          (answer) => !Object.values(this.userInputs).includes(answer.uuid)\n        );\n      }\n    },\n\n    inputHasChanged(): boolean {\n      return !isEqual(this.submittedAnswers, this.userInputs);\n    },\n\n    showExtraButtons(): boolean {\n      if (this.task.instantFeedback) {\n        if (this.allBlanksAreFilled) {\n          return (\n            this.submittedAnswers !== null &&\n            !this.inputHasChanged &&\n            !this.allAnswersAreCorrect\n          );\n        } else {\n          return false;\n        }\n      } else {\n        return (\n          this.submittedAnswers !== null &&\n          !this.inputHasChanged &&\n          !this.allAnswersAreCorrect\n        );\n      }\n    },\n\n    showCheckButton(): boolean {\n      return (\n        (this.submittedAnswers === null || this.inputHasChanged) &&\n        !this.task.instantFeedback\n      );\n    },\n\n    showSolutionButton(): boolean {\n      return !this.showSolutions && this.task.showSolutionsAllowed;\n    },\n\n    showRetryButton(): boolean {\n      return this.task.retryAllowed && this.submittedAnswers !== null;\n    },\n\n    showSolutions(): boolean {\n      return (\n        this.userWantsToSeeSolutions &&\n        (this.allBlanksAreFilled ||\n          !this.task.allBlanksMustBeFilledForSolutions)\n      );\n    },\n\n    showFillInAllTheBlanksMessage(): boolean {\n      return (\n        this.task.allBlanksMustBeFilledForSolutions &&\n        this.userWantsToSeeSolutions &&\n        !this.allBlanksAreFilled &&\n        !this.inputHasChanged\n      );\n    },\n\n    showResults(): boolean {\n      return (\n        !(this.submittedAnswers === null) &&\n        !this.showFillInAllTheBlanksMessage &&\n        (!this.task.instantFeedback || this.allBlanksAreFilled) &&\n        !this.inputHasChanged\n      );\n    },\n\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.blanks.length.toString()\n      );\n\n      return resultMessage;\n    },\n  },\n});\n","import { render } from \"./DragTheWordsViewer.vue?vue&type=template&id=03fcca7e&scoped=true&ts=true\"\nimport script from \"./DragTheWordsViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./DragTheWordsViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./DragTheWordsViewer.vue?vue&type=style&index=0&id=03fcca7e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-03fcca7e\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createTextVNode as _createTextVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, vModelCheckbox as _vModelCheckbox, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-773b0b4e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"h5pEditorTopPanel\" }\nconst _hoisted_3 = [\"data-tooltip\"]\nconst _hoisted_4 = { class: \"collapsable collapsed\" }\nconst _hoisted_5 = { value: false }\nconst _hoisted_6 = { value: true }\nconst _hoisted_7 = [\"disabled\"]\nconst _hoisted_8 = [\"disabled\"]\nconst _hoisted_9 = [\"disabled\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_studip_wysiwyg = _resolveComponent(\"studip-wysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Drag the Words')), 1),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addBlank && _ctx.addBlank(...args))),\n          class: \"button\",\n          type: \"button\",\n          style: {\"margin-right\":\"0.1em\"}\n        }, _toDisplayString(_ctx.$gettext('Lcke hinzufgen')), 1),\n        _createElementVNode(\"div\", {\n          class: \"tooltip tooltip-icon\",\n          \"data-tooltip\": _ctx.instructions\n        }, null, 8, _hoisted_3)\n      ]),\n      _createVNode(_component_studip_wysiwyg, {\n        modelValue: _ctx.taskDefinition.template,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.taskDefinition.template) = $event)),\n        ref: \"wysiwyg\",\n        \"force-soft-breaks\": \"\",\n        \"remove-wrapping-p-tag\": \"\",\n        \"disable-autoformat\": \"\"\n      }, null, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_4, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Korrigiert wird')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"select\", {\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.taskDefinition.instantFeedback) = $event))\n        }, [\n          _createElementVNode(\"option\", _hoisted_5, _toDisplayString(_ctx.$gettext('manuell per Button')), 1),\n          _createElementVNode(\"option\", _hoisted_6, _toDisplayString(_ctx.$gettext('automatisch nach Eingabe')), 1)\n        ], 512), [\n          [_vModelSelect, _ctx.taskDefinition.instantFeedback]\n        ])\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.instantFeedback ? 'setting-disabled' : '')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: _ctx.taskDefinition.instantFeedback,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.taskDefinition.strings.checkButton) = $event))\n        }, null, 8, _hoisted_7), [\n          [_vModelText, _ctx.taskDefinition.strings.checkButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.taskDefinition.alphabeticOrder) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.alphabeticOrder]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Antworten alphabetisch sortieren')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.retryAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.retryAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Versuche erlauben')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.retryAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.retryAllowed,\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.strings.retryButton) = $event))\n        }, null, 8, _hoisted_8), [\n          [_vModelText, _ctx.taskDefinition.strings.retryButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.taskDefinition.showSolutionsAllowed) = $event)),\n          onChange: _cache[8] || (_cache[8] = ($event: any) => (\n            !_ctx.taskDefinition.showSolutionsAllowed\n              ? (_ctx.taskDefinition.allBlanksMustBeFilledForSolutions =\n                  _ctx.taskDefinition.showSolutionsAllowed)\n              : ''\n          ))\n        }, null, 544), [\n          [_vModelCheckbox, _ctx.taskDefinition.showSolutionsAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Lsungen knnen angezeigt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((_ctx.taskDefinition.strings.solutionsButton) = $event))\n        }, null, 8, _hoisted_9), [\n          [_vModelText, _ctx.taskDefinition.strings.solutionsButton]\n        ])\n      ], 2)\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want.\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { DragTheWordsTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport { $gettext } from '@/language/gettext';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\n\nexport default defineComponent({\n  name: 'DragTheWordsEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<DragTheWordsTask>,\n      required: true,\n    },\n  },\n  computed: {\n    currentUndoRedoState: () =>\n      taskEditorStore.undoRedoStack[taskEditorStore.undoRedoIndex],\n    instructions(): string {\n      return $gettext(\n        'Fgen Sie Lcken hinzu, indem Sie ein Sternchen (*) vor und hinter dem korrekten Wort bzw. den Wrtern setzen oder markieren Sie ein Wort und klicken Sie den \"Lcke hinzufgen\"Button.' +\n          ' Auerdem knnen Sie einen Tooltip mit einem Doppelpunkt (:) hinzufgen.'\n      );\n    },\n  },\n  methods: {\n    $gettext,\n    /**\n     * Surround the selected text with two asterisks\n     */\n    addBlank() {\n      const wysiwygEl = (this.$refs.wysiwyg as any)?.$el;\n      const editor = window.STUDIP.wysiwyg.getEditor(wysiwygEl);\n      if (!editor) {\n        console.error('getEditor(wysiwygEl) returned: ', editor);\n        throw new Error('Could not get reference to wysiwyg editor');\n      }\n      const selection = editor.model.document.selection;\n      const start = selection.getFirstPosition();\n      const end = selection.getLastPosition();\n      if (!start || !end) {\n        console.error('selection start: ', start, ' selection end: ', end);\n        throw new Error('Could not get selection in editor');\n      }\n      editor.model.change((writer) => {\n        writer.insertText('*', end);\n        writer.insertText('*', start);\n      });\n    },\n  },\n});\n","import { render } from \"./DragTheWordsEditor.vue?vue&type=template&id=773b0b4e&scoped=true&ts=true\"\nimport script from \"./DragTheWordsEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./DragTheWordsEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./DragTheWordsEditor.vue?vue&type=style&index=0&id=773b0b4e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-773b0b4e\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createBlock as _createBlock, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-53a76878\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"h5pModule\" }\nconst _hoisted_2 = { ref: \"wrapperElement\" }\nconst _hoisted_3 = [\"aria-pressed\", \"onClick\", \"onKeydown\", \"onKeyup\", \"innerHTML\"]\nconst _hoisted_4 = {\n  key: 0,\n  class: \"space\"\n}\nconst _hoisted_5 = { key: 1 }\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" Marked words: \")\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\" template: \")\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\" Split template: \")\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\" Parsed template: \")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_feedback_element = _resolveComponent(\"feedback-element\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.parsedTemplate, (element, index) => {\n        return (_openBlock(), _createElementBlock(\"span\", {\n          key: element.uuid\n        }, [\n          _createElementVNode(\"span\", {\n            tabindex: \"0\",\n            role: \"button\",\n            \"aria-pressed\": _ctx.isMarked(element),\n            onClick: ($event: any) => (_ctx.onClickWord(element)),\n            onKeydown: (event) => _ctx.onWordKeydown(event, element),\n            onKeyup: (event) => _ctx.onWordKeyup(event, element),\n            class: _normalizeClass(_ctx.classForWord(element)),\n            innerHTML: element.text\n          }, null, 42, _hoisted_3),\n          (index < _ctx.parsedTemplate.length - 1)\n            ? (_openBlock(), _createElementBlock(\"pre\", _hoisted_4, \" \"))\n            : _createCommentVNode(\"\", true)\n        ]))\n      }), 128))\n    ], 512),\n    _createElementVNode(\"div\", null, [\n      (_ctx.showCheckButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onClickCheck && _ctx.onClickCheck(...args))),\n            class: \"h5pButton\"\n          }, _toDisplayString(this.task.strings.checkButton), 1))\n        : _createCommentVNode(\"\", true),\n      (_ctx.showRetryButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 1,\n            onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onClickRetry && _ctx.onClickRetry(...args))),\n            class: \"h5pButton\"\n          }, _toDisplayString(this.task.strings.retryButton), 1))\n        : _createCommentVNode(\"\", true)\n    ]),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_feedback_element, {\n          key: 0,\n          message: _ctx.feedbackMessage,\n          \"achieved-points\": _ctx.score,\n          \"max-points\": _ctx.maxScore\n        }, null, 8, [\"message\", \"achieved-points\", \"max-points\"]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.debug)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          _hoisted_6,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.markedWords), 1),\n          _hoisted_7,\n          _createElementVNode(\"pre\", null, _toDisplayString(this.task.template), 1),\n          _hoisted_8,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.splitTemplate), 1),\n          _hoisted_9,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.parsedTemplate), 1)\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { MarkTheWordsTask } from '@/models/TaskDefinition';\nimport { v4 as uuidv4 } from 'uuid';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\ntype MarkTheWordsElement = {\n  uuid: Uuid;\n  text: string;\n  correct: boolean;\n};\n\ntype Uuid = string;\n\nexport default defineComponent({\n  name: 'MarkTheWordsViewer',\n  props: {\n    task: {\n      type: Object as PropType<MarkTheWordsTask>,\n      required: true,\n    },\n  },\n  components: {\n    FeedbackElement,\n  },\n  data() {\n    return {\n      markedWords: new Set<MarkTheWordsElement>(),\n      showResults: false,\n      debug: false,\n    };\n  },\n\n  methods: {\n    onClickCheck() {\n      this.showResults = true;\n    },\n\n    onClickRetry() {\n      this.showResults = false;\n      this.markedWords.clear();\n    },\n\n    onClickWord(word: MarkTheWordsElement) {\n      if (this.showResults) return;\n\n      if (this.isMarked(word)) {\n        this.markedWords.delete(word);\n      } else {\n        this.markedWords.add(word);\n      }\n    },\n\n    /**\n     * Marks/unmarks a word using the enter key.\n     */\n    onWordKeydown(event: KeyboardEvent, word: MarkTheWordsElement) {\n      // The action button is activated by space on the keyup event, but the\n      // default action for space is already triggered on keydown. It needs to be\n      // prevented to stop scrolling the page before activating the button.\n      if (event.code === 'Space') {\n        event.preventDefault();\n      }\n      // If enter is pressed, activate the button\n      else if (event.code === 'Enter' || event.code === 'Return') {\n        event.preventDefault();\n        this.onClickWord(word);\n      }\n    },\n\n    /**\n     * Marks/unmarks a word with the space key.\n     */\n    onWordKeyup(event: KeyboardEvent, word: MarkTheWordsElement) {\n      if (event.code === 'Space') {\n        event.preventDefault();\n        this.onClickWord(word);\n      }\n    },\n\n    classForWord(word: MarkTheWordsElement) {\n      if (this.showResults) {\n        // User is done marking words and wants to see the results\n        if (this.isMarked(word)) {\n          if (word.correct) {\n            return 'h5pCorrectAnswer';\n          } else {\n            return 'h5pIncorrectAnswer';\n          }\n        } else {\n          return 'h5pStaticText';\n        }\n      } else {\n        // User is working on the task\n        if (this.isMarked(word)) {\n          return 'h5pMarkedWord';\n        } else {\n          return 'h5pStaticText';\n        }\n      }\n    },\n\n    isMarked(word: MarkTheWordsElement): boolean {\n      return this.markedWords.has(word);\n    },\n  },\n  computed: {\n    /**\n     * Returns an array where the even indexes are the static text portions,\n     * and the odd indexes are the correct words to be marked.\n     */\n    splitTemplate(): string[] {\n      // Split the text into chunks based on pairs of asterisks\n      return this.task.template.split(/\\*([^*]*)\\*/);\n    },\n\n    parsedTemplate(): MarkTheWordsElement[] {\n      let parsedTemplate: MarkTheWordsElement[] = [];\n      this.splitTemplate.forEach((templateElement, i) => {\n        if (i % 2 === 0) {\n          // Even indexes are the static text portions which we split further by spaces here\n          templateElement\n            .trim()\n            .split(' ')\n            .filter((el) => el !== '')\n            .forEach((staticWord) => {\n              parsedTemplate.push({\n                uuid: uuidv4(),\n                text: staticWord,\n                correct: false,\n              });\n            });\n        } else {\n          parsedTemplate.push({\n            uuid: uuidv4(),\n            text: templateElement,\n            correct: true,\n          });\n        }\n      });\n      return parsedTemplate;\n    },\n    showCheckButton(): boolean {\n      return !this.showResults;\n    },\n    showRetryButton(): boolean {\n      return this.task.retryAllowed && this.showResults;\n    },\n    score(): number {\n      let score = 0;\n\n      for (const element of this.markedWords) {\n        if (element.correct) {\n          score++;\n        } else {\n          score--;\n        }\n      }\n\n      if (score < 0) score = 0;\n\n      return score;\n    },\n    maxScore(): number {\n      let maxScore = 0;\n      for (const element of this.parsedTemplate) {\n        if (element.correct) maxScore++;\n      }\n      return maxScore;\n    },\n    feedbackMessage(): string {\n      return this.score + ' / ' + this.maxScore;\n    },\n  },\n});\n","import { render } from \"./MarkTheWordsViewer.vue?vue&type=template&id=53a76878&scoped=true&ts=true\"\nimport script from \"./MarkTheWordsViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./MarkTheWordsViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./MarkTheWordsViewer.vue?vue&type=style&index=0&id=53a76878&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-53a76878\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"h5pEditorTopPanel\" }\nconst _hoisted_3 = [\"data-tooltip\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_StudipWysiwyg = _resolveComponent(\"StudipWysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Mark the Words')), 1),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addSolution && _ctx.addSolution(...args))),\n          class: \"button\",\n          type: \"button\",\n          style: {\"margin-right\":\"0.1em\"}\n        }, _toDisplayString(_ctx.$gettext('Richtiges Wort markieren')), 1),\n        _createElementVNode(\"div\", {\n          class: \"tooltip tooltip-icon\",\n          \"data-tooltip\": _ctx.instructions\n        }, null, 8, _hoisted_3)\n      ]),\n      _createVNode(_component_StudipWysiwyg, {\n        modelValue: _ctx.taskDefinition.template,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.taskDefinition.template) = $event)),\n        ref: \"wysiwyg\",\n        \"force-soft-breaks\": \"\",\n        \"remove-wrapping-p-tag\": \"\",\n        \"disable-autoformat\": \"\"\n      }, null, 8, [\"modelValue\"])\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { MarkTheWordsTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport { $gettext } from '@/language/gettext';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\n\nexport default defineComponent({\n  name: 'MarkTheWordsEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<MarkTheWordsTask>,\n      required: true,\n    },\n  },\n  methods: {\n    $gettext,\n    /**\n     * Surround the selected text with two asterisks\n     */\n    addSolution() {\n      const wysiwygEl = (this.$refs.wysiwyg as any)?.$el;\n      const editor = window.STUDIP.wysiwyg.getEditor(wysiwygEl);\n      if (!editor) {\n        console.error('getEditor(wysiwygEl) returned: ', editor);\n        throw new Error('Could not get reference to wysiwyg editor');\n      }\n      const selection = editor.model.document.selection;\n      const start = selection.getFirstPosition();\n      const end = selection.getLastPosition();\n      if (!start || !end) {\n        console.error('selection start: ', start, ' selection end: ', end);\n        throw new Error('Could not get selection in editor');\n      }\n      editor.model.change((writer) => {\n        writer.insertText('*', end);\n        writer.insertText('*', start);\n      });\n    },\n  },\n\n  computed: {\n    instructions(): string {\n      return $gettext(\n        'Markieren Sie ein Wort als Lsung, indem Sie ein Sternchen (*) vor und hinter dem Wort setzen oder markieren Sie ein Wort und klicken Sie den \"Richtiges Wort markieren\"Button.'\n      );\n    },\n  },\n});\n","import { render } from \"./MarkTheWordsEditor.vue?vue&type=template&id=1ac30069&ts=true\"\nimport script from \"./MarkTheWordsEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./MarkTheWordsEditor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withModifiers as _withModifiers, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b500394e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"main-flex\" }\nconst _hoisted_2 = { class: \"cards-list\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = [\"onClick\"]\nconst _hoisted_5 = [\"src\", \"alt\"]\nconst _hoisted_6 = {\n  key: 1,\n  class: \"edited-memory-card no-card-selected-placeholder\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_EditedMemoryCard = _resolveComponent(\"EditedMemoryCard\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.cards, (card, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: card.uuid,\n          class: _normalizeClass({\n          'cards-list-item': true,\n          'selected-card': index === this.selectedCardIndex,\n        }),\n          onClick: ($event: any) => (_ctx.selectCard(index))\n        }, [\n          _createTextVNode(_toDisplayString(index) + \". \" + _toDisplayString(card.question === '' ? _ctx.$gettext('Karte') : card.question), 1),\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"flex-child-element removeAnswerButton\",\n            onClick: _withModifiers(($event: any) => (_ctx.deleteCard(index)), [\"stop\"])\n          }, [\n            _createElementVNode(\"img\", {\n              src: _ctx.urlForIcon('trash'),\n              alt: _ctx.$gettext('Karte lschen')\n            }, null, 8, _hoisted_5)\n          ], 8, _hoisted_4)\n        ], 10, _hoisted_3))\n      }), 128)),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addCard && _ctx.addCard(...args)))\n      }, _toDisplayString(_ctx.$gettext('Karte hinzufgen')), 1)\n    ]),\n    (this.taskDefinition.cards[this.selectedCardIndex])\n      ? (_openBlock(), _createBlock(_component_EditedMemoryCard, {\n          key: 0,\n          class: \"edited-memory-card\",\n          card: this.taskDefinition.cards[this.selectedCardIndex],\n          \"card-index\": this.selectedCardIndex\n        }, null, 8, [\"card\", \"card-index\"]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString(_ctx.$gettext('Keine Karte ist zum Bearbeiten ausgewhlt.')), 1))\n  ]))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_EditedMemoryCardImage = _resolveComponent(\"EditedMemoryCardImage\")!\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Karte')), 1),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"h4\", null, _toDisplayString(_ctx.$gettext('Bild')), 1),\n        (_ctx.card.imageUrl)\n          ? (_openBlock(), _createBlock(_component_EditedMemoryCardImage, {\n              key: 0,\n              card: _ctx.card\n            }, null, 8, [\"card\"]))\n          : (_openBlock(), _createBlock(_component_FileUpload, {\n              key: 1,\n              onFileUploaded: _ctx.onFileUploaded\n            }, null, 8, [\"onFileUploaded\"]))\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Alternativer Text')) + \" \", 1),\n        _createElementVNode(\"input\", {\n          type: \"text\",\n          value: _ctx.taskDefinition.cards[_ctx.cardIndex].altText,\n          onInput: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputAltText && _ctx.onInputAltText(...args)))\n        }, null, 40, _hoisted_2)\n      ])\n    ])\n  ]))\n}","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"src\", \"alt\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"img\", {\n      src: _ctx.card.imageUrl,\n      alt: _ctx.card.altText\n    }, null, 8, _hoisted_1),\n    _createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.deleteImage && _ctx.deleteImage(...args)))\n    }, _toDisplayString(_ctx.$gettext('Bild Lschen')), 1)\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { MemoryCard, MemoryTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'EditedMemoryCardImage',\n  props: {\n    card: {\n      type: Object as PropType<MemoryCard>,\n      required: true,\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as MemoryTask,\n  },\n  methods: {\n    $gettext,\n    deleteImage(): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        const cardIndex = draft.cards.findIndex(\n          (card) => card.uuid === this.card.uuid\n        );\n        draft.cards[cardIndex].imageUrl = '';\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n  },\n});\n","import { render } from \"./EditedMemoryCardImage.vue?vue&type=template&id=5feecc35&ts=true\"\nimport script from \"./EditedMemoryCardImage.vue?vue&type=script&lang=ts\"\nexport * from \"./EditedMemoryCardImage.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = [\"accept\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_ctx.uploadRequestPromise)\n    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, _toDisplayString(_ctx.$gettext('Datei wird hochgeladen')), 1))\n    : (_openBlock(), _createElementBlock(\"input\", {\n        key: 1,\n        ref: \"fileInput\",\n        type: \"file\",\n        accept: _ctx.accept,\n        onChange: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputChange && _ctx.onInputChange(...args)))\n      }, null, 40, _hoisted_2))\n}","\nimport { defineComponent } from 'vue';\nimport { uploadFile } from '@/routes';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'FileUpload',\n  emits: ['fileUploaded'],\n  props: {\n    // The 'accept' property passed to the <input type=\"file\"> element.  Default: 'image/*'\n    accept: {\n      type: String,\n      required: false,\n      default: 'image/*',\n    },\n  },\n  data() {\n    return {\n      // Wenn dieser Promise vorhanden ist, heit das, dass eine HTTP-Anfrage\n      // unterwegs ist.\n      uploadRequestPromise: undefined as Promise<unknown> | undefined,\n    };\n  },\n  methods: {\n    $gettext,\n    onInputChange(event: Event): void {\n      if (this.uploadRequestPromise) {\n        console.warn(\n          'FileUpload: onInputChange fired while uploadRequestPromise is already defined.'\n        );\n        return;\n      }\n      const input = this.$refs.fileInput as HTMLInputElement;\n      const file = input.files?.item(0);\n      if (!file) {\n        console.warn(\n          'FileUpload: onInputChange fired, but input.files[] is empty.'\n        );\n        return;\n      }\n      this.uploadRequestPromise = uploadFile(file)\n        .then((res) => {\n          this.$emit('fileUploaded', res.files[0]);\n          this.uploadRequestPromise = undefined;\n        })\n        .catch((error) => {\n          console.error(error);\n          // TODO Display the error somewhere!\n          this.uploadRequestPromise = undefined;\n        });\n    },\n  },\n});\n","import { render } from \"./FileUpload.vue?vue&type=template&id=3e1b5cf7&ts=true\"\nimport script from \"./FileUpload.vue?vue&type=script&lang=ts\"\nexport * from \"./FileUpload.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { MemoryCard, MemoryTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport { $gettext } from '@/language/gettext';\nimport EditedMemoryCardImage from '@/components/EditedMemoryCardImage.vue';\nimport FileUpload from '@/components/FileUpload.vue';\nimport { UploadedFile } from '@/routes';\n\nexport default defineComponent({\n  name: 'EditedMemoryCard',\n  components: { FileUpload, EditedMemoryCardImage },\n  props: {\n    card: {\n      type: Object as PropType<MemoryCard>,\n      required: true,\n    },\n    cardIndex: {\n      type: Number as PropType<number>,\n      required: true,\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as MemoryTask,\n  },\n  methods: {\n    $gettext,\n    onImageUploaded(file: UploadedFile): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        // TODO #20  - Store file ID instead of URL\n        draft.cards[this.cardIndex].imageUrl = file.url;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n    // This is how you write the @input event handler if you want undo-redo and reactivity to work\n    onInputAltText(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.cards[this.cardIndex].altText = value;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: { type: 'EditedAltText' },\n      });\n    },\n    // This is what results if you write v-model=\"taskDefinition.cards[this.cardIndex].altText\"\n    onInputAltTextBAD(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      this.taskDefinition.cards[this.cardIndex].altText = value;\n    },\n  },\n});\n","import { render } from \"./EditedMemoryCard.vue?vue&type=template&id=6980ed08&ts=true\"\nimport script from \"./EditedMemoryCard.vue?vue&type=script&lang=ts\"\nexport * from \"./EditedMemoryCard.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { taskEditorStore } from '@/store';\nimport { MemoryTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport produce from 'immer';\nimport { v4 } from 'uuid';\nimport EditedMemoryCard from '@/components/EditedMemoryCard.vue';\n\nexport default defineComponent({\n  name: 'MemoryEditor',\n  components: { EditedMemoryCard },\n  props: {},\n  data() {\n    return {\n      selectedCardIndex: -1,\n    };\n  },\n  beforeMount(): void {\n    if (this.taskDefinition.cards.length > 0) {\n      this.selectedCardIndex = 0;\n    }\n  },\n  methods: {\n    $gettext,\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n    selectCard(index: number) {\n      this.selectedCardIndex = index;\n    },\n    addCard() {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.cards.push({\n          uuid: v4(),\n          imageUrl: '',\n          altText: '',\n        });\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Select the newly inserted card\n      this.selectedCardIndex = this.taskDefinition.cards.length - 1;\n    },\n    deleteCard(index: number) {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.cards.splice(index, 1);\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Adjust the selection index so the selected card doesn't unexpectedly change\n      if (index <= this.selectedCardIndex) {\n        this.selectedCardIndex = this.selectedCardIndex - 1;\n      }\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as MemoryTask,\n  },\n});\n","import { render } from \"./MemoryEditor.vue?vue&type=template&id=b500394e&scoped=true&ts=true\"\nimport script from \"./MemoryEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./MemoryEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./MemoryEditor.vue?vue&type=style&index=0&id=b500394e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b500394e\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-657d40e6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"h5pModule\" }\nconst _hoisted_2 = { class: \"h5pMemoryGame\" }\nconst _hoisted_3 = { class: \"h5pFeedbackContainer\" }\nconst _hoisted_4 = { class: \"h5pFeedbackContainerTop\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"h5pFeedbackText\"\n}\nconst _hoisted_6 = { class: \"h5pFeedbackContainerCenter\" }\nconst _hoisted_7 = {\n  key: 0,\n  class: \"h5pFeedbackText\"\n}\nconst _hoisted_8 = { class: \"h5pFeedbackContainerBottom\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_MemoryCardComponent = _resolveComponent(\"MemoryCardComponent\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", null, _toDisplayString(_ctx.$gettext('Umgedrehte Karten: ') + this.amountOfFlips), 1),\n    _createElementVNode(\"div\", null, _toDisplayString(_ctx.$gettext('Aufgedeckte Paare:') +\n        ' ' +\n        this.amountOfPairsSolved +\n        ' ' +\n        _ctx.$gettext('von') +\n        ' ' +\n        this.totalAmountOfPairs), 1),\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.cards, (card) => {\n        return (_openBlock(), _createBlock(_component_MemoryCardComponent, {\n          key: card.uuid,\n          card: card,\n          onClick: ($event: any) => (_ctx.onClickCard(card))\n        }, null, 8, [\"card\", \"onClick\"]))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        (_ctx.showResults && _ctx.feedbackMessage)\n          ? (_openBlock(), _createElementBlock(\"label\", _hoisted_5, _toDisplayString(this.feedbackMessage), 1))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        (_ctx.showResults)\n          ? (_openBlock(), _createElementBlock(\"label\", _hoisted_7, _toDisplayString(this.resultMessage), 1))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        (_ctx.showRetryButton)\n          ? (_openBlock(), _createElementBlock(\"button\", {\n              key: 0,\n              onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n              class: \"h5pButton\"\n            }, _toDisplayString(this.task.strings.retryButton), 1))\n          : _createCommentVNode(\"\", true)\n      ])\n    ])\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '../assets/memoryCardBack.png'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1915ee96\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"memoryCardFront\"\n}\nconst _hoisted_2 = [\"src\", \"alt\"]\nconst _hoisted_3 = {\n  key: 1,\n  class: \"memoryCardBack\"\n}\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  class: \"memoryImage\"\n}, null, -1))\nconst _hoisted_5 = [\n  _hoisted_4\n]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"memoryCard\", { memoryCardFlipped: _ctx.card.flipped }])\n  }, [\n    (_ctx.card.flipped)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createElementVNode(\"img\", {\n            src: _ctx.card.imageUrl,\n            alt: _ctx.card.altText,\n            class: \"memoryImage\"\n          }, null, 8, _hoisted_2)\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _hoisted_5))\n  ], 2))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { ViewerMemoryCard } from '@/components/MemoryViewer.vue';\n\nexport default defineComponent({\n  name: 'MemoryCard',\n  props: {\n    card: {\n      type: Object as PropType<ViewerMemoryCard>,\n      required: true,\n    },\n  },\n  computed: {},\n  methods: {},\n});\n","import { render } from \"./MemoryCard.vue?vue&type=template&id=1915ee96&scoped=true&ts=true\"\nimport script from \"./MemoryCard.vue?vue&type=script&lang=ts\"\nexport * from \"./MemoryCard.vue?vue&type=script&lang=ts\"\n\nimport \"./MemoryCard.vue?vue&type=style&index=0&id=1915ee96&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1915ee96\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { MemoryTask, MemoryCard } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport MemoryCardComponent from '@/components/MemoryCard.vue';\nimport { v4 } from 'uuid';\n\nexport interface ViewerMemoryCard extends MemoryCard {\n  flipped: boolean;\n  solved: boolean;\n  matchingCardId: string | undefined;\n}\n\nexport default defineComponent({\n  name: 'MemoryViewer',\n  components: { MemoryCardComponent },\n  emits: ['updateAttempt'],\n  props: {\n    task: {\n      type: Object as PropType<MemoryTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      cards: [] as ViewerMemoryCard[],\n      firstFlippedCardId: undefined as string | undefined,\n      amountOfFlips: 0 as number,\n      showResults: false as boolean,\n      feedbackMessage: undefined as string | undefined,\n      resultMessage: undefined as string | undefined,\n    };\n  },\n  methods: {\n    $gettext,\n\n    onClickCard(card: ViewerMemoryCard): void {\n      // do nothing if card is already open\n      if (card.flipped) return;\n\n      card.flipped = true;\n      console.log('Flipped', card.altText);\n\n      this.amountOfFlips++;\n\n      if (!this.firstFlippedCardId) {\n        // This is the first of two cards to be flipped around\n        // Reset all previous unsuccessful cardflips except the card we just flipped\n        this.resetAllUnsolvedCardsExcept(card.uuid);\n\n        this.firstFlippedCardId = card.uuid;\n      } else {\n        // We flipped the second card around, check if we got a pair\n        if (card.matchingCardId === this.firstFlippedCardId) {\n          // We found a pair!\n          // Set both cards' solved attribute to true\n          card.solved = true;\n          const firstCard = this.getCardById(this.firstFlippedCardId);\n          firstCard.solved = true;\n          console.log('Found a pair of', card.altText);\n        }\n\n        this.firstFlippedCardId = undefined;\n      }\n    },\n\n    resetAllUnsolvedCardsExcept(exceptionId: string): void {\n      for (const card of this.cards) {\n        if (!card.solved && card.uuid !== exceptionId) {\n          card.flipped = false;\n        }\n      }\n    },\n\n    onClickTryAgain(): void {\n      this.amountOfFlips = 0;\n      this.firstFlippedCardId = undefined;\n      this.resetCards();\n      this.shuffleCards();\n    },\n\n    resetCards(): void {\n      // Set all cards' flipped and solved attribute to false\n      for (const card of this.cards) {\n        card.flipped = false;\n        card.solved = false;\n      }\n    },\n\n    shuffleCards(): void {\n      // Shuffle the cards\n      // https://stackoverflow.com/a/46545530\n      this.cards = this.cards\n        .map((card) => ({ card, sort: Math.random() }))\n        .sort((card1, card2) => card1.sort - card2.sort)\n        .map(({ card }) => card);\n    },\n\n    getCardById(cardId: string): ViewerMemoryCard {\n      const card = this.cards.find((card) => card.uuid === cardId);\n      if (!card) {\n        throw new Error('No card found with the given ID: ' + cardId);\n      }\n      return card;\n    },\n  },\n\n  computed: {\n    totalAmountOfPairs(): number {\n      return this.task.cards.length;\n    },\n\n    amountOfPairsSolved(): number {\n      let amountOfCardsSolved = 0;\n      for (const card of this.cards) {\n        if (card.solved) amountOfCardsSolved++;\n      }\n      return amountOfCardsSolved / 2;\n    },\n\n    showRetryButton(): boolean {\n      return this.amountOfPairsSolved === this.totalAmountOfPairs;\n    },\n  },\n  watch: {\n    task: {\n      handler() {\n        console.log('watcher for this.task');\n        this.firstFlippedCardId = undefined;\n        this.amountOfFlips = 0;\n        // Make two copies of each card in the task. Add the flipped, solved and matchingCardId attributes\n        this.cards = this.task.cards.flatMap((card) => {\n          // The two copies of each card are linked to each other through the matchingCardId attribute\n          const duplicateCardId = v4();\n          return [\n            // The original card with the set matchingCardId attribute\n            {\n              ...card,\n              flipped: false,\n              solved: false,\n              uuid: card.uuid,\n              matchingCardId: duplicateCardId,\n            },\n            // The duplicate card\n            {\n              ...card,\n              flipped: false,\n              solved: false,\n              uuid: duplicateCardId,\n              matchingCardId: card.uuid,\n            },\n          ];\n        });\n\n        // Shuffle the cards\n        this.shuffleCards();\n      },\n      immediate: true, // Ensure that the watcher is also called immediately when the component is first mounted\n    },\n  },\n});\n","import { render } from \"./MemoryViewer.vue?vue&type=template&id=657d40e6&scoped=true&ts=true\"\nimport script from \"./MemoryViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./MemoryViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./MemoryViewer.vue?vue&type=style&index=0&id=657d40e6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-657d40e6\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, withModifiers as _withModifiers, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6739ebf4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"imagePairingRow\" }\nconst _hoisted_2 = [\"draggable\", \"onDragstart\", \"onDragend\", \"onClick\"]\nconst _hoisted_3 = [\"src\", \"alt\"]\nconst _hoisted_4 = { class: \"targetImagesColumn\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_TargetImage = _resolveComponent(\"TargetImage\")!\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", {\n        class: \"draggableImagesColumn\",\n        draggable: \"false\",\n        onDragover: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"])),\n        onDragenter: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"])),\n        onDrop: _cache[2] || (_cache[2] = ($event: any) => (_ctx.onDropOnInteractiveImages($event)))\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.draggableImages, (draggableImageId) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: draggableImageId,\n            draggable: \n          !this.isDraggableImageUsed(draggableImageId) && !this.showResults\n        ,\n            onDragstart: ($event: any) => (_ctx.startDragImage($event, draggableImageId)),\n            onDragend: ($event: any) => (_ctx.endDragImage($event, draggableImageId)),\n            onClick: ($event: any) => (_ctx.onClickDraggableImage(draggableImageId)),\n            class: _normalizeClass([\"draggableImageContainer\", {\n          disabled:\n            this.isDraggableImageUsed(draggableImageId) ||\n            this.showResults ||\n            this.draggedImageId === draggableImageId,\n          selected: this.imageIdInteractedWith === draggableImageId,\n        }])\n          }, [\n            _createElementVNode(\"img\", {\n              class: \"draggableImage\",\n              src: _ctx.getImageById(draggableImageId).imageUrl,\n              alt: _ctx.getImageById(draggableImageId).altText,\n              draggable: \"false\",\n              ref_for: true,\n              ref: \"draggableImages\"\n            }, null, 8, _hoisted_3)\n          ], 42, _hoisted_2))\n        }), 128))\n      ], 32),\n      _createElementVNode(\"div\", _hoisted_4, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.task.imagePairs, (imagePair) => {\n          return (_openBlock(), _createBlock(_component_TargetImage, {\n            class: _normalizeClass([\"targetImage\", {\n          outlined:\n            !this.imagesDraggedOntoTargets.hasOwnProperty(\n              imagePair.targetImage.uuid\n            ) &&\n            (this.draggedImageId || this.imageIdInteractedWith),\n        }]),\n            \"draggable-image\": _ctx.getImageDraggedOntoTarget(imagePair.targetImage.uuid),\n            \"target-image\": _ctx.getImageById(imagePair.targetImage.uuid),\n            isCorrect: this.isAnswerCorrect(imagePair.targetImage.uuid),\n            showResult: this.showResults,\n            key: imagePair.uuid,\n            onDrop: ($event: any) => (_ctx.onDropOnTargetImage($event, imagePair.targetImage.uuid)),\n            draggable: \n          _ctx.getImageDraggedOntoTarget(imagePair.targetImage.uuid) &&\n          !this.showResults\n        ,\n            onDragstart: ($event: any) => (_ctx.startDragTargetImage($event, imagePair.targetImage.uuid)),\n            onDragend: ($event: any) => (_ctx.endDragTargetImage($event, imagePair.targetImage.uuid)),\n            onDragover: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"prevent\"])),\n            onDragenter: _cache[4] || (_cache[4] = _withModifiers(() => {}, [\"prevent\"])),\n            onClick: ($event: any) => (_ctx.onClickTargetImage(imagePair.targetImage.uuid))\n          }, null, 8, [\"class\", \"draggable-image\", \"target-image\", \"isCorrect\", \"showResult\", \"onDrop\", \"draggable\", \"onDragstart\", \"onDragend\", \"onClick\"]))\n        }), 128))\n      ])\n    ]),\n    _hoisted_5,\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          achievedPoints: _ctx.correctAnswers,\n          maxPoints: _ctx.maxPoints,\n          resultMessage: _ctx.resultMessage,\n          feedback: _ctx.task.feedback\n        }, null, 8, [\"achievedPoints\", \"maxPoints\", \"resultMessage\", \"feedback\"]))\n      : _createCommentVNode(\"\", true),\n    (!this.showResults)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 1,\n          type: \"button\",\n          class: \"h5pButton\",\n          onClick: _cache[5] || (_cache[5] = ($event: any) => (_ctx.checkResults()))\n        }, _toDisplayString(this.task.strings.checkButton), 1))\n      : _createCommentVNode(\"\", true),\n    (this.showResults)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 2,\n          type: \"button\",\n          class: \"h5pButton\",\n          onClick: _cache[6] || (_cache[6] = ($event: any) => (_ctx.reset()))\n        }, _toDisplayString(this.task.strings.retryButton), 1))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}","import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-191f3972\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"grid-square two-images\"\n}\nconst _hoisted_2 = { class: \"image-container back\" }\nconst _hoisted_3 = [\"src\", \"alt\"]\nconst _hoisted_4 = { class: \"image-container front\" }\nconst _hoisted_5 = [\"src\", \"alt\"]\nconst _hoisted_6 = {\n  key: 1,\n  class: \"grid-square one-image\"\n}\nconst _hoisted_7 = [\"src\", \"alt\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_ctx.draggableImage)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"img\", {\n            src: _ctx.targetImage.imageUrl,\n            alt: _ctx.targetImage.altText,\n            class: _normalizeClass([\"image\", {\n          correct: this.isCorrect,\n          incorrect: !this.isCorrect,\n          showResult: this.showResult,\n        }]),\n            draggable: \"false\"\n          }, null, 10, _hoisted_3)\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"img\", {\n            src: _ctx.draggableImage.imageUrl,\n            alt: _ctx.draggableImage.altText,\n            class: _normalizeClass([\"image\", {\n          correct: this.isCorrect,\n          incorrect: !this.isCorrect,\n          showResult: this.showResult,\n        }]),\n            draggable: \"false\"\n          }, null, 10, _hoisted_5)\n        ])\n      ]))\n    : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n        _createElementVNode(\"img\", {\n          draggable: \"false\",\n          src: _ctx.targetImage.imageUrl,\n          alt: _ctx.targetImage.altText,\n          class: \"image\"\n        }, null, 8, _hoisted_7)\n      ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { Image } from '@/models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'TargetImage',\n  components: {},\n  props: {\n    draggableImage: {\n      type: Object as PropType<Image>,\n      required: false,\n    },\n    targetImage: {\n      type: Object as PropType<Image>,\n      required: true,\n    },\n    isCorrect: {\n      type: Boolean,\n      required: false,\n    },\n    showResult: {\n      type: Boolean,\n      required: false,\n    },\n  },\n  computed: {},\n  methods: {},\n});\n","import { render } from \"./TargetImage.vue?vue&type=template&id=191f3972&scoped=true&ts=true\"\nimport script from \"./TargetImage.vue?vue&type=script&lang=ts\"\nexport * from \"./TargetImage.vue?vue&type=script&lang=ts\"\n\nimport \"./TargetImage.vue?vue&type=style&index=0&id=191f3972&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-191f3972\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { Image, ImagePairingTask } from '@/models/TaskDefinition';\nimport TargetImage from '@/components/TargetImage.vue';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\ntype Uuid = string;\n\nexport default defineComponent({\n  name: 'ImagePairingViewer',\n  components: {\n    TargetImage,\n    FeedbackElement,\n  },\n  props: {\n    task: {\n      type: Object as PropType<ImagePairingTask>,\n      required: true,\n    },\n  },\n  emits: ['updateAttempt'],\n  data() {\n    return {\n      imageIdInteractedWith: undefined as Uuid | undefined,\n      draggedImageId: undefined as Uuid | undefined,\n      // We used Record instead of Set because I wasn't sure if sets are\n      // reactive in Vue 3.\n      // Record from target ID -> draggable image ID.\n      imagesDraggedOntoTargets: {} as Record<Uuid, Uuid>,\n      showResults: false as boolean,\n    };\n  },\n  methods: {\n    isAnswerCorrect(targetId: Uuid): boolean {\n      const userInput = this.imagesDraggedOntoTargets[targetId];\n      if (!userInput) {\n        return false;\n      }\n      // A little bit awkward -- we have to find the pair to which the target\n      // belongs so that we can check whether the user's solution is right\n      // This method itself is therefore O(n), giving an O(n^2) if you check\n      // every user answer in a loop every time the user makes an input.\n      // But it should be fine, because even if there are 50 images in a set\n      // (very unlikely), this comes out to 2500 comparisons, which should\n      // complete in under a millisecond.\n      const pair = this.task.imagePairs.find(\n        (pair) => pair.targetImage.uuid === targetId\n      );\n      if (!pair) {\n        throw new Error(\n          'could not find the pair to which the target id ' +\n            targetId +\n            ' belongs'\n        );\n      }\n      return pair.draggableImage.uuid === userInput;\n    },\n\n    getImageDraggedOntoTarget(targetId: Uuid): Image | undefined {\n      const draggedImageId = this.imagesDraggedOntoTargets[targetId];\n      if (draggedImageId) {\n        return this.getImageById(draggedImageId);\n      } else {\n        return undefined;\n      }\n    },\n\n    startDragImage(dragEvent: DragEvent, imageId: Uuid): void {\n      if (!this.isDraggableImageUsed(imageId)) {\n        console.log('Dragging image:', imageId);\n        this.imageIdInteractedWith = imageId;\n        this.draggedImageId = imageId;\n\n        dragEvent.dataTransfer!.dropEffect = 'move';\n        dragEvent.dataTransfer!.effectAllowed = 'move';\n\n        // Change the drag image to the parent element to include the border\n        const refToImage = (\n          this.$refs.draggableImages as HTMLImageElement[]\n        ).find((value) => value.src == this.getImageById(imageId).imageUrl);\n\n        const parentElementOfImage = refToImage?.parentElement!;\n\n        if (refToImage && parentElementOfImage) {\n          const cloneOfParent = parentElementOfImage.cloneNode(\n            true\n          ) as HTMLElement;\n\n          cloneOfParent.style.top = '0';\n          cloneOfParent.style.left = '0';\n          cloneOfParent.style.position = 'absolute';\n          cloneOfParent.style.zIndex = '-999';\n\n          parentElementOfImage.parentElement!.append(cloneOfParent);\n\n          dragEvent.dataTransfer!.setDragImage(\n            cloneOfParent,\n            parentElementOfImage.clientWidth / 2,\n            parentElementOfImage.clientHeight / 2\n          );\n\n          setTimeout(() => cloneOfParent.remove());\n        }\n      }\n    },\n\n    endDragImage(dragEvent: DragEvent, imageId: string): void {\n      this.imageIdInteractedWith = undefined;\n      this.draggedImageId = undefined;\n    },\n\n    startDragTargetImage(dragEvent: DragEvent, targetImageId: Uuid): void {\n      dragEvent.dataTransfer!.dropEffect = 'move';\n      dragEvent.dataTransfer!.effectAllowed = 'move';\n      // Remember that the image has been dragged away from a target\n      // where it had been placed by the user\n      dragEvent.dataTransfer!.setData('targetId', targetImageId);\n\n      // Check if an image has been dragged onto the target already\n      const userDraggedImageId = this.imagesDraggedOntoTargets[targetImageId];\n      if (userDraggedImageId) {\n        this.imageIdInteractedWith = userDraggedImageId;\n\n        // Add the interactive image to the cursor even if the user\n        // clicked on the target image\n        const refToImage = (\n          this.$refs.draggableImages as HTMLImageElement[]\n        ).find(\n          (value) => value.src == this.getImageById(userDraggedImageId).imageUrl\n        );\n\n        const parentElementOfImage = refToImage?.parentElement!;\n\n        if (parentElementOfImage) {\n          dragEvent.dataTransfer!.setDragImage(\n            parentElementOfImage,\n            parentElementOfImage.clientWidth / 2,\n            parentElementOfImage.clientHeight / 2\n          );\n        }\n\n        console.log(\n          'Dragging image:',\n          this.imageIdInteractedWith,\n          'from target image',\n          targetImageId\n        );\n      }\n    },\n\n    endDragTargetImage(event: DragEvent, targetImageId: Uuid) {\n      this.imageIdInteractedWith = undefined;\n      this.draggedImageId = undefined;\n    },\n\n    onDropOnTargetImage(event: DragEvent, targetImageId: Uuid): void {\n      if (!this.imageIdInteractedWith) {\n        return;\n      }\n\n      // If the image has been dragged away from another target, then it should\n      // be removed from that target when it is dropped onto this target.\n      const otherTargetId = event.dataTransfer?.getData('targetId');\n      if (otherTargetId) {\n        delete this.imagesDraggedOntoTargets[otherTargetId];\n      }\n      // Save the dragged image onto the target where it has been dropped\n      this.imagesDraggedOntoTargets[targetImageId] = this.imageIdInteractedWith;\n\n      console.log(\n        'Dropped image:',\n        this.imageIdInteractedWith,\n        'on target:',\n        targetImageId\n      );\n      // Mark that the drag interaction is over.\n      this.imageIdInteractedWith = undefined;\n      this.draggedImageId = undefined;\n    },\n\n    getImageById(imageId: string): Image {\n      const image = this.imagesById[imageId];\n      if (!image) {\n        throw new Error('No image found with the given ID: ' + imageId);\n      }\n      return image;\n    },\n\n    onClickTargetImage(targetImageId: Uuid): void {\n      console.log('Clicked on target image', targetImageId);\n\n      // Do nothing if we are displaying the results already\n      if (this.showResults) return;\n\n      // Remove the image, if any, that has been dragged by the user onto\n      // the target they have clicked.\n      const usedImageId = this.imagesDraggedOntoTargets[targetImageId];\n      if (usedImageId) {\n        delete this.imagesDraggedOntoTargets[targetImageId];\n      }\n      // Check if the user clicked a draggable image and wants to put it here\n      if (this.imageIdInteractedWith) {\n        this.imagesDraggedOntoTargets[targetImageId] =\n          this.imageIdInteractedWith;\n        this.imageIdInteractedWith = undefined;\n      }\n    },\n\n    // This has a complexity of O(n).  When it is called in our v-for to set\n    // the class of every draggable image element, it makes it O(n^2).\n    // But that should be OK, because no one will put more than (say) 100\n    // images in a single task, right?\n    isDraggableImageUsed(draggableImageId: Uuid): boolean {\n      return Object.values(this.imagesDraggedOntoTargets).includes(\n        draggableImageId\n      );\n    },\n\n    onClickDraggableImage(imageId: Uuid): void {\n      if (!this.isDraggableImageUsed(imageId) && !this.showResults) {\n        console.log('Clicked on image:', imageId);\n        this.imageIdInteractedWith = imageId;\n      }\n    },\n\n    onDropOnInteractiveImages(event: DragEvent): void {\n      if (!this.imageIdInteractedWith) {\n        return;\n      }\n\n      // If the image has been dragged away from a target, then it should\n      // be removed from that target when it is dropped here.\n      const otherTargetId = event.dataTransfer?.getData('targetId');\n      if (otherTargetId) {\n        delete this.imagesDraggedOntoTargets[otherTargetId];\n      }\n\n      console.log('Returned image:', this.imageIdInteractedWith);\n\n      // Mark that the interaction is over.\n      this.imageIdInteractedWith = undefined;\n    },\n\n    checkResults(): void {\n      this.showResults = true;\n    },\n\n    reset(): void {\n      this.showResults = false;\n      this.imagesDraggedOntoTargets = {};\n    },\n  },\n  computed: {\n    draggableImages(): Uuid[] {\n      // Shuffle the images\n      // https://stackoverflow.com/a/46545530\n      return this.task.imagePairs\n        .map((imagePair) => ({ imagePair: imagePair, sort: Math.random() }))\n        .sort((imagePair1, imagePair2) => imagePair1.sort - imagePair2.sort)\n        .map(({ imagePair }) => imagePair.draggableImage.uuid);\n    },\n\n    imagesById(): Record<Uuid, Image> {\n      const imagesById: Record<Uuid, Image> = {};\n      for (const imagePair of this.task.imagePairs) {\n        imagesById[imagePair.draggableImage.uuid] = imagePair.draggableImage;\n        imagesById[imagePair.targetImage.uuid] = imagePair.targetImage;\n      }\n      return imagesById;\n    },\n\n    correctAnswers(): number {\n      let correctAnswers = 0;\n      for (const imagePair of this.task.imagePairs) {\n        if (this.isAnswerCorrect(imagePair.targetImage.uuid)) correctAnswers++;\n      }\n      return correctAnswers;\n    },\n\n    maxPoints(): number {\n      return this.task.imagePairs.length;\n    },\n\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.maxPoints.toString()\n      );\n\n      return resultMessage;\n    },\n  },\n});\n","import { render } from \"./ImagePairingViewer.vue?vue&type=template&id=6739ebf4&scoped=true&ts=true\"\nimport script from \"./ImagePairingViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./ImagePairingViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./ImagePairingViewer.vue?vue&type=style&index=0&id=6739ebf4&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6739ebf4\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-797ef1a9\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"main-flex\" }\nconst _hoisted_2 = { class: \"cards-list\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = [\"src\", \"onClick\"]\nconst _hoisted_5 = {\n  key: 1,\n  class: \"edited-memory-card no-card-selected-placeholder\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_EditedImagePair = _resolveComponent(\"EditedImagePair\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.imagePairs, (pair, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: pair.uuid,\n          class: _normalizeClass({\n          'cards-list-item': true,\n          'selected-card': index === this.selectedPairIndex,\n        }),\n          onClick: ($event: any) => (_ctx.selectPair(index))\n        }, [\n          _createTextVNode(_toDisplayString(index) + \". \", 1),\n          _createElementVNode(\"img\", {\n            class: \"flex-child-element removeAnswerButton\",\n            src: _ctx.urlForIcon('trash'),\n            onClick: _withModifiers(($event: any) => (_ctx.deletePair(index)), [\"stop\"]),\n            alt: \"an icon showing a trash bin\"\n          }, null, 8, _hoisted_4)\n        ], 10, _hoisted_3))\n      }), 128)),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addPair && _ctx.addPair(...args)))\n      }, _toDisplayString(_ctx.$gettext('Karte hinzufgen')), 1)\n    ]),\n    (this.taskDefinition.imagePairs[this.selectedPairIndex])\n      ? (_openBlock(), _createBlock(_component_EditedImagePair, {\n          key: 0,\n          class: \"edited-memory-card\",\n          pair: this.taskDefinition.imagePairs[this.selectedPairIndex],\n          \"pair-index\": this.selectedPairIndex\n        }, null, 8, [\"pair\", \"pair-index\"]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(_ctx.$gettext('Keine Karte ist zum Bearbeiten ausgewhlt.')), 1))\n  ]))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = [\"value\"]\nconst _hoisted_3 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_EditedImagePairImage = _resolveComponent(\"EditedImagePairImage\")!\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Image Pair')), 1),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"h4\", null, _toDisplayString(_ctx.$gettext('Das zu ziehende Bild')), 1),\n        (_ctx.pair.draggableImage.imageUrl)\n          ? (_openBlock(), _createBlock(_component_EditedImagePairImage, {\n              key: 0,\n              image: _ctx.pair.draggableImage\n            }, null, 8, [\"image\"]))\n          : (_openBlock(), _createBlock(_component_FileUpload, {\n              key: 1,\n              onFileUploaded: _ctx.onUploadDraggableImage\n            }, null, 8, [\"onFileUploaded\"]))\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Alternativer Text')) + \" \", 1),\n        _createElementVNode(\"input\", {\n          type: \"text\",\n          value: _ctx.taskDefinition.imagePairs[_ctx.pairIndex].draggableImage.altText,\n          onInput: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputDraggableImageAltText && _ctx.onInputDraggableImageAltText(...args)))\n        }, null, 40, _hoisted_2)\n      ]),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"h4\", null, _toDisplayString(_ctx.$gettext('Das Zielbild')), 1),\n        (_ctx.pair.targetImage.imageUrl)\n          ? (_openBlock(), _createBlock(_component_EditedImagePairImage, {\n              key: 0,\n              image: _ctx.pair.targetImage\n            }, null, 8, [\"image\"]))\n          : (_openBlock(), _createBlock(_component_FileUpload, {\n              key: 1,\n              onFileUploaded: _ctx.onUploadTargetImage\n            }, null, 8, [\"onFileUploaded\"]))\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Alternativer Text')) + \" \", 1),\n        _createElementVNode(\"input\", {\n          type: \"text\",\n          value: _ctx.taskDefinition.imagePairs[_ctx.pairIndex].targetImage.altText,\n          onInput: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onInputTargetImageAltText && _ctx.onInputTargetImageAltText(...args)))\n        }, null, 40, _hoisted_3)\n      ])\n    ])\n  ]))\n}","import { openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d7c0d98e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\", \"alt\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"img\", {\n    src: _ctx.image.imageUrl,\n    alt: _ctx.image.altText,\n    class: \"edited-image-pair-image\"\n  }, null, 8, _hoisted_1))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { Image } from '@/models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'EditedImagePairImage',\n  props: {\n    image: {\n      type: Object as PropType<Image>,\n      required: true,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {},\n  computed: {},\n});\n","import { render } from \"./EditedImagePairImage.vue?vue&type=template&id=d7c0d98e&scoped=true&ts=true\"\nimport script from \"./EditedImagePairImage.vue?vue&type=script&lang=ts\"\nexport * from \"./EditedImagePairImage.vue?vue&type=script&lang=ts\"\n\nimport \"./EditedImagePairImage.vue?vue&type=style&index=0&id=d7c0d98e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d7c0d98e\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { $gettext } from '@/language/gettext';\nimport { ImagePair, ImagePairingTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport EditedImagePairImage from '@/components/EditedImagePairImage.vue';\nimport FileUpload from '@/components/FileUpload.vue';\nimport { UploadedFile } from '@/routes';\n\nexport default defineComponent({\n  name: 'EditedImagePair',\n  components: { FileUpload, EditedImagePairImage },\n  props: {\n    pair: {\n      type: Object as PropType<ImagePair>,\n      required: true,\n    },\n    pairIndex: {\n      type: Number as PropType<number>,\n      required: true,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    $gettext,\n    onUploadDraggableImage(file: UploadedFile): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        // TODO #20  - Store file ID instead of URL\n        draft.imagePairs[this.pairIndex].draggableImage.imageUrl = file.url;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n    onUploadTargetImage(file: UploadedFile): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        // TODO #20  - Store file ID instead of URL\n        draft.imagePairs[this.pairIndex].targetImage.imageUrl = file.url;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n    onInputDraggableImageAltText(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.imagePairs[this.pairIndex].draggableImage.altText = value;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: { type: 'EditedDraggableImageAltText' },\n      });\n    },\n    onInputTargetImageAltText(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.imagePairs[this.pairIndex].targetImage.altText = value;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: { type: 'EditedTargetImageAltText' },\n      });\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as ImagePairingTask,\n  },\n});\n","import { render } from \"./EditedImagePair.vue?vue&type=template&id=4deb1247&ts=true\"\nimport script from \"./EditedImagePair.vue?vue&type=script&lang=ts\"\nexport * from \"./EditedImagePair.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport EditedImagePair from '@/components/EditedImagePair.vue';\nimport { ImagePairingTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport produce from 'immer';\nimport { taskEditorStore } from '@/store';\nimport { v4 } from 'uuid';\n\nexport default defineComponent({\n  name: 'ImagePairingEditor',\n  components: { EditedImagePair },\n  props: {\n    task: {\n      type: Object as PropType<ImagePairingTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      selectedPairIndex: -1,\n    };\n  },\n  beforeMount(): void {\n    if (this.taskDefinition.imagePairs.length > 0) {\n      this.selectedPairIndex = 0;\n    }\n  },\n  methods: {\n    $gettext,\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n    selectPair(index: number) {\n      this.selectedPairIndex = index;\n    },\n    addPair() {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.imagePairs.push({\n          uuid: v4(),\n          draggableImage: {\n            uuid: v4(),\n            imageUrl: '',\n            altText: '',\n          },\n          targetImage: {\n            uuid: v4(),\n            imageUrl: '',\n            altText: '',\n          },\n        });\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Select the newly inserted card\n      this.selectedPairIndex = this.taskDefinition.imagePairs.length - 1;\n    },\n    deletePair(index: number) {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.imagePairs.splice(index, 1);\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Adjust the selection index so the selected card doesn't unexpectedly change\n      if (index <= this.selectedPairIndex) {\n        this.selectedPairIndex = this.selectedPairIndex - 1;\n      }\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as ImagePairingTask,\n  },\n});\n","import { render } from \"./ImagePairingEditor.vue?vue&type=template&id=797ef1a9&scoped=true&ts=true\"\nimport script from \"./ImagePairingEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./ImagePairingEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./ImagePairingEditor.vue?vue&type=style&index=0&id=797ef1a9&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-797ef1a9\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-535321f0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"imageRow\" }\nconst _hoisted_2 = [\"draggable\", \"onDragstart\", \"onDragover\", \"onDrop\"]\nconst _hoisted_3 = [\"src\", \"alt\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.images, (image) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: image.uuid,\n          class: \"imageContainer\",\n          draggable: !this.showResults,\n          onDragstart: ($event: any) => (_ctx.startDragImage($event, image)),\n          onDragover: ($event: any) => (_ctx.onDragOver($event, image)),\n          onDrop: ($event: any) => (_ctx.onDropImage($event, image))\n        }, [\n          _createElementVNode(\"img\", {\n            class: \"image\",\n            draggable: \"false\",\n            onDragover: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"])),\n            onDragenter: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"])),\n            src: image.imageUrl,\n            alt: image.altText\n          }, null, 40, _hoisted_3),\n          _createElementVNode(\"span\", {\n            class: \"imageDescription\",\n            onDragover: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"])),\n            onDragenter: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"prevent\"]))\n          }, _toDisplayString(image.altText), 33)\n        ], 40, _hoisted_2))\n      }), 128))\n    ]),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          achievedPoints: _ctx.correctAnswers,\n          maxPoints: _ctx.maxPoints,\n          resultMessage: _ctx.resultMessage,\n          feedback: _ctx.task.feedback\n        }, null, 8, [\"achievedPoints\", \"maxPoints\", \"resultMessage\", \"feedback\"]))\n      : _createCommentVNode(\"\", true),\n    (!this.showResults)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 1,\n          type: \"button\",\n          class: \"h5pButton\",\n          onClick: _cache[4] || (_cache[4] = ($event: any) => (_ctx.checkResults()))\n        }, _toDisplayString(this.task.strings.checkButton), 1))\n      : _createCommentVNode(\"\", true),\n    (this.showResults)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 2,\n          type: \"button\",\n          class: \"h5pButton\",\n          onClick: _cache[5] || (_cache[5] = ($event: any) => (_ctx.reset()))\n        }, _toDisplayString(this.task.strings.retryButton), 1))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { Image, ImageSequencingTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport { taskEditorStore } from '@/store';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\nimport { round } from 'lodash';\n\nexport default defineComponent({\n  name: 'ImageSequencingViewer',\n  components: {\n    FeedbackElement,\n  },\n  props: {\n    task: {\n      type: Object as PropType<ImageSequencingTask>,\n      required: true,\n    },\n  },\n  emits: ['updateAttempt'],\n  data() {\n    return {\n      images: [] as Image[],\n      imageInteractedWith: undefined as Image | undefined,\n      showResults: false as boolean,\n    };\n  },\n  beforeMount(): void {\n    console.log('Before Mount');\n  },\n  methods: {\n    $gettext,\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n\n    startDragImage(dragEvent: DragEvent, image: Image) {\n      this.imageInteractedWith = image;\n      console.log('Dragging image', image.altText);\n    },\n\n    onDropImage(event: DragEvent, image: Image): void {\n      console.log('Dropped image', this.imageInteractedWith?.altText);\n      this.imageInteractedWith = undefined;\n    },\n\n    onDragOver(event: DragEvent, image: Image): void {\n      if (this.imageInteractedWith && this.imageInteractedWith != image) {\n        const fromIndex = this.images.indexOf(this.imageInteractedWith);\n        const toIndex = this.images.indexOf(image);\n\n        console.log(\n          'Dragging image',\n          this.imageInteractedWith?.altText,\n          '(',\n          fromIndex,\n          ') over target',\n          image.altText,\n          '(',\n          toIndex,\n          ')'\n        );\n\n        this.moveInArray(this.images, fromIndex, toIndex);\n      }\n    },\n\n    moveInArray(array: Image[], fromIndex: number, toIndex: number) {\n      let element = array[fromIndex];\n      array.splice(fromIndex, 1);\n      array.splice(toIndex, 0, element);\n    },\n\n    checkResults(): void {\n      this.showResults = true;\n    },\n\n    reset(): void {\n      this.showResults = false;\n      this.shuffleImages();\n    },\n\n    shuffleImages() {\n      // Shuffle the images\n      // https://stackoverflow.com/a/46545530\n      this.images = this.images\n        .map((image) => ({ image: image, sort: Math.random() }))\n        .sort((image1, image2) => image1.sort - image2.sort)\n        .map(({ image }) => image);\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as ImageSequencingTask,\n    correctAnswers(): Number {\n      let correctAnswers = 0;\n      for (let i = 0; i < this.task.images.length; i++) {\n        if (this.task.images[i].uuid === this.images[i].uuid) {\n          correctAnswers++;\n        }\n      }\n      return correctAnswers;\n    },\n    maxPoints(): Number {\n      return this.task.images.length;\n    },\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.maxPoints.toString()\n      );\n\n      return resultMessage;\n    },\n  },\n  watch: {\n    task: {\n      handler() {\n        console.log('watcher for this.task');\n        this.images = [...this.task.images];\n        this.shuffleImages();\n      },\n      immediate: true, // Ensure that the watcher is also called immediately when the component is first mounted\n    },\n  },\n});\n","import { render } from \"./ImageSequencingViewer.vue?vue&type=template&id=535321f0&scoped=true&ts=true\"\nimport script from \"./ImageSequencingViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./ImageSequencingViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./ImageSequencingViewer.vue?vue&type=style&index=0&id=535321f0&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-535321f0\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4fffd5a2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"main-flex\" }\nconst _hoisted_2 = { class: \"cards-list\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = [\"src\", \"onClick\"]\nconst _hoisted_5 = {\n  key: 1,\n  class: \"edited-memory-card no-card-selected-placeholder\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ImageSequencingEditorImage = _resolveComponent(\"ImageSequencingEditorImage\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.images, (image, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: image.uuid,\n          class: _normalizeClass({\n          'cards-list-item': true,\n          'selected-card': index === this.selectedImageIndex,\n        }),\n          onClick: ($event: any) => (_ctx.selectImage(index))\n        }, [\n          _createTextVNode(_toDisplayString(index) + \". \", 1),\n          _createElementVNode(\"img\", {\n            class: \"flex-child-element removeAnswerButton\",\n            src: _ctx.urlForIcon('trash'),\n            onClick: _withModifiers(($event: any) => (_ctx.deleteImage(index)), [\"stop\"]),\n            alt: \"an icon showing a trash bin\"\n          }, null, 8, _hoisted_4)\n        ], 10, _hoisted_3))\n      }), 128)),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addImage && _ctx.addImage(...args)))\n      }, _toDisplayString(_ctx.$gettext('Bild hinzufgen')), 1)\n    ]),\n    (this.taskDefinition.images[this.selectedImageIndex])\n      ? (_openBlock(), _createBlock(_component_ImageSequencingEditorImage, {\n          key: 0,\n          class: \"edited-memory-card\",\n          image: this.taskDefinition.images[this.selectedImageIndex],\n          \"image-index\": this.selectedImageIndex\n        }, null, 8, [\"image\", \"image-index\"]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(_ctx.$gettext('Keine Karte ist zum Bearbeiten ausgewhlt.')), 1))\n  ]))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-20582d70\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = [\"src\", \"alt\"]\nconst _hoisted_3 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Bild')), 1),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"h4\", null, _toDisplayString(_ctx.$gettext('Das Bild')), 1),\n        (_ctx.image.imageUrl)\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 0,\n              src: _ctx.image.imageUrl,\n              alt: _ctx.image.altText,\n              class: \"image-sequencing-editor-image\"\n            }, null, 8, _hoisted_2))\n          : (_openBlock(), _createBlock(_component_FileUpload, {\n              key: 1,\n              onFileUploaded: _ctx.onUploadImage\n            }, null, 8, [\"onFileUploaded\"]))\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Alternativer Text')) + \" \", 1),\n        _createElementVNode(\"input\", {\n          type: \"text\",\n          value: _ctx.taskDefinition.images[_ctx.imageIndex].altText,\n          onInput: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputImageAltText && _ctx.onInputImageAltText(...args)))\n        }, null, 40, _hoisted_3)\n      ])\n    ])\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { $gettext } from '@/language/gettext';\nimport { Image, ImageSequencingTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport FileUpload from '@/components/FileUpload.vue';\nimport { UploadedFile } from '@/routes';\n\nexport default defineComponent({\n  name: 'ImageSequencingEditorImage',\n  components: { FileUpload },\n  props: {\n    image: {\n      type: Object as PropType<Image>,\n      required: true,\n    },\n    imageIndex: {\n      type: Number as PropType<number>,\n      required: true,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    $gettext,\n    onUploadImage(file: UploadedFile): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        // TODO #20  - Store file ID instead of URL\n        draft.images[this.imageIndex].imageUrl = file.url;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n    onInputImageAltText(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.images[this.imageIndex].altText = value;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: { type: 'EditedImageAltText' },\n      });\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as ImageSequencingTask,\n  },\n});\n","import { render } from \"./ImageSequencingEditorImage.vue?vue&type=template&id=20582d70&scoped=true&ts=true\"\nimport script from \"./ImageSequencingEditorImage.vue?vue&type=script&lang=ts\"\nexport * from \"./ImageSequencingEditorImage.vue?vue&type=script&lang=ts\"\n\nimport \"./ImageSequencingEditorImage.vue?vue&type=style&index=0&id=20582d70&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-20582d70\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { ImageSequencingTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport { v4 } from 'uuid';\nimport ImageSequencingEditorImage from '@/components/ImageSequencingEditorImage.vue';\n\nexport default defineComponent({\n  name: 'ImageSequencingEditor',\n  components: { ImageSequencingEditorImage },\n  props: {\n    task: {\n      type: Object as PropType<ImageSequencingTask>,\n      required: true,\n    },\n  },\n  data() {\n    return { selectedImageIndex: -1 };\n  },\n  beforeMount(): void {\n    if (this.taskDefinition.images.length > 0) {\n      this.selectedImageIndex = 0;\n    }\n  },\n  methods: {\n    $gettext,\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n    selectImage(index: number) {\n      this.selectedImageIndex = index;\n    },\n    addImage() {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.images.push({\n          uuid: v4(),\n          imageUrl: '',\n          altText: '',\n        });\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Select the newly inserted image\n      this.selectedImageIndex = this.taskDefinition.images.length - 1;\n    },\n    deleteImage(index: number) {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.images.splice(index, 1);\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Adjust the selection index so the selected card doesn't unexpectedly change\n      if (index <= this.selectedImageIndex) {\n        this.selectedImageIndex = this.selectedImageIndex - 1;\n      }\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as ImageSequencingTask,\n  },\n});\n","import { render } from \"./ImageSequencingEditor.vue?vue&type=template&id=4fffd5a2&scoped=true&ts=true\"\nimport script from \"./ImageSequencingEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./ImageSequencingEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./ImageSequencingEditor.vue?vue&type=style&index=0&id=4fffd5a2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4fffd5a2\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Find the Hotspot - Editor\", -1)\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _hoisted_2,\n    _createVNode(_component_FileUpload, { onFileUploaded: _ctx.onImageUploaded }, null, 8, [\"onFileUploaded\"])\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { FindTheHotspotTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport FileUpload from '@/components/FileUpload.vue';\nimport produce from 'immer';\nimport { UploadedFile } from '@/routes';\n\nexport default defineComponent({\n  name: 'FindTheHotspotEditor',\n  components: { FileUpload },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<FindTheHotspotTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    onImageUploaded(file: UploadedFile): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.image.imageUrl = file.url;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n  },\n  computed: {\n    currentUndoRedoState: () =>\n      taskEditorStore.undoRedoStack[taskEditorStore.undoRedoIndex],\n  },\n});\n","import { render } from \"./FindTheHotspotEditor.vue?vue&type=template&id=199a8496&ts=true\"\nimport script from \"./FindTheHotspotEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./FindTheHotspotEditor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Find the Hotspot - Viewer\", -1)\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_3 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _hoisted_2,\n    _createElementVNode(\"img\", {\n      src: this.task.image.imageUrl\n    }, null, 8, _hoisted_3)\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { FindTheHotspotTask } from '@/models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'FindTheHotspotViewer',\n  props: {\n    task: { type: Object as PropType<FindTheHotspotTask>, required: true },\n  },\n  emits: ['updateAttempt'],\n  data() {\n    return {};\n  },\n  methods: {},\n  computed: {},\n});\n","import { render } from \"./FindTheHotspotViewer.vue?vue&type=template&id=6684b666&ts=true\"\nimport script from \"./FindTheHotspotViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./FindTheHotspotViewer.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// Types for the Interactive Video task type.\nimport { z } from 'zod';\nimport {\n  iconForTaskType,\n  printTaskType,\n  taskDefinitionSchemaMinusInteractiveVideo,\n} from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport { uploadedFileSchema } from '@/routes';\n\n// There are different types of 'interaction' which can be added to the video.\n// TODO Maybe put the 'base' attributes shared by all types of interaction all in one place.\n// TODO I think it may be wiser to use 'startTime' and 'duration' rather than 'startTime' and 'endTime'.\n// I chose to use 'start' and 'end' because it made the ui in one place easier to implement\n// (v-model for 'end time' input field), but I have noticed that I must calculate a duration\n// by hand in many other places anyway.\n\n// Overlay: An overlay is shown on top of the video over a span of time\nconst overlaySchema = z.object({\n  type: z.literal('overlay'),\n  id: z.string(),\n  startTime: z.number(), // Seconds\n  endTime: z.number(), // Seconds\n  x: z.number(), // Position, as a fraction of video width, between 0 and 1\n  y: z.number(), // Position, as a fraction of video height, between 0 and 1\n  width: z.number(), // Width, as a fraction of video width, between 0 and 1\n  height: z.number(), // Height, as a fraction of video width, between 0 and 1\n  text: z.string(), // Sanitized HTML from Wysiwyg editor\n  pauseWhenVisible: z.boolean().optional().default(true),\n});\nexport type OverlayInteraction = z.infer<typeof overlaySchema>;\n\n// LMB Task interaction: A Lernmodule Block Task (LMB Task) is shown at a given\n// point in the video for the student to solve.\nconst lmbTaskInteractionSchema = z.object({\n  type: z.literal('lmbTask'),\n  id: z.string(),\n  startTime: z.number(), // Seconds\n  endTime: z.number(), // Seconds\n  x: z.number(), // Position, as a fraction of video width, between 0 and 1\n  y: z.number(), // Position, as a fraction of video height, between 0 and 1\n  taskDefinition: z.lazy(() => taskDefinitionSchemaMinusInteractiveVideo),\n  pauseWhenVisible: z.boolean().optional().default(true),\n});\nexport type LmbTaskInteraction = z.infer<typeof lmbTaskInteractionSchema>;\n\nconst interactiveVideoInteractionSchema = z\n  .union([overlaySchema, lmbTaskInteractionSchema])\n  .refine((data) => data.endTime > data.startTime, {\n    message: 'endTime cannot be earlier than startTime',\n    path: ['endTime'],\n  });\nexport type Interaction = z.infer<typeof interactiveVideoInteractionSchema>;\n\nexport const interactiveVideoTaskSchema = z.object({\n  task_type: z.literal('InteractiveVideo'),\n  video: z.union([\n    z.object({\n      type: z.literal('none'),\n    }),\n    z.object({\n      type: z.literal('youtube'),\n      url: z.string(),\n    }),\n    z.object({\n      type: z.literal('studipFileReference'),\n      // TODO #20 -- Consider storing file ID instead of { url, name, type }\n      file: uploadedFileSchema,\n    }),\n  ]),\n  autoplay: z.boolean().optional().default(false),\n  startAt: z.number().optional().default(0),\n  disableNavigation: z\n    .union([\n      z.literal('not disabled'),\n      z.literal('forward disabled'),\n      z.literal('forward and backward disabled'),\n    ])\n    .default('not disabled'),\n  interactions: z.array(interactiveVideoInteractionSchema),\n});\nexport type InteractiveVideoTask = z.infer<typeof interactiveVideoTaskSchema>;\n\nexport function printInteractionType(interaction: Interaction): string {\n  switch (interaction.type) {\n    case 'lmbTask':\n      return printTaskType(interaction.taskDefinition.task_type);\n    case 'overlay':\n      return $gettext('Einblendung');\n  }\n}\n\nexport function iconForInteraction(interaction: Interaction): string {\n  switch (interaction.type) {\n    case 'overlay':\n      return 'item';\n    case 'lmbTask':\n      return iconForTaskType(interaction.taskDefinition.task_type);\n  }\n}\n\nexport const resizeHandles = [\n  'left',\n  'top-left',\n  'top',\n  'top-right',\n  'right',\n  'bottom-right',\n  'bottom',\n  'bottom-left',\n] as const;\nexport type ResizeHandle = typeof resizeHandles[number];\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { style: {\"display\":\"none\"} }\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" Task definition: \")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_SelectVideo = _resolveComponent(\"SelectVideo\")!\n  const _component_TabComponent = _resolveComponent(\"TabComponent\")!\n  const _component_AddInteractions = _resolveComponent(\"AddInteractions\")!\n  const _component_TabsComponent = _resolveComponent(\"TabsComponent\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_TabsComponent, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_TabComponent, {\n          title: _ctx.$gettext('1. Video auswhlen'),\n          icon: \"video2\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_SelectVideo, { \"task-definition\": _ctx.taskDefinition }, null, 8, [\"task-definition\"])\n          ]),\n          _: 1\n        }, 8, [\"title\"]),\n        _createVNode(_component_TabComponent, {\n          title: _ctx.$gettext('2. Interaktionen hinzufgen'),\n          icon: \"content\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_AddInteractions, { \"task-definition\": _ctx.taskDefinition }, null, 8, [\"task-definition\"])\n          ]),\n          _: 1\n        }, 8, [\"title\"])\n      ]),\n      _: 1\n    }),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _hoisted_2,\n      _createElementVNode(\"pre\", null, _toDisplayString(_ctx.taskDefinition), 1)\n    ])\n  ], 64))\n}","<!-- Adapted from https://zerotomastery.io/blog/tab-component-design-with-vue/ -->\n<template>\n  <div class=\"cw-tabs\">\n    <div role=\"tablist\" class=\"cw-tabs-nav\">\n      <button\n        v-for=\"tab in tabs\"\n        :key=\"tab.title\"\n        @click=\"activeTabHash = tab.hash\"\n        :class=\"{\n          'is-active': tab.hash === activeTabHash,\n          [`cw-tabs-nav-icon-text-${tab.icon}`]:\n            tab.icon !== '' && tab.name !== '',\n          [`cw-tabs-nav-icon-solo-${tab.icon}`]:\n            tab.icon !== '' && tab.name === '',\n        }\"\n        :aria-selected=\"tab.hash === activeTabHash\"\n        :aria-controls=\"tab.hash\"\n        :id=\"'#' + tab.hash\"\n        :tabindex=\"0\"\n      >\n        {{ tab.title }}\n      </button>\n    </div>\n    <slot />\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent } from 'vue';\n\nexport default defineComponent({\n  data() {\n    return {\n      activeTabHash: '',\n      tabs: [],\n    };\n  },\n  provide() {\n    return {\n      addTab: (tab) => {\n        const count = this.tabs.push(tab);\n\n        if (count === 1) {\n          this.activeTabHash = tab.hash;\n        }\n      },\n      activeTabHash: computed(() => this.activeTabHash),\n    };\n  },\n});\n</script>\n","import { render } from \"./TabsComponent.vue?vue&type=template&id=37927ae0\"\nimport script from \"./TabsComponent.vue?vue&type=script&lang=js\"\nexport * from \"./TabsComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- Adapted from https://zerotomastery.io/blog/tab-component-design-with-vue/ -->\n<template>\n  <div\n    role=\"tabpanel\"\n    class=\"cw-tab cw-tabs-content\"\n    :class=\"{ 'cw-tab-active': isActive }\"\n    v-show=\"isActive\"\n    :aria-labelledby=\"buttonSelector\"\n  >\n    <slot />\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nexport default defineComponent({\n  inject: ['activeTabHash', 'addTab'],\n  props: {\n    title: {\n      type: String,\n      required: true,\n    },\n    icon: {\n      type: String,\n      required: false,\n      default: '',\n    },\n  },\n  data() {\n    return { hash: '', isActive: false };\n  },\n  created() {\n    this.hash = '#' + this.title.toLowerCase().replace(/ /g, '-');\n\n    this.addTab({\n      title: this.title,\n      hash: this.hash,\n      icon: this.icon,\n    });\n  },\n  watch: {\n    activeTabHash() {\n      this.isActive = this.activeTabHash === this.hash;\n    },\n  },\n  computed: {\n    buttonSelector() {\n      return '#' + this.hash;\n    },\n  },\n});\n</script>\n","import { render } from \"./TabComponent.vue?vue&type=template&id=800c4dce\"\nimport script from \"./TabComponent.vue?vue&type=script&lang=js\"\nexport * from \"./TabComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, toDisplayString as _toDisplayString, resolveDynamicComponent as _resolveDynamicComponent, withModifiers as _withModifiers, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-57f406d4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { ref: \"videoJsContainer\" }\nconst _hoisted_2 = [\"onClick\", \"title\"]\nconst _hoisted_3 = [\"title\"]\nconst _hoisted_4 = [\"title\"]\nconst _hoisted_5 = [\"title\"]\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"arrow\",\n  \"data-popper-arrow\": \"\"\n}, null, -1))\nconst _hoisted_7 = { class: \"active-interaction\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_LmbTaskInteraction = _resolveComponent(\"LmbTaskInteraction\")!\n  const _component_OverlayInteraction = _resolveComponent(\"OverlayInteraction\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"video-player-root\", { 'drag-in-progress': !!_ctx.dragState }]),\n    ref: \"root\"\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, null, 512),\n    (!!_ctx.selectedInteractionId)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: \"cancel-selection-overlay\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.editor!.selectInteraction(undefined)))\n        }))\n      : _createCommentVNode(\"\", true),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.task.interactions, (interaction) => {\n      return (_openBlock(), _createElementBlock(\"button\", {\n        class: \"progress-bar-interaction-marker\",\n        key: interaction.id,\n        style: _normalizeStyle(_ctx.progressBarInteractionMarkerStyle(interaction)),\n        onClick: ($event: any) => (_ctx.onClickInteractionMarker(interaction)),\n        title: \n        _ctx.$gettext('Zu %{ interaction } springen', {\n          interaction: _ctx.printInteractionType(interaction),\n        })\n      \n      }, null, 12, _hoisted_2))\n    }), 128)),\n    (_ctx.editor)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          ref: \"selectedInteractionTooltip\",\n          class: _normalizeClass([\"selected-interaction-tooltip\", {\n        hidden: !_ctx.interactionForPopper,\n      }])\n        }, [\n          (_ctx.selectedInteraction?.type === 'lmbTask')\n            ? (_openBlock(), _createElementBlock(\"button\", {\n                key: 0,\n                type: \"button\",\n                class: \"small-button visibility-visible\",\n                onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.activateInteraction(_ctx.selectedInteraction))),\n                title: _ctx.$gettext('Vorschau')\n              }, null, 8, _hoisted_3))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"small-button edit\",\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.editInteraction(_ctx.selectedInteraction))),\n            title: _ctx.$gettext('Bearbeiten')\n          }, null, 8, _hoisted_4),\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"small-button trash\",\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.editor?.deleteInteraction(_ctx.selectedInteractionId))),\n            title: _ctx.$gettext('Lschen')\n          }, null, 8, _hoisted_5),\n          _hoisted_6\n        ], 2))\n      : _createCommentVNode(\"\", true),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.visibleInteractions, (interaction) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: interaction.id\n      }, [\n        (interaction.type === 'lmbTask')\n          ? (_openBlock(), _createBlock(_component_LmbTaskInteraction, {\n              key: 0,\n              id: `interaction-${_ctx.uid}-${interaction.id}`,\n              class: \"video-player-interaction\",\n              style: _normalizeStyle({\n          left: `${interaction.x * 100}%`,\n          top: `${interaction.y * 100}%`,\n        }),\n              interaction: interaction,\n              onClick: ($event: any) => (_ctx.editor?.selectInteraction(interaction.id)),\n              onPointerdown: ($event: any) => (_ctx.onPointerDownInteraction($event, interaction)),\n              onPointermove: ($event: any) => (_ctx.onPointerMoveInteraction($event, interaction)),\n              onPointerup: ($event: any) => (_ctx.onPointerUpInteraction($event, interaction)),\n              onActivateInteraction: _ctx.activateInteraction\n            }, null, 8, [\"id\", \"style\", \"interaction\", \"onClick\", \"onPointerdown\", \"onPointermove\", \"onPointerup\", \"onActivateInteraction\"]))\n          : (interaction.type === 'overlay')\n            ? (_openBlock(), _createBlock(_component_OverlayInteraction, {\n                key: 1,\n                id: `interaction-${_ctx.uid}-${interaction.id}`,\n                class: \"video-player-interaction\",\n                style: _normalizeStyle({\n          left: `${interaction.x * 100}%`,\n          top: `${interaction.y * 100}%`,\n          width: `${interaction.width * 100}%`,\n          height: `${interaction.height * 100}%`,\n        }),\n                interaction: interaction,\n                onClick: ($event: any) => (_ctx.editor?.selectInteraction(interaction.id)),\n                onPointerdown: ($event: any) => (_ctx.onPointerDownInteraction($event, interaction)),\n                onPointermove: ($event: any) => (_ctx.onPointerMoveInteraction($event, interaction)),\n                onPointerup: ($event: any) => (_ctx.onPointerUpInteraction($event, interaction)),\n                onPointerDownResizeHandle: _ctx.onPointerDownResizeHandle,\n                onPointerMoveResizeHandle: _ctx.onPointerMoveResizeHandle,\n                onPointerUpResizeHandle: _ctx.onPointerUpResizeHandle\n              }, null, 8, [\"id\", \"style\", \"interaction\", \"onClick\", \"onPointerdown\", \"onPointermove\", \"onPointerup\", \"onPointerDownResizeHandle\", \"onPointerMoveResizeHandle\", \"onPointerUpResizeHandle\"]))\n            : _createCommentVNode(\"\", true)\n      ], 64))\n    }), 128)),\n    _createVNode(_Transition, { name: \"fade\" }, {\n      default: _withCtx(() => [\n        (_ctx.activeInteraction?.type === 'lmbTask')\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              class: \"active-interaction-container\",\n              onClick: _cache[5] || (_cache[5] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.closeInteraction && _ctx.closeInteraction(...args)), [\"self\"]))\n            }, [\n              _createElementVNode(\"div\", _hoisted_7, [\n                _createElementVNode(\"h1\", null, _toDisplayString(_ctx.printTaskType(_ctx.activeInteraction.taskDefinition.task_type)), 1),\n                (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.viewerForTaskType(_ctx.activeInteraction.taskDefinition.task_type)), {\n                  task: _ctx.activeInteraction.taskDefinition\n                }, null, 8, [\"task\"])),\n                _createElementVNode(\"button\", {\n                  type: \"button\",\n                  class: \"button cancel\",\n                  onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.closeInteraction && _ctx.closeInteraction(...args)))\n                }, _toDisplayString(_ctx.$gettext('Schlieen')), 1)\n              ])\n            ]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ], 2))\n}","import { InjectionKey, Ref } from 'vue';\n\n/**\n * In the Interactive Video Editor, we use provide/inject to pass data to many\n * different components at once without prop drilling.\n * There is a little bit of ceremony required to have the passed data be statically typed.\n * https://vuejs.org/guide/typescript/composition-api.html#typing-provide-inject\n */\nexport const editorStateSymbol = Symbol(\n  'Interactive Video Editor state'\n) as InjectionKey<EditorState>;\n\nexport interface EditorState {\n  selectedInteractionId: Ref<string | undefined>;\n  selectInteraction(id: string): void;\n  editInteraction(id: string): void;\n  dragInteraction(\n    interactionId: string,\n    clampedXFraction: number,\n    clampedYFraction: number\n  ): void;\n  resizeOverlay(\n    id: string,\n    x: number,\n    y: number,\n    width: number,\n    height: number\n  ): void;\n  deleteInteraction(interactionId: string): void;\n\n  dragInteractionTimeline(id: string, startTime: number): void;\n}\n","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-ab6f7b1e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"data-hover-tooltip\"]\nconst _hoisted_2 = { class: \"interaction-label\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"icon-circle-border\" }, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"button\", {\n    type: \"button\",\n    class: _normalizeClass([\"lmb-task-interaction\", {\n      selected: _ctx.editor?.selectedInteractionId.value === _ctx.interaction.id,\n      editor: !!_ctx.editor,\n    }]),\n    \"data-hover-tooltip\": _ctx.printTaskType(_ctx.interaction.taskDefinition.task_type),\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (!this.editor && _ctx.$emit('activateInteraction', _ctx.interaction)))\n  }, [\n    _createElementVNode(\"div\", _hoisted_2, _toDisplayString(_ctx.printTaskType(_ctx.interaction.taskDefinition.task_type)), 1),\n    _hoisted_3,\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"icon-circle button no-hover-effect\", _ctx.iconForTaskType(_ctx.interaction.taskDefinition.task_type)])\n    }, null, 2)\n  ], 10, _hoisted_1))\n}","\nimport { defineComponent, inject, PropType } from 'vue';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport { Interaction, LmbTaskInteraction } from '@/models/InteractiveVideoTask';\nimport { iconForTaskType, printTaskType } from '../../../models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'LmbTaskInteraction',\n  methods: { iconForTaskType, printTaskType },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    interaction: {\n      type: Object as PropType<LmbTaskInteraction>,\n      required: true,\n    },\n  },\n});\n","import { render } from \"./LmbTaskInteraction.vue?vue&type=template&id=ab6f7b1e&scoped=true&ts=true\"\nimport script from \"./LmbTaskInteraction.vue?vue&type=script&lang=ts\"\nexport * from \"./LmbTaskInteraction.vue?vue&type=script&lang=ts\"\n\nimport \"./LmbTaskInteraction.vue?vue&type=style&index=0&id=ab6f7b1e&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ab6f7b1e\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-639e33de\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"data-hover-tooltip\"]\nconst _hoisted_2 = [\"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_3 = [\"innerHTML\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"overlay\", {\n      selected: _ctx.editor?.selectedInteractionId.value === _ctx.interaction.id,\n      editor: !!_ctx.editor,\n    }]),\n    \"data-hover-tooltip\": _ctx.$gettext('Overlay')\n  }, [\n    (_ctx.editor)\n      ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_ctx.resizeHandles, (handle) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: handle,\n            class: _normalizeClass([\"resize-handle\", handle]),\n            onPointerdown: _withModifiers(($event: any) => (_ctx.onPointerDownResizeHandle($event, handle)), [\"stop\"]),\n            onPointermove: _withModifiers(($event: any) => (_ctx.onPointerMoveResizeHandle($event, handle)), [\"stop\"]),\n            onPointerup: _withModifiers(($event: any) => (_ctx.onPointerUpResizeHandle($event, handle)), [\"stop\"])\n          }, null, 42, _hoisted_2))\n        }), 128))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      class: \"overlay-content\",\n      innerHTML: _ctx.interaction.text\n    }, null, 8, _hoisted_3)\n  ], 10, _hoisted_1))\n}","\nimport { defineComponent, inject, PropType } from 'vue';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport { OverlayInteraction } from '@/models/InteractiveVideoTask';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'OverlayInteraction',\n  methods: {\n    $gettext,\n    onPointerDownResizeHandle(event: PointerEvent, handle: string) {\n      this.$emit('pointerDownResizeHandle', {\n        event,\n        handle,\n        interaction: this.interaction,\n      });\n    },\n    onPointerMoveResizeHandle(event: PointerEvent, handle: string) {\n      this.$emit('pointerMoveResizeHandle', {\n        event,\n        handle,\n        interaction: this.interaction,\n      });\n    },\n    onPointerUpResizeHandle(event: PointerEvent, handle: string) {\n      this.$emit('pointerUpResizeHandle', {\n        event,\n        handle,\n        interaction: this.interaction,\n      });\n    },\n  },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  data() {\n    return {\n      resizeHandles: [\n        'left',\n        'top-left',\n        'top',\n        'top-right',\n        'right',\n        'bottom-right',\n        'bottom',\n        'bottom-left',\n      ],\n    };\n  },\n  props: {\n    interaction: {\n      type: Object as PropType<OverlayInteraction>,\n      required: true,\n    },\n  },\n});\n","import { render } from \"./OverlayInteraction.vue?vue&type=template&id=639e33de&scoped=true&ts=true\"\nimport script from \"./OverlayInteraction.vue?vue&type=script&lang=ts\"\nexport * from \"./OverlayInteraction.vue?vue&type=script&lang=ts\"\n\nimport \"./OverlayInteraction.vue?vue&type=style&index=0&id=639e33de&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-639e33de\"]])\n\nexport default __exports__","\nimport { defineComponent, inject, PropType } from 'vue';\nimport videojs from 'video.js';\nimport Player from 'video.js/dist/types/player';\nrequire('!style-loader!css-loader!video.js/dist/video-js.css');\nimport 'videojs-youtube/dist/Youtube.min.js';\nimport {\n  Interaction,\n  InteractiveVideoTask,\n  printInteractionType,\n  ResizeHandle,\n} from '@/models/InteractiveVideoTask';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport LmbTaskInteraction from '@/components/interactiveVideo/interactions/LmbTaskInteraction.vue';\nimport { printTaskType, viewerForTaskType } from '@/models/TaskDefinition';\nimport { $gettext } from '../../language/gettext';\nimport { createPopper, Instance } from '@popperjs/core';\nimport type { StrictModifiers } from '@popperjs/core';\nimport { v4 } from 'uuid';\nimport OverlayInteraction from '@/components/interactiveVideo/interactions/OverlayInteraction.vue';\nimport { OverlayInteraction as OverlayInteractionType } from '@/models/InteractiveVideoTask';\n\ntype DragState =\n  | {\n      type: 'dragInteraction';\n      interactionId: string;\n      mouseStartPos: [number, number]; // clientX, clientY\n      interactionStartPos: [number, number]; // fraction x, fraction y\n    }\n  | {\n      type: 'resizeInteraction';\n      interactionId: string;\n      mouseStartPos: [number, number]; // clientX, clientY\n      interactionStartPos: [number, number]; // fraction x, fraction y\n      interactionStartSize: [number, number]; // fraction x, fraction y\n      handle: string;\n    }\n  | undefined;\n\nlet popperInstance: Instance | undefined;\nexport default defineComponent({\n  name: 'VideoPlayer',\n  components: { OverlayInteraction, LmbTaskInteraction },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    task: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      player: null as Player | null,\n      // The time the video player is seeked to\n      time: 0,\n      // The time reached by the user watching the video without seeking.\n      // This is used to enforce the setting 'disable navigation'.\n      playedTime: 0,\n      isPlaying: false,\n      dragState: undefined as DragState,\n      activeInteraction: undefined as Interaction | undefined,\n      progressBarParameters: {\n        widthPixels: 1,\n        xOffsetPixels: 0,\n      },\n      progressBarObserver: undefined as ResizeObserver | undefined,\n    };\n  },\n  computed: {\n    // A unique ID for this instance of VideoPlayer, so that we can refer\n    // to elements inside of it by ID when there are multiple VideoPlayers\n    // (e.g. viewer on one tab, editor on another tab).\n    uid(): string {\n      return v4();\n    },\n    // Return the Interaction, if any, for which a popper tooltip should be shown\n    interactionForPopper(): Interaction | undefined {\n      // The popper should only be rendered if the selected interaction is visible.\n      if (\n        this.selectedInteraction &&\n        this.visibleInteractions.includes(this.selectedInteraction)\n      ) {\n        return this.selectedInteraction;\n      } else {\n        return undefined;\n      }\n    },\n    selectedInteraction(): Interaction | undefined {\n      return this.task.interactions.find(\n        (i) => i.id === this.selectedInteractionId\n      );\n    },\n    selectedInteractionId(): string | undefined {\n      return this.editor?.selectedInteractionId.value;\n    },\n    videoUrl(): string {\n      switch (this.task.video.type) {\n        case 'youtube':\n          return this.task.video.url;\n        case 'studipFileReference':\n          return this.task.video.file.url;\n        default:\n          return '';\n      }\n    },\n    videoType(): string | undefined {\n      switch (this.task.video.type) {\n        case 'youtube':\n          return 'video/youtube';\n        case 'studipFileReference':\n          return this.task.video.file.type;\n        default:\n          return '';\n      }\n    },\n    /**\n     * @return a list of Interaction objects whose clickable icons (or other elements)\n     * should be shown overlaid over the video at the timestamp given by this.time.\n     */\n    visibleInteractions(): Interaction[] {\n      return this.task.interactions.filter((i) => {\n        return i.startTime <= this.time && i.endTime > this.time;\n      });\n    },\n    // Computed property created so that we can register a watcher which triggers\n    // when either of these things changes.\n    timeAndVisibleInteractions(): [number, Interaction[]] {\n      return [this.time, this.visibleInteractions];\n    },\n  },\n  watch: {\n    'task.video': function (value) {\n      console.log('video prop changed', value);\n      this.initializePlayer();\n    },\n    // Handle pausing the video when an interaction becomes visible.\n    timeAndVisibleInteractions(\n      [newTime, newVisibleInteractions]: [number, Interaction[]],\n      [oldTime, oldVisibleInteractions]: [number, Interaction[]]\n    ): void {\n      const isPlayingForward = this.isPlaying && newTime > oldTime;\n      const newlyVisibleInteractionWithPause = newVisibleInteractions.find(\n        (i) => !oldVisibleInteractions.includes(i) && i.pauseWhenVisible\n      );\n      if (isPlayingForward && newlyVisibleInteractionWithPause) {\n        console.log(\n          'pausing for interaction: ',\n          newlyVisibleInteractionWithPause\n        );\n        this.player!.pause();\n      }\n    },\n    interactionForPopper: {\n      immediate: true,\n      handler: function (interaction: Interaction | undefined) {\n        popperInstance?.destroy();\n        if (interaction) {\n          // Run on next tick, because we need to wait for the interactionElement\n          // to be rendered by Vue, in case it isn't yet visible at the moment this\n          // watcher is triggered.\n          // For example, if the user clicks on the timeline to jump to a point\n          // in the video where the currently selected interaction is visible,\n          // when it previously was not.\n          this.$nextTick(() => {\n            const interactionElement = document.getElementById(\n              `interaction-${this.uid}-${interaction.id}`\n            ) as HTMLElement;\n            const tooltipElement = this.$refs\n              .selectedInteractionTooltip as HTMLElement;\n            popperInstance = createPopper(interactionElement, tooltipElement, {\n              placement: 'top',\n              modifiers: [\n                {\n                  name: 'offset',\n                  options: {\n                    offset: [0, 8],\n                  },\n                },\n              ],\n            });\n          });\n        }\n      },\n    },\n  },\n  methods: {\n    printInteractionType,\n    $gettext,\n    printTaskType,\n    viewerForTaskType,\n    onPlayerReady() {\n      console.log('player ready');\n    },\n    initializePlayer() {\n      // If player has already been created, it must be destroyed before we\n      // create a new one.\n      this.progressBarObserver?.disconnect();\n      this.player?.dispose();\n\n      // The dispose() method removes the player element from the dom, so we must\n      // create and append the player element by hand to the DOM each time.\n      const playerElement = document.createElement('video-js');\n      playerElement.classList.add('video-js', 'vjs-fluid');\n      (this.$refs.videoJsContainer as HTMLDivElement).appendChild(\n        playerElement\n      );\n\n      // Create the player and set up event listeners\n      this.player = videojs(\n        playerElement,\n        {\n          techOrder: ['html5', 'youtube'],\n          sources: [\n            {\n              src: this.videoUrl,\n              type: this.videoType,\n            },\n          ],\n          controls: true,\n          controlBar: {\n            children: [\n              'playToggle',\n              'progressControl',\n              'currentTimeDisplay',\n              'timeDivider',\n              'durationDisplay',\n              'volumePanel',\n              'fullscreenToggle',\n            ],\n            volumePanel: {\n              inline: false,\n            },\n          },\n          autoplay: this.task.autoplay && !this.editor,\n          // Major browsers block autoplay unless the video is muted.\n          muted: this.task.autoplay && !this.editor,\n        },\n        this.onPlayerReady\n      );\n      this.player.on('timeupdate', () => {\n        const time = this.player!.currentTime();\n        if (time) {\n          this.$emit('timeupdate', time);\n          this.time = time;\n          if (this.isPlaying && !this.player!.paused()!) {\n            // Track how far the user has \"watched\" the video without seeking\n            this.playedTime = Math.max(this.playedTime, time);\n          }\n        }\n      });\n      this.player.on('loadedmetadata', () => {\n        this.playedTime = this.task.startAt;\n        this.player!.currentTime(this.task.startAt);\n        if (this.task.autoplay && !this.editor) {\n          this.player!.play();\n        }\n        this.$emit('metadataChange', {\n          length: this.player!.duration(),\n        });\n      });\n      this.player.on('playing', () => {\n        this.isPlaying = true;\n      });\n      this.player.on(['waiting', 'pause'], () => {\n        this.isPlaying = false;\n      });\n\n      const enforceDisabledNavigation = () => {\n        if (this.task.disableNavigation === 'forward disabled') {\n          // Prevent forward navigation\n          if (this.player!.currentTime()! - this.playedTime > 0.5) {\n            this.player!.currentTime(this.playedTime);\n          }\n        } else if (\n          this.task.disableNavigation === 'forward and backward disabled'\n        ) {\n          // Prevent all navigation\n          if (Math.abs(this.player!.currentTime()! - this.playedTime) > 0.5) {\n            this.player!.currentTime(this.playedTime);\n          }\n        }\n      };\n      this.player.on('seeking', () => {\n        if (!this.editor) {\n          enforceDisabledNavigation();\n        }\n      });\n      this.player.on('seeked', () => {\n        if (!this.editor) {\n          enforceDisabledNavigation();\n        }\n      });\n\n      // Observe the progress bar -- we need to know its size and location\n      // in order to position our interaction markers correctly on top of it.\n      const progressBarEls = playerElement.getElementsByClassName(\n        'vjs-progress-holder'\n      );\n      const progressHolder = progressBarEls.item(0) as HTMLElement | undefined;\n      if (!progressHolder) {\n        console.error('no progress holder found');\n      } else {\n        this.progressBarObserver = new ResizeObserver((entries) => {\n          const root = this.$refs.root as HTMLElement;\n          const rootLeft = root.getBoundingClientRect().x;\n          const progressHolderLeft = progressHolder.getBoundingClientRect().x;\n          const offset = progressHolderLeft - rootLeft;\n          this.progressBarParameters.xOffsetPixels = offset;\n          this.progressBarParameters.widthPixels = progressHolder.clientWidth;\n        });\n        this.progressBarObserver.observe(progressHolder);\n      }\n    },\n    activateInteraction(interaction: Interaction) {\n      this.activeInteraction = interaction;\n      this.player!.pause();\n    },\n    closeInteraction() {\n      this.activeInteraction = undefined;\n    },\n    editInteraction(interaction: Interaction) {\n      this.editor!.editInteraction(interaction.id);\n    },\n    onPointerDownResizeHandle(payload: {\n      event: PointerEvent;\n      handle: ResizeHandle;\n      interaction: OverlayInteractionType;\n    }) {\n      console.log('onPointerDownResizeHandle');\n      if (!this.editor) {\n        return;\n      }\n      const { event, handle, interaction } = payload;\n      this.editor.selectInteraction(interaction.id);\n      this.dragState = {\n        type: 'resizeInteraction',\n        interactionId: interaction.id,\n        mouseStartPos: [event.clientX, event.clientY],\n        interactionStartPos: [interaction.x, interaction.y],\n        interactionStartSize: [interaction.width, interaction.height],\n        handle,\n      };\n      (event.target as HTMLElement).setPointerCapture(event.pointerId);\n    },\n    onPointerUpResizeHandle(payload: {\n      event: PointerEvent;\n      handle: ResizeHandle;\n      interaction: Interaction;\n    }) {\n      console.log('onPointerUpResizeHandle');\n      this.dragState = undefined;\n      (payload.event.target as HTMLElement).releasePointerCapture(\n        payload.event.pointerId\n      );\n    },\n    onPointerMoveResizeHandle(payload: {\n      event: PointerEvent;\n      handle: ResizeHandle;\n      interaction: OverlayInteractionType;\n    }) {\n      const { event, handle, interaction } = payload;\n      if (\n        this.dragState?.type === 'resizeInteraction' &&\n        this.dragState.interactionId === interaction.id\n      ) {\n        const rootRect = (\n          this.$refs.root as HTMLElement\n        ).getBoundingClientRect();\n        const interactionEl = document.getElementById(\n          `interaction-${this.uid}-${interaction.id}`\n        ) as HTMLElement;\n\n        // TODO implement resizing\n        const {\n          interactionStartPos: [xInitial, yInitial],\n          interactionStartSize: [widthInitial, heightInitial],\n        } = this.dragState;\n        let newX = xInitial;\n        let newWidth = widthInitial;\n        let newY = yInitial;\n        let newHeight = heightInitial;\n\n        // Convert mouse movement in pixels to fractions of root rect width/height\n        const xPointer = event.clientX / rootRect.width;\n        const dxPointerPixels = event.clientX - this.dragState.mouseStartPos[0];\n        const dxPointer = dxPointerPixels / rootRect.width;\n\n        const yPointer = event.clientY / rootRect.height;\n        const dyPointerPixels = event.clientY - this.dragState.mouseStartPos[1];\n        const dyPointer = dyPointerPixels / rootRect.height;\n\n        // Horizontal resizing\n        if (\n          handle === 'left' ||\n          handle === 'top-left' ||\n          handle === 'bottom-left'\n        ) {\n          if (xPointer > xInitial + widthInitial) {\n            newX = xInitial + widthInitial;\n            newWidth = xPointer - newX;\n          } else {\n            newX = xInitial + dxPointer;\n            newWidth = widthInitial - dxPointer;\n          }\n        } else if (\n          handle === 'right' ||\n          handle === 'top-right' ||\n          handle === 'bottom-right'\n        ) {\n          if (xPointer < xInitial) {\n            newX = xPointer;\n            newWidth = xInitial - xPointer;\n          } else {\n            newX = xInitial;\n            newWidth = widthInitial + dxPointer;\n          }\n        }\n\n        // Vertical resizing\n        if (\n          handle === 'top-left' ||\n          handle === 'top' ||\n          handle === 'top-right'\n        ) {\n          if (yPointer > yInitial + heightInitial) {\n            newY = yInitial + heightInitial;\n            newHeight = yPointer - newY;\n          } else {\n            newY = yInitial + dyPointer;\n            newHeight = heightInitial - dyPointer;\n          }\n        } else if (\n          handle === 'bottom-left' ||\n          handle === 'bottom' ||\n          handle === 'bottom-right'\n        ) {\n          if (yPointer < yInitial) {\n            newY = yPointer;\n            newHeight = yInitial - yPointer;\n          } else {\n            newY = yInitial;\n            newHeight = heightInitial + dyPointer;\n          }\n        }\n\n        // Prevent shrinking the interaction below a minimum size\n        let filteredHeight = interaction.height,\n          filteredWidth = interaction.width,\n          filteredX = interaction.x,\n          filteredY = interaction.y;\n        if (newHeight > 0.05) {\n          filteredHeight = newHeight;\n          filteredY = newY;\n        }\n        if (newWidth > 0.05) {\n          filteredWidth = newWidth;\n          filteredX = newX;\n        }\n\n        // Prevent moving the interaction completely off screen\n        const isOffscreenX =\n          filteredX > 0.95 || filteredX + filteredWidth < 0.05;\n        const isOffscreenY =\n          filteredY > 0.95 || filteredY + filteredHeight < 0.05;\n        if (isOffscreenX) {\n          filteredX = interaction.x;\n          filteredWidth = interaction.width;\n        }\n        if (isOffscreenY) {\n          filteredY = interaction.y;\n          filteredHeight = interaction.height;\n        }\n\n        this.editor!.resizeOverlay(\n          interaction.id,\n          filteredX,\n          filteredY,\n          filteredWidth,\n          filteredHeight\n        );\n        popperInstance?.update();\n      }\n    },\n    onPointerDownInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerDownInteraction');\n      if (!this.editor) {\n        return;\n      }\n      this.editor.selectInteraction(interaction.id);\n      this.dragState = {\n        type: 'dragInteraction',\n        interactionId: interaction.id,\n        mouseStartPos: [event.clientX, event.clientY],\n        interactionStartPos: [interaction.x, interaction.y],\n      };\n      (event.target as HTMLElement).setPointerCapture(event.pointerId);\n    },\n    onPointerUpInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerUpInteraction');\n      this.dragState = undefined;\n      (event.target as HTMLElement).releasePointerCapture(event.pointerId);\n    },\n    onPointerMoveInteraction(event: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'dragInteraction' &&\n        this.dragState.interactionId === interaction.id\n      ) {\n        const rootRect = (\n          this.$refs.root as HTMLElement\n        ).getBoundingClientRect();\n        const interactionEl = event.currentTarget as HTMLElement;\n\n        const clientDx = event.clientX - this.dragState.mouseStartPos[0];\n        const dxFraction = clientDx / rootRect.width;\n        const xFraction = this.dragState.interactionStartPos[0] + dxFraction;\n        const interactionWidth = interactionEl.clientWidth / rootRect.width;\n        const minX = 0.05 - interactionWidth;\n        const maxX = 0.95;\n        const clampedXFraction = Math.min(maxX, Math.max(minX, xFraction));\n\n        const clientDy = event.clientY - this.dragState.mouseStartPos[1];\n        const dyFraction = clientDy / rootRect.height;\n        const yFraction = this.dragState.interactionStartPos[1] + dyFraction;\n        const interactionHeight = interactionEl.clientHeight / rootRect.height;\n        const minY = 0.05 - interactionHeight;\n        const maxY = 0.95;\n        const clampedYFraction = Math.min(maxY, Math.max(minY, yFraction));\n\n        const id = this.dragState.interactionId;\n        this.editor?.dragInteraction(id, clampedXFraction, clampedYFraction);\n        popperInstance?.update();\n      }\n    },\n    progressBarInteractionMarkerStyle(\n      interaction: Interaction\n    ): Partial<CSSStyleDeclaration> {\n      const progressPercentage =\n        interaction.startTime / (this.player?.duration() ?? 1);\n      const timeOffsetPx =\n        this.progressBarParameters.widthPixels * progressPercentage;\n      return {\n        left: `calc(${this.progressBarParameters.xOffsetPixels}px +\n        ${timeOffsetPx}px - 0.25em)`,\n      };\n    },\n    onClickInteractionMarker(interaction: Interaction): void {\n      this.editor?.selectInteraction(interaction.id);\n      // Give keyboard focus to the interaction whose interaction marker was clicked.\n      const focusInteraction = () => {\n        const interactionElement = document.getElementById(\n          `interaction-${this.uid}-${interaction.id}`\n        ) as HTMLElement;\n        interactionElement.focus({\n          focusVisible: true,\n        } as any);\n      };\n      if (!this.visibleInteractions.includes(interaction)) {\n        // Wait for player to seek so the interaction becomes visible\n        this.player!.one('seeked', () => {\n          // Need to wait one Vue 'tick' so that the interaction element appears.\n          this.$nextTick(focusInteraction);\n        });\n      } else {\n        // The interaction is already visible. Focus it immediately.\n        focusInteraction();\n      }\n      // Skip to a time just slightly ahead of the point where the interaction\n      // appears.  This is necessary to avoid off-by-one-frame errors\n      const delta = 0.2;\n      const difference = this.player!.currentTime()! - interaction.startTime;\n      if (difference < 0 || difference > delta) {\n        this.player!.currentTime(interaction.startTime + delta / 2);\n      }\n    },\n  },\n  mounted() {\n    this.initializePlayer();\n  },\n  beforeUnmount() {\n    this.progressBarObserver?.disconnect();\n  },\n});\n","import { render } from \"./VideoPlayer.vue?vue&type=template&id=57f406d4&scoped=true&ts=true\"\nimport script from \"./VideoPlayer.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoPlayer.vue?vue&type=script&lang=ts\"\n\nimport \"./VideoPlayer.vue?vue&type=style&index=0&id=57f406d4&scoped=true&lang=scss\"\nimport \"./VideoPlayer.vue?vue&type=style&index=1&id=57f406d4&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-57f406d4\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-32afa486\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"tick-label\" }\nconst _hoisted_2 = [\"onClick\", \"title\"]\nconst _hoisted_3 = { class: \"timeline-interactions\" }\nconst _hoisted_4 = [\"title\"]\nconst _hoisted_5 = { class: \"overflow-container\" }\nconst _hoisted_6 = [\"onClick\", \"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_7 = { class: \"timeline-interaction-label\" }\nconst _hoisted_8 = [\"title\", \"onClick\"]\nconst _hoisted_9 = [\"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_10 = [\"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_11 = { style: {\"white-space\":\"pre-wrap\",\"display\":\"none\"} }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    ref: \"root\",\n    class: \"timeline-root\",\n    onDragoverCapture: _cache[6] || (_cache[6] = \n//@ts-ignore\n(...args) => (_ctx.onDragOverTimeline && _ctx.onDragOverTimeline(...args)))\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"timeline-axis\",\n      ref: \"timelineAxis\",\n      onPointerdown: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onPointerDownAxis && _ctx.onPointerDownAxis(...args)))\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.axisScale, (point, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"tick\",\n          key: index\n        }, [\n          _createElementVNode(\"div\", _hoisted_1, _toDisplayString(index % 5 === 0 ? _ctx.formatVideoTimestamp(point) : ' '), 1),\n          _createElementVNode(\"div\", {\n            class: _normalizeClass([\"tick-line\", {\n            major: index % 5 === 0,\n          }])\n          }, null, 2)\n        ]))\n      }), 128)),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.visibleInteractions, (interaction) => {\n        return (_openBlock(), _createElementBlock(\"button\", {\n          key: interaction.id,\n          class: \"interaction-marker\",\n          style: _normalizeStyle(_ctx.interactionMarkerStyle(interaction)),\n          onPointerdown: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"])),\n          onClick: _withModifiers(($event: any) => {\n          _ctx.onClickInteraction(interaction);\n          _ctx.$emit('timelineSeek', interaction.startTime + 0.1);\n        }, [\"stop\"]),\n          title: \n          _ctx.$gettext('Zu %{ interaction } springen', {\n            interaction: _ctx.printInteractionType(interaction),\n          })\n        \n        }, null, 44, _hoisted_2))\n      }), 128))\n    ], 544),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"timeline\", { 'pan-timeline': this.dragState?.type === 'panTimeline' }]),\n      ref: \"timeline\",\n      onPointerdown: _cache[3] || (_cache[3] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.onPointerDownAxis && _ctx.onPointerDownAxis(...args)), [\"self\"])),\n      onWheel: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.onWheel && _ctx.onWheel(...args))),\n      onContextmenu: _cache[5] || (_cache[5] = _withModifiers(() => {}, [\"prevent\"]))\n    }, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.visibleInteractions, (interaction) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: interaction.id,\n            class: _normalizeClass([\"timeline-interaction\", {\n            selected: _ctx.selectedInteractionId === interaction.id,\n          }]),\n            style: _normalizeStyle(_ctx.timelineInteractionStyle(interaction)),\n            title: _ctx.printInteractionType(interaction)\n          }, [\n            _createElementVNode(\"div\", _hoisted_5, [\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                class: _normalizeClass([\"button select-interaction\", _ctx.iconForInteraction(interaction)]),\n                onClick: _withModifiers(($event: any) => (_ctx.onClickInteraction(interaction)), [\"stop\"]),\n                onPointerdown: ($event: any) => (_ctx.onPointerDownInteraction($event, interaction)),\n                onPointermove: ($event: any) => (_ctx.onPointerMoveInteraction($event, interaction)),\n                onPointerup: ($event: any) => (_ctx.onPointerUpInteraction($event, interaction))\n              }, [\n                _createElementVNode(\"span\", _hoisted_7, _toDisplayString(_ctx.printInteractionType(interaction)), 1)\n              ], 42, _hoisted_6),\n              (interaction.endTime < _ctx.viewportEnd)\n                ? (_openBlock(), _createElementBlock(\"button\", {\n                    key: 0,\n                    type: \"button\",\n                    class: \"small-button trash delete-interaction\",\n                    title: _ctx.$gettext('Lschen'),\n                    onClick: ($event: any) => (_ctx.$emit('deleteInteraction', interaction.id))\n                  }, null, 8, _hoisted_8))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _createElementVNode(\"div\", {\n              class: \"interaction-drag-handle start\",\n              onPointerdown: ($event: any) => (_ctx.onPointerDownInteractionStart($event, interaction)),\n              onPointermove: ($event: any) => (_ctx.onPointerMoveInteractionStart($event, interaction)),\n              onPointerup: ($event: any) => (_ctx.onPointerUpInteractionStart($event, interaction))\n            }, null, 40, _hoisted_9),\n            _createElementVNode(\"div\", {\n              class: \"interaction-drag-handle end\",\n              onPointerdown: ($event: any) => (_ctx.onPointerDownInteractionEnd($event, interaction)),\n              onPointermove: ($event: any) => (_ctx.onPointerMoveInteractionEnd($event, interaction)),\n              onPointerup: ($event: any) => (_ctx.onPointerUpInteractionEnd($event, interaction))\n            }, null, 40, _hoisted_10)\n          ], 14, _hoisted_4))\n        }), 128))\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"time-marker\",\n        draggable: \"true\",\n        onDragstart: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.onDragStartTimeMarker && _ctx.onDragStartTimeMarker(...args))),\n        style: _normalizeStyle({\n          left: _ctx.positionForTimeMarker,\n        })\n      }, null, 36)\n    ], 34),\n    _createElementVNode(\"div\", _hoisted_11, _toDisplayString({\n          zoomTransform: _ctx.zoomTransform,\n          viewportWidthEm: _ctx.viewportWidthEm,\n          viewportWidthSeconds: _ctx.viewportWidthSeconds,\n          viewportStart: _ctx.viewportStart,\n          viewportEnd: _ctx.viewportEnd,\n          dragState: _ctx.dragState,\n        }), 1)\n  ], 544))\n}","/**\n * Get the equivalent EM value on a given element with a given pixel value.\n *\n * Normally the number of pixel specified should come from the element itself (e.g. element.style.height) since EM is\n * relative.\n *\n * @param {Object} element - The HTML element.\n * @param {Number} pixelValue - The number of pixel to convert in EM on this specific element.\n * @author Nicolas Bouvrette\n * @license CC BY-SA 3.0 https://stackoverflow.com/a/34540037/7359454\n * Adapted by Ann Yanich\n *\n * @returns {Boolean|undefined} The EM value, or undefined if unable to convert.\n */\nexport default function getEmValueFromElement(\n  element: Element,\n  pixelValue: number\n): number | undefined {\n  if (element.parentNode) {\n    const parentFontSize = parseFloat(\n      window.getComputedStyle(element.parentNode as Element).fontSize\n    );\n    const elementFontSize = parseFloat(\n      window.getComputedStyle(element).fontSize\n    );\n    const pixelValueOfOneEm =\n      (elementFontSize / parentFontSize) * elementFontSize;\n    return pixelValue / pixelValueOfOneEm;\n  }\n  return undefined;\n}\n","\nimport {\n  ComponentPublicInstance,\n  defineComponent,\n  inject,\n  PropType,\n  StyleValue,\n} from 'vue';\nimport { VideoMetadata } from '@/components/interactiveVideo/events';\nimport { throttle } from 'lodash';\nimport {\n  iconForInteraction,\n  Interaction,\n  InteractiveVideoTask,\n  printInteractionType,\n} from '@/models/InteractiveVideoTask';\nimport { $gettext } from '../../language/gettext';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport getEmValueFromElement from '@/components/interactiveVideo/getEmValueFromElement';\nimport { select } from 'd3-selection';\nimport { D3DragEvent, drag } from 'd3-drag';\n\ntype DragState =\n  | { type: 'timeMarker' }\n  | { type: 'panTimeline' }\n  | {\n      type: 'interaction';\n      id: string;\n      mouseStartPos: [number, number]; // clientX, clientY\n      interactionStartTime: number; // Seconds\n      interactionDuration: number; // Seconds\n    }\n  | {\n      type: 'interactionStart';\n      id: string;\n      time: number; // Seconds\n    }\n  | {\n      type: 'interactionEnd';\n      id: string;\n      time: number; // Seconds\n    }\n  | undefined;\nexport default defineComponent({\n  name: 'VideoTimeline',\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    currentTime: {\n      type: Number,\n      required: true,\n    },\n    videoMetadata: {\n      type: Object as PropType<VideoMetadata>,\n      required: true,\n    },\n    task: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n    selectedInteractionId: {\n      type: String,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      dragState: undefined as DragState,\n      zoomTransform: { t: 0, k: 1 },\n      viewportWidthEm: 1,\n    };\n  },\n  mounted() {\n    // When timeline axis becomes visible, its width should be recalculated.\n    // TODO recalculate also when it changes size (e.g. window is resized)\n    const observer = new IntersectionObserver(() =>\n      this.recomputeViewportWidth()\n    );\n    observer.observe(this.$refs.timelineAxis as HTMLElement);\n\n    // Set up d3-drag\n    const dragTimeline = (ev: D3DragEvent<HTMLElement, unknown, unknown>) => {\n      const dSeconds = this.pixelsToSeconds(ev.dx);\n      const translate = this.zoomTransform.t - dSeconds;\n      this.zoomTransform.t = this.constrainZoomTranslate(translate);\n    };\n    const dragBehavior = drag<HTMLElement, unknown>()\n      .filter((event: D3DragEvent<HTMLElement, unknown, unknown>) => {\n        return (event as any).button !== 0; // All buttons except 'left click'\n      })\n      .on('start', () => {\n        this.dragState = { type: 'panTimeline' };\n      })\n      .on('drag', dragTimeline)\n      .on('end', () => {\n        this.dragState = undefined;\n      });\n    select(this.$refs.timeline as HTMLElement).call(dragBehavior);\n  },\n  watch: {\n    // Automatically scroll timeline to keep the current playback position in view\n    currentTime(currentTime: number) {\n      if (currentTime < this.viewportStart || currentTime > this.viewportEnd) {\n        this.zoomTransform.t = this.constrainZoomTranslate(currentTime - 0.5);\n      }\n    },\n  },\n  computed: {\n    visibleInteractions(): Interaction[] {\n      const visibleInteractions: Interaction[] = [];\n      for (let i of this.task.interactions) {\n        const isWithinViewport =\n          i.startTime < this.viewportEnd && i.endTime > this.viewportStart;\n        // An Interaction element should not suddenly disappear if it is dragged\n        // outside of the timeline viewport. That would cause the drag-drop\n        // interaction to unexpectedly end in a confusing way.\n        const isBeingDragged =\n          (this.dragState?.type === 'interaction' ||\n            this.dragState?.type === 'interactionStart' ||\n            this.dragState?.type === 'interactionEnd') &&\n          this.dragState.id === i.id;\n        if (isWithinViewport || isBeingDragged) {\n          visibleInteractions.push(i);\n        }\n      }\n      return visibleInteractions;\n    },\n    viewportWidthSeconds(): number {\n      const secondsPerEm = 0.5 / this.zoomTransform.k;\n      return this.viewportWidthEm * secondsPerEm;\n    },\n    viewportStart(): number {\n      return this.zoomTransform.t;\n    },\n    viewportEnd(): number {\n      return this.viewportStart + this.viewportWidthSeconds;\n    },\n    positionForTimeMarker(): string {\n      return `${this.secondsToTimelinePercentage(this.currentTime)}%`;\n    },\n    axisScale(): number[] {\n      const points = 25;\n      const start = this.viewportStart;\n      const end = this.viewportEnd;\n      const scale: number[] = [];\n      for (let i = 0; i < points; i++) {\n        scale.push(start + ((end - start) / points) * i);\n      }\n      scale.push(end);\n      return scale;\n    },\n  },\n  methods: {\n    iconForInteraction,\n    printInteractionType,\n    $gettext,\n    secondsToTimelinePercentage(seconds: number): number {\n      const deltaT = seconds - this.viewportStart;\n      return (deltaT / this.viewportWidthSeconds) * 100;\n    },\n    interactionMarkerStyle(\n      interaction: Interaction\n    ): Partial<CSSStyleDeclaration> {\n      return {\n        left: `${this.secondsToTimelinePercentage(interaction.startTime)}%`,\n      };\n    },\n    zoom(delta: number, time?: number) {\n      if (!time) {\n        time = (this.viewportStart + this.viewportEnd) / 2;\n      }\n      // Save information needed to recalculate 't' (translate) parameter after zoom\n      const viewportStart0 = this.zoomTransform.t;\n      const viewportWidth0 = this.viewportWidthSeconds;\n\n      // Calculate new zoom level\n      const exp = Math.exp(delta);\n      const newK = this.zoomTransform.k * exp;\n      // Prevent zooming too far in/out\n      this.zoomTransform.k = Math.max(0.005, Math.min(5, newK));\n\n      // Calculate new translation in order to keep the point under the mouse\n      // cursor stationary.\n      // viewportWidthSeconds is recalculated (because it's a computed property)\n      // after zoomTransform.k is modified in the previous block of code..\n      const viewportWidth1 = this.viewportWidthSeconds;\n      const viewportStart1 =\n        time - ((time - viewportStart0) / viewportWidth0) * viewportWidth1;\n      // Prevent panning before video start or after video end\n      this.zoomTransform.t = this.constrainZoomTranslate(viewportStart1);\n    },\n    onWheel(event: WheelEvent) {\n      event.preventDefault(); // Prevent scrolling page up/down\n      const t = this.xCoordinateToTime(event.clientX);\n      const delta = -event.deltaY / 1000;\n      this.zoom(delta, t);\n    },\n    constrainZoomTranslate(t: number): number {\n      return Math.max(0, Math.min(this.videoMetadata.length, t));\n    },\n    pixelsToEm(pixels: number): number {\n      const timeline = this.$refs.timelineAxis;\n      if (!timeline) {\n        return 1;\n      }\n      return (\n        getEmValueFromElement(this.$refs.timelineAxis as HTMLElement, pixels) ??\n        NaN\n      );\n    },\n    recomputeViewportWidth() {\n      const axis = this.$refs.timelineAxis as HTMLElement | null;\n      if (!axis) {\n        console.warn('recomputeViewportWidth: timelineAxis is null');\n        return;\n      }\n      const rect = axis.getBoundingClientRect();\n      const widthInEm = this.pixelsToEm(rect.width);\n      this.viewportWidthEm = widthInEm;\n    },\n    // Format video timestamp for timeline axis. e.g. 1m30s becomes 00;01;30;00\n    formatVideoTimestamp(timestampSeconds: number): string {\n      let hours = 0,\n        minutes = 0,\n        seconds = 0,\n        centiseconds = 0;\n      while (timestampSeconds >= 3600) {\n        hours++;\n        timestampSeconds -= 3600;\n      }\n      while (timestampSeconds >= 60) {\n        minutes++;\n        timestampSeconds -= 60;\n      }\n      while (timestampSeconds >= 1) {\n        seconds++;\n        timestampSeconds -= 1;\n      }\n      centiseconds = Math.floor(timestampSeconds * 100);\n      function twoDigits(n: number): string {\n        return n.toLocaleString('de-DE', {\n          minimumIntegerDigits: 2,\n          maximumFractionDigits: 0,\n        });\n      }\n      return `${twoDigits(hours)};${twoDigits(minutes)};${twoDigits(\n        seconds\n      )};${twoDigits(centiseconds)}`;\n    },\n    pixelsToSeconds(pixels: number): number {\n      const rect = (\n        this.$refs.timelineAxis as HTMLElement\n      ).getBoundingClientRect();\n      const fraction = pixels / rect.width;\n      return fraction * this.viewportWidthSeconds;\n    },\n    /**\n     * Convert the x coordinate in pixels on the timeline to a time in seconds\n     * in the video, clamped between 0 and the video's length.\n     */\n    xCoordinateToTime(clientX: number): number {\n      const rect = (\n        this.$refs.timelineAxis as HTMLElement\n      ).getBoundingClientRect();\n      const x = clientX - rect.left; //x position within the element.\n      const xFraction = x / rect.width;\n      const time = this.viewportStart + xFraction * this.viewportWidthSeconds;\n      const clampedTime = Math.min(\n        this.videoMetadata.length,\n        Math.max(0, time)\n      );\n      return clampedTime;\n    },\n    timelineInteractionStyle(interaction: Interaction): StyleValue {\n      const startDeltaT = interaction.startTime - this.viewportStart;\n      const startPercent = (startDeltaT / this.viewportWidthSeconds) * 100;\n      const endDeltaT = interaction.endTime - this.viewportStart;\n      const endPercent = (endDeltaT / this.viewportWidthSeconds) * 100;\n      return {\n        left: `${startPercent}%`,\n        width: `${endPercent - startPercent}%`,\n      };\n    },\n    onClickInteraction(interaction: Interaction) {\n      console.log('onClickInteraction');\n      this.$emit('clickInteraction', interaction);\n    },\n    onPointerDownInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerDownInteraction');\n      if (event.button !== 0) {\n        // Prevent unintentionally selecting interaction when dragging to\n        // scroll around in the timeline\n        return;\n      }\n      const interactionLength = interaction.endTime - interaction.startTime;\n      this.dragState = {\n        type: 'interaction',\n        id: interaction.id,\n        mouseStartPos: [event.clientX, event.clientY],\n        interactionStartTime: interaction.startTime,\n        interactionDuration: interactionLength,\n      };\n      (event.target as HTMLElement).setPointerCapture(event.pointerId);\n      this.editor!.selectInteraction(interaction.id);\n    },\n    onPointerMoveInteraction(event: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'interaction' &&\n        this.dragState.id === interaction.id\n      ) {\n        const mouseDx = event.clientX - this.dragState.mouseStartPos[0];\n        const rect = (\n          this.$refs.timelineAxis as HTMLElement\n        ).getBoundingClientRect();\n        const secondsPerPixel = this.viewportWidthSeconds / rect.width;\n        const dSeconds = mouseDx * secondsPerPixel;\n        const seconds = this.dragState.interactionStartTime + dSeconds;\n        // Prevent from dragging so far that the endTime > video length\n        const maxTime =\n          this.videoMetadata.length - this.dragState.interactionDuration;\n        const secondsClamped = Math.max(0, Math.min(maxTime, seconds));\n        const id = this.dragState.id;\n        this.editor?.dragInteractionTimeline(id, secondsClamped);\n      }\n    },\n    onPointerUpInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerUpInteraction');\n      this.dragState = undefined;\n      (event.target as HTMLElement).releasePointerCapture(event.pointerId);\n    },\n    onPointerDownInteractionStart(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = {\n        type: 'interactionStart',\n        id: interaction.id,\n        time: interaction.startTime,\n      };\n      (ev.target as HTMLElement).setPointerCapture(ev.pointerId);\n    },\n    onPointerDownInteractionEnd(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = {\n        type: 'interactionEnd',\n        id: interaction.id,\n        time: interaction.endTime,\n      };\n      (ev.target as HTMLElement).setPointerCapture(ev.pointerId);\n    },\n    onPointerMoveInteractionStart(ev: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'interactionStart' &&\n        this.dragState.id === interaction.id\n      ) {\n        const dSeconds = this.pixelsToSeconds(ev.movementX);\n        this.dragState.time += dSeconds;\n        const timeClamped = Math.max(\n          0,\n          Math.min(interaction.endTime - 1, this.dragState.time)\n        );\n        // TODO make undoable\n        interaction.startTime = timeClamped;\n      }\n    },\n    onPointerMoveInteractionEnd(ev: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'interactionEnd' &&\n        this.dragState.id === interaction.id\n      ) {\n        const dSeconds = this.pixelsToSeconds(ev.movementX);\n        this.dragState.time += dSeconds;\n        const secondsClamped = Math.max(\n          interaction.startTime + 1,\n          Math.min(this.videoMetadata.length, this.dragState.time)\n        );\n        // TODO make undoable\n        interaction.endTime = secondsClamped;\n      }\n    },\n    onPointerUpInteractionStart(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = undefined;\n      (ev.target as HTMLElement).releasePointerCapture(ev.pointerId);\n    },\n    onPointerUpInteractionEnd(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = undefined;\n      (ev.target as HTMLElement).releasePointerCapture(ev.pointerId);\n    },\n    onPointerDownAxis(e: PointerEvent) {\n      const time = this.xCoordinateToTime(e.clientX);\n      this.$emit('timelineSeek', time);\n    },\n    onDragStartTimeMarker(e: DragEvent) {\n      console.log('dragstart time marker');\n      this.dragState = { type: 'timeMarker' };\n    },\n    onDragOverTimeline(e: DragEvent) {\n      if (this.dragState?.type === 'timeMarker') {\n        e.preventDefault(); // Stop ghost image from flying back after drop\n        const time = this.xCoordinateToTime(e.clientX);\n        this.emitTimelineSeekThrottled(time);\n      }\n    },\n    emitTimelineSeekThrottled: throttle(function emitTimelineSeek(\n      this: ComponentPublicInstance,\n      time: number\n    ) {\n      this.$emit('timelineSeek', time);\n    },\n    100),\n  },\n});\n","import { render } from \"./VideoTimeline.vue?vue&type=template&id=32afa486&scoped=true&ts=true\"\nimport script from \"./VideoTimeline.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoTimeline.vue?vue&type=script&lang=ts\"\n\nimport \"./VideoTimeline.vue?vue&type=style&index=0&id=32afa486&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-32afa486\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, createBlock as _createBlock, KeepAlive as _KeepAlive, resolveDynamicComponent as _resolveDynamicComponent, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-117c65d4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"selected-interaction-properties\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"default\"\n}\nconst _hoisted_3 = { class: \"collapsable\" }\nconst _hoisted_4 = { class: \"start-and-end-time-inputs\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_VideoTimeInput = _resolveComponent(\"VideoTimeInput\")!\n  const _component_StudipWysiwyg = _resolveComponent(\"StudipWysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"h3\", null, _toDisplayString(_ctx.$gettext('Interaktion')) + \" \\\"\" + _toDisplayString(_ctx.printInteractionType(_ctx.selectedInteraction)) + \"\\\" \", 1),\n    (_ctx.selectedInteraction)\n      ? (_openBlock(), _createElementBlock(\"form\", _hoisted_2, [\n          _createElementVNode(\"fieldset\", _hoisted_3, [\n            _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createElementVNode(\"label\", null, [\n                _createTextVNode(_toDisplayString(_ctx.$gettext('Start')) + \" \", 1),\n                _createVNode(_component_VideoTimeInput, {\n                  modelValue: _ctx.inputStartTime,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.inputStartTime) = $event)),\n                  \"onUpdate:error\": _cache[1] || (_cache[1] = (error) => (_ctx.inputStartTimeFormatError = error)),\n                  class: _normalizeClass([\"time-input\", {\n                invalid: _ctx.inputStartTimeErrors.length > 0,\n              }]),\n                  \"aria-invalid\": _ctx.inputStartTimeErrors.length > 0\n                }, null, 8, [\"modelValue\", \"class\", \"aria-invalid\"])\n              ]),\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.inputStartTimeErrors, (error) => {\n                return (_openBlock(), _createElementBlock(\"p\", {\n                  class: \"validation-error\",\n                  key: error\n                }, _toDisplayString(error), 1))\n              }), 128)),\n              _createElementVNode(\"label\", null, [\n                _createTextVNode(_toDisplayString(_ctx.$gettext('Ende')) + \" \", 1),\n                _createVNode(_component_VideoTimeInput, {\n                  modelValue: _ctx.inputEndTime,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.inputEndTime) = $event)),\n                  \"onUpdate:error\": _cache[3] || (_cache[3] = (error) => (_ctx.inputEndTimeFormatError = error)),\n                  class: _normalizeClass([\"time-input\", {\n                invalid: _ctx.inputEndTimeErrors.length > 0,\n              }]),\n                  \"aria-invalid\": _ctx.inputEndTimeErrors.length > 0\n                }, null, 8, [\"modelValue\", \"class\", \"aria-invalid\"])\n              ])\n            ]),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.inputEndTimeErrors, (error) => {\n              return (_openBlock(), _createElementBlock(\"p\", {\n                class: \"validation-error\",\n                key: error\n              }, _toDisplayString(error), 1))\n            }), 128)),\n            _createElementVNode(\"label\", null, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"checkbox\",\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.selectedInteraction.pauseWhenVisible) = $event))\n              }, null, 512), [\n                [_vModelCheckbox, _ctx.selectedInteraction.pauseWhenVisible]\n              ]),\n              _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Video pausieren')), 1)\n            ])\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.selectedInteraction.type === 'overlay')\n      ? (_openBlock(), _createBlock(_KeepAlive, { key: 1 }, [\n          _createElementVNode(\"div\", null, [\n            (_openBlock(), _createBlock(_component_StudipWysiwyg, {\n              key: `${_ctx.selectedInteraction.id}-overlay-wysiwyg`,\n              modelValue: _ctx.selectedInteraction.text,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.selectedInteraction.text) = $event))\n            }, null, 8, [\"modelValue\"]))\n          ])\n        ], 1024))\n      : (_ctx.selectedInteraction.type === 'lmbTask')\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n            (_openBlock(), _createBlock(_KeepAlive, null, [\n              (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.editorForTaskType(_ctx.selectedInteraction.taskDefinition.task_type)), {\n                key: `${_ctx.selectedInteraction.id}-editor`,\n                taskDefinition: _ctx.selectedInteraction.taskDefinition\n              }, null, 8, [\"taskDefinition\"]))\n            ], 1024)),\n            _createElementVNode(\"h3\", null, _toDisplayString(_ctx.$gettext('Vorschau')), 1),\n            (_openBlock(), _createBlock(_KeepAlive, null, [\n              (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.viewerForTaskType(_ctx.selectedInteraction.taskDefinition.task_type)), {\n                class: \"lmb-task-preview\",\n                key: `${_ctx.selectedInteraction.id}-viewer`,\n                task: _ctx.selectedInteraction.taskDefinition\n              }, null, 8, [\"task\"]))\n            ], 1024))\n          ], 64))\n        : _createCommentVNode(\"\", true)\n  ]))\n}","import { vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.userInput) = $event)),\n    onBlur: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onBlurUserInput && _ctx.onBlurUserInput(...args)))\n  }, null, 544)), [\n    [_vModelText, _ctx.userInput]\n  ])\n}","\nimport { defineComponent } from 'vue';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'VideoTimeInput',\n  props: {\n    modelValue: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      userInput: '',\n    };\n  },\n  watch: {\n    modelValue: {\n      immediate: true,\n      handler(newValue: number) {\n        this.userInput = this.formatSeconds(newValue);\n      },\n    },\n    parsedUserInput() {\n      if (this.parsedUserInput instanceof Error) {\n        this.$emit('update:error', this.parsedUserInput);\n      } else {\n        this.$emit('update:error', undefined);\n      }\n    },\n  },\n  methods: {\n    onBlurUserInput() {\n      if (this.parsedUserInput instanceof Error) {\n        // Reset the input to a good value\n        this.userInput = this.formatSeconds(this.modelValue);\n        this.$emit('update:error', undefined);\n      } else {\n        this.$emit('update:modelValue', this.parsedUserInput);\n        this.$emit('update:error', undefined);\n      }\n    },\n    // Format a time in seconds as HH;MM;SS;SS (Centiseconds at end)\n    formatSeconds(time: number): string {\n      let hours = 0,\n        minutes = 0,\n        seconds = 0,\n        centiseconds = 0;\n      while (time >= 3600) {\n        time -= 3600;\n        hours += 1;\n      }\n      while (time >= 60) {\n        time -= 60;\n        minutes += 1;\n      }\n      while (time >= 1) {\n        time -= 1;\n        seconds += 1;\n      }\n      centiseconds = Math.floor(time * 100);\n      function twoDigits(n: number): string {\n        return n.toLocaleString('de-DE', {\n          minimumIntegerDigits: 2,\n          maximumFractionDigits: 0,\n        });\n      }\n      let string = `${twoDigits(hours)};${twoDigits(minutes)};${twoDigits(\n        seconds\n      )};${twoDigits(centiseconds)}`;\n      return string;\n    },\n  },\n  computed: {\n    /**\n     * Either the time the user input, converted into seconds, or an Error with\n     * a message explaining why the user's input was invalid.\n     */\n    parsedUserInput(): number | Error {\n      const timeRegexCentiseconds =\n        /^(\\d?\\d)[;:](\\d?\\d)[;:](\\d?\\d)[;:](\\d?\\d)$/;\n      const centisecondsMatch = timeRegexCentiseconds.exec(this.userInput);\n      if (centisecondsMatch) {\n        return (\n          parseInt(centisecondsMatch[1]) * 3600 +\n          parseInt(centisecondsMatch[2]) * 60 +\n          parseInt(centisecondsMatch[3]) +\n          parseInt(centisecondsMatch[4]) / 100\n        );\n      }\n      // If the exact format for a time with centiseconds isn't matched, use\n      // a more permissive regex.\n      // This regex is adapted from https://stackoverflow.com/a/8318367/7359454\n      // License CC BY-SA 3.0 https://creativecommons.org/licenses/by-sa/3.0/\n      // Accessed and adapted on 10.01.2024 by Ann Yanich\n      const timeRegexHhMmSs =\n        /^(?:(?:([0-9]?\\d)[;:])?([0-5]?\\d)[:;])?([0-5]?\\d)$/;\n      const hhMmSsMatch = timeRegexHhMmSs.exec(this.userInput);\n      if (!hhMmSsMatch || hhMmSsMatch.length !== 4) {\n        return new Error(\n          $gettext(\n            'Die Startposition muss der Syntax HH;MM;SS oder HH;MM;SS;SS entsprechen.'\n          )\n        );\n      }\n      // match[0] is the time string with colons,\n      // match[1] is hours (or undefined if not present),\n      // match[2] is minutes (or undefined if not present),\n      // and match[3] is seconds (always present).\n      if (hhMmSsMatch[1]) {\n        return (\n          parseInt(hhMmSsMatch[1]) * 3600 +\n          parseInt(hhMmSsMatch[2]) * 60 +\n          parseInt(hhMmSsMatch[3])\n        );\n      } else if (hhMmSsMatch[2]) {\n        return parseInt(hhMmSsMatch[2]) * 60 + parseInt(hhMmSsMatch[3]);\n      } else {\n        return parseInt(hhMmSsMatch[3]);\n      }\n    },\n  },\n});\n","import { render } from \"./VideoTimeInput.vue?vue&type=template&id=9aba7cc0&ts=true\"\nimport script from \"./VideoTimeInput.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoTimeInput.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, inject, PropType } from 'vue';\nimport {\n  Interaction,\n  printInteractionType,\n} from '@/models/InteractiveVideoTask';\nimport { editorForTaskType, viewerForTaskType } from '@/models/TaskDefinition';\nimport { $gettext } from '../../language/gettext';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport VideoTimeInput from '@/components/interactiveVideo/VideoTimeInput.vue';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\n\nexport default defineComponent({\n  name: 'SelectedInteractionProperties',\n  components: { VideoTimeInput, StudipWysiwyg },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    selectedInteraction: {\n      type: Object as PropType<Interaction>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      inputStartTime: 0,\n      inputStartTimeFormatError: undefined as Error | undefined,\n      inputEndTime: 1,\n      inputEndTimeFormatError: undefined as Error | undefined,\n    };\n  },\n  methods: {\n    viewerForTaskType,\n    $gettext,\n    printInteractionType,\n    editorForTaskType,\n  },\n  watch: {\n    inputStartTime(value: number) {\n      if (this.inputStartTimeErrors.length === 0) {\n        // eslint-disable-next-line vue/no-mutating-props\n        this.selectedInteraction.startTime = value;\n      }\n      if (this.inputEndTimeErrors.length === 0) {\n        // eslint-disable-next-line vue/no-mutating-props\n        this.selectedInteraction.endTime = this.inputEndTime;\n      }\n    },\n    'selectedInteraction.startTime': {\n      handler: function (value: number) {\n        this.inputStartTime = value;\n      },\n      immediate: true,\n    },\n    inputEndTime(value: number) {\n      if (this.inputEndTimeErrors.length === 0) {\n        // eslint-disable-next-line vue/no-mutating-props\n        this.selectedInteraction.endTime = value;\n        /*\n         Scenario: startTime = 0, endTime = 4.\n         User begins to edit startTime and sets startTime = 5.\n         This is invalid (startTime > endTime) and is not applied.\n         Then, user edits endTime and sets endTime = 6.\n         Now, both inputs are valid. start < end. So, both should be applied.\n        */\n        if (this.inputStartTimeErrors.length === 0) {\n          // eslint-disable-next-line vue/no-mutating-props\n          this.selectedInteraction.startTime = this.inputStartTime;\n        }\n      }\n    },\n    'selectedInteraction.endTime': {\n      handler: function (value: number) {\n        this.inputEndTime = value;\n      },\n      immediate: true,\n    },\n  },\n  computed: {\n    inputStartTimeErrors(): string[] {\n      const errors: string[] = [];\n      if (this.inputStartTimeFormatError) {\n        errors.push(this.inputStartTimeFormatError.message);\n      }\n      if (this.inputStartTime < 0) {\n        errors.push($gettext('Das eingegebene Wert muss grer als 0 sein.'));\n      }\n      if (this.inputStartTime >= this.selectedInteraction.endTime) {\n        errors.push($gettext('Der Startpunkt muss vor dem Endpunkt sein.'));\n      }\n      // TODO check video length as well.\n      return errors;\n    },\n    inputEndTimeErrors(): string[] {\n      const errors: string[] = [];\n      if (this.inputEndTimeFormatError) {\n        errors.push(this.inputEndTimeFormatError.message);\n      }\n      if (this.inputEndTime < 0) {\n        errors.push($gettext('Das eingegebene Wert muss grer als 0 sein.'));\n      }\n      if (this.inputEndTime <= this.selectedInteraction.startTime) {\n        errors.push($gettext('Der Startpunkt muss vor dem Endpunkt sein.'));\n      }\n      // TODO check video length as well.\n      return errors;\n    },\n  },\n});\n","import { render } from \"./SelectedInteractionProperties.vue?vue&type=template&id=117c65d4&scoped=true&ts=true\"\nimport script from \"./SelectedInteractionProperties.vue?vue&type=script&lang=ts\"\nexport * from \"./SelectedInteractionProperties.vue?vue&type=script&lang=ts\"\n\nimport \"./SelectedInteractionProperties.vue?vue&type=style&index=0&id=117c65d4&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-117c65d4\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-301505ea\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"add-interactions-root\" }\nconst _hoisted_2 = { class: \"toolbar-under-video\" }\nconst _hoisted_3 = { class: \"insert-interactions-buttons\" }\nconst _hoisted_4 = [\"title\"]\nconst _hoisted_5 = [\"onClick\", \"title\"]\nconst _hoisted_6 = { class: \"video-controls\" }\nconst _hoisted_7 = [\"title\"]\nconst _hoisted_8 = [\"title\"]\nconst _hoisted_9 = [\"title\"]\nconst _hoisted_10 = [\"title\"]\n\nimport { computed, nextTick, PropType, provide, ref } from 'vue';\nimport type {\n  Interaction,\n  InteractiveVideoTask,\n  OverlayInteraction,\n} from '@/models/InteractiveVideoTask';\nimport VideoPlayer from '@/components/interactiveVideo/VideoPlayer.vue';\nimport VideoTimeline from '@/components/interactiveVideo/VideoTimeline.vue';\nimport SelectedInteractionProperties from '@/components/interactiveVideo/SelectedInteractionProperties.vue';\nimport { VideoMetadata } from '@/components/interactiveVideo/events';\nimport {\n  iconForTaskType,\n  newTask,\n  printTaskType,\n  TaskDefinition,\n} from '@/models/TaskDefinition';\nimport { v4 } from 'uuid';\nimport { editorStateSymbol } from '@/components/interactiveVideo/editorState';\nimport { $gettext } from '../../language/gettext';\nimport { printInteractionType } from '@/models/InteractiveVideoTask';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n  taskDefinition: {\n    type: Object as PropType<InteractiveVideoTask>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props\n\n\nconst currentTime = ref(0);\nconst videoMetadata = ref<VideoMetadata>({ length: 1 });\nconst selectedInteractionId = ref<string | undefined>(undefined);\nconst videoPlayer = ref<InstanceType<typeof VideoPlayer> | undefined>(\n  undefined\n);\nconst videoTimeline = ref<InstanceType<typeof VideoTimeline> | undefined>(\n  undefined\n);\nconst selectedInteractionProperties = ref<\n  InstanceType<typeof SelectedInteractionProperties> | undefined\n>(undefined);\n\nconst taskTypes: Array<TaskDefinition['task_type']> = [\n  'FillInTheBlanks',\n  'DragTheWords',\n  'MarkTheWords',\n  'Question',\n];\n\nprovide(editorStateSymbol, {\n  selectInteraction,\n  selectedInteractionId,\n  editInteraction,\n  dragInteraction,\n  resizeOverlay,\n  deleteInteraction,\n  dragInteractionTimeline,\n});\n\nconst selectedInteraction = computed(() =>\n  props.taskDefinition.interactions.find(\n    (interaction) => interaction.id === selectedInteractionId.value\n  )\n);\n\nfunction selectInteraction(selectionId: string) {\n  selectedInteractionId.value = selectionId;\n}\nfunction editInteraction(id: string) {\n  selectedInteractionId.value = id;\n  nextTick(() => {\n    const el = selectedInteractionProperties.value?.$el as HTMLElement;\n    el.scrollIntoView({\n      behavior: 'smooth',\n      block: 'start',\n    });\n  });\n}\nfunction onVideoMetadataChange(data: VideoMetadata) {\n  videoMetadata.value = data;\n}\nfunction onTimeUpdate(time: number) {\n  currentTime.value = time;\n}\nfunction onTimelineSeek(time: number) {\n  console.log('onTImelineSeek', time);\n  videoPlayer.value!.player!.currentTime(time);\n}\nfunction onClickZoomIn() {\n  videoTimeline.value!.zoom(0.18);\n}\nfunction onClickZoomOut() {\n  videoTimeline.value!.zoom(-0.18);\n}\nfunction onClickPlay() {\n  videoPlayer.value!.player!.play();\n}\nfunction onClickPause() {\n  videoPlayer.value!.player!.pause();\n}\nfunction insertOverlay() {\n  const interaction: OverlayInteraction = {\n    type: 'overlay',\n    id: v4(),\n    startTime: currentTime.value,\n    endTime: Math.min(videoMetadata.value.length, currentTime.value + 10),\n    x: 0.4,\n    y: 0.4,\n    width: 0.2,\n    height: 0.2,\n    text: $gettext('Einblendung'),\n    pauseWhenVisible: true,\n  };\n  // TODO make undoable ?\n  // eslint-disable-next-line vue/no-mutating-props\n  props.taskDefinition.interactions.push(interaction);\n  selectedInteractionId.value = interaction.id;\n}\n\nfunction insertLmbTaskInteraction(type: TaskDefinition['task_type']) {\n  console.log('insertLmbTaskInteraction', type);\n  const task = newTask(type);\n  const interaction: Interaction = {\n    type: 'lmbTask',\n    id: v4(),\n    taskDefinition: task,\n    startTime: currentTime.value,\n    endTime: Math.min(videoMetadata.value.length, currentTime.value + 10),\n    x: 0.5,\n    y: 0.5,\n    pauseWhenVisible: true,\n  };\n  // TODO make undoable ?\n  // eslint-disable-next-line vue/no-mutating-props\n  props.taskDefinition.interactions.push(interaction);\n  selectedInteractionId.value = interaction.id;\n}\nfunction deleteInteraction(id: string) {\n  console.log('deleteInteraction', id);\n  const interaction = props.taskDefinition.interactions.find(\n    (i) => i.id === id\n  );\n  const prompt = $gettext('%{ interaction } lschen', {\n    interaction: printInteractionType(interaction),\n  });\n  const confirmed = window.confirm(prompt);\n  if (!confirmed) {\n    console.info('Delete prompt canceled by user');\n    return;\n  }\n  const index = props.taskDefinition.interactions.findIndex((i) => i.id === id);\n  // TODO make undoable... Don't want to delete a whole task permanently with no undo\n  // eslint-disable-next-line vue/no-mutating-props\n  props.taskDefinition.interactions.splice(index, 1);\n}\nfunction dragInteraction(id: string, xFraction: number, yFraction: number) {\n  const interaction = props.taskDefinition?.interactions.find(\n    (i) => i.id === id\n  );\n  if (!interaction) {\n    throw new Error(`Interaction with id ${id} not found`);\n  }\n  // TODO make undoable ?\n  interaction.x = xFraction;\n  interaction.y = yFraction;\n}\nfunction resizeOverlay(\n  id: string,\n  x: number,\n  y: number,\n  width: number,\n  height: number\n) {\n  const interaction = props.taskDefinition?.interactions.find(\n    (i) => i.id === id\n  );\n  if (!interaction) {\n    throw new Error(`Interaction with id ${id} not found`);\n  }\n  // TODO make undoable ?\n  interaction.x = x;\n  interaction.y = y;\n  interaction.width = width;\n  interaction.height = height;\n}\nfunction dragInteractionTimeline(id: string, startTime: number) {\n  const interaction = props.taskDefinition?.interactions.find(\n    (i) => i.id === id\n  );\n  if (!interaction) {\n    throw new Error(`Interaction with id ${id} not found`);\n  }\n  // TODO make undoable ?\n  const duration = interaction.endTime - interaction.startTime;\n  interaction.endTime = startTime + duration;\n  interaction.startTime = startTime;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(VideoPlayer, {\n      ref_key: \"videoPlayer\",\n      ref: videoPlayer,\n      task: __props.taskDefinition,\n      onTimeupdate: onTimeUpdate,\n      onMetadataChange: onVideoMetadataChange,\n      onClickInteraction: _cache[0] || (_cache[0] = (i) => selectInteraction(i.id))\n    }, null, 8, [\"task\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button item\",\n          onClick: insertOverlay,\n          title: \n            _unref($gettext)('%{ interactionType } einfgen', {\n              interactionType: _unref($gettext)('Einblendung'),\n            })\n          \n        }, null, 8, _hoisted_4),\n        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(taskTypes, (taskType) => {\n          return _createElementVNode(\"button\", {\n            key: taskType,\n            type: \"button\",\n            class: _normalizeClass([\"button\", _unref(iconForTaskType)(taskType)]),\n            onClick: ($event: any) => (insertLmbTaskInteraction(taskType)),\n            title: \n            _unref($gettext)('%{ interactionType } einfgen', {\n              interactionType: _unref(printTaskType)(taskType),\n            })\n          \n          }, null, 10, _hoisted_5)\n        }), 64))\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button zoom-in\",\n          title: _unref($gettext)('Vergrern'),\n          onClick: onClickZoomIn\n        }, null, 8, _hoisted_7),\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button zoom-out\",\n          title: _unref($gettext)('Verkleinern'),\n          onClick: onClickZoomOut\n        }, null, 8, _hoisted_8),\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button play\",\n          title: _unref($gettext)('Abspielen'),\n          onClick: onClickPlay\n        }, null, 8, _hoisted_9),\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button pause\",\n          title: _unref($gettext)('Pausieren'),\n          onClick: onClickPause\n        }, null, 8, _hoisted_10)\n      ])\n    ]),\n    _createVNode(VideoTimeline, {\n      class: \"video-timeline\",\n      ref_key: \"videoTimeline\",\n      ref: videoTimeline,\n      task: __props.taskDefinition,\n      currentTime: currentTime.value,\n      videoMetadata: videoMetadata.value,\n      selectedInteractionId: selectedInteractionId.value,\n      onTimelineSeek: onTimelineSeek,\n      onClickInteraction: _cache[1] || (_cache[1] = (i) => selectInteraction(i.id)),\n      onDeleteInteraction: deleteInteraction\n    }, null, 8, [\"task\", \"currentTime\", \"videoMetadata\", \"selectedInteractionId\"]),\n    (_unref(selectedInteraction))\n      ? (_openBlock(), _createBlock(SelectedInteractionProperties, {\n          key: 0,\n          ref_key: \"selectedInteractionProperties\",\n          ref: selectedInteractionProperties,\n          selectedInteraction: _unref(selectedInteraction)\n        }, null, 8, [\"selectedInteraction\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./AddInteractions.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AddInteractions.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./AddInteractions.vue?vue&type=style&index=0&id=301505ea&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-301505ea\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelCheckbox as _vModelCheckbox, normalizeClass as _normalizeClass, vModelSelect as _vModelSelect, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-83819d16\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"picker\" }\nconst _hoisted_2 = { class: \"default\" }\nconst _hoisted_3 = { class: \"youtube-url-actions\" }\nconst _hoisted_4 = { class: \"default\" }\nconst _hoisted_5 = { class: \"youtube-url-actions\" }\nconst _hoisted_6 = {\n  key: 1,\n  class: \"video-preview\"\n}\nconst _hoisted_7 = { key: 0 }\nconst _hoisted_8 = [\"href\"]\nconst _hoisted_9 = { key: 1 }\nconst _hoisted_10 = [\"href\"]\nconst _hoisted_11 = { class: \"video-preview-actions\" }\nconst _hoisted_12 = { class: \"form default\" }\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  disabled: \"\",\n  style: {\"display\":\"none\"},\n  \"aria-hidden\": \"true\"\n}, null, -1))\nconst _hoisted_14 = { class: \"start-at-setting\" }\nconst _hoisted_15 = { class: \"start-at-setting-flex\" }\nconst _hoisted_16 = {\n  key: 0,\n  class: \"errors\"\n}\nconst _hoisted_17 = { value: 'not disabled' }\nconst _hoisted_18 = { value: 'forward disabled' }\nconst _hoisted_19 = { value: 'forward and backward disabled' }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n  const _component_FilePicker = _resolveComponent(\"FilePicker\")!\n  const _component_VideoPlayer = _resolveComponent(\"VideoPlayer\")!\n  const _component_VideoTimeInput = _resolveComponent(\"VideoTimeInput\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (_ctx.taskDefinition.video.type === 'none')\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"p\", null, _toDisplayString(_ctx.$gettext(\n          'Lade ein Video hoch oder fge einen Link zu einem Youtube-Video ein.'\n        )), 1),\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createElementVNode(\"form\", _hoisted_2, [\n              _createElementVNode(\"fieldset\", null, [\n                _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Stud.IP-Video')), 1),\n                _createElementVNode(\"label\", null, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Neues Video hochladen')) + \" \", 1),\n                  _createVNode(_component_FileUpload, {\n                    onFileUploaded: _ctx.onUploadStudipVideo,\n                    accept: 'video/*'\n                  }, null, 8, [\"onFileUploaded\"])\n                ]),\n                _createElementVNode(\"label\", null, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Vorhandenes Video auswhlen')) + \" \", 1),\n                  _createVNode(_component_FilePicker, {\n                    modelValue: _ctx.selectedFileId,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selectedFileId) = $event)),\n                    \"is-video\": \"\",\n                    onSelectFile: _ctx.updateCurrentFile\n                  }, null, 8, [\"modelValue\", \"onSelectFile\"])\n                ]),\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _createElementVNode(\"button\", {\n                    type: \"button\",\n                    class: \"button accept\",\n                    onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onSaveUploadedFile && _ctx.onSaveUploadedFile(...args)))\n                  }, _toDisplayString(_ctx.$gettext('bernehmen')), 1)\n                ])\n              ])\n            ]),\n            _createElementVNode(\"form\", _hoisted_4, [\n              _createElementVNode(\"fieldset\", null, [\n                _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Youtube-Video')), 1),\n                _createElementVNode(\"label\", null, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Youtube-URL')) + \" \", 1),\n                  _withDirectives(_createElementVNode(\"input\", {\n                    class: \"youtube-url-input\",\n                    type: \"text\",\n                    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.youtubeUrlInput) = $event))\n                  }, null, 512), [\n                    [_vModelText, _ctx.youtubeUrlInput]\n                  ])\n                ]),\n                _createElementVNode(\"div\", _hoisted_5, [\n                  _createElementVNode(\"button\", {\n                    type: \"submit\",\n                    class: \"button accept\",\n                    onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.onSaveYoutubeVideo && _ctx.onSaveYoutubeVideo(...args)))\n                  }, _toDisplayString(_ctx.$gettext('bernehmen')), 1)\n                ])\n              ])\n            ])\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true),\n    (_ctx.taskDefinition.video.type !== 'none')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n          _createVNode(_component_VideoPlayer, {\n            ref: \"videoPlayer\",\n            task: _ctx.taskDefinition,\n            class: \"video-player\",\n            onTimeupdate: _ctx.onTimeUpdate\n          }, null, 8, [\"task\", \"onTimeupdate\"]),\n          (_ctx.taskDefinition.video.type === 'youtube')\n            ? (_openBlock(), _createElementBlock(\"p\", _hoisted_7, [\n                _createTextVNode(_toDisplayString(_ctx.$gettext('Youtube-Video: ')) + \" \", 1),\n                _createElementVNode(\"a\", {\n                  href: _ctx.taskDefinition.video.url,\n                  target: \"_blank\"\n                }, _toDisplayString(_ctx.taskDefinition.video.url), 9, _hoisted_8)\n              ]))\n            : (_ctx.taskDefinition.video.type === 'studipFileReference')\n              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_9, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Hochgeladenes Video: ')) + \" \", 1),\n                  _createElementVNode(\"a\", {\n                    href: _ctx.taskDefinition.video.file.url,\n                    target: \"_blank\"\n                  }, _toDisplayString(_ctx.taskDefinition.video.file.name), 9, _hoisted_10)\n                ]))\n              : _createCommentVNode(\"\", true),\n          _createElementVNode(\"div\", _hoisted_11, [\n            _createElementVNode(\"button\", {\n              class: \"button trash\",\n              onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.deleteVideo && _ctx.deleteVideo(...args)))\n            }, _toDisplayString(_ctx.$gettext('Video lschen')), 1)\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"form\", _hoisted_12, [\n      _hoisted_13,\n      _createElementVNode(\"fieldset\", null, [\n        _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n        _createElementVNode(\"label\", null, [\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"checkbox\",\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.autoplay) = $event))\n          }, null, 512), [\n            [_vModelCheckbox, _ctx.taskDefinition.autoplay]\n          ]),\n          _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Automatisch abspielen')), 1)\n        ]),\n        _createElementVNode(\"div\", _hoisted_14, [\n          _createElementVNode(\"div\", _hoisted_15, [\n            _createElementVNode(\"label\", null, [\n              _createTextVNode(_toDisplayString(_ctx.$gettext('Anfangen um')) + \" \", 1),\n              _createVNode(_component_VideoTimeInput, {\n                class: _normalizeClass({ invalid: !!_ctx.startPositionInputError }),\n                \"aria-invalid\": !!_ctx.startPositionInputError,\n                modelValue: _ctx.taskDefinition.startAt,\n                \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.startAt) = $event)),\n                \"onUpdate:error\": _cache[7] || (_cache[7] = (error) => (_ctx.startPositionInputError = error))\n              }, null, 8, [\"class\", \"aria-invalid\", \"modelValue\"])\n            ]),\n            _createElementVNode(\"button\", {\n              type: \"button\",\n              class: \"button\",\n              onClick: _cache[8] || (_cache[8] = \n//@ts-ignore\n(...args) => (_ctx.onClickUseCurrentTime && _ctx.onClickUseCurrentTime(...args)))\n            }, _toDisplayString(_ctx.$gettext('Aktuelle Position setzen')), 1)\n          ]),\n          (_ctx.startPositionInputError)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, _toDisplayString(_ctx.startPositionInputError), 1))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _createElementVNode(\"label\", null, [\n          _createTextVNode(_toDisplayString(_ctx.$gettext('Navigation deaktivieren')) + \" \", 1),\n          _withDirectives(_createElementVNode(\"select\", {\n            \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((_ctx.taskDefinition.disableNavigation) = $event))\n          }, [\n            _createElementVNode(\"option\", _hoisted_17, _toDisplayString(_ctx.$gettext('Nicht deaktiviert')), 1),\n            _createElementVNode(\"option\", _hoisted_18, _toDisplayString(_ctx.$gettext('Vorsplen deaktiviert')), 1),\n            _createElementVNode(\"option\", _hoisted_19, _toDisplayString(_ctx.$gettext('Vorsplen und Rcksplen deaktiviert')), 1)\n          ], 512), [\n            [_vModelSelect, _ctx.taskDefinition.disableNavigation]\n          ])\n        ])\n      ])\n    ])\n  ], 64))\n}","import { toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, vShow as _vShow, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect } from \"vue\"\n\nconst _hoisted_1 = { class: \"cw-file-chooser\" }\nconst _hoisted_2 = { value: \"\" }\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"Keine Auswahl\")\nconst _hoisted_4 = [\"value\"]\nconst _hoisted_5 = { disabled: \"\" }\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"Keine Dateien vorhanden\")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FolderPicker = _resolveComponent(\"FolderPicker\")!\n  const _component_translate = _resolveComponent(\"translate\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"label\", null, [\n      _createTextVNode(_toDisplayString(_ctx.$gettext('Ordner-Filter')) + \" \", 1),\n      _createVNode(_component_FolderPicker, {\n        allowUserFolders: \"\",\n        unchoose: \"\",\n        modelValue: _ctx.selectedFolderId,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selectedFolderId) = $event))\n      }, null, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"label\", null, [\n      _createTextVNode(_toDisplayString(_ctx.$gettext('Datei')) + \" \", 1),\n      _withDirectives(_createElementVNode(\"select\", {\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.currentValue) = $event)),\n        onChange: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.selectFile && _ctx.selectFile(...args)))\n      }, [\n        _withDirectives(_createElementVNode(\"option\", _hoisted_2, [\n          _createVNode(_component_translate, null, {\n            default: _withCtx(() => [\n              _hoisted_3\n            ]),\n            _: 1\n          })\n        ], 512), [\n          [_vShow, _ctx.canBeEmpty]\n        ]),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.files, (file, index) => {\n          return (_openBlock(), _createElementBlock(\"option\", {\n            key: index,\n            value: file.id\n          }, _toDisplayString(file.name), 9, _hoisted_4))\n        }), 128)),\n        _withDirectives(_createElementVNode(\"option\", _hoisted_5, [\n          _createVNode(_component_translate, null, {\n            default: _withCtx(() => [\n              _hoisted_6\n            ]),\n            _: 1\n          })\n        ], 512), [\n          [_vShow, _ctx.files.length === 0]\n        ])\n      ], 544), [\n        [_vModelSelect, _ctx.currentValue]\n      ])\n    ])\n  ]))\n}","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  value: \"\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"kein Ordner ausgewhlt\")\nconst _hoisted_3 = [\"label\"]\nconst _hoisted_4 = [\"value\"]\nconst _hoisted_5 = [\"label\"]\nconst _hoisted_6 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_translate = _resolveComponent(\"translate\")!\n\n  return _withDirectives((_openBlock(), _createElementBlock(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.currentValue) = $event)),\n    onChange: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.changeSelection && _ctx.changeSelection(...args)))\n  }, [\n    (_ctx.unchoose)\n      ? (_openBlock(), _createElementBlock(\"option\", _hoisted_1, [\n          _createVNode(_component_translate, null, {\n            default: _withCtx(() => [\n              _hoisted_2\n            ]),\n            _: 1\n          })\n        ]))\n      : _createCommentVNode(\"\", true),\n    (this.context.type === 'courses')\n      ? (_openBlock(), _createElementBlock(\"optgroup\", {\n          key: 1,\n          label: _ctx.textOptGroupCourse\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.loadedCourseFolders, (folder) => {\n            return (_openBlock(), _createElementBlock(\"option\", {\n              key: folder.id,\n              value: folder.id\n            }, _toDisplayString(folder.attributes.name), 9, _hoisted_4))\n          }), 128))\n        ], 8, _hoisted_3))\n      : _createCommentVNode(\"\", true),\n    (_ctx.allowUserFolders)\n      ? (_openBlock(), _createElementBlock(\"optgroup\", {\n          key: 2,\n          label: _ctx.textOptGroupUser\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.loadedUserFolders, (folder) => {\n            return (_openBlock(), _createElementBlock(\"option\", {\n              key: folder.id,\n              value: folder.id\n            }, _toDisplayString(folder.attributes.name), 9, _hoisted_6))\n          }), 128))\n        ], 8, _hoisted_5))\n      : _createCommentVNode(\"\", true)\n  ], 544)), [\n    [_vModelSelect, _ctx.currentValue]\n  ])\n}","\nimport { defineComponent } from 'vue';\nimport { Context } from '@/models/CoursewareBlockIframeMessages';\nimport { coursewareBlockStore } from '@/store';\nimport { mapActions, mapGetters } from 'vuex';\n\ninterface Folder {\n  id: string;\n  attributes: {\n    'folder-type': string;\n    'data-content': {\n      download_allowed: number;\n    };\n    name: string;\n  };\n  relationships?: {\n    parent?: {\n      data: {\n        id: string;\n      };\n    };\n  };\n}\n\nfunction filterCourseFolders(\n  folders: Folder[],\n  { allowHomeworkFolders }: { allowHomeworkFolders: boolean }\n) {\n  const validatedParents = new Map();\n\n  return folders.filter((folder: Folder) => {\n    if (validateParentFolder(folder)) {\n      switch (folder.attributes['folder-type']) {\n        case 'HiddenFolder':\n          if (folder.attributes['data-content']['download_allowed'] === 1) {\n            return true;\n          }\n          break;\n        case 'HomeworkFolder':\n          if (allowHomeworkFolders) {\n            return true;\n          }\n          break;\n        default:\n          return true;\n      }\n    }\n  });\n\n  function validateParentFolder(folder: Folder): boolean {\n    let isValid = true;\n    if (folder?.relationships?.parent) {\n      let parentId = folder.relationships.parent.data.id;\n      if (validatedParents.has(parentId)) {\n        isValid = validatedParents.get(parentId);\n      } else {\n        let parent = folders.find((f) => f.id === parentId);\n        if (parent) {\n          isValid = hiddenParentFolderValidation(parent);\n          validatedParents.set(parentId, isValid);\n        }\n      }\n    }\n    return isValid;\n  }\n\n  function hiddenParentFolderValidation(parentFolder: Folder): boolean {\n    if (parentFolder.attributes['folder-type'] === 'HiddenFolder') {\n      return false;\n    } else if (parentFolder?.relationships?.parent) {\n      // Recursively validating the parents.\n      return validateParentFolder(parentFolder);\n    } else {\n      return true;\n    }\n  }\n}\n\nexport default defineComponent({\n  name: 'FolderPicker',\n  props: {\n    value: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    allowUserFolders: { type: Boolean, default: false },\n    allowHomeworkFolders: { type: Boolean, default: false },\n    unchoose: { type: Boolean, default: false },\n  },\n  data() {\n    return {\n      currentValue: '',\n      textOptGroupCourse: this.$gettext('Dateibereich dieser Veranstaltung'),\n      textOptGroupUser: this.$gettext('Persnlicher Dateibereich'),\n    };\n  },\n  computed: {\n    ...mapGetters({\n      relatedFolders: 'folders/related',\n    }),\n    context(): Context {\n      // Replaces the vuex getter 'context'\n      return coursewareBlockStore.studipContext;\n    },\n    userId(): string {\n      // Replaces the vuex getter 'userId'\n      return window.STUDIP.USER_ID;\n    },\n    courseObject() {\n      return { type: 'courses', id: `${this.context.id}` };\n    },\n    userObject() {\n      return { type: 'users', id: `${this.userId}` };\n    },\n    loadedCourseFolders() {\n      return filterCourseFolders(\n        this.relatedFolders({\n          parent: this.courseObject,\n          relationship: 'folders',\n        }) ?? [],\n        {\n          allowHomeworkFolders: this.allowHomeworkFolders,\n        }\n      );\n    },\n    loadedUserFolders() {\n      let loadedUserFolders: Folder[] = [];\n      let UserFolders: Folder[] =\n        this.relatedFolders({\n          parent: this.userObject,\n          relationship: 'folders',\n        }) ?? [];\n      UserFolders.forEach((folder: Folder) => {\n        if (folder.attributes['folder-type'] === 'PublicFolder') {\n          loadedUserFolders.push(folder);\n        }\n      });\n\n      return loadedUserFolders;\n    },\n  },\n  methods: {\n    ...mapActions({\n      _loadRelatedFolders: 'folders/loadRelated',\n    }),\n    // Typed shim for vuex action 'folders/loadRelated'\n    loadRelatedFolders(params: {\n      parent: {\n        type: string;\n        id: string;\n      };\n      relationship: string;\n      options: {\n        'page[limit]': number;\n      };\n    }): Promise<unknown> {\n      return this._loadRelatedFolders(params);\n    },\n\n    changeSelection() {\n      this.$emit('input', this.currentValue);\n    },\n\n    getCourseFolders() {\n      const parent = this.courseObject;\n      const relationship = 'folders';\n      const options = { 'page[limit]': 10000 };\n\n      return this.loadRelatedFolders({ parent, relationship, options });\n    },\n\n    getUserFolders() {\n      const parent = this.userObject;\n      const relationship = 'folders';\n      const options = { 'page[limit]': 10000 };\n\n      return this.loadRelatedFolders({ parent, relationship, options });\n    },\n\n    confirmSelectedFolder() {\n      const folders: Folder[] = this.loadedUserFolders.concat(\n        this.loadedCourseFolders\n      );\n\n      let folder = folders.find((folder) => folder.id === this.currentValue);\n\n      if (this.currentValue !== '' && folder === undefined) {\n        this.currentValue = '';\n        this.changeSelection();\n      }\n    },\n  },\n  async mounted() {\n    this.currentValue = this.value;\n    if (this.context.type !== 'users') {\n      await this.getCourseFolders();\n    }\n    await this.getUserFolders();\n    this.confirmSelectedFolder();\n  },\n  watch: {\n    value() {\n      this.currentValue = this.value;\n    },\n  },\n});\n","import { render } from \"./FolderPicker.vue?vue&type=template&id=32532642&ts=true\"\nimport script from \"./FolderPicker.vue?vue&type=script&lang=ts\"\nexport * from \"./FolderPicker.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport FolderPicker from '@/components/courseware-components-ported-to-vue3/FolderPicker.vue';\nimport { mapActions, mapGetters } from 'vuex';\nimport { defineComponent } from 'vue';\nimport { $gettext } from '../../language/gettext';\n\nexport default defineComponent({\n  name: 'FilePicker',\n  components: { FolderPicker },\n  props: {\n    value: String,\n    mimeType: { type: String, default: '' },\n    isImage: { type: Boolean, default: false },\n    isVideo: { type: Boolean, default: false },\n    isAudio: { type: Boolean, default: false },\n    isDocument: { type: Boolean, default: false },\n    canBeEmpty: { type: Boolean, default: false },\n  },\n  data() {\n    return {\n      currentValue: '',\n      selectedFolderId: '',\n      files: [] as any[],\n    };\n  },\n  computed: {\n    ...mapGetters({\n      fileRefById: 'file-refs/byId',\n      relatedFileRefs: 'file-refs/related',\n      relatedTermOfUse: 'terms-of-use/related',\n    }),\n    userId(): string {\n      return window.STUDIP.USER_ID;\n    },\n  },\n  methods: {\n    $gettext,\n    ...mapActions({\n      loadFileRef: 'file-refs/loadById',\n      loadRelatedFileRefs: 'file-refs/loadRelated',\n    }),\n    selectFile() {\n      this.$emit(\n        'selectFile',\n        this.files.find((file) => file.id === this.currentValue)\n      );\n    },\n    filterFiles(loadArray: any[]) {\n      const filterFile = (file: any) => {\n        let fileTermsOfUse = this.relatedTermOfUse({\n          parent: file,\n          relationship: 'terms-of-use',\n        });\n\n        if (\n          fileTermsOfUse !== null &&\n          fileTermsOfUse.attributes['download-condition'] !== 0\n        ) {\n          return false;\n        }\n        if (\n          this.mimeType !== '' &&\n          this.mimeType !== file.attributes['mime-type']\n        ) {\n          return false;\n        }\n        if (this.isImage && !file.attributes['mime-type'].includes('image')) {\n          return false;\n        }\n        const videoConditions = ['video/mp4', 'video/ogg', 'video/webm'];\n        if (\n          this.isVideo &&\n          !videoConditions.some((condition) =>\n            file.attributes['mime-type'].includes(condition)\n          )\n        ) {\n          return false;\n        }\n        const audioConditions = [\n          'audio/wav',\n          'audio/ogg',\n          'audio/webm',\n          'audio/flac',\n          'audio/mpeg',\n          'audio/x-m4a',\n          'audio/mp4',\n        ];\n        if (\n          this.isAudio &&\n          !audioConditions.some((condition) =>\n            file.attributes['mime-type'].includes(condition)\n          )\n        ) {\n          return false;\n        }\n        const officeConditions = ['application/pdf']; //TODO enable more mime types\n        if (\n          this.isDocument &&\n          !officeConditions.some((condition) =>\n            file.attributes['mime-type'].includes(condition)\n          )\n        ) {\n          return false;\n        }\n\n        return true;\n      };\n\n      return loadArray.filter(filterFile).map((file) => ({\n        id: file.id,\n        name: file.attributes.name,\n        mime_type: file.attributes['mime-type'],\n        download_url: window.STUDIP.URLHelper.getURL(\n          'sendfile.php',\n          { type: 0, file_id: file.id, file_name: file.attributes.name },\n          true\n        ),\n      }));\n    },\n    async getFolderFiles() {\n      const parent = { type: 'folders', id: `${this.selectedFolderId}` };\n      const relationship = 'file-refs';\n      const options = { include: 'terms-of-use', 'page[limit]': 10000 };\n      await this.loadRelatedFileRefs({ parent, relationship, options });\n\n      const fileRefs = this.relatedFileRefs({ parent, relationship });\n      this.files = this.filterFiles(fileRefs);\n    },\n  },\n  async mounted() {\n    console.log('mounted');\n    if (this.value !== '') {\n      await this.loadFileRef({ id: this.value });\n      const fileRef = this.fileRefById({ id: this.value });\n\n      if (fileRef) {\n        this.selectedFolderId = fileRef.relationships.parent.data.id;\n        this.currentValue = this.value ?? '';\n      }\n    }\n  },\n  watch: {\n    selectedFolderId() {\n      if (this.selectedFolderId !== '') {\n        this.getFolderFiles();\n      }\n    },\n    value(newValue, oldValue) {\n      if (newValue === '') {\n        this.selectedFolderId = '';\n        this.currentValue = '';\n      }\n    },\n  },\n});\n","import { render } from \"./FilePicker.vue?vue&type=template&id=d7417ea6&ts=true\"\nimport script from \"./FilePicker.vue?vue&type=script&lang=ts\"\nexport * from \"./FilePicker.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport VideoPlayer from '@/components/interactiveVideo/VideoPlayer.vue';\nimport { $gettext } from '@/language/gettext';\nimport { InteractiveVideoTask } from '@/models/InteractiveVideoTask';\nimport FileUpload from '@/components/FileUpload.vue';\nimport { UploadedFile } from '@/routes';\nimport VideoTimeInput from '@/components/interactiveVideo/VideoTimeInput.vue';\nimport FilePicker from '@/components/courseware-components-ported-to-vue3/FilePicker.vue';\n\nfunction formatSecondsToHhMmSs(time: number): string {\n  let hours = 0,\n    minutes = 0,\n    seconds = 0;\n  while (time > 3600) {\n    time -= 3600;\n    hours += 1;\n  }\n  while (time > 60) {\n    time -= 60;\n    minutes += 1;\n  }\n  seconds = time;\n  function twoDigits(n: number): string {\n    return n.toLocaleString('de-DE', {\n      minimumIntegerDigits: 2,\n      maximumFractionDigits: 0,\n    });\n  }\n  return `${twoDigits(hours)}:${twoDigits(minutes)}:${twoDigits(seconds)}`;\n}\n\ninterface JsonApiFile {\n  id: string;\n  name: string;\n  mime_type: string;\n  download_url: string;\n}\n\nexport default defineComponent({\n  name: 'SelectVideo',\n  props: {\n    taskDefinition: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      youtubeUrlInput: '',\n      startPositionInputError: undefined as Error | undefined,\n      currentTime: 0,\n      selectedFolderId: '',\n      selectedFile: undefined as JsonApiFile | undefined,\n      selectedFileId: '',\n    };\n  },\n  watch: {\n    'taskDefinition.video': {\n      immediate: true,\n      handler: function (value) {\n        if (value.type === 'youtube') {\n          this.youtubeUrlInput = value.url;\n        } else {\n          this.youtubeUrlInput = '';\n        }\n      },\n    },\n  },\n  methods: {\n    $gettext,\n    onTimeUpdate(time: number) {\n      this.currentTime = time;\n    },\n    onClickUseCurrentTime() {\n      this.taskDefinition.startAt = this.currentTime;\n    },\n    updateCurrentFile(file: JsonApiFile) {\n      this.selectedFile = file;\n      this.selectedFileId = file.id;\n    },\n    onSaveYoutubeVideo() {\n      this.taskDefinition.video = {\n        type: 'youtube',\n        url: this.youtubeUrlInput,\n      };\n    },\n    onSaveUploadedFile() {\n      if (!this.selectedFile) {\n        return;\n      }\n      this.taskDefinition.video = {\n        type: 'studipFileReference',\n        file: {\n          name: this.selectedFile.name,\n          type: this.selectedFile.mime_type,\n          url: this.selectedFile.download_url,\n        },\n      };\n    },\n    deleteVideo() {\n      this.taskDefinition.video = {\n        type: 'none',\n      };\n    },\n    onUploadStudipVideo(file: UploadedFile) {\n      this.taskDefinition.video = {\n        type: 'studipFileReference',\n        file,\n      };\n    },\n  },\n  components: {\n    VideoTimeInput,\n    FileUpload,\n    VideoPlayer,\n    FilePicker,\n  },\n});\n","import { render } from \"./SelectVideo.vue?vue&type=template&id=83819d16&scoped=true&ts=true\"\nimport script from \"./SelectVideo.vue?vue&type=script&lang=ts\"\nexport * from \"./SelectVideo.vue?vue&type=script&lang=ts\"\n\nimport \"./SelectVideo.vue?vue&type=style&index=0&id=83819d16&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-83819d16\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { InteractiveVideoTask } from '@/models/InteractiveVideoTask';\nimport { $gettext } from '@/language/gettext';\nimport TabsComponent from '@/components/courseware-components-ported-to-vue3/TabsComponent.vue';\nimport TabComponent from '@/components/courseware-components-ported-to-vue3/TabComponent.vue';\nimport AddInteractions from '@/components/interactiveVideo/AddInteractions.vue';\nimport SelectVideo from '@/components/interactiveVideo/SelectVideo.vue';\n\nexport default defineComponent({\n  name: 'InteractiveVideoEditor',\n  data() {\n    return {};\n  },\n  methods: {\n    $gettext,\n  },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  computed: {},\n  components: {\n    SelectVideo,\n    AddInteractions,\n    TabComponent,\n    TabsComponent,\n  },\n});\n","import { render } from \"./InteractiveVideoEditor.vue?vue&type=template&id=4ad9d729&ts=true\"\nimport script from \"./InteractiveVideoEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./InteractiveVideoEditor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_VideoPlayer = _resolveComponent(\"VideoPlayer\")!\n\n  return (_openBlock(), _createBlock(_component_VideoPlayer, { task: _ctx.task }, null, 8, [\"task\"]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { InteractiveVideoTask } from '@/models/InteractiveVideoTask';\nimport VideoPlayer from '@/components/interactiveVideo/VideoPlayer.vue';\n\nexport default defineComponent({\n  name: 'InteractiveVideoViewer',\n  components: { VideoPlayer },\n  props: {\n    task: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      counter: 0,\n    };\n  },\n});\n","import { render } from \"./InteractiveVideoViewer.vue?vue&type=template&id=80198370&ts=true\"\nimport script from \"./InteractiveVideoViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./InteractiveVideoViewer.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import FillInTheBlanksViewer from '@/components/FillInTheBlanksViewer.vue';\nimport FillInTheBlanksEditor from '@/components/FillInTheBlanksEditor.vue';\nimport QuestionEditor from '@/components/QuestionEditor.vue';\nimport QuestionViewer from '@/components/QuestionViewer.vue';\nimport DragTheWordsViewer from '@/components/DragTheWordsViewer.vue';\nimport DragTheWordsEditor from '@/components/DragTheWordsEditor.vue';\nimport MarkTheWordsViewer from '@/components/MarkTheWordsViewer.vue';\nimport MarkTheWordsEditor from '@/components/MarkTheWordsEditor.vue';\nimport MemoryEditor from '@/components/MemoryEditor.vue';\nimport MemoryViewer from '@/components/MemoryViewer.vue';\nimport ImagePairingViewer from '@/components/ImagePairingViewer.vue';\nimport ImagePairingEditor from '@/components/ImagePairingEditor.vue';\nimport ImageSequencingViewer from '@/components/ImageSequencingViewer.vue';\nimport ImageSequencingEditor from '@/components/ImageSequencingEditor.vue';\nimport { v4 } from 'uuid';\nimport { z } from 'zod';\nimport FindTheHotspotEditor from '@/components/FindTheHotspotEditor.vue';\nimport FindTheHotspotViewer from '@/components/FindTheHotspotViewer.vue';\nimport { interactiveVideoTaskSchema } from '@/models/InteractiveVideoTask';\nimport { $gettext } from '@/language/gettext';\nimport InteractiveVideoEditor from '@/components/interactiveVideo/InteractiveVideoEditor.vue';\nimport InteractiveVideoViewer from '@/components/interactiveVideo/InteractiveVideoViewer.vue';\n\nexport const feedbackSchema = z.object({\n  percentage: z.number(),\n  message: z.string(),\n});\nexport type Feedback = z.infer<typeof feedbackSchema>;\n\nexport const imageSchema = z.object({\n  uuid: z.string(),\n  imageUrl: z.string(),\n  altText: z.string(),\n});\nexport type Image = z.infer<typeof imageSchema>;\n\nexport const dragTheWordsTaskSchema = z.object({\n  task_type: z.literal('DragTheWords'),\n  template: z.string(),\n  retryAllowed: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  instantFeedback: z.boolean(),\n  allBlanksMustBeFilledForSolutions: z.boolean(),\n  alphabeticOrder: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    fillInAllBlanksMessage: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type DragTheWordsTask = z.infer<typeof dragTheWordsTaskSchema>;\n\nexport const findTheHotspotTaskSchema = z.object({\n  task_type: z.literal('FindTheHotspot'),\n  image: imageSchema,\n});\nexport type FindTheHotspotTask = z.infer<typeof findTheHotspotTaskSchema>;\n\nexport const markTheWordsTaskSchema = z.object({\n  task_type: z.literal('MarkTheWords'),\n  template: z.string(),\n  retryAllowed: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n});\nexport type MarkTheWordsTask = z.infer<typeof markTheWordsTaskSchema>;\n\nexport const memoryCardSchema = z.object({\n  uuid: z.string(),\n  imageUrl: z.string(),\n  altText: z.string(),\n});\nexport type MemoryCard = z.infer<typeof memoryCardSchema>;\n\nexport const memoryTaskSchema = z.object({\n  task_type: z.literal('Memory'),\n  cards: z.array(memoryCardSchema),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n});\nexport type MemoryTask = z.infer<typeof memoryTaskSchema>;\n\nexport const fillInTheBlanksTaskSchema = z.object({\n  task_type: z.literal('FillInTheBlanks'),\n  template: z.string(),\n  retryAllowed: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  caseSensitive: z.boolean(),\n  autoCorrect: z.boolean(),\n  allBlanksMustBeFilledForSolutions: z.boolean(),\n  acceptTypos: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    fillInAllBlanksMessage: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type FillInTheBlanksTask = z.infer<typeof fillInTheBlanksTaskSchema>;\n\nexport const questionAnswerSchema = z.object({\n  text: z.string(),\n  correct: z.boolean(),\n  strings: z.object({\n    hint: z.string(),\n    feedbackSelected: z.string(),\n    feedbackNotSelected: z.string(),\n  }),\n});\nexport type QuestionAnswer = z.infer<typeof questionAnswerSchema>;\n\nexport const questionTaskSchema = z.object({\n  task_type: z.literal('Question'),\n  question: z.string(),\n  answers: z.array(questionAnswerSchema),\n  canAnswerMultiple: z.boolean(),\n  retryAllowed: z.boolean(),\n  randomOrder: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n  }),\n});\nexport type QuestionTask = z.infer<typeof questionTaskSchema>;\n\nexport const imagePairSchema = z.object({\n  uuid: z.string(),\n  draggableImage: imageSchema,\n  targetImage: imageSchema,\n});\nexport type ImagePair = z.infer<typeof imagePairSchema>;\n\nexport const imagePairingTaskSchema = z.object({\n  task_type: z.literal('ImagePairing'),\n  imagePairs: z.array(imagePairSchema),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type ImagePairingTask = z.infer<typeof imagePairingTaskSchema>;\n\nexport const imageSequencingTaskSchema = z.object({\n  task_type: z.literal('ImageSequencing'),\n  images: z.array(imageSchema),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type ImageSequencingTask = z.infer<typeof imageSequencingTaskSchema>;\n\nexport const taskDefinitionSchema = z.union([\n  dragTheWordsTaskSchema,\n  fillInTheBlanksTaskSchema,\n  findTheHotspotTaskSchema,\n  imagePairingTaskSchema,\n  imageSequencingTaskSchema,\n  interactiveVideoTaskSchema,\n  markTheWordsTaskSchema,\n  memoryTaskSchema,\n  questionTaskSchema,\n]);\nexport type TaskDefinition = z.infer<typeof taskDefinitionSchema>;\n\n// Allowed lmb task types to be inserted in the Interactive Video Editor.\n// Excludes the type 'interactive video' to avoid a recursive reference, which\n// is cumbersome to solve in Typescript/Zod.\n// I at first used the workaround described at https://github.com/colinhacks/zod#recursive-types\n// but I later ran into hard-to-resolve typechecking errors when I started to\n// use .optional() inside of schemas. I decided this is the better option for now. -Ann\nexport const taskDefinitionSchemaMinusInteractiveVideo = z.union([\n  dragTheWordsTaskSchema,\n  fillInTheBlanksTaskSchema,\n  findTheHotspotTaskSchema,\n  imagePairingTaskSchema,\n  imageSequencingTaskSchema,\n  markTheWordsTaskSchema,\n  memoryTaskSchema,\n  questionTaskSchema,\n]);\n\n// Here, a bit of boilerplate is required to create a schema for the union of\n// all possible 'task_type' values\nexport const taskTypeSchema = z.union([\n  dragTheWordsTaskSchema.shape.task_type,\n  fillInTheBlanksTaskSchema.shape.task_type,\n  findTheHotspotTaskSchema.shape.task_type,\n  imagePairingTaskSchema.shape.task_type,\n  imageSequencingTaskSchema.shape.task_type,\n  interactiveVideoTaskSchema.shape.task_type,\n  markTheWordsTaskSchema.shape.task_type,\n  memoryTaskSchema.shape.task_type,\n  questionTaskSchema.shape.task_type,\n]);\n\nexport function newTask(type: TaskDefinition['task_type']): TaskDefinition {\n  switch (type) {\n    case 'DragTheWords':\n      return {\n        task_type: 'DragTheWords',\n        template: 'Drag the *words* to the matching *gaps*.',\n        retryAllowed: true,\n        showSolutionsAllowed: true,\n        instantFeedback: false,\n        allBlanksMustBeFilledForSolutions: false,\n        alphabeticOrder: false,\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          fillInAllBlanksMessage:\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen.',\n          resultMessage: ':correct von :total Lcken richtig ausgefllt.',\n        },\n        feedback: [\n          { percentage: 0, message: 'Versuchen Sie es noch einmal.' },\n          { percentage: 50, message: 'Gut.' },\n          { percentage: 75, message: 'Sehr gut.' },\n          { percentage: 100, message: 'Perfekt!' },\n        ],\n      };\n    case 'FillInTheBlanks':\n      return {\n        task_type: 'FillInTheBlanks',\n        template: 'Hier entsteht der *Lcken*text.',\n        retryAllowed: true,\n        showSolutionsAllowed: true,\n        caseSensitive: false,\n        autoCorrect: false,\n        allBlanksMustBeFilledForSolutions: false,\n        acceptTypos: true,\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          fillInAllBlanksMessage:\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen.',\n          resultMessage: ':correct von :total Lcken richtig ausgefllt.',\n        },\n        feedback: [\n          { percentage: 0, message: 'Versuchen Sie es noch einmal.' },\n          { percentage: 50, message: 'Gut.' },\n          { percentage: 75, message: 'Sehr gut.' },\n          { percentage: 100, message: 'Perfekt!' },\n        ],\n      };\n    case 'FindTheHotspot':\n      return {\n        task_type: 'FindTheHotspot',\n        image: {\n          uuid: v4(),\n          imageUrl: '',\n          altText: '',\n        },\n      };\n    case 'ImagePairing':\n      return {\n        task_type: 'ImagePairing',\n        imagePairs: [\n          {\n            uuid: v4(),\n            draggableImage: {\n              uuid: v4(),\n              imageUrl: '',\n              altText: '',\n            },\n            targetImage: {\n              uuid: v4(),\n              imageUrl: '',\n              altText: '',\n            },\n          },\n        ],\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          resultMessage: ':correct von :total Bilder richtig zugeordnet.',\n        },\n        feedback: [\n          { percentage: 0, message: 'Versuchen Sie es noch einmal.' },\n          { percentage: 50, message: 'Gut.' },\n          { percentage: 75, message: 'Sehr gut.' },\n          { percentage: 100, message: 'Perfekt!' },\n        ],\n      };\n    case 'ImageSequencing':\n      return {\n        task_type: 'ImageSequencing',\n        images: [\n          {\n            uuid: v4(),\n            imageUrl: '',\n            altText: '',\n          },\n        ],\n        strings: {\n          checkButton: 'Reihenfolge berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          resultMessage: ':correct von :total Bildern richtig sortiert.',\n        },\n        feedback: [\n          { percentage: 0, message: 'Versuchen Sie es noch einmal.' },\n          { percentage: 50, message: 'Gut.' },\n          { percentage: 75, message: 'Sehr gut.' },\n          { percentage: 100, message: 'Perfekt!' },\n        ],\n      };\n    case 'InteractiveVideo':\n      return {\n        task_type: 'InteractiveVideo',\n        interactions: [],\n        video: {\n          type: 'none',\n        },\n        autoplay: false,\n        startAt: 0,\n        disableNavigation: 'not disabled',\n      };\n    case 'MarkTheWords':\n      return {\n        task_type: 'MarkTheWords',\n        template:\n          '*The* moon is our natural satellite, *i.e.* it revolves around the *Earth*!',\n        retryAllowed: true,\n        showSolutionsAllowed: true,\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          resultMessage: ':correct von :total Wrter richtig ausgewhlt.',\n        },\n      };\n    case 'Memory':\n      return {\n        task_type: 'Memory',\n        cards: [\n          {\n            uuid: v4(),\n            imageUrl: '',\n            altText: '',\n          },\n        ],\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          resultMessage: ':correct von :total Wrter richtig ausgewhlt.',\n        },\n      };\n    case 'Question':\n      return {\n        task_type: 'Question',\n        question:\n          'Welche dieser Himmelskrper sind Planeten in unserem Sonnensystem?',\n        answers: [\n          {\n            text: 'Mond',\n            correct: false,\n            strings: {\n              hint: '',\n              feedbackSelected: 'Dies ist ein Mond, kein Planet.',\n              feedbackNotSelected: 'Genau, der Mond ist ein Mond.',\n            },\n          },\n          {\n            text: 'Merkur',\n            correct: true,\n            strings: {\n              hint: '',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n          {\n            text: 'Venus',\n            correct: true,\n            strings: {\n              hint: '',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n          {\n            text: 'Mars',\n            correct: true,\n            strings: {\n              hint: '',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n          {\n            text: 'Pluto',\n            correct: false,\n            strings: {\n              hint: 'Hat sich hier was gendert?',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n          {\n            text: 'Titan',\n            correct: false,\n            strings: {\n              hint: '',\n              feedbackSelected:\n                'Das ist leider nicht richtig. Der Titan ist ein Mond vom Saturn.',\n              feedbackNotSelected: 'Genau, der Titan ist ein Mond vom Saturn.',\n            },\n          },\n          {\n            text: 'Sonne',\n            correct: false,\n            strings: {\n              hint: '',\n              feedbackSelected:\n                'Das ist leider nicht richtig. Die Sonne ist ein Stern.',\n              feedbackNotSelected: 'Genau, die Sonne ist ein Stern.',\n            },\n          },\n        ],\n        canAnswerMultiple: true,\n        retryAllowed: true,\n        randomOrder: true,\n        showSolutionsAllowed: true,\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n        },\n      };\n    default:\n      throw new Error('Unimplemented type: ' + type);\n  }\n}\n\nexport function viewerForTaskType(type: TaskDefinition['task_type']) {\n  switch (type) {\n    case 'DragTheWords':\n      return DragTheWordsViewer;\n    case 'FillInTheBlanks':\n      return FillInTheBlanksViewer;\n    case 'FindTheHotspot':\n      return FindTheHotspotViewer;\n    case 'ImagePairing':\n      return ImagePairingViewer;\n    case 'ImageSequencing':\n      return ImageSequencingViewer;\n    case 'InteractiveVideo':\n      return InteractiveVideoViewer;\n    case 'MarkTheWords':\n      return MarkTheWordsViewer;\n    case 'Memory':\n      return MemoryViewer;\n    case 'Question':\n      return QuestionViewer;\n    default:\n      throw new Error('Unimplemented task type: ' + type);\n  }\n}\n\nexport function editorForTaskType(type: TaskDefinition['task_type']) {\n  switch (type) {\n    case 'DragTheWords':\n      return DragTheWordsEditor;\n    case 'FillInTheBlanks':\n      return FillInTheBlanksEditor;\n    case 'FindTheHotspot':\n      return FindTheHotspotEditor;\n    case 'ImagePairing':\n      return ImagePairingEditor;\n    case 'ImageSequencing':\n      return ImageSequencingEditor;\n    case 'InteractiveVideo':\n      return InteractiveVideoEditor;\n    case 'MarkTheWords':\n      return MarkTheWordsEditor;\n    case 'Memory':\n      return MemoryEditor;\n    case 'Question':\n      return QuestionEditor;\n    default:\n      throw new Error('Unimplemented task type: ' + type);\n  }\n}\n\nexport function printTaskType(type: TaskDefinition['task_type']): string {\n  switch (type) {\n    case 'DragTheWords':\n      return $gettext('Drag The Words');\n    case 'FillInTheBlanks':\n      return $gettext('Fill In The Blanks');\n    case 'FindTheHotspot':\n      return $gettext('Find The Hotspot');\n    case 'ImagePairing':\n      return $gettext('Image Pairing');\n    case 'ImageSequencing':\n      return $gettext('Image Sequencing');\n    case 'InteractiveVideo':\n      return $gettext('Interactive Video');\n    case 'MarkTheWords':\n      return $gettext('Mark The Words');\n    case 'Memory':\n      return $gettext('Memory');\n    case 'Question':\n      return $gettext('Question');\n  }\n}\n\n/**\n * @return true if the viewer for the given task type should be visible\n * while the editor for that task type is open.\n */\nexport function showViewerAboveEditor(\n  type: TaskDefinition['task_type']\n): boolean {\n  return type !== 'InteractiveVideo';\n}\n\nexport function iconForTaskType(type: TaskDefinition['task_type']): string {\n  switch (type) {\n    case 'Memory':\n      break;\n    case 'FillInTheBlanks':\n      return 'file-office';\n    case 'Question':\n      return 'question';\n    case 'DragTheWords':\n      return 'tan3';\n    case 'MarkTheWords':\n      return 'tan3';\n    case 'ImagePairing':\n      break;\n    case 'ImageSequencing':\n      break;\n    case 'InteractiveVideo':\n      break;\n  }\n  return 'question';\n}\n","import { TaskDefinition } from '@/models/TaskDefinition';\nimport { z } from 'zod';\n\n/**\n * Save a Vue.js Lernmodul that is being edited in the \"Lernmodule\" tab of a\n * course.\n * @param taskDefinition The definition of the task\n * @param moduleName The name of the Lernmodul\n * @param infoText The HTML description of the Lernmodul\n * @param module_id The id from lernmodule_module\n * @param block_id The id from lernmodule_blocks where the module is to be\n *                 inserted.  (This only applies for newly created modules.)\n */\nexport async function saveTask(\n  taskDefinition: TaskDefinition,\n  moduleName: string,\n  infoText: string,\n  module_id: string,\n  block_id?: string\n): Promise<SaveTaskResponse> {\n  const url = window.STUDIP.LernmoduleVueJS.saveRoute;\n  const token = window.STUDIP.CSRF_TOKEN;\n  const formData = new FormData();\n  // TODO Maybe we should parse taskDefinition here to ensure it has no extra\n  //   fields we didn't intend to save.\n  formData.append('task_definition', JSON.stringify(taskDefinition));\n  formData.append('module_id', module_id);\n  formData.append('name', moduleName);\n  formData.append('infotext', infoText);\n  if (block_id) {\n    formData.append('block_id', block_id);\n  }\n  formData.append(token.name, token.value);\n  return fetch(url, {\n    method: 'POST',\n    body: formData,\n  }).then((response) => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    // TODO Maybe we should parse the server's response to ensure it really is\n    //  an instance of SaveTaskResponse.\n    return response.json() as Promise<SaveTaskResponse>;\n  });\n}\n\nexport interface SaveTaskResponse {\n  status: 'success';\n  taskDefinition: TaskDefinition;\n  moduleName: string;\n  infotext: string;\n}\n\n/**\n * Send a request to Stud.IP to update the number of points earned by the student\n * for the Lernmodul that is currently viewed.\n * @param points -- a map describing how many points the student should be reported\n * as having for each part of the Lernmodul.\n * Key: The ID or name of the part.  Value: The number of points.\n * @param success - If true, the attempt will be marked as 'successful'.\n */\nexport async function updateAttempt(\n  points: Record<string, number>,\n  success: boolean\n): Promise<void> {\n  // The ID of the Lernmodul is encoded in this URL provided to us by the server.\n  const url = window.STUDIP.LernmoduleVueJS.updateAttemptRoute;\n  const formData = new FormData();\n  const token = window.STUDIP.CSRF_TOKEN;\n  formData.append(token.name, token.value);\n  // Convert object into a nested array which PHP will understand\n  Object.entries(points).forEach(([name, score]) => {\n    formData.append(`message[points][${name}]`, score.toString());\n  });\n  if (success) {\n    formData.append('message[success]', 'true');\n  }\n  return fetch(url, {\n    method: 'POST',\n    body: formData,\n  }).then((response) => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n  });\n}\n\nexport const uploadedFileSchema = z.object({\n  name: z.string(),\n  type: z.string(),\n  url: z.string(),\n});\nexport type UploadedFile = z.infer<typeof uploadedFileSchema>;\n\nconst uploadFileResponseSchema = z.object({\n  files: z.array(uploadedFileSchema),\n});\nexport type UploadFileResponse = z.infer<typeof uploadFileResponseSchema>;\n\n/**\n * Upload the given file to the user's Wysiwyg Uploads folder in Stud.IP.\n * @param image A File object\n */\nexport async function uploadFile(image: File): Promise<UploadFileResponse> {\n  const uploadUrl = window.STUDIP.URLHelper.getURL(\n    'dispatch.php/wysiwyg/upload'\n  );\n  const formData = new FormData();\n  const token = window.STUDIP.CSRF_TOKEN;\n  formData.append(token.name, token.value);\n  formData.append('files[]', image);\n  return fetch(uploadUrl, {\n    method: 'POST',\n    body: formData,\n  }).then(async (response) => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const json = await response.json();\n    try {\n      return uploadFileResponseSchema.parse(json);\n    } catch (error) {\n      throw new Error('Could not parse server response', { cause: error });\n    }\n  });\n}\n","import { Action, Module, Mutation, VuexModule } from 'vuex-module-decorators';\nimport {\n  newTask,\n  TaskDefinition,\n  taskDefinitionSchema,\n} from '@/models/TaskDefinition';\nimport { isArray, isEqual } from 'lodash';\nimport { saveTask, SaveTaskResponse } from '@/routes';\nimport { setAutoFreeze } from 'immer';\n\n// Prevent immer from freezing objects.  This behavior causes trouble when we\n// attempt to use v-model with an object produced by immer, because v-model\n// works by mutating objects.\nsetAutoFreeze(false);\n\ntype Saved = {\n  status: 'saved';\n};\ntype Saving = {\n  status: 'saving';\n};\ntype SaveError = {\n  status: 'error';\n  error: unknown;\n};\ntype SaveStatus = Saved | Saving | SaveError;\n\ninterface UndoRedoState {\n  taskDefinition: TaskDefinition;\n  undoBatch: unknown;\n}\n\nfunction sleep(ms: number) {\n  return new Promise((r) => setTimeout(r, ms));\n}\n\n@Module({ name: 'taskEditor' })\nexport class TaskEditorModule extends VuexModule {\n  saveStatus: SaveStatus = { status: 'saved' };\n  fatalErrors: string[] = [];\n  nonFatalErrors: string[] = [];\n  serverTaskDefinition: TaskDefinition | [] = [];\n  serverModuleName: string = '';\n  serverInfotext: string = '';\n  moduleName: string = '';\n  infotext: string = '';\n  undoRedoStack: UndoRedoState[] = [\n    {\n      taskDefinition: newTask('FillInTheBlanks'),\n      undoBatch: {},\n    },\n  ];\n  undoRedoIndex = 0;\n\n  get taskDefinition(): TaskDefinition {\n    return this.undoRedoStack[this.undoRedoIndex].taskDefinition;\n  }\n\n  get hasUnsavedChanges(): boolean {\n    return (\n      !isEqual(this.taskDefinition, this.serverTaskDefinition) ||\n      this.serverModuleName !== this.moduleName ||\n      this.serverInfotext !== this.infotext\n    );\n  }\n\n  get canUndo() {\n    return this.undoRedoIndex > 0;\n  }\n\n  get canRedo() {\n    return this.undoRedoIndex < this.undoRedoStack.length - 1;\n  }\n\n  @Mutation\n  undo() {\n    if (this.undoRedoIndex > 0) {\n      const currentState = this.undoRedoStack[this.undoRedoIndex];\n      this.undoRedoIndex--;\n\n      // Focus the input field whose contents will change as a result of this undo.\n      // That's how undo/redo behaves in native apps like Microsoft Word.\n      // When you press undo, it scrolls to the point in the document where\n      // the undo took place.  This lets you observe the result of your action.\n      const inputElements = document.querySelectorAll(\n        `[data-undo-focus-id=\"${currentState.undoBatch}\"]`\n      );\n      if (inputElements.length > 0) {\n        const inputEl = inputElements.item(0) as HTMLElement;\n        // If the input is inside of a collapsed <fieldset>, then the <fieldset>\n        // should be un-collapsed so that the user can see the input field.\n        const collapsedParents = [\n          ...document.querySelectorAll('fieldset.collapsable.collapsed'),\n        ].filter((element) => element.contains(inputEl));\n        collapsedParents.forEach((parent) =>\n          parent.classList.remove('collapsed')\n        );\n        inputEl.focus();\n      }\n    }\n  }\n\n  @Mutation\n  redo() {\n    if (this.undoRedoIndex < this.undoRedoStack.length - 1) {\n      this.undoRedoIndex++;\n      const nextState = this.undoRedoStack[this.undoRedoIndex];\n\n      // Manage focus -- see comments in undo()\n      const inputElements = document.querySelectorAll(\n        `[data-undo-focus-id=\"${nextState.undoBatch}\"]`\n      );\n      if (inputElements.length > 0) {\n        const inputEl = inputElements.item(0) as HTMLElement;\n        const collapsedParents = [\n          ...document.querySelectorAll('fieldset.collapsable.collapsed'),\n        ].filter((element) => element.contains(inputEl));\n        collapsedParents.forEach((parent) =>\n          parent.classList.remove('collapsed')\n        );\n        inputEl.focus();\n      }\n    }\n  }\n\n  // Initialize the editor store to a state usable for courseware\n  @Mutation\n  initializeCourseware(task_json: TaskDefinition) {\n    console.info('initializeCourseware()', task_json);\n    this.serverTaskDefinition = task_json;\n    this.undoRedoStack = [\n      { taskDefinition: this.serverTaskDefinition, undoBatch: {} },\n    ];\n  }\n\n  // Initialize the editor store to a state usable for the non-courseware version\n  // of Lernmodule (AKA the 'Lernmodule' tab in a course).\n  @Mutation\n  initializeNonCourseware() {\n    // In Linux on Anns PC this is an empty array but on Windows on Thomas PC it's just NULL.\n    // We don't know why this is, but for now, we will just accept it and handle both cases.\n    if (\n      window.STUDIP.LernmoduleVueJS.module.customdata &&\n      !isArray(window.STUDIP.LernmoduleVueJS.module.customdata)\n    ) {\n      this.serverTaskDefinition = taskDefinitionSchema.parse(\n        window.STUDIP.LernmoduleVueJS.module.customdata\n      );\n      this.undoRedoStack = [\n        { taskDefinition: this.serverTaskDefinition, undoBatch: {} },\n      ];\n    }\n    this.serverModuleName = window.STUDIP.LernmoduleVueJS.module.name;\n    this.serverInfotext = window.STUDIP.LernmoduleVueJS.infotext;\n    this.moduleName = window.STUDIP.LernmoduleVueJS.module.name;\n    this.infotext = window.STUDIP.LernmoduleVueJS.infotext;\n  }\n\n  @Mutation\n  startedSaving() {\n    this.saveStatus = { status: 'saving' };\n  }\n\n  @Mutation\n  saveSuccess(payload: SaveTaskResponse) {\n    this.saveStatus = { status: 'saved' };\n    this.serverTaskDefinition = payload.taskDefinition;\n    this.serverModuleName = payload.moduleName;\n    this.serverInfotext = payload.infotext;\n  }\n\n  @Mutation\n  saveFailure(error: unknown) {\n    this.saveStatus = { status: 'error', error };\n    this.nonFatalErrors.push(\n      'The task could not be saved.  Check the console for more details. '\n    );\n    console.log(error);\n  }\n\n  @Action\n  async saveTask() {\n    if (this.saveStatus.status === 'saving') {\n      return;\n    }\n    this.context.commit('startedSaving');\n    try {\n      const saveResult = await saveTask(\n        this.taskDefinition,\n        this.moduleName,\n        this.infotext,\n        window.STUDIP.LernmoduleVueJS.module.module_id,\n        window.STUDIP.LernmoduleVueJS.block_id\n      );\n      await sleep(500);\n      this.context.commit('saveSuccess', saveResult);\n    } catch (error) {\n      this.context.commit('saveFailure', { error });\n    }\n  }\n\n  /**\n   * Modify the currently edited task definition, creating a new undo/redo state\n   * if appropriate.  Edits are batched together based on the parameter 'undoBatch'.\n   * @param payload.taskDefinition The new state of the task being edited\n   * @param payload.undoBatch Any value.\n   * If undoBatch is an empty object, a new undo/redo state will always be created.\n   * Otherwise, a new undo/redo state will be created if undoBatch is different\n   * from the undoBatch of the previously performed action.\n   */\n  @Mutation\n  performEdit(payload: {\n    newTaskDefinition: TaskDefinition;\n    undoBatch: unknown;\n  }) {\n    const currentUndoRedoState = this.undoRedoStack[this.undoRedoIndex];\n    if (\n      isEqual(currentUndoRedoState.taskDefinition, payload.newTaskDefinition)\n    ) {\n      return; // Do not pollute the undo-redo history with no-op changes\n    }\n    const shouldMergeEdits =\n      !isEqual(payload.undoBatch, {}) &&\n      isEqual(payload.undoBatch, currentUndoRedoState.undoBatch);\n    if (shouldMergeEdits) {\n      // Amend the last undo state instead of creating a new one.\n      currentUndoRedoState.taskDefinition = payload.newTaskDefinition;\n      this.undoRedoStack = this.undoRedoStack.slice(0, this.undoRedoIndex + 1);\n    } else {\n      // Create a new undo state and append it to the stack.\n      this.undoRedoStack = this.undoRedoStack\n        .slice(0, this.undoRedoIndex + 1)\n        .concat([\n          {\n            taskDefinition: payload.newTaskDefinition,\n            undoBatch: payload.undoBatch,\n          },\n        ]);\n      this.undoRedoIndex += 1;\n    }\n  }\n\n  @Mutation\n  setModuleName(name: string) {\n    this.moduleName = name;\n  }\n\n  @Mutation\n  setInfoText(value: string) {\n    this.infotext = value;\n  }\n}\n","import { Action, Module, Mutation, VuexModule } from 'vuex-module-decorators';\nimport { taskEditorStore } from '@/store';\nimport { Context } from '@/models/CoursewareBlockIframeMessages';\n\n@Module({ name: 'coursewareBlock' })\nexport class CoursewareBlockModule extends VuexModule {\n  showEditorUI: boolean = false;\n  studipContext: Context = {\n    id: '',\n    type: '',\n  };\n\n  // Toggle whether to show the editing UI in the courseware block.\n  // This should be triggered via messages posted to the iframe.\n  // See courseware-main.ts and LernmoduleCoursewareBlockBase.vue.\n  @Mutation\n  setShowEditorUI(state: boolean) {\n    this.showEditorUI = state;\n  }\n\n  @Mutation\n  saveBlock() {\n    console.log('coursewareBlockStore: saveBlock() mutation called');\n    // Tell the Vue 2 component we are wrapped in to save the block.\n    // See the method 'onWindowMessage' of LernmoduleCoursewareBlockBase.vue\n    // The taskDefinition must be serialized in order for it to be passed\n    // between windows.\n    const taskDefinition = JSON.parse(\n      JSON.stringify(taskEditorStore.taskDefinition)\n    );\n    window.parent.postMessage({\n      type: 'SaveCoursewareBlock',\n      taskDefinition,\n    });\n  }\n\n  @Mutation\n  cancelEditing() {\n    console.log('coursewareBlockStore: cancelEditing() mutation called');\n    // Tell the Vue 2 component we are wrapped in to stop editing the block\n    // without saving the user's changes.\n    // See the method 'onWindowMessage' of LernmoduleCoursewareBlockBase.vue\n    window.parent.postMessage({\n      type: 'CancelEditingCoursewareBlock',\n    });\n  }\n\n  @Mutation\n  setContext(context: Context) {\n    this.studipContext = context;\n  }\n}\n","import { createStore } from 'vuex';\nimport { getModule } from 'vuex-module-decorators';\nimport { TaskEditorModule } from '@/store/modules/taskEditor';\nimport { CoursewareBlockModule } from '@/store/modules/coursewareBlock';\nimport axios from 'axios';\nconst reststateVuex = require('@elan-ev/reststate-vuex');\nconst mapResourceModules = reststateVuex.mapResourceModules;\n\nconst httpClient = axios.create({\n  baseURL: window.STUDIP.URLHelper.getURL(`jsonapi.php/v1`, {}, true),\n  headers: {\n    'Content-Type': 'application/vnd.api+json',\n  },\n});\n\nexport const store = createStore({\n  modules: {\n    taskEditor: TaskEditorModule,\n    coursewareBlock: CoursewareBlockModule,\n    // Dynamically generated store modules used to access Stud.IP's JSON API\n    ...mapResourceModules({\n      names: [\n        'courses',\n        'course-memberships',\n        'courseware-blocks',\n        'courseware-block-comments',\n        'courseware-block-feedback',\n        'courseware-clipboards',\n        'courseware-containers',\n        'courseware-instances',\n        'courseware-public-links',\n        'courseware-structural-elements',\n        'courseware-structural-element-comments',\n        'courseware-structural-element-feedback',\n        'courseware-task-feedback',\n        'courseware-task-groups',\n        'courseware-tasks',\n        'courseware-templates',\n        'courseware-user-data-fields',\n        'courseware-user-progresses',\n        'courseware-units',\n        'files',\n        'file-refs',\n        'folders',\n        'lti-tools',\n        'status-groups',\n        'users',\n        'institutes',\n        'institute-memberships',\n        'semesters',\n        'sem-classes',\n        'sem-types',\n        'terms-of-use',\n        'user-data-field',\n        'studip-properties',\n      ],\n      httpClient,\n    }),\n  },\n});\n// These variables have type information attached to them, thanks to\n// the library vuex-module-decorators.\nexport const taskEditorStore = getModule(TaskEditorModule, store);\nexport const coursewareBlockStore = getModule(CoursewareBlockModule, store);\n","import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"textarea\", {\n    value: _ctx.modelValue,\n    ref: \"studip_wysiwyg\",\n    class: \"studip-wysiwyg\",\n    onInput: _cache[0] || (_cache[0] = ($event: any) => (_ctx.updateValue($event.target.value)))\n  }, null, 40, _hoisted_1))\n}","\n// need v-model to provide and get content -> <studip-wysiwyg v-model=\"content\" />\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'studip-wysiwyg',\n  props: {\n    modelValue: String,\n    forceSoftBreaks: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    removeWrappingPTag: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    disableAutoformat: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      fallbackActive: false,\n    };\n  },\n  mounted() {\n    let ckeInit = this.initCKE();\n    if (!ckeInit) {\n      this.fallbackActive = true;\n    }\n  },\n  methods: {\n    initCKE() {\n      if (!window.STUDIP.wysiwyg_enabled) {\n        return false;\n      }\n      const textAreaElement = this.$refs.studip_wysiwyg as HTMLTextAreaElement;\n      // Process the jQuery event 'wysiwyg.load' which is triggered asynchronously\n      // after the wysiwyg editor is mounted using the 'replace()' method.\n      textAreaElement.onload = (event: any) => {\n        console.info('load');\n        let ckeditor = window.STUDIP.wysiwyg.getEditor(textAreaElement)!;\n        ckeditor.model.document.on('change:data', () => {\n          const data = ckeditor.getData();\n          if (this.removeWrappingPTag) {\n            // Remove the <p> tag wrapping the editor's contents.\n            // These tags are inserted automatically by CKEditor5.\n            // It appears to be a WONTFIX on their end.\n            // See https://github.com/ckeditor/ckeditor5/issues/1537\n            const removedPTagsText = data\n              .replace(/<p>(.*?)/, '$1')\n              .replace(/(.*?)<\\/p>/, '$1');\n            this.$emit('update:modelValue', removedPTagsText);\n          } else {\n            this.$emit('update:modelValue', data);\n          }\n        });\n        ckeditor.editing.view.document.on(\n          'enter',\n          (evt, data) => {\n            if (this.forceSoftBreaks) {\n              // Override 'enter' to insert <br /> instead of <p></p> in the editor.\n              // This produces HTML which is more easily parsed in our various learning tasks.\n              // Source: https://github.com/ckeditor/ckeditor5/issues/1141#issuecomment-403403526\n              ckeditor.execute('shiftEnter');\n              data.preventDefault();\n              evt.stop();\n            }\n          },\n          { priority: 'high' }\n        );\n        if (this.disableAutoformat) {\n          // Disable the autoformat plugin so that *asterisks* surrounding text\n          // are not automatically converted into italic formatting.\n          // We use this syntax in the editor for various tasks, such as Fill In The Blanks.\n          // (It might be nicer to disable this using 'removePlugins' option in\n          // the config for CKEditor5, but the interface of STUDIP.wysiwyg.replace()\n          // does not allow us to alter the CKEditor5 config.)\n          const autoformat = ckeditor.plugins.get('Autoformat');\n          (autoformat as unknown as { isEnabled: boolean }).isEnabled = false;\n        }\n      };\n      // This asynchronous method does not return a promise.  Instead, it fires\n      // a 'load' event, which is processed in the above event handler. >:|\n      window.STUDIP.wysiwyg.replace(textAreaElement);\n      return true;\n    },\n    updateValue(value: unknown) {\n      if (this.fallbackActive) {\n        this.$emit('update:modelValue', value);\n      }\n    },\n  },\n});\n","import { render } from \"./StudipWysiwyg.vue?vue&type=template&id=02e1e08b&ts=true\"\nimport script from \"./StudipWysiwyg.vue?vue&type=script&lang=ts\"\nexport * from \"./StudipWysiwyg.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["modelUndoable","mounted","el","binding","vnode","prevVnode","validEl","validateElement","setElValueFromStore","splitPath","parsePath","storeValue","getValueAtPath","taskEditorStore","validatedStoreValue","validateBoundValue","value","toString","setAttribute","join","addEventListener","ev","firstPathEl","restOfPath","newState","JSON","parse","stringify","setValueAtPath","newTaskDefinition","undoBatch","console","log","store","Error","bindingMustBeStringError","split","bindingMustUseTaskDefinitionError","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","invalidElementTypeError","val","boundValueMustBePrimitiveError","o","path","reduce","accumulator","pathComponent","Object","prototype","hasOwnProperty","call","invalidPathError","lastPathComponent","pop","undefined","targetObject","selectedLanguage","values","window","STUDIP","INSTALLED_LANGUAGES","find","lang","selected","gettextPlugin","createGettext","availableLanguages","en","de","defaultLanguage","translations","$gettext","memoize","args","_hoisted_1","class","ref","_hoisted_2","_hoisted_3","_hoisted_4","key","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","render","_ctx","_cache","$props","$setup","$data","$options","_component_FeedbackElement","_resolveComponent","_openBlock","_createElementBlock","_Fragment","_renderList","parsedTemplate","element","uuid","type","innerHTML","text","_withDirectives","_createElementVNode","$event","userInputs","readonly","submittedAnswerIsCorrect","showSolutions","disabled","_normalizeClass","classForInput","onBlur","onInputBlurOrEnter","onKeyup","_withKeys","onInput","_vModelText","hint","_createCommentVNode","_toDisplayString","solutions","showResults","_createBlock","achievedPoints","correctAnswers","maxPoints","resultMessage","feedback","task","showFillInAllTheBlanksMessage","strings","fillInAllBlanksMessage","showCheckButton","onClick","onClickCheck","checkButton","showExtraButtons","showSolutionButton","onClickShowSolution","solutionsButton","showRetryButton","onClickTryAgain","retryButton","id","min","low","lowNumber","high","highNumber","optimum","max","achievedMaxPoints","src","urlForIcon","width","height","feedbackMessage","defineComponent","name","props","Number","String","data","methods","iconName","ASSETS_URL","computed","this","feedbackSortedByScore","map","sort","a","b","percentage","percentageCorrect","round","message","__exports__","dljs","require","components","FeedbackElement","required","submittedAnswers","userWantsToSeeSolutions","blank","submittedAnswer","some","solution","isAnswerCorrect","userAnswer","caseSensitive","acceptTypos","isAnswerCorrectWithTypo","toLowerCase","distance","length","updateAttempt","points","blanks","forEach","index","$emit","success","autoGrowTextField","input","computedStyles","getComputedStyle","computedFontSize","getPropertyValue","computedFontFamily","computedPadding","fontSize","parseInt","minEm","minPx","rightPadEm","rightPadPx","static_min_pad","setTimeout","tmp","document","createElement","textContent","tmpStyles","position","padding","entries","style","parentElement","append","clientWidth","parentWidth","$refs","wrapperElement","remove","autoCorrect","event","target","splitTemplate","template","uuidv4","splitString","filter","word","blanksFilled","keys","allBlanksAreFilled","allAnswersAreCorrect","every","inputHasChanged","isEqual","showSolutionsAllowed","retryAllowed","allBlanksMustBeFilledForSolutions","replace","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_component_studip_wysiwyg","addBlank","instructions","_createVNode","modelValue","taskDefinition","_vModelCheckbox","_createTextVNode","_vModelSelect","onChange","i","title","titleForDeleteButtonForFeedback","removeFeedback","addFeedback","StudipWysiwyg","wysiwygEl","wysiwyg","$el","editor","getEditor","error","selection","model","start","getFirstPosition","end","getLastPosition","change","writer","insertText","push","feedbackToRemove","question","answers","answer","correct","removeAnswer","feedbackSelected","feedbackNotSelected","addAnswer","canAnswerMultiple","randomOrder","answerToRemove","currentUndoRedoState","classForAnswer","selectedAnswers","isSubmitted","selectedAnswer","_vModelRadio","showSolutionsButton","selectAnswer","Math","random","classForFilledBlank","draggable","onDragstart","startDragUsedAnswer","onDrop","onDropBlank","onDragover","_withModifiers","onDragenter","getAnswerById","onClickBlank","onDropUnusedAnswers","unusedAnswers","startDragUnusedAnswer","onClickUnusedAnswer","draggedAnswerId","draggedSourceId","clickedAnswerId","submittedAnswerId","getElement","elementId","dragEvent","answerId","dataTransfer","dropEffect","effectAllowed","property","draggedAnswer","previousBlank","preventDefault","userInputHasChangedAfterSubmitting","randomizedAnswers","sortedAnswers","localeCompare","alphabeticOrder","includes","instantFeedback","_component_feedback_element","tabindex","role","isMarked","onClickWord","onKeydown","onWordKeydown","onWordKeyup","classForWord","onClickRetry","score","maxScore","debug","markedWords","Set","clear","delete","add","code","has","templateElement","trim","staticWord","_component_StudipWysiwyg","addSolution","_component_EditedMemoryCard","cards","card","selectedCardIndex","selectCard","deleteCard","alt","addCard","_component_EditedMemoryCardImage","_component_FileUpload","imageUrl","onFileUploaded","cardIndex","altText","onInputAltText","deleteImage","produce","draft","findIndex","uploadRequestPromise","accept","onInputChange","emits","default","warn","fileInput","file","files","item","uploadFile","then","res","catch","FileUpload","EditedMemoryCardImage","onImageUploaded","url","onInputAltTextBAD","EditedMemoryCard","beforeMount","v4","splice","_component_MemoryCardComponent","amountOfFlips","amountOfPairsSolved","totalAmountOfPairs","onClickCard","_withScopeId","n","_pushScopeId","_popScopeId","_imports_0","memoryCardFlipped","flipped","MemoryCardComponent","firstFlippedCardId","matchingCardId","solved","firstCard","getCardById","resetAllUnsolvedCardsExcept","exceptionId","resetCards","shuffleCards","card1","card2","cardId","amountOfCardsSolved","watch","handler","flatMap","duplicateCardId","immediate","_component_TargetImage","onDropOnInteractiveImages","draggableImages","draggableImageId","isDraggableImageUsed","startDragImage","onDragend","endDragImage","onClickDraggableImage","draggedImageId","imageIdInteractedWith","getImageById","ref_for","imagePairs","imagePair","outlined","imagesDraggedOntoTargets","targetImage","getImageDraggedOntoTarget","isCorrect","showResult","onDropOnTargetImage","startDragTargetImage","endDragTargetImage","onClickTargetImage","checkResults","reset","draggableImage","incorrect","Boolean","TargetImage","targetId","userInput","pair","imageId","refToImage","parentElementOfImage","cloneOfParent","cloneNode","top","left","zIndex","setDragImage","clientHeight","targetImageId","setData","userDraggedImageId","otherTargetId","getData","image","imagesById","usedImageId","imagePair1","imagePair2","_component_EditedImagePair","selectedPairIndex","selectPair","deletePair","addPair","_component_EditedImagePairImage","onUploadDraggableImage","pairIndex","onInputDraggableImageAltText","onUploadTargetImage","onInputTargetImageAltText","EditedImagePairImage","EditedImagePair","images","onDragOver","onDropImage","imageInteractedWith","fromIndex","indexOf","toIndex","moveInArray","array","shuffleImages","image1","image2","_component_ImageSequencingEditorImage","selectedImageIndex","selectImage","addImage","onUploadImage","imageIndex","onInputImageAltText","ImageSequencingEditorImage","overlaySchema","z","startTime","endTime","x","y","pauseWhenVisible","optional","lmbTaskInteractionSchema","taskDefinitionSchemaMinusInteractiveVideo","interactiveVideoInteractionSchema","refine","interactiveVideoTaskSchema","task_type","video","uploadedFileSchema","autoplay","startAt","disableNavigation","interactions","printInteractionType","interaction","printTaskType","iconForInteraction","iconForTaskType","_component_SelectVideo","_component_TabComponent","_component_AddInteractions","_component_TabsComponent","_withCtx","icon","_","tab","hash","_renderSlot","activeTabHash","tabs","provide","addTab","count","inject","isActive","created","buttonSelector","_component_LmbTaskInteraction","_component_OverlayInteraction","dragState","selectedInteractionId","selectInteraction","_normalizeStyle","progressBarInteractionMarkerStyle","onClickInteractionMarker","hidden","interactionForPopper","selectedInteraction","activateInteraction","editInteraction","deleteInteraction","visibleInteractions","uid","onPointerdown","onPointerDownInteraction","onPointermove","onPointerMoveInteraction","onPointerup","onPointerUpInteraction","onActivateInteraction","onPointerDownResizeHandle","onPointerMoveResizeHandle","onPointerUpResizeHandle","_Transition","activeInteraction","closeInteraction","_resolveDynamicComponent","viewerForTaskType","editorStateSymbol","Symbol","setup","resizeHandles","handle","popperInstance","OverlayInteraction","LmbTaskInteraction","player","time","playedTime","isPlaying","progressBarParameters","widthPixels","xOffsetPixels","progressBarObserver","videoUrl","videoType","timeAndVisibleInteractions","initializePlayer","newTime","newVisibleInteractions","oldTime","oldVisibleInteractions","isPlayingForward","newlyVisibleInteractionWithPause","pause","destroy","$nextTick","interactionElement","getElementById","tooltipElement","selectedInteractionTooltip","createPopper","placement","modifiers","options","offset","onPlayerReady","disconnect","dispose","playerElement","classList","videoJsContainer","appendChild","videojs","techOrder","sources","controls","controlBar","children","volumePanel","inline","muted","on","currentTime","paused","play","duration","enforceDisabledNavigation","abs","progressBarEls","getElementsByClassName","progressHolder","ResizeObserver","root","rootLeft","getBoundingClientRect","progressHolderLeft","observe","payload","interactionId","mouseStartPos","clientX","clientY","interactionStartPos","interactionStartSize","setPointerCapture","pointerId","releasePointerCapture","rootRect","xInitial","yInitial","widthInitial","heightInitial","newX","newWidth","newY","newHeight","xPointer","dxPointerPixels","dxPointer","yPointer","dyPointerPixels","dyPointer","filteredHeight","filteredWidth","filteredX","filteredY","isOffscreenX","isOffscreenY","resizeOverlay","update","interactionEl","currentTarget","clientDx","dxFraction","xFraction","interactionWidth","minX","maxX","clampedXFraction","clientDy","dyFraction","yFraction","interactionHeight","minY","maxY","clampedYFraction","dragInteraction","progressPercentage","timeOffsetPx","focusInteraction","focus","focusVisible","one","delta","difference","beforeUnmount","onDragoverCapture","onDragOverTimeline","onPointerDownAxis","axisScale","point","formatVideoTimestamp","major","interactionMarkerStyle","onClickInteraction","onWheel","onContextmenu","timelineInteractionStyle","viewportEnd","onPointerDownInteractionStart","onPointerMoveInteractionStart","onPointerUpInteractionStart","onPointerDownInteractionEnd","onPointerMoveInteractionEnd","onPointerUpInteractionEnd","onDragStartTimeMarker","positionForTimeMarker","zoomTransform","viewportWidthEm","viewportWidthSeconds","viewportStart","getEmValueFromElement","pixelValue","parentNode","parentFontSize","parseFloat","elementFontSize","pixelValueOfOneEm","videoMetadata","t","k","observer","IntersectionObserver","recomputeViewportWidth","timelineAxis","dragTimeline","dSeconds","pixelsToSeconds","dx","translate","constrainZoomTranslate","dragBehavior","drag","button","select","timeline","isWithinViewport","isBeingDragged","secondsPerEm","secondsToTimelinePercentage","scale","seconds","deltaT","zoom","viewportStart0","viewportWidth0","exp","newK","viewportWidth1","viewportStart1","xCoordinateToTime","deltaY","pixelsToEm","pixels","NaN","axis","rect","widthInEm","timestampSeconds","hours","minutes","centiseconds","twoDigits","toLocaleString","minimumIntegerDigits","maximumFractionDigits","floor","fraction","clampedTime","startDeltaT","startPercent","endDeltaT","endPercent","interactionLength","interactionStartTime","interactionDuration","mouseDx","secondsPerPixel","maxTime","secondsClamped","dragInteractionTimeline","movementX","timeClamped","e","emitTimelineSeekThrottled","throttle","_component_VideoTimeInput","inputStartTime","inputStartTimeFormatError","invalid","inputStartTimeErrors","inputEndTime","inputEndTimeFormatError","inputEndTimeErrors","_KeepAlive","editorForTaskType","onBlurUserInput","newValue","formatSeconds","parsedUserInput","string","timeRegexCentiseconds","centisecondsMatch","exec","timeRegexHhMmSs","hhMmSsMatch","VideoTimeInput","errors","_defineComponent","__props","videoPlayer","videoTimeline","selectedInteractionProperties","taskTypes","selectionId","nextTick","scrollIntoView","behavior","block","onVideoMetadataChange","onTimeUpdate","onTimelineSeek","onClickZoomIn","onClickZoomOut","onClickPlay","onClickPause","insertOverlay","insertLmbTaskInteraction","newTask","prompt","confirmed","confirm","info","VideoPlayer","ref_key","onTimeupdate","onMetadataChange","_unref","interactionType","taskType","VideoTimeline","onDeleteInteraction","SelectedInteractionProperties","_component_FilePicker","_component_VideoPlayer","onUploadStudipVideo","selectedFileId","onSelectFile","updateCurrentFile","onSaveUploadedFile","youtubeUrlInput","onSaveYoutubeVideo","href","deleteVideo","startPositionInputError","onClickUseCurrentTime","_component_FolderPicker","_component_translate","allowUserFolders","unchoose","selectedFolderId","currentValue","selectFile","_vShow","canBeEmpty","changeSelection","context","label","textOptGroupCourse","loadedCourseFolders","folder","attributes","textOptGroupUser","loadedUserFolders","filterCourseFolders","folders","allowHomeworkFolders","validatedParents","Map","validateParentFolder","isValid","relationships","parent","parentId","get","f","hiddenParentFolderValidation","set","parentFolder","mapGetters","relatedFolders","coursewareBlockStore","userId","USER_ID","courseObject","userObject","relationship","UserFolders","mapActions","_loadRelatedFolders","loadRelatedFolders","params","getCourseFolders","getUserFolders","confirmSelectedFolder","concat","async","FolderPicker","mimeType","isImage","isVideo","isAudio","isDocument","fileRefById","relatedFileRefs","relatedTermOfUse","loadFileRef","loadRelatedFileRefs","filterFiles","loadArray","filterFile","fileTermsOfUse","videoConditions","condition","audioConditions","officeConditions","mime_type","download_url","URLHelper","getURL","file_id","file_name","include","fileRefs","fileRef","getFolderFiles","oldValue","selectedFile","FilePicker","SelectVideo","AddInteractions","TabComponent","TabsComponent","counter","feedbackSchema","imageSchema","dragTheWordsTaskSchema","findTheHotspotTaskSchema","markTheWordsTaskSchema","memoryCardSchema","memoryTaskSchema","fillInTheBlanksTaskSchema","questionAnswerSchema","questionTaskSchema","imagePairSchema","imagePairingTaskSchema","imageSequencingTaskSchema","taskDefinitionSchema","taskTypeSchema","shape","DragTheWordsViewer","FillInTheBlanksViewer","FindTheHotspotViewer","ImagePairingViewer","ImageSequencingViewer","InteractiveVideoViewer","MarkTheWordsViewer","MemoryViewer","QuestionViewer","DragTheWordsEditor","FillInTheBlanksEditor","FindTheHotspotEditor","ImagePairingEditor","ImageSequencingEditor","InteractiveVideoEditor","MarkTheWordsEditor","MemoryEditor","QuestionEditor","showViewerAboveEditor","saveTask","moduleName","infoText","module_id","block_id","LernmoduleVueJS","saveRoute","token","CSRF_TOKEN","formData","FormData","fetch","method","body","response","ok","statusText","json","updateAttemptRoute","uploadFileResponseSchema","uploadUrl","cause","sleep","ms","Promise","r","setAutoFreeze","TaskEditorModule","VuexModule","status","undoRedoStack","undoRedoIndex","hasUnsavedChanges","serverTaskDefinition","serverModuleName","serverInfotext","infotext","canUndo","canRedo","undo","currentState","inputElements","querySelectorAll","inputEl","collapsedParents","contains","redo","nextState","initializeCourseware","task_json","initializeNonCourseware","module","customdata","isArray","startedSaving","saveStatus","saveSuccess","saveFailure","nonFatalErrors","commit","saveResult","performEdit","shouldMergeEdits","slice","setModuleName","setInfoText","__decorate","Mutation","Action","Module","CoursewareBlockModule","setShowEditorUI","state","showEditorUI","saveBlock","postMessage","cancelEditing","setContext","studipContext","reststateVuex","mapResourceModules","httpClient","axios","baseURL","headers","createStore","modules","taskEditor","coursewareBlock","names","getModule","updateValue","forceSoftBreaks","removeWrappingPTag","disableAutoformat","fallbackActive","ckeInit","initCKE","wysiwyg_enabled","textAreaElement","studip_wysiwyg","onload","ckeditor","removedPTagsText","editing","view","evt","execute","stop","priority","autoformat","plugins","isEnabled"],"sourceRoot":""}