{"version":3,"file":"js/chunk-common.js","mappings":"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","sources":["webpack://vue101/./src/directives/vModelUndoable.ts","webpack://vue101/./src/language/gettext.ts","webpack://vue101/./src/components/FillInTheBlanksViewer.vue?830c","webpack://vue101/./src/components/FeedbackElement.vue?4ea9","webpack://vue101/./src/components/FeedbackElement.vue?667e","webpack://vue101/./src/components/FeedbackElement.vue","webpack://vue101/./src/components/FillInTheBlanksViewer.vue?a6bf","webpack://vue101/./src/components/FillInTheBlanksViewer.vue","webpack://vue101/./src/components/FillInTheBlanksEditor.vue?1eb6","webpack://vue101/./src/components/FillInTheBlanksEditor.vue?bd37","webpack://vue101/./src/components/FillInTheBlanksEditor.vue","webpack://vue101/./src/components/FindTheWordsEditor.vue?dac6","webpack://vue101/./src/components/FindTheWordsEditor.vue?5133","webpack://vue101/./src/components/FindTheWordsEditor.vue","webpack://vue101/./src/components/FindTheWordsViewer.vue?ce8d","webpack://vue101/./src/components/FindTheWordsViewer.vue?ea84","webpack://vue101/./src/components/FindTheWordsViewer.vue","webpack://vue101/./src/components/QuestionEditor.vue?e61e","webpack://vue101/./src/components/QuestionEditor.vue?68ef","webpack://vue101/./src/components/QuestionEditor.vue","webpack://vue101/./src/components/QuestionViewer.vue?b843","webpack://vue101/./src/components/QuestionViewer.vue?5a19","webpack://vue101/./src/components/QuestionViewer.vue","webpack://vue101/./src/components/DragTheWordsViewer.vue?1fe1","webpack://vue101/./src/components/DragTheWordsViewer.vue?8d04","webpack://vue101/./src/components/DragTheWordsViewer.vue","webpack://vue101/./src/components/DragTheWordsEditor.vue?4811","webpack://vue101/./src/components/DragTheWordsEditor.vue?4b1e","webpack://vue101/./src/components/DragTheWordsEditor.vue","webpack://vue101/./src/components/MarkTheWordsViewer.vue?32f6","webpack://vue101/./src/components/MarkTheWordsViewer.vue?34dc","webpack://vue101/./src/components/MarkTheWordsViewer.vue","webpack://vue101/./src/components/MarkTheWordsEditor.vue?f56e","webpack://vue101/./src/components/MarkTheWordsEditor.vue?b50e","webpack://vue101/./src/components/MarkTheWordsEditor.vue","webpack://vue101/./src/components/MemoryEditor.vue?fccb","webpack://vue101/./src/components/EditedMemoryCard.vue?d898","webpack://vue101/./src/components/EditedMemoryCardImage.vue?5d95","webpack://vue101/./src/components/EditedMemoryCardImage.vue?9bfd","webpack://vue101/./src/components/EditedMemoryCardImage.vue","webpack://vue101/./src/components/FileUpload.vue?b774","webpack://vue101/./src/components/FileUpload.vue?a2bf","webpack://vue101/./src/components/FileUpload.vue","webpack://vue101/./src/components/EditedMemoryCard.vue?eb7b","webpack://vue101/./src/components/EditedMemoryCard.vue","webpack://vue101/./src/components/MemoryEditor.vue?518c","webpack://vue101/./src/components/MemoryEditor.vue","webpack://vue101/./src/components/MemoryViewer.vue?7814","webpack://vue101/./src/components/MemoryCard.vue?e9f1","webpack://vue101/./src/components/MemoryCard.vue?89da","webpack://vue101/./src/components/MemoryCard.vue","webpack://vue101/./src/components/MemoryViewer.vue?6ce2","webpack://vue101/./src/components/MemoryViewer.vue","webpack://vue101/./src/components/PairingViewer.vue?6291","webpack://vue101/./src/components/TargetImage.vue?96c8","webpack://vue101/./src/components/TargetImage.vue?2ffe","webpack://vue101/./src/components/TargetImage.vue","webpack://vue101/./src/components/PairingViewer.vue?5089","webpack://vue101/./src/components/PairingViewer.vue","webpack://vue101/./src/components/PairingEditor.vue?286b","webpack://vue101/./src/components/ElementPair.vue?4ce7","webpack://vue101/./src/components/EditedImagePairImage.vue?4611","webpack://vue101/./src/components/EditedImagePairImage.vue?4c87","webpack://vue101/./src/components/EditedImagePairImage.vue","webpack://vue101/./src/components/ElementPair.vue?e7ed","webpack://vue101/./src/components/ElementPair.vue","webpack://vue101/./src/components/PairingEditor.vue?0c0f","webpack://vue101/./src/components/PairingEditor.vue","webpack://vue101/./src/components/ImageSequencingViewer.vue?c621","webpack://vue101/./src/components/ImageSequencingViewer.vue?7a37","webpack://vue101/./src/components/ImageSequencingViewer.vue","webpack://vue101/./src/components/ImageSequencingEditor.vue?88ea","webpack://vue101/./src/components/ImageSequencingEditorImage.vue?979e","webpack://vue101/./src/components/ImageSequencingEditorImage.vue?6317","webpack://vue101/./src/components/ImageSequencingEditorImage.vue","webpack://vue101/./src/components/ImageSequencingEditor.vue?36bd","webpack://vue101/./src/components/ImageSequencingEditor.vue","webpack://vue101/./src/components/FindTheHotspotEditor.vue?b5d4","webpack://vue101/./src/components/FindTheHotspotEditor.vue?67e7","webpack://vue101/./src/components/FindTheHotspotEditor.vue","webpack://vue101/./src/components/FindTheHotspotViewer.vue?04d8","webpack://vue101/./src/components/FindTheHotspotViewer.vue?4308","webpack://vue101/./src/components/FindTheHotspotViewer.vue","webpack://vue101/./src/models/InteractiveVideoTask.ts","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoEditor.vue?3db9","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabsComponent.vue","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabsComponent.vue?4702","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabComponent.vue","webpack://vue101/./src/components/courseware-components-ported-to-vue3/TabComponent.vue?7dcd","webpack://vue101/./src/components/interactiveVideo/VideoPlayer.vue?8166","webpack://vue101/./src/components/interactiveVideo/editorState.ts","webpack://vue101/./src/components/interactiveVideo/interactions/LmbTaskInteraction.vue?e2f7","webpack://vue101/./src/components/interactiveVideo/interactions/LmbTaskInteraction.vue?76e4","webpack://vue101/./src/components/interactiveVideo/interactions/LmbTaskInteraction.vue","webpack://vue101/./src/components/interactiveVideo/interactions/OverlayInteraction.vue?59e4","webpack://vue101/./src/components/interactiveVideo/interactions/OverlayInteraction.vue?fd71","webpack://vue101/./src/components/interactiveVideo/interactions/OverlayInteraction.vue","webpack://vue101/./src/components/interactiveVideo/VideoPlayer.vue?f73b","webpack://vue101/./src/components/interactiveVideo/VideoPlayer.vue","webpack://vue101/./src/components/interactiveVideo/VideoTimeline.vue?b49d","webpack://vue101/./src/components/interactiveVideo/getEmValueFromElement.ts","webpack://vue101/./src/components/interactiveVideo/VideoTimeline.vue?a938","webpack://vue101/./src/components/interactiveVideo/VideoTimeline.vue","webpack://vue101/./src/components/interactiveVideo/SelectedInteractionProperties.vue?5d2d","webpack://vue101/./src/components/interactiveVideo/VideoTimeInput.vue?05c3","webpack://vue101/./src/components/interactiveVideo/VideoTimeInput.vue?b5ca","webpack://vue101/./src/components/interactiveVideo/VideoTimeInput.vue","webpack://vue101/./src/components/interactiveVideo/SelectedInteractionProperties.vue?09b4","webpack://vue101/./src/components/interactiveVideo/SelectedInteractionProperties.vue","webpack://vue101/./src/components/interactiveVideo/AddInteractions.vue?2832","webpack://vue101/./src/components/interactiveVideo/AddInteractions.vue","webpack://vue101/./src/components/interactiveVideo/SelectVideo.vue?64d8","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FilePicker.vue?2cd3","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FolderPicker.vue?f149","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FolderPicker.vue?fbe3","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FolderPicker.vue","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FilePicker.vue?6109","webpack://vue101/./src/components/courseware-components-ported-to-vue3/FilePicker.vue","webpack://vue101/./src/components/interactiveVideo/SelectVideo.vue?3b43","webpack://vue101/./src/components/interactiveVideo/SelectVideo.vue","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoEditor.vue?5045","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoEditor.vue","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoViewer.vue?292b","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoViewer.vue?f621","webpack://vue101/./src/components/interactiveVideo/InteractiveVideoViewer.vue","webpack://vue101/./src/models/TaskDefinition.ts","webpack://vue101/./src/routes/jsonApi.ts","webpack://vue101/./src/routes/lernmodule.ts","webpack://vue101/./src/store/modules/taskEditor.ts","webpack://vue101/./src/store/modules/coursewareBlock.ts","webpack://vue101/./src/store/index.ts","webpack://vue101/./src/components/StudipWysiwyg.vue?ebc4","webpack://vue101/./src/components/StudipWysiwyg.vue?850b","webpack://vue101/./src/components/StudipWysiwyg.vue"],"sourcesContent":["import { store, taskEditorStore } from '@/store';\nimport { Directive, DirectiveBinding } from 'vue';\n\n/**\n * This is a custom directive that you can use like v-model in the Lernmodul-Editor.\n * Like v-model, it is a two-way binding, but rather than directly modifying\n * 'taskDefinition', it saves changes into the undo-redo stack by calling\n * 'taskEditorStore.performEdit'.\n * It also sets an attribute 'data-undo-focus-id' on the element.\n * This attribute is used during the 'undo' and 'redo' operations.\n * The input elements whose contents are modified by 'undo' or 'redo' will\n * automatically be focus()ed and brought into view.\n * TODO: Can I get better stack traces when errors are thrown inside of\n *   directive hooks?  Right now, they do not show what line of the .vue file\n *   caused the errors to be thrown.\n */\nexport const modelUndoable: Directive = {\n  mounted(\n    el: HTMLElement,\n    binding: DirectiveBinding<unknown>,\n    vnode,\n    prevVnode\n  ) {\n    const validEl = validateElement(el);\n    validEl.setAttribute('data-undo-focus-id', parsePath(binding).join('.'));\n\n    el.addEventListener('input', (ev: Event) => {\n      const splitPath = parsePath(binding);\n      const [firstPathEl, ...restOfPath] = splitPath;\n      const value = vnode.el.value;\n      const newState = JSON.parse(\n        JSON.stringify(taskEditorStore.taskDefinition)\n      );\n      setValueAtPath(newState, restOfPath, value);\n      taskEditorStore.performEdit({\n        newTaskDefinition: newState,\n        undoBatch: splitPath.join('.'),\n      });\n      console.log(el, binding, vnode, prevVnode, ev, splitPath, value);\n    });\n\n    function setElValueFromStore() {\n      const splitPath = parsePath(binding);\n      const storeValue = getValueAtPath(taskEditorStore, splitPath);\n      const validatedStoreValue = validateBoundValue(storeValue);\n      validEl.value = validatedStoreValue.toString();\n    }\n    store.watch(\n      () => {\n        const splitPath = parsePath(binding);\n        return getValueAtPath(taskEditorStore, splitPath);\n      },\n      () => setElValueFromStore()\n    );\n    setElValueFromStore();\n  },\n} as const;\n\n/**\n * Make sure that the binding supplied by the user is a valid one.\n * It should be a path to a field of 'taskEditorStore.taskDefinition',\n * e.g. 'taskDefinition.task_type'.\n * @param binding - See https://vuejs.org/guide/reusability/custom-directives.html#directive-hooks\n */\nfunction parsePath(binding: DirectiveBinding<unknown>): Array<string> {\n  if (typeof binding.value !== 'string') {\n    throw new Error(bindingMustBeStringError + binding.value);\n  }\n  const splitPath = binding.value.split('.');\n  const firstPathEl = splitPath[0];\n  if (firstPathEl !== 'taskDefinition') {\n    throw new Error(bindingMustUseTaskDefinitionError + binding.value);\n  }\n  return splitPath;\n}\n\nfunction validateElement(\n  el: HTMLElement\n): HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement {\n  if (\n    el instanceof HTMLInputElement ||\n    el instanceof HTMLTextAreaElement ||\n    el instanceof HTMLSelectElement\n  ) {\n    return el;\n  }\n  throw new Error(invalidElementTypeError);\n}\n\nfunction validateBoundValue(val: unknown): string | number | boolean {\n  if (\n    typeof val !== 'string' &&\n    typeof val !== 'number' &&\n    typeof val !== 'boolean'\n  ) {\n    throw new Error(boundValueMustBePrimitiveError + typeof val);\n  }\n  return val;\n}\n\nfunction getValueAtPath(o: object, path: Array<string>): unknown {\n  return path.reduce((accumulator: any, pathComponent: string) => {\n    if (!Object.prototype.hasOwnProperty.call(accumulator, pathComponent)) {\n      throw new Error(invalidPathError + path.join('.'));\n    }\n    return accumulator[pathComponent];\n  }, o);\n}\n\nfunction setValueAtPath(o: object, splitPath: Array<string>, value: any) {\n  const [lastPathComponent, ...restOfPath] = [splitPath.pop(), ...splitPath];\n  if (lastPathComponent === undefined) {\n    throw new Error('Path has no last element');\n  }\n  const targetObject = restOfPath.reduce(\n    (accumulator: Record<string, any>, pathComponent: string) =>\n      accumulator[pathComponent],\n    o\n  );\n  targetObject[lastPathComponent] = value;\n}\n\n// TODO translate these strings in Weblate.\nconst bindingMustBeStringError =\n  'The value supplied to v-model-undoable must be a string. ' +\n  'Example: <select v-model-undoable=\"\\'taskDefinition.task_type\\'\">\\n' +\n  'You supplied the following value: ';\n\nconst bindingMustUseTaskDefinitionError =\n  'The string supplied to v-model-undoable must be a path which begins with ' +\n  '\"taskDefinition\", and the path must be wrapped in two sets of quotes. \\n' +\n  'Example usage: <select v-model-undoable=\"\\'taskDefinition.task_type\\'\">\\n' +\n  'You supplied the following string: ';\n\nconst boundValueMustBePrimitiveError =\n  'The value bound with v-model-undoable must be a string, number or boolean.  ' +\n  'Other datatypes are not currently supported.  The value found is of type ';\n\nconst invalidPathError =\n  'No field was found in the store under the given path.  Did you make a ' +\n  'typo?  Path: ';\n\nconst invalidElementTypeError =\n  'v-model-undoable can only be used on <input>, <textarea> and <select> elements';\n","import { createGettext } from 'vue3-gettext';\nimport translations from '@/language/translations.json';\nimport { memoize } from 'lodash';\n\nconst selectedLanguage = Object.values(window.STUDIP.INSTALLED_LANGUAGES).find(\n  (lang) => lang.selected\n);\nconst gettextPlugin = createGettext({\n  availableLanguages: {\n    en: 'English',\n    de: 'Deutsch',\n  },\n  defaultLanguage: selectedLanguage?.path ?? 'de',\n  translations: translations,\n});\n\n// Cache gettext results.\n// This fixes the problem we had where the error 'No translations found for de' was\n// being printed excessively often (sometimes 1000s of times per second) during\n// certain UI interactions, e.g. when dragging interactions around on top of\n// the video in the Interactive Video Editor.\nconst $gettext = memoize(gettextPlugin.$gettext, (...args) =>\n  JSON.stringify(args)\n);\n\nconst $pgettext = memoize(gettextPlugin.$pgettext, (...args) =>\n  JSON.stringify(args)\n);\n\nconst $npgettext = memoize(gettextPlugin.$npgettext, (...args) =>\n  JSON.stringify(args)\n);\n\nexport { gettextPlugin, $gettext, $pgettext, $npgettext };\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withKeys as _withKeys, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-84afc660\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  class: \"h5pModule\",\n  ref: \"wrapperElement\"\n}\nconst _hoisted_2 = { class: \"fill-in-the-blanks-text\" }\nconst _hoisted_3 = [\"innerHTML\"]\nconst _hoisted_4 = [\"onUpdate:modelValue\", \"readonly\", \"disabled\"]\nconst _hoisted_5 = { key: 0 }\nconst _hoisted_6 = [\"data-tooltip\"]\nconst _hoisted_7 = {\n  key: 1,\n  class: \"h5pSolution\"\n}\nconst _hoisted_8 = [\"textContent\"]\nconst _hoisted_9 = { class: \"h5pButtonPanel\" }\nconst _hoisted_10 = [\"textContent\"]\nconst _hoisted_11 = [\"textContent\"]\nconst _hoisted_12 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.parsedTemplate, (element) => {\n        return (_openBlock(), _createElementBlock(_Fragment, {\n          key: element.uuid\n        }, [\n          (element.type === 'staticText')\n            ? (_openBlock(), _createElementBlock(\"span\", {\n                key: 0,\n                innerHTML: element.text\n              }, null, 8, _hoisted_3))\n            : (element.type === 'blank')\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                  _withDirectives(_createElementVNode(\"input\", {\n                    type: \"text\",\n                    \"onUpdate:modelValue\": ($event: any) => ((_ctx.userInputs[element.uuid]) = $event),\n                    readonly: !this.editable,\n                    disabled: !this.editable,\n                    class: _normalizeClass(_ctx.classForInput(element)),\n                    onBlur: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputBlurOrEnter && _ctx.onInputBlurOrEnter(...args))),\n                    onKeyup: _cache[1] || (_cache[1] = _withKeys(\n//@ts-ignore\n(...args) => (_ctx.onInputBlurOrEnter && _ctx.onInputBlurOrEnter(...args)), [\"enter\"])),\n                    onInput: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.onInput && _ctx.onInput(...args)))\n                  }, null, 42, _hoisted_4), [\n                    [_vModelText, _ctx.userInputs[element.uuid]]\n                  ]),\n                  (element.hint)\n                    ? (_openBlock(), _createElementBlock(\"label\", _hoisted_5, [\n                        _createElementVNode(\"span\", {\n                          class: \"tooltip tooltip-icon\",\n                          \"data-tooltip\": element.hint\n                        }, null, 8, _hoisted_6)\n                      ]))\n                    : _createCommentVNode(\"\", true),\n                  (_ctx.showSolutions && !_ctx.submittedAnswerIsCorrect(element))\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_7, _toDisplayString(element.solutions[0]), 1))\n                    : _createCommentVNode(\"\", true)\n                ], 64))\n              : _createCommentVNode(\"\", true)\n        ], 64))\n      }), 128))\n    ]),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          achievedPoints: _ctx.correctAnswers,\n          maxPoints: _ctx.maxPoints,\n          feedback: _ctx.task.feedback,\n          resultMessage: _ctx.resultMessage\n        }, null, 8, [\"achievedPoints\", \"maxPoints\", \"feedback\", \"resultMessage\"]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.showFillInAllTheBlanksMessage)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: \"h5pMessage\",\n          textContent: _toDisplayString(_ctx.fillInAllTheBlanksMessage)\n        }, null, 8, _hoisted_8))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_9, [\n      (_ctx.showCheckButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            textContent: _toDisplayString(this.task.strings.checkButton),\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.onClickCheck(false))),\n            type: \"button\",\n            class: \"h5pButton\"\n          }, null, 8, _hoisted_10))\n        : _createCommentVNode(\"\", true),\n      (_ctx.showExtraButtons)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n            (_ctx.showSolutionButton)\n              ? (_openBlock(), _createElementBlock(\"button\", {\n                  key: 0,\n                  textContent: _toDisplayString(this.task.strings.solutionsButton),\n                  onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.onClickShowSolution && _ctx.onClickShowSolution(...args))),\n                  type: \"button\",\n                  class: \"h5pButton\"\n                }, null, 8, _hoisted_11))\n              : _createCommentVNode(\"\", true),\n            (_ctx.showRetryButton)\n              ? (_openBlock(), _createElementBlock(\"button\", {\n                  key: 1,\n                  textContent: _toDisplayString(this.task.strings.retryButton),\n                  onClick: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n                  type: \"button\",\n                  class: \"h5pButton\"\n                }, null, 8, _hoisted_12))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        : _createCommentVNode(\"\", true)\n    ])\n  ], 512))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { class: \"h5pFeedbackContainer\" }\nconst _hoisted_2 = { class: \"h5pFeedbackText\" }\nconst _hoisted_3 = [\"low\", \"high\", \"optimum\", \"max\", \"value\"]\nconst _hoisted_4 = [\"src\"]\nconst _hoisted_5 = { key: 1 }\nconst _hoisted_6 = {\n  key: 2,\n  class: \"h5pFeedbackText\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, _toDisplayString(_ctx.resultMessage), 1),\n    (_ctx.maxPoints)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"meter\", {\n            min: \"0\",\n            low: _ctx.lowNumber,\n            high: _ctx.highNumber,\n            optimum: _ctx.maxPoints,\n            max: _ctx.maxPoints,\n            value: _ctx.achievedPoints\n          }, null, 8, _hoisted_3),\n          (_ctx.achievedMaxPoints)\n            ? (_openBlock(), _createElementBlock(\"img\", {\n                key: 0,\n                src: _ctx.urlForIcon('star'),\n                width: \"36\",\n                height: \"36\"\n              }, null, 8, _hoisted_4))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(_ctx.achievedPoints), 1)),\n    (_ctx.feedbackMessage)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString(_ctx.feedbackMessage), 1))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","\n// need v-model to provide and get content -> <studip-wysiwyg v-model=\"content\" />\nimport { defineComponent, PropType } from 'vue';\nimport { Feedback } from '@/models/TaskDefinition';\nimport { round } from 'lodash';\n\nexport default defineComponent({\n  name: 'FeedbackElement',\n  props: {\n    achievedPoints: Number,\n    maxPoints: Number,\n    resultMessage: String,\n    feedback: Object as PropType<Feedback[]>,\n  },\n  data() {\n    return {};\n  },\n  mounted() {},\n  methods: {\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n  computed: {\n    lowNumber(): Number {\n      if (this.maxPoints) return this.maxPoints / 3;\n      return 0;\n    },\n\n    highNumber(): Number {\n      if (this.maxPoints) return (this.maxPoints * 2) / 3;\n      return 0;\n    },\n\n    feedbackSortedByScore(): Feedback[] {\n      if (this.feedback) {\n        return this.feedback\n          .map((value) => value)\n          .sort((a, b) => b.percentage - a.percentage);\n      }\n      return [];\n    },\n\n    feedbackMessage(): string | undefined {\n      if (\n        typeof this.achievedPoints === 'undefined' ||\n        typeof this.maxPoints === 'undefined'\n      ) {\n        return undefined;\n      }\n\n      const percentageCorrect = round(\n        (this.achievedPoints / this.maxPoints) * 100\n      );\n\n      for (const feedback of this.feedbackSortedByScore) {\n        if (percentageCorrect >= feedback.percentage) {\n          return feedback.message;\n        }\n      }\n\n      return undefined;\n    },\n\n    achievedMaxPoints(): boolean {\n      return this.achievedPoints === this.maxPoints;\n    },\n  },\n});\n","import { render } from \"./FeedbackElement.vue?vue&type=template&id=0b5aa6df&ts=true\"\nimport script from \"./FeedbackElement.vue?vue&type=script&lang=ts\"\nexport * from \"./FeedbackElement.vue?vue&type=script&lang=ts\"\n\nimport \"./FeedbackElement.vue?vue&type=style&index=0&id=0b5aa6df&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { Feedback, FillInTheBlanksTask } from '@/models/TaskDefinition';\nimport { v4 as uuidv4 } from 'uuid';\nimport { isEqual, round } from 'lodash';\nimport { $gettext } from '@/language/gettext';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\ntype FillInTheBlanksElement = Blank | StaticText;\ntype Blank = {\n  type: 'blank';\n  uuid: Uuid;\n  solutions: string[];\n  hint: string;\n};\ntype StaticText = {\n  type: 'staticText';\n  uuid: Uuid;\n  text: string;\n};\ntype Uuid = string;\n\nconst dljs = require('damerau-levenshtein-js');\n\nexport default defineComponent({\n  name: 'FillInTheBlanksViewer',\n  components: {\n    FeedbackElement,\n  },\n  props: {\n    task: {\n      type: Object as PropType<FillInTheBlanksTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      userInputs: {} as Record<Uuid, string>,\n      submittedAnswers: null as Record<Uuid, string> | null,\n      userWantsToSeeSolutions: false,\n      editable: true,\n    };\n  },\n  methods: {\n    $gettext,\n\n    submittedAnswerIsCorrect(element: FillInTheBlanksElement): boolean {\n      const blank = element as Blank;\n\n      const submittedAnswer = this.submittedAnswers?.[blank.uuid];\n      if (!submittedAnswer) {\n        return false;\n      } else {\n        return blank.solutions.some((solution) =>\n          this.isAnswerCorrect(submittedAnswer, solution)\n        );\n      }\n    },\n\n    isAnswerCorrect(userAnswer: string, solution: string): boolean {\n      if (this.task.caseSensitive) {\n        if (this.task.acceptTypos) {\n          return this.isAnswerCorrectWithTypo(userAnswer, solution);\n        } else {\n          return userAnswer === solution;\n        }\n      } else {\n        // TODO: Was ist, wenn das in einem Sprachkurs mit einer nichtlateinischen Schrift verwendet wird? :D\n        if (this.task.acceptTypos) {\n          return this.isAnswerCorrectWithTypo(\n            userAnswer.toLowerCase(),\n            solution.toLowerCase()\n          );\n        } else {\n          return userAnswer.toLowerCase() === solution.toLowerCase();\n        }\n      }\n    },\n\n    isAnswerCorrectWithTypo(userAnswer: string, solution: string): boolean {\n      if (userAnswer === solution) return true;\n\n      // Calculate the Damerau-Levenshtein distance between the answer and the solution\n      const distance = dljs.distance(userAnswer, solution);\n\n      // If the word is between 4 and 9 characters, a distance of 1 will be accepted\n      // If the word is more than 9 characters long, a distance of 2 will be accepted\n      return (\n        (userAnswer.length > 3 && distance <= 1) ||\n        (userAnswer.length > 9 && distance <= 2)\n      );\n    },\n\n    updateAttempt() {\n      // Tell the server which blanks were filled out correctly.\n      const points = {} as Record<string, number>;\n      this.blanks.forEach((blank, index) => {\n        // TODO Consider what the key should be. This is a bit ugly.\n        // The key is shown directly in the 'assessment' UI.\n        // Maybe we should change how that works?\n        points[`${index} - ${blank.solutions[0]}`] =\n          this.submittedAnswerIsCorrect(blank) ? 1 : 0;\n      });\n      this.$emit('updateAttempt', {\n        points,\n        // The attempt is marked as successful if all answers were correct.\n        success: this.correctAnswers === this.blanks.length,\n      });\n    },\n\n    /**\n     * Adapted from the H5P source code, MIT License\n     * https://github.com/h5p/h5p-blanks/blob/e9bf6862211c082a5724d9873496e66c489d23f7/js/blanks.js#L401\n     * TODO: Put the license in the appropriate place\n     */\n    autoGrowTextField(input: HTMLInputElement) {\n      // Do not set text field size when separate lines is enabled\n      // if (this.params.behaviour.separateLines) {\n      //   return;\n      // }\n      const computedStyles = window.getComputedStyle(input, null);\n      const computedFontSize = computedStyles.getPropertyValue('font-size');\n      const computedFontFamily = computedStyles.getPropertyValue('font-family');\n      const computedPadding = computedStyles.getPropertyValue('padding');\n      const fontSize = parseInt(computedFontSize, 10);\n      const minEm = 6;\n      const minPx = fontSize * minEm;\n      const rightPadEm = 3.25;\n      const rightPadPx = fontSize * rightPadEm;\n      const static_min_pad = 0.5 * fontSize;\n\n      setTimeout(() => {\n        const tmp = document.createElement('div');\n        tmp.textContent = input.value;\n        const tmpStyles = {\n          position: 'absolute',\n          'white-space': 'nowrap',\n          'font-size': computedFontSize,\n          'font-family': computedFontFamily,\n          padding: computedPadding,\n          width: 'initial',\n        };\n        for (const [key, value] of Object.entries(tmpStyles)) {\n          tmp.style[key as any] = value;\n        }\n        input.parentElement!.append(tmp);\n        const width = tmp.clientWidth;\n        const parentWidth = (this.$refs.wrapperElement as HTMLDivElement)\n          .clientWidth;\n        tmp.remove();\n        if (width <= minPx) {\n          // Apply min width\n          input.style.width = (minPx + static_min_pad).toString() + 'px';\n        } else if (width + rightPadPx >= parentWidth) {\n          // Apply max width of parent\n          input.style.width = (parentWidth - rightPadPx).toString() + 'px';\n        } else {\n          // Apply width that wraps input\n          input.style.width = (width + static_min_pad).toString() + 'px';\n        }\n      }, 1);\n    },\n\n    onClickCheck(taskEditableAfterCheck: boolean) {\n      // Save a copy of the user's inputs.\n      this.submittedAnswers = { ...this.userInputs };\n      this.updateAttempt();\n      this.editable = taskEditableAfterCheck;\n    },\n\n    onClickShowSolution() {\n      this.userWantsToSeeSolutions = true;\n    },\n\n    onClickTryAgain() {\n      this.userWantsToSeeSolutions = false;\n      this.userInputs = {};\n      this.submittedAnswers = null;\n      this.editable = true;\n    },\n\n    onInputBlurOrEnter() {\n      this.userWantsToSeeSolutions = false;\n      if (this.task.autoCorrect) {\n        this.onClickCheck(true);\n      }\n    },\n\n    onInput(event: Event) {\n      this.autoGrowTextField(event.target as HTMLInputElement);\n    },\n\n    classForInput(blank: FillInTheBlanksElement) {\n      if (!this.submittedAnswers) {\n        return 'h5pBlank';\n      }\n\n      if (this.submittedAnswers?.[blank.uuid] != undefined) {\n        if (this.submittedAnswerIsCorrect(blank)) {\n          return 'h5pBlank h5pBlankCorrect';\n        } else {\n          return 'h5pBlank h5pBlankIncorrect';\n        }\n      } else {\n        if (this.task.autoCorrect) {\n          return 'h5pBlank';\n        } else {\n          return 'h5pBlank h5pBlankIncorrect';\n        }\n      }\n    },\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n  computed: {\n    splitTemplate(): string[] {\n      // Returns an array where the even indexes are the static text portions,\n      // and the odd indexes are the blanks.\n      return this.task.template.split(/\\*([^*]*)\\*/);\n    },\n\n    parsedTemplate(): FillInTheBlanksElement[] {\n      return this.splitTemplate.map((value, index) => {\n        if (index % 2 === 0) {\n          return { type: 'staticText', text: value, uuid: uuidv4() };\n        } else {\n          let splitString = value.split(':');\n          let solutions = splitString[0].split('/');\n          let hint = splitString[1];\n          return {\n            type: 'blank',\n            solutions: solutions,\n            hint: hint,\n            uuid: uuidv4(),\n          };\n        }\n      });\n    },\n\n    blanks(): Blank[] {\n      return this.parsedTemplate.filter(\n        (word) => word.type === 'blank'\n      ) as Blank[];\n    },\n\n    blanksFilled(): number {\n      if (!this.submittedAnswers) {\n        return 0;\n      } else {\n        return Object.keys(this.submittedAnswers).length;\n      }\n    },\n\n    allBlanksAreFilled(): boolean {\n      return this.blanksFilled == this.blanks.length;\n    },\n\n    correctAnswers(): number {\n      return this.blanks.filter((blank) => this.submittedAnswerIsCorrect(blank))\n        .length;\n    },\n\n    allAnswersAreCorrect(): boolean {\n      return this.blanks.every((blank) => this.submittedAnswerIsCorrect(blank));\n    },\n\n    maxPoints(): number {\n      return this.blanks.length;\n    },\n\n    inputHasChanged(): boolean {\n      return !isEqual(this.submittedAnswers, this.userInputs);\n    },\n\n    showExtraButtons(): boolean {\n      if (this.task.autoCorrect) {\n        if (this.allBlanksAreFilled) {\n          return (\n            this.submittedAnswers !== null &&\n            !this.inputHasChanged &&\n            !this.allAnswersAreCorrect\n          );\n        } else {\n          return false;\n        }\n      } else {\n        return (\n          this.submittedAnswers !== null &&\n          !this.inputHasChanged &&\n          !this.allAnswersAreCorrect\n        );\n      }\n    },\n\n    showCheckButton(): boolean {\n      return (\n        (this.submittedAnswers === null || this.inputHasChanged) &&\n        !this.task.autoCorrect\n      );\n    },\n\n    showSolutionButton(): boolean {\n      return !this.showSolutions && this.task.showSolutionsAllowed;\n    },\n\n    showRetryButton(): boolean {\n      return this.task.retryAllowed && this.submittedAnswers !== null;\n    },\n\n    showSolutions(): boolean {\n      return (\n        this.userWantsToSeeSolutions &&\n        (this.allBlanksAreFilled ||\n          !this.task.allBlanksMustBeFilledForSolutions)\n      );\n    },\n\n    showFillInAllTheBlanksMessage(): boolean {\n      return (\n        this.task.allBlanksMustBeFilledForSolutions &&\n        this.userWantsToSeeSolutions &&\n        !this.allBlanksAreFilled &&\n        !this.inputHasChanged\n      );\n    },\n\n    showResults(): boolean {\n      return (\n        !(this.submittedAnswers === null) &&\n        !this.showFillInAllTheBlanksMessage &&\n        (!this.task.autoCorrect || this.allBlanksAreFilled) &&\n        !this.inputHasChanged\n      );\n    },\n\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.blanks.length.toString()\n      );\n\n      return resultMessage;\n    },\n\n    feedbackSortedByScore(): Feedback[] {\n      return this.task.feedback\n        .map((value) => value)\n        .sort((a, b) => b.percentage - a.percentage);\n    },\n\n    fillInAllTheBlanksMessage(): string {\n      return this.task.strings.fillInAllBlanksMessage\n        ? this.task.strings.fillInAllBlanksMessage\n        : $gettext(\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen'\n          );\n    },\n  },\n});\n","import { render } from \"./FillInTheBlanksViewer.vue?vue&type=template&id=84afc660&scoped=true&ts=true\"\nimport script from \"./FillInTheBlanksViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./FillInTheBlanksViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./FillInTheBlanksViewer.vue?vue&type=style&index=0&id=84afc660&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-84afc660\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, createTextVNode as _createTextVNode, vModelSelect as _vModelSelect, vModelText as _vModelText, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-71de5281\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"h5pEditorTopPanel\" }\nconst _hoisted_3 = [\"data-tooltip\"]\nconst _hoisted_4 = { class: \"collapsable collapsed\" }\nconst _hoisted_5 = { value: false }\nconst _hoisted_6 = { value: true }\nconst _hoisted_7 = [\"disabled\"]\nconst _hoisted_8 = [\"disabled\"]\nconst _hoisted_9 = [\"disabled\"]\nconst _hoisted_10 = [\"disabled\"]\nconst _hoisted_11 = [\"disabled\"]\nconst _hoisted_12 = { class: \"collapsable collapsed\" }\nconst _hoisted_13 = { class: \"feedbackContainer\" }\nconst _hoisted_14 = { class: \"feedbackPercentagesChild\" }\nconst _hoisted_15 = [\"onUpdate:modelValue\"]\nconst _hoisted_16 = { class: \"feedbackMessagesChild\" }\nconst _hoisted_17 = [\"onUpdate:modelValue\"]\nconst _hoisted_18 = [\"title\", \"onClick\"]\nconst _hoisted_19 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_studip_wysiwyg = _resolveComponent(\"studip-wysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Fill In The Blanks')), 1),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addBlank && _ctx.addBlank(...args))),\n          class: \"button\",\n          type: \"button\",\n          style: {\"margin-right\":\"0.1em\"}\n        }, _toDisplayString(_ctx.$gettext('Lcke hinzufgen')), 1),\n        _createElementVNode(\"div\", {\n          class: \"tooltip tooltip-icon\",\n          \"data-tooltip\": _ctx.instructions\n        }, null, 8, _hoisted_3)\n      ]),\n      _createVNode(_component_studip_wysiwyg, {\n        modelValue: _ctx.taskDefinition.template,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.taskDefinition.template) = $event)),\n        ref: \"wysiwyg\",\n        \"force-soft-breaks\": \"\",\n        \"remove-wrapping-p-tag\": \"\",\n        \"disable-autoformat\": \"\"\n      }, null, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_4, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.taskDefinition.caseSensitive) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.caseSensitive]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Gro- und Kleinschreibung beachten')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.taskDefinition.acceptTypos) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.acceptTypos]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Rechtschreib- oder Tippfehler ignorieren')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Korrigiert wird')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"select\", {\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.taskDefinition.autoCorrect) = $event))\n        }, [\n          _createElementVNode(\"option\", _hoisted_5, _toDisplayString(_ctx.$gettext('manuell per Button')), 1),\n          _createElementVNode(\"option\", _hoisted_6, _toDisplayString(_ctx.$gettext('automatisch nach Eingabe')), 1)\n        ], 512), [\n          [_vModelSelect, _ctx.taskDefinition.autoCorrect]\n        ])\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.autoCorrect ? 'setting-disabled' : '')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: _ctx.taskDefinition.autoCorrect,\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.strings.checkButton) = $event))\n        }, null, 8, _hoisted_7), [\n          [_vModelText, _ctx.taskDefinition.strings.checkButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.retryAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.retryAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Versuche erlauben')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.retryAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.retryAllowed,\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.taskDefinition.strings.retryButton) = $event))\n        }, null, 8, _hoisted_8), [\n          [_vModelText, _ctx.taskDefinition.strings.retryButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((_ctx.taskDefinition.showSolutionsAllowed) = $event)),\n          onChange: _cache[9] || (_cache[9] = ($event: any) => (\n            !_ctx.taskDefinition.showSolutionsAllowed\n              ? (_ctx.taskDefinition.allBlanksMustBeFilledForSolutions =\n                  _ctx.taskDefinition.showSolutionsAllowed)\n              : ''\n          ))\n        }, null, 544), [\n          [_vModelCheckbox, _ctx.taskDefinition.showSolutionsAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Lsungen knnen angezeigt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((_ctx.taskDefinition.strings.solutionsButton) = $event))\n        }, null, 8, _hoisted_9), [\n          [_vModelText, _ctx.taskDefinition.strings.solutionsButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((_ctx.taskDefinition.allBlanksMustBeFilledForSolutions) = $event))\n        }, null, 8, _hoisted_10), [\n          [_vModelCheckbox, _ctx.taskDefinition.allBlanksMustBeFilledForSolutions]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext(\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen.'\n          )), 1)\n      ], 2),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(\n          _ctx.taskDefinition.allBlanksMustBeFilledForSolutions\n            ? ''\n            : 'setting-disabled'\n        )\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Mitteilung, wenn nicht alle Lcken ausgefllt sind:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.allBlanksMustBeFilledForSolutions,\n          \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event: any) => ((_ctx.taskDefinition.strings.fillInAllBlanksMessage) = $event)),\n          style: {\"width\":\"100%\"}\n        }, null, 8, _hoisted_11), [\n          [_vModelText, _ctx.taskDefinition.strings.fillInAllBlanksMessage]\n        ])\n      ], 2)\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_12, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Feedback')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext(\n            'Ergebnismitteilung (mgliche Variablen :correct und :total):'\n          )) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[13] || (_cache[13] = ($event: any) => ((_ctx.taskDefinition.strings.resultMessage) = $event)),\n          style: {\"width\":\"100%\"}\n        }, null, 512), [\n          [_vModelText, _ctx.taskDefinition.strings.resultMessage]\n        ])\n      ]),\n      _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Benutzerdefiniertes Feedback fr beliebige Punktebereiche:')), 1),\n      _createElementVNode(\"div\", _hoisted_13, [\n        _createElementVNode(\"div\", _hoisted_14, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Prozent')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n              key: i,\n              type: \"number\",\n              min: \"0\",\n              max: \"100\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].percentage) = $event)\n            }, null, 8, _hoisted_15)), [\n              [_vModelText, _ctx.taskDefinition.feedback[i].percentage]\n            ])\n          }), 128))\n        ]),\n        _createElementVNode(\"div\", _hoisted_16, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Mitteilung')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"feedbackMessagesChildSubdivision\",\n              key: i\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].message) = $event)\n              }, null, 8, _hoisted_17), [\n                [_vModelText, _ctx.taskDefinition.feedback[i].message]\n              ]),\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                title: _ctx.titleForDeleteButtonForFeedback(feedback),\n                onClick: ($event: any) => (_ctx.removeFeedback(feedback))\n              }, [\n                _createElementVNode(\"img\", {\n                  src: _ctx.urlForIcon('trash'),\n                  width: \"16\",\n                  height: \"16\"\n                }, null, 8, _hoisted_19)\n              ], 8, _hoisted_18)\n            ]))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"button\",\n        onClick: _cache[14] || (_cache[14] = \n//@ts-ignore\n(...args) => (_ctx.addFeedback && _ctx.addFeedback(...args)))\n      }, _toDisplayString(_ctx.$gettext('Neuer Bereich')), 1)\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { Feedback, FillInTheBlanksTask } from '@/models/TaskDefinition';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'FillInTheBlanksEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<FillInTheBlanksTask>,\n      required: true,\n    },\n  },\n  computed: {\n    feedbackSortedByScore(): Feedback[] {\n      return this.taskDefinition.feedback\n        .map((value) => value)\n        .sort((a, b) => b.percentage - a.percentage);\n    },\n\n    instructions(): string {\n      return $gettext(\n        'Fgen Sie Lcken hinzu, indem Sie ein Sternchen (*) vor und hinter dem korrekten Wort bzw. den Wrtern setzen oder markieren Sie ein Wort und klicken Sie den \"Lcke hinzufgen\"Button.' +\n          ' Sie knnen alternative Antworten mit einem Schrgstrich (/) hinzufgen.' +\n          ' Auerdem knnen Sie einen Tooltip mit einem Doppelpunkt (:) hinzufgen.'\n      );\n    },\n  },\n  methods: {\n    $gettext,\n\n    titleForDeleteButtonForFeedback(feedback: Feedback): string {\n      return this.$gettext(\n        'Entferne den Feedback-Bereich, der ab %{ percentage }% anfngt.',\n        { percentage: feedback.percentage.toString() }\n      );\n    },\n\n    /**\n     * Surround the selected text with two asterisks\n     */\n    addBlank() {\n      const wysiwygEl = (this.$refs.wysiwyg as any)?.$el;\n      const editor = window.STUDIP.wysiwyg.getEditor(wysiwygEl);\n      if (!editor) {\n        console.error('getEditor(wysiwygEl) returned: ', editor);\n        throw new Error('Could not get reference to wysiwyg editor');\n      }\n      const selection = editor.model.document.selection;\n      const start = selection.getFirstPosition();\n      const end = selection.getLastPosition();\n      if (!start || !end) {\n        console.error('selection start: ', start, ' selection end: ', end);\n        throw new Error('Could not get selection in editor');\n      }\n      editor.model.change((writer) => {\n        writer.insertText('*', end);\n        writer.insertText('*', start);\n      });\n    },\n\n    addFeedback(): void {\n      this.taskDefinition.feedback.push({\n        percentage: this.feedbackSortedByScore[0]?.percentage,\n        message: 'Feedback',\n      });\n    },\n\n    removeFeedback(feedbackToRemove: Feedback): void {\n      this.taskDefinition.feedback = this.taskDefinition.feedback.filter(\n        (feedback) => feedback !== feedbackToRemove\n      );\n    },\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n});\n","import { render } from \"./FillInTheBlanksEditor.vue?vue&type=template&id=71de5281&scoped=true&ts=true\"\nimport script from \"./FillInTheBlanksEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./FillInTheBlanksEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./FillInTheBlanksEditor.vue?vue&type=style&index=0&id=71de5281&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-71de5281\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-40728be7\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"h5pEditorTopPanel\" }\nconst _hoisted_3 = [\"textContent\"]\nconst _hoisted_4 = { class: \"collapsable collapsed\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Find The Words')), 1),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"input\", {\n          type: \"text\",\n          style: {\"width\":\"100%\"},\n          onSubmit: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addWord && _ctx.addWord(...args)))\n        }, null, 32),\n        _createElementVNode(\"button\", {\n          textContent: _toDisplayString(_ctx.$gettext('Wort hinzufgen')),\n          onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.addWord && _ctx.addWord(...args))),\n          class: \"button\",\n          type: \"button\"\n        }, null, 8, _hoisted_3)\n      ])\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_4, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1)\n    ])\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { FindTheWordsTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'FindTheWordsEditor',\n  props: {\n    taskDefinition: {\n      type: Object as PropType<FindTheWordsTask>,\n      required: true,\n    },\n  },\n  computed: {},\n  methods: {\n    $gettext,\n\n    addWord() {},\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n});\n","import { render } from \"./FindTheWordsEditor.vue?vue&type=template&id=40728be7&scoped=true&ts=true\"\nimport script from \"./FindTheWordsEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./FindTheWordsEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./FindTheWordsEditor.vue?vue&type=style&index=0&id=40728be7&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-40728be7\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-628d68d3\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Find The Words - Viewer\", -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_3 = { class: \"h5pWords\" }\nconst _hoisted_4 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.task.words, (word) => {\n        return (_openBlock(), _createElementBlock(\"span\", {\n          key: word,\n          textContent: _toDisplayString(word)\n        }, null, 8, _hoisted_4))\n      }), 128))\n    ])\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { FindTheWordsTask } from '@/models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'FindTheWordsViewer',\n  props: {\n    task: { type: Object as PropType<FindTheWordsTask>, required: true },\n  },\n  emits: ['updateAttempt'],\n  data() {\n    return {};\n  },\n  methods: {},\n  computed: {},\n});\n","import { render } from \"./FindTheWordsViewer.vue?vue&type=template&id=628d68d3&scoped=true&ts=true\"\nimport script from \"./FindTheWordsViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./FindTheWordsViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./FindTheWordsViewer.vue?vue&type=style&index=0&id=628d68d3&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-628d68d3\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, vModelText as _vModelText, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2a137151\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"flex-parent-element\" }\nconst _hoisted_3 = [\"onUpdate:modelValue\"]\nconst _hoisted_4 = [\"onUpdate:modelValue\"]\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = [\"src\", \"title\"]\nconst _hoisted_7 = { class: \"collapsable collapsed\" }\nconst _hoisted_8 = [\"onUpdate:modelValue\"]\nconst _hoisted_9 = [\"onUpdate:modelValue\"]\nconst _hoisted_10 = [\"onUpdate:modelValue\"]\nconst _hoisted_11 = { class: \"collapsable collapsed\" }\nconst _hoisted_12 = [\"disabled\"]\nconst _hoisted_13 = [\"disabled\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_studip_wysiwyg = _resolveComponent(\"studip-wysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Question')), 1),\n      _createElementVNode(\"label\", null, [\n        _createVNode(_component_studip_wysiwyg, {\n          modelValue: _ctx.taskDefinition.question,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.taskDefinition.question) = $event)),\n          \"force-soft-breaks\": \"\",\n          \"remove-wrapping-p-tag\": \"\",\n          \"disable-autoformat\": \"\"\n        }, null, 8, [\"modelValue\"])\n      ]),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.answers, (answer, i) => {\n        return (_openBlock(), _createElementBlock(\"fieldset\", {\n          class: \"collapsable collapsed\",\n          key: i\n        }, [\n          _createElementVNode(\"legend\", null, _toDisplayString(answer.text), 1),\n          _createElementVNode(\"div\", _hoisted_2, [\n            _withDirectives(_createElementVNode(\"input\", {\n              class: \"flex-child-element checkbox\",\n              type: \"checkbox\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].correct) = $event)\n            }, null, 8, _hoisted_3), [\n              [_vModelCheckbox, _ctx.taskDefinition.answers[i].correct]\n            ]),\n            _withDirectives(_createElementVNode(\"input\", {\n              class: \"flex-child-element textbox\",\n              type: \"text\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].text) = $event)\n            }, null, 8, _hoisted_4), [\n              [_vModelText, _ctx.taskDefinition.answers[i].text]\n            ]),\n            _createElementVNode(\"button\", {\n              type: \"button\",\n              class: \"flex-child-element removeAnswerButton\",\n              onClick: ($event: any) => (_ctx.removeAnswer(answer))\n            }, [\n              _createElementVNode(\"img\", {\n                src: _ctx.urlForIcon('trash'),\n                title: _ctx.$gettext('Lschen')\n              }, null, 8, _hoisted_6)\n            ], 8, _hoisted_5)\n          ]),\n          _createElementVNode(\"fieldset\", _hoisted_7, [\n            _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Hinweis und Feedback')), 1),\n            _createElementVNode(\"label\", null, [\n              _createElementVNode(\"span\", null, _toDisplayString(_ctx.$gettext('Hinweis')), 1),\n              _withDirectives(_createElementVNode(\"input\", {\n                class: \"textbox\",\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].strings.hint) = $event)\n              }, null, 8, _hoisted_8), [\n                [_vModelText, _ctx.taskDefinition.answers[i].strings.hint]\n              ])\n            ]),\n            _createElementVNode(\"label\", null, [\n              _createElementVNode(\"span\", null, _toDisplayString(_ctx.$gettext('Feedback wenn ausgewhlt')), 1),\n              _withDirectives(_createElementVNode(\"input\", {\n                class: \"textbox\",\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].strings.feedbackSelected) = $event)\n              }, null, 8, _hoisted_9), [\n                [_vModelText, _ctx.taskDefinition.answers[i].strings.feedbackSelected]\n              ])\n            ]),\n            _createElementVNode(\"label\", null, [\n              _createElementVNode(\"span\", null, _toDisplayString(_ctx.$gettext('Feedback wenn nicht ausgewhlt')), 1),\n              _withDirectives(_createElementVNode(\"input\", {\n                class: \"textbox\",\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.answers[i].strings.feedbackNotSelected) = $event)\n              }, null, 8, _hoisted_10), [\n                [_vModelText, _ctx.taskDefinition.answers[i].strings.feedbackNotSelected]\n              ])\n            ])\n          ])\n        ]))\n      }), 128)),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"button\",\n        onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.addAnswer && _ctx.addAnswer(...args)))\n      }, _toDisplayString(_ctx.$gettext('Neue Antwort')), 1)\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_11, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.taskDefinition.strings.checkButton) = $event))\n        }, null, 512), [\n          [_vModelText, _ctx.taskDefinition.strings.checkButton]\n        ])\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.taskDefinition.canAnswerMultiple) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.canAnswerMultiple]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Antworten knnen ausgewhlt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.taskDefinition.randomOrder) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.randomOrder]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Zeige Antworten in zuflliger Reihenfolge')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.retryAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.retryAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Versuche erlauben')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.retryAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.retryAllowed,\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.strings.retryButton) = $event))\n        }, null, 8, _hoisted_12), [\n          [_vModelText, _ctx.taskDefinition.strings.retryButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.taskDefinition.showSolutionsAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.showSolutionsAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Lsungen knnen angezeigt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((_ctx.taskDefinition.strings.solutionsButton) = $event))\n        }, null, 8, _hoisted_13), [\n          [_vModelText, _ctx.taskDefinition.strings.solutionsButton]\n        ])\n      ], 2)\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { QuestionAnswer, QuestionTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'QuestionEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<QuestionTask>,\n      required: true,\n    },\n  },\n  methods: {\n    $gettext,\n    addAnswer(): void {\n      this.taskDefinition.answers.push({\n        text: this.$gettext('Neue Antwort'),\n        correct: true,\n        strings: {\n          hint: '',\n          feedbackSelected: '',\n          feedbackNotSelected: '',\n        },\n      });\n    },\n    removeAnswer(answerToRemove: QuestionAnswer): void {\n      this.taskDefinition.answers = this.taskDefinition.answers.filter(\n        (answer) => answer !== answerToRemove\n      );\n    },\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n  computed: {\n    currentUndoRedoState: () =>\n      taskEditorStore.undoRedoStack[taskEditorStore.undoRedoIndex],\n  },\n});\n","import { render } from \"./QuestionEditor.vue?vue&type=template&id=2a137151&scoped=true&ts=true\"\nimport script from \"./QuestionEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./QuestionEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./QuestionEditor.vue?vue&type=style&index=0&id=2a137151&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a137151\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, vModelRadio as _vModelRadio, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0f8d1398\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"h5pModule\" }\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = [\"value\", \"onUpdate:modelValue\", \"disabled\"]\nconst _hoisted_4 = [\"data-tooltip\"]\nconst _hoisted_5 = {\n  key: 0,\n  class: \"answerFeedback\"\n}\nconst _hoisted_6 = {\n  key: 1,\n  class: \"answerFeedback\"\n}\nconst _hoisted_7 = [\"value\", \"disabled\"]\nconst _hoisted_8 = [\"data-tooltip\"]\nconst _hoisted_9 = {\n  key: 0,\n  class: \"answerFeedback\"\n}\nconst _hoisted_10 = {\n  key: 1,\n  class: \"answerFeedback\"\n}\nconst _hoisted_11 = { class: \"h5pButtonPanel\" }\nconst _hoisted_12 = [\"textContent\"]\nconst _hoisted_13 = [\"textContent\"]\nconst _hoisted_14 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"h5pQuestion\",\n      innerHTML: this.task.question\n    }, null, 8, _hoisted_2),\n    (_ctx.task.canAnswerMultiple)\n      ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_ctx.answers, (answer, i) => {\n          return (_openBlock(), _createElementBlock(_Fragment, { key: i }, [\n            _createElementVNode(\"label\", {\n              class: _normalizeClass(_ctx.classForAnswer(answer))\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"checkbox\",\n                value: answer.text,\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.selectedAnswers[answer.text]) = $event),\n                disabled: _ctx.isSubmitted\n              }, null, 8, _hoisted_3), [\n                [_vModelCheckbox, _ctx.selectedAnswers[answer.text]]\n              ]),\n              _createTextVNode(\" \" + _toDisplayString(answer.text) + \" \", 1),\n              (answer.strings.hint && !_ctx.isSubmitted)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"tooltip tooltip-icon h5pTooltip\",\n                    \"data-tooltip\": answer.strings.hint\n                  }, null, 8, _hoisted_4))\n                : _createCommentVNode(\"\", true)\n            ], 2),\n            (_ctx.isSubmitted)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  (\n              answer.strings.feedbackSelected && _ctx.selectedAnswers[answer.text]\n            )\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(answer.strings.feedbackSelected), 1))\n                    : (\n              answer.strings.feedbackNotSelected &&\n              !_ctx.selectedAnswers[answer.text]\n            )\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString(answer.strings.feedbackNotSelected), 1))\n                      : _createCommentVNode(\"\", true)\n                ], 64))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        }), 128))\n      : (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.answers, (answer, i) => {\n          return (_openBlock(), _createElementBlock(_Fragment, { key: i }, [\n            _createElementVNode(\"label\", {\n              class: _normalizeClass(_ctx.classForAnswer(answer))\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"radio\",\n                class: \"answerRadioButton\",\n                value: answer,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selectedAnswer) = $event)),\n                disabled: _ctx.isSubmitted\n              }, null, 8, _hoisted_7), [\n                [_vModelRadio, _ctx.selectedAnswer]\n              ]),\n              _createTextVNode(\" \" + _toDisplayString(answer.text) + \" \", 1),\n              (answer.strings.hint && !_ctx.isSubmitted)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"tooltip tooltip-icon h5pTooltip\",\n                    \"data-tooltip\": answer.strings.hint\n                  }, null, 8, _hoisted_8))\n                : _createCommentVNode(\"\", true)\n            ], 2),\n            (_ctx.isSubmitted)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  (answer.strings.feedbackSelected && _ctx.selectedAnswer == answer)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _toDisplayString(answer.strings.feedbackSelected), 1))\n                    : (\n              answer.strings.feedbackNotSelected && _ctx.selectedAnswer !== answer\n            )\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, _toDisplayString(answer.strings.feedbackNotSelected), 1))\n                      : _createCommentVNode(\"\", true)\n                ], 64))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        }), 128)),\n    (_ctx.isSubmitted)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 2,\n          \"achieved-points\": _ctx.points,\n          \"max-points\": _ctx.maxPoints\n        }, null, 8, [\"achieved-points\", \"max-points\"]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_11, [\n      (!_ctx.isSubmitted)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            textContent: _toDisplayString(this.task.strings.checkButton),\n            onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onClickCheck && _ctx.onClickCheck(...args))),\n            type: \"button\",\n            class: \"h5pButton\"\n          }, null, 8, _hoisted_12))\n        : _createCommentVNode(\"\", true),\n      (this.task.retryAllowed && _ctx.isSubmitted)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 1,\n            textContent: _toDisplayString(this.task.strings.retryButton),\n            onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n            type: \"button\",\n            class: \"h5pButton\"\n          }, null, 8, _hoisted_13))\n        : _createCommentVNode(\"\", true),\n      (_ctx.showSolutionsButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 2,\n            textContent: _toDisplayString(this.task.strings.solutionsButton),\n            onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.onClickShowSolution && _ctx.onClickShowSolution(...args))),\n            type: \"button\",\n            class: \"h5pButton\"\n          }, null, 8, _hoisted_14))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { QuestionAnswer, QuestionTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\nexport default defineComponent({\n  name: 'QuestionViewer',\n  props: {\n    task: {\n      type: Object as PropType<QuestionTask>,\n      required: true,\n    },\n  },\n  components: { FeedbackElement },\n  data() {\n    return {\n      selectedAnswers: {} as Record<string, boolean>,\n      selectedAnswer: this.task.answers[0],\n      isSubmitted: false,\n      showSolutions: false,\n    };\n  },\n  methods: {\n    $gettext,\n    onClickCheck(): void {\n      this.isSubmitted = true;\n    },\n    onClickTryAgain(): void {\n      this.isSubmitted = false;\n      this.showSolutions = false;\n      this.selectedAnswers = {};\n    },\n    onClickShowSolution(): void {\n      this.showSolutions = true;\n    },\n    selectAnswer(answer: QuestionAnswer): void {\n      if (this.isSubmitted) return;\n\n      this.selectedAnswers[answer.text] = !this.selectedAnswers[answer.text];\n    },\n    classForAnswer(answer: QuestionAnswer): string {\n      if (this.showSolutions) {\n        if (answer.correct) return 'correctAnswer';\n      }\n\n      if (this.isSubmitted) {\n        if (this.task.canAnswerMultiple) {\n          if (this.selectedAnswers[answer.text]) {\n            if (answer.correct) {\n              return 'correctAnswer';\n            } else {\n              return 'incorrectAnswer';\n            }\n          } else {\n            return 'submittedAnswer';\n          }\n        } else {\n          if (this.selectedAnswer === answer) {\n            if (answer.correct) {\n              return 'correctAnswer';\n            } else {\n              return 'incorrectAnswer';\n            }\n          } else {\n            return 'submittedAnswer';\n          }\n        }\n      } else {\n        return 'answer';\n      }\n    },\n  },\n  computed: {\n    maxPoints(): number {\n      if (this.task.canAnswerMultiple) {\n        let maxPoints = 0;\n        this.task.answers.forEach((answer) => {\n          if (answer.correct) {\n            maxPoints++;\n          }\n        });\n        return maxPoints;\n      } else {\n        return 1;\n      }\n    },\n    points(): number {\n      if (this.task.canAnswerMultiple) {\n        let points = 0;\n\n        this.task.answers.forEach((answer) => {\n          if (this.selectedAnswers[answer.text]) {\n            if (answer.correct) {\n              points++;\n            } else {\n              points--;\n            }\n          }\n        });\n\n        // Cannot get less than 0 points\n        if (points < 0) points = 0;\n\n        return points;\n      } else {\n        return this.selectedAnswer.correct ? 1 : 0;\n      }\n    },\n    answers(): QuestionAnswer[] {\n      if (this.task.randomOrder) {\n        // https://stackoverflow.com/a/46545530\n        return this.task.answers\n          .map((value) => ({ value, sort: Math.random() }))\n          .sort((a, b) => a.sort - b.sort)\n          .map(({ value }) => value);\n      } else {\n        return this.task.answers;\n      }\n    },\n    showSolutionsButton(): boolean {\n      return this.task.showSolutionsAllowed && this.isSubmitted;\n    },\n  },\n});\n","import { render } from \"./QuestionViewer.vue?vue&type=template&id=0f8d1398&scoped=true&ts=true\"\nimport script from \"./QuestionViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./QuestionViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./QuestionViewer.vue?vue&type=style&index=0&id=0f8d1398&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0f8d1398\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, withModifiers as _withModifiers, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1aaae338\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  class: \"h5pModule\",\n  ref: \"wrapperElement\"\n}\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = [\"draggable\", \"onDragstart\", \"onDrop\"]\nconst _hoisted_4 = [\"onDrop\", \"onClick\"]\nconst _hoisted_5 = { key: 2 }\nconst _hoisted_6 = [\"data-tooltip\"]\nconst _hoisted_7 = {\n  key: 3,\n  class: \"h5pSolution\"\n}\nconst _hoisted_8 = [\"draggable\", \"onDragstart\", \"onClick\"]\nconst _hoisted_9 = [\"textContent\"]\nconst _hoisted_10 = { class: \"h5pButtonPanel\" }\nconst _hoisted_11 = [\"textContent\"]\nconst _hoisted_12 = [\"textContent\"]\nconst _hoisted_13 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.parsedTemplate, (element) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: element.uuid\n      }, [\n        (element.type === 'staticText')\n          ? (_openBlock(), _createElementBlock(\"span\", {\n              key: 0,\n              innerHTML: element.text\n            }, null, 8, _hoisted_2))\n          : (element.type === 'blank')\n            ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                (_ctx.userInputs[element.uuid])\n                  ? (_openBlock(), _createElementBlock(\"span\", {\n                      key: 0,\n                      class: _normalizeClass(_ctx.classForFilledBlank(element)),\n                      draggable: _ctx.editable,\n                      onDragstart: ($event: any) => (\n            _ctx.startDragUsedAnswer($event, element, _ctx.userInputs[element.uuid])\n          ),\n                      onDrop: ($event: any) => (_ctx.onDropBlank($event, element)),\n                      onDragover: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"])),\n                      onDragenter: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"]))\n                    }, _toDisplayString(_ctx.getAnswerById(_ctx.userInputs[element.uuid])?.text), 43, _hoisted_3))\n                  : (_openBlock(), _createElementBlock(\"span\", {\n                      key: 1,\n                      class: \"h5pBlank\",\n                      onDrop: ($event: any) => (_ctx.onDropBlank($event, element)),\n                      onDragover: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"])),\n                      onDragenter: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"prevent\"])),\n                      onClick: ($event: any) => (_ctx.onClickBlank(element))\n                    }, \" \", 40, _hoisted_4)),\n                (element.hint)\n                  ? (_openBlock(), _createElementBlock(\"label\", _hoisted_5, [\n                      _createElementVNode(\"span\", {\n                        class: \"tooltip tooltip-icon\",\n                        \"data-tooltip\": element.hint\n                      }, null, 8, _hoisted_6)\n                    ]))\n                  : _createCommentVNode(\"\", true),\n                (_ctx.showSolutions && !_ctx.submittedAnswerIsCorrect(element))\n                  ? (_openBlock(), _createElementBlock(\"span\", _hoisted_7, _toDisplayString(element.solution), 1))\n                  : _createCommentVNode(\"\", true)\n              ], 64))\n            : _createCommentVNode(\"\", true)\n      ], 64))\n    }), 128)),\n    _createElementVNode(\"div\", {\n      class: \"unused-answers-list\",\n      onDrop: _cache[4] || (_cache[4] = ($event: any) => (_ctx.onDropUnusedAnswers($event))),\n      onDragover: _cache[5] || (_cache[5] = _withModifiers(() => {}, [\"prevent\"])),\n      onDragenter: _cache[6] || (_cache[6] = _withModifiers(() => {}, [\"prevent\"]))\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.unusedAnswers, (answer) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: answer.uuid\n        }, [\n          _createElementVNode(\"span\", {\n            class: _normalizeClass([\"h5pBlankSolution\", { disabled: !this.editable }]),\n            draggable: _ctx.editable,\n            onDragstart: ($event: any) => (_ctx.startDragUnusedAnswer($event, answer)),\n            onClick: ($event: any) => (_ctx.onClickUnusedAnswer(answer))\n          }, _toDisplayString(answer.text), 43, _hoisted_8)\n        ]))\n      }), 128))\n    ], 32),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          \"achieved-points\": _ctx.correctAnswers,\n          \"max-points\": _ctx.maxPoints,\n          feedback: _ctx.task.feedback,\n          \"result-message\": _ctx.resultMessage\n        }, null, 8, [\"achieved-points\", \"max-points\", \"feedback\", \"result-message\"]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.showFillInAllTheBlanksMessage)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: \"h5pMessage\",\n          textContent: _toDisplayString(_ctx.fillInAllTheBlanksMessage)\n        }, null, 8, _hoisted_9))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_10, [\n      (_ctx.showCheckButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            textContent: _toDisplayString(this.task.strings.checkButton),\n            onClick: _cache[7] || (_cache[7] = \n//@ts-ignore\n(...args) => (_ctx.onClickCheck && _ctx.onClickCheck(...args))),\n            type: \"button\",\n            class: \"h5pButton\"\n          }, null, 8, _hoisted_11))\n        : _createCommentVNode(\"\", true),\n      (_ctx.showExtraButtons)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n            (!_ctx.showSolutions && this.task.showSolutionsAllowed)\n              ? (_openBlock(), _createElementBlock(\"button\", {\n                  key: 0,\n                  textContent: _toDisplayString(this.task.strings.solutionsButton),\n                  onClick: _cache[8] || (_cache[8] = \n//@ts-ignore\n(...args) => (_ctx.onClickShowSolution && _ctx.onClickShowSolution(...args))),\n                  type: \"button\",\n                  class: \"h5pButton\"\n                }, null, 8, _hoisted_12))\n              : _createCommentVNode(\"\", true),\n            (this.task.retryAllowed)\n              ? (_openBlock(), _createElementBlock(\"button\", {\n                  key: 1,\n                  textContent: _toDisplayString(this.task.strings.retryButton),\n                  onClick: _cache[9] || (_cache[9] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n                  type: \"button\",\n                  class: \"h5pButton\"\n                }, null, 8, _hoisted_13))\n              : _createCommentVNode(\"\", true)\n          ], 64))\n        : _createCommentVNode(\"\", true)\n    ])\n  ], 512))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { DragTheWordsTask, Feedback } from '@/models/TaskDefinition';\nimport { v4 as uuidv4 } from 'uuid';\nimport { isEqual, round } from 'lodash';\nimport { $gettext } from '@/language/gettext';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\ntype DragTheWordsElement = Blank | StaticText;\n\ninterface Blank {\n  type: 'blank';\n  uuid: Uuid;\n  solution: string;\n  hint: string;\n}\n\ninterface Answer {\n  uuid: Uuid;\n  text: string;\n}\n\ntype StaticText = {\n  type: 'staticText';\n  uuid: Uuid;\n  text: string;\n};\n\ntype Uuid = string;\n\nexport default defineComponent({\n  name: 'DragTheWordsViewer',\n  components: { FeedbackElement },\n  props: {\n    task: {\n      type: Object as PropType<DragTheWordsTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      // Map from Blank IDs to Answer IDs\n      userInputs: {} as Record<Uuid, Uuid>,\n      submittedAnswers: null as Record<Uuid, Uuid> | null,\n      userWantsToSeeSolutions: false,\n      draggedAnswerId: undefined as Uuid | undefined,\n      draggedSourceId: undefined as Uuid | undefined,\n      clickedAnswerId: undefined as Uuid | undefined,\n      editable: true as Boolean,\n    };\n  },\n  methods: {\n    $gettext,\n\n    submittedAnswerIsCorrect(blank: Blank): boolean {\n      const submittedAnswerId = this.submittedAnswers?.[blank.uuid];\n      if (!submittedAnswerId) return false;\n\n      const submittedAnswer = this.getAnswerById(submittedAnswerId)?.text;\n      if (!submittedAnswer) return false;\n\n      return this.isAnswerCorrect(submittedAnswer, blank.solution);\n    },\n\n    isAnswerCorrect(userAnswer: string, solution: string): boolean {\n      return userAnswer === solution;\n    },\n\n    updateAttempt() {\n      // Tell the server which blanks were filled out correctly.\n      const points = {} as Record<string, number>;\n      this.blanks.forEach((blank, index) => {\n        // TODO Consider what the key should be. This is a bit ugly.\n        // The key is shown directly in the 'assessment' UI.\n        // Maybe we should change how that works?\n        points[`${index} - ${blank.solution}`] = this.submittedAnswerIsCorrect(\n          blank\n        )\n          ? 1\n          : 0;\n      });\n      this.$emit('updateAttempt', {\n        points,\n        // The attempt is marked as successful if all answers were correct.\n        success: this.correctAnswers === this.blanks.length,\n      });\n    },\n\n    getElement(elementId: Uuid): DragTheWordsElement {\n      const el = this.parsedTemplate.find((el) => el.uuid === elementId);\n      if (!el) {\n        throw new Error(\n          'The given element does not exist in parsedTemplate: ' + elementId\n        );\n      }\n      return el;\n    },\n\n    startDragUsedAnswer(\n      dragEvent: DragEvent,\n      blank: Blank,\n      answerId: Uuid\n    ): void {\n      if (!this.editable) return;\n      if (dragEvent.dataTransfer) {\n        dragEvent.dataTransfer.dropEffect = 'move';\n        dragEvent.dataTransfer.effectAllowed = 'move';\n      }\n      const answer = this.getAnswerById(answerId);\n      console.log('Dragging answer: ', answer, 'From blank: ', blank);\n\n      for (const property in this.userInputs) {\n        console.log(property);\n      }\n\n      this.draggedAnswerId = answerId;\n    },\n\n    startDragUnusedAnswer(dragEvent: DragEvent, answer: Answer): void {\n      if (dragEvent.dataTransfer) {\n        dragEvent.dataTransfer.dropEffect = 'move';\n        dragEvent.dataTransfer.effectAllowed = 'move';\n\n        console.log('Dragging answer: ', answer);\n        this.draggedAnswerId = answer.uuid;\n      }\n    },\n\n    onDropBlank(dragEvent: DragEvent, blank: Blank): void {\n      if (!this.draggedAnswerId) {\n        throw new Error('Dragged answer id is undefined');\n      }\n\n      console.log('Dropped answer :', this.draggedAnswer, 'on blank: ', blank);\n\n      // Remove the dropped answer from the blank, if any, where it has been dragged from\n      const previousBlank = this.blanks.find(\n        (blank) => this.userInputs[blank.uuid] === this.draggedAnswerId\n      );\n\n      if (previousBlank) {\n        delete this.userInputs[previousBlank.uuid];\n      }\n\n      // Set the answer for the blank where the answer was dropped\n      this.userInputs[blank.uuid] = this.draggedAnswerId;\n\n      this.draggedAnswerId = undefined;\n    },\n\n    onDropUnusedAnswers(ev: DragEvent): void {\n      console.error('Not implemented');\n      ev.preventDefault(); // Indicate that dropping is al\n      if (!this.draggedAnswer) {\n        throw new Error('draggedAnswer is undefined');\n      }\n      // Remove the dropped answer from the blank, if any, where it has been dragged from\n      const blank = this.blanks.find(\n        (blank) => this.userInputs[blank.uuid] === this.draggedAnswerId\n      );\n      if (blank) {\n        delete this.userInputs[blank.uuid];\n      }\n    },\n\n    onClickCheck() {\n      // Save a copy of the user's inputs.\n      this.submittedAnswers = { ...this.userInputs };\n      this.editable = false;\n    },\n\n    onClickShowSolution() {\n      this.userWantsToSeeSolutions = true;\n    },\n\n    onClickTryAgain() {\n      this.userWantsToSeeSolutions = false;\n      this.userInputs = {};\n      this.submittedAnswers = null;\n      this.editable = true;\n    },\n\n    classForFilledBlank(blank: Blank) {\n      if (!this.submittedAnswers && !this.task.instantFeedback) {\n        return 'h5pFilledBlank';\n      }\n\n      if (this.task.instantFeedback) {\n        this.submittedAnswers = { ...this.userInputs };\n      }\n\n      if (this.userInputs?.[blank.uuid]) {\n        if (this.submittedAnswerIsCorrect(blank)) {\n          return 'h5pFilledBlank h5pBlankCorrect disabled';\n        } else {\n          return 'h5pFilledBlank h5pBlankIncorrect disabled';\n        }\n      } else {\n        return 'h5pBlank';\n      }\n    },\n\n    getAnswerById(id: Uuid): Answer | undefined {\n      return this.answers.find((answer) => answer.uuid === id);\n    },\n\n    onClickUnusedAnswer(answer: Answer): void {\n      console.log('Clicked answer:', answer);\n      if (this.editable) this.clickedAnswerId = answer.uuid;\n    },\n\n    onClickBlank(blank: Blank): void {\n      console.log('Clicked blank:', blank);\n      if (!this.clickedAnswerId) return;\n      this.userInputs[blank.uuid] = this.clickedAnswerId;\n      this.clickedAnswerId = undefined;\n    },\n  },\n  computed: {\n    splitTemplate(): string[] {\n      // Returns an array where the even indexes are the static text portions,\n      // and the odd indexes are the blanks.\n      return this.task.template.split(/\\*([^*]*)\\*/);\n    },\n\n    parsedTemplate(): DragTheWordsElement[] {\n      return this.splitTemplate.map((value, index) => {\n        if (index % 2 === 0) {\n          return { type: 'staticText', text: value, uuid: uuidv4() };\n        } else {\n          let splitString = value.split(':');\n          let solution = splitString[0];\n          let hint = splitString[1];\n          return {\n            type: 'blank',\n            solution: solution,\n            hint: hint,\n            uuid: uuidv4(),\n          };\n        }\n      });\n    },\n\n    blanks(): Blank[] {\n      return this.parsedTemplate.filter(\n        (word) => word.type === 'blank'\n      ) as Blank[];\n    },\n\n    answers(): Answer[] {\n      return this.blanks.map((blank) => ({\n        uuid: uuidv4(),\n        text: blank.solution,\n      }));\n    },\n\n    draggedAnswer(): Answer | undefined {\n      if (!this.draggedAnswerId) {\n        return undefined;\n      } else {\n        return this.getAnswerById(this.draggedAnswerId);\n      }\n    },\n\n    randomizedAnswers(): Answer[] {\n      // https://stackoverflow.com/a/46545530\n      return this.answers\n        .map((value) => ({ value, sort: Math.random() }))\n        .sort((a, b) => a.sort - b.sort)\n        .map(({ value }) => value);\n    },\n\n    sortedAnswers(): Answer[] {\n      // https://stackoverflow.com/a/45544166\n      return this.answers\n        .map((value) => value)\n        .sort((a, b) => a.text.localeCompare(b.text));\n    },\n\n    blanksFilled(): number {\n      if (!this.submittedAnswers) {\n        return 0;\n      } else {\n        return Object.keys(this.submittedAnswers).length;\n      }\n    },\n\n    allBlanksAreFilled(): boolean {\n      return this.blanksFilled == this.blanks.length;\n    },\n\n    correctAnswers(): number {\n      return this.blanks.filter((blank) => this.submittedAnswerIsCorrect(blank))\n        .length;\n    },\n\n    allAnswersAreCorrect(): boolean {\n      return this.blanks.every((blank) => this.submittedAnswerIsCorrect(blank));\n    },\n\n    maxPoints(): number {\n      return this.blanks.length;\n    },\n\n    unusedAnswers(): Answer[] {\n      if (this.task.alphabeticOrder) {\n        return this.sortedAnswers.filter(\n          (answer) => !Object.values(this.userInputs).includes(answer.uuid)\n        );\n      } else {\n        return this.randomizedAnswers.filter(\n          (answer) => !Object.values(this.userInputs).includes(answer.uuid)\n        );\n      }\n    },\n\n    inputHasChanged(): boolean {\n      return !isEqual(this.submittedAnswers, this.userInputs);\n    },\n\n    showExtraButtons(): boolean {\n      if (this.task.instantFeedback) {\n        if (this.allBlanksAreFilled) {\n          return (\n            this.submittedAnswers !== null &&\n            !this.inputHasChanged &&\n            !this.allAnswersAreCorrect\n          );\n        } else {\n          return false;\n        }\n      } else {\n        return (\n          this.submittedAnswers !== null &&\n          !this.inputHasChanged &&\n          !this.allAnswersAreCorrect\n        );\n      }\n    },\n\n    showCheckButton(): boolean {\n      return (\n        (this.submittedAnswers === null || this.inputHasChanged) &&\n        !this.task.instantFeedback\n      );\n    },\n\n    showSolutionButton(): boolean {\n      return !this.showSolutions && this.task.showSolutionsAllowed;\n    },\n\n    showRetryButton(): boolean {\n      return this.task.retryAllowed && this.submittedAnswers !== null;\n    },\n\n    showSolutions(): boolean {\n      return (\n        this.userWantsToSeeSolutions &&\n        (this.allBlanksAreFilled ||\n          !this.task.allBlanksMustBeFilledForSolutions)\n      );\n    },\n\n    showFillInAllTheBlanksMessage(): boolean {\n      return (\n        this.task.allBlanksMustBeFilledForSolutions &&\n        this.userWantsToSeeSolutions &&\n        !this.allBlanksAreFilled &&\n        !this.inputHasChanged\n      );\n    },\n\n    showResults(): boolean {\n      return (\n        !(this.submittedAnswers === null) &&\n        !this.showFillInAllTheBlanksMessage &&\n        (!this.task.instantFeedback || this.allBlanksAreFilled) &&\n        !this.inputHasChanged\n      );\n    },\n\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.blanks.length.toString()\n      );\n\n      return resultMessage;\n    },\n\n    fillInAllTheBlanksMessage(): string {\n      return this.task.strings.fillInAllBlanksMessage\n        ? this.task.strings.fillInAllBlanksMessage\n        : $gettext(\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen'\n          );\n    },\n  },\n});\n","import { render } from \"./DragTheWordsViewer.vue?vue&type=template&id=1aaae338&scoped=true&ts=true\"\nimport script from \"./DragTheWordsViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./DragTheWordsViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./DragTheWordsViewer.vue?vue&type=style&index=0&id=1aaae338&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1aaae338\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createTextVNode as _createTextVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, vModelCheckbox as _vModelCheckbox, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8c60d656\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"h5pEditorTopPanel\" }\nconst _hoisted_3 = [\"data-tooltip\"]\nconst _hoisted_4 = { class: \"collapsable collapsed\" }\nconst _hoisted_5 = { value: false }\nconst _hoisted_6 = { value: true }\nconst _hoisted_7 = [\"disabled\"]\nconst _hoisted_8 = [\"disabled\"]\nconst _hoisted_9 = [\"disabled\"]\nconst _hoisted_10 = { class: \"collapsable collapsed\" }\nconst _hoisted_11 = { class: \"feedbackContainer\" }\nconst _hoisted_12 = { class: \"feedbackPercentagesChild\" }\nconst _hoisted_13 = [\"onUpdate:modelValue\"]\nconst _hoisted_14 = { class: \"feedbackMessagesChild\" }\nconst _hoisted_15 = [\"onUpdate:modelValue\"]\nconst _hoisted_16 = [\"title\", \"onClick\"]\nconst _hoisted_17 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_studip_wysiwyg = _resolveComponent(\"studip-wysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Drag The Words')), 1),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addBlank && _ctx.addBlank(...args))),\n          class: \"button\",\n          type: \"button\",\n          style: {\"margin-right\":\"0.1em\"}\n        }, _toDisplayString(_ctx.$gettext('Lcke hinzufgen')), 1),\n        _createElementVNode(\"div\", {\n          class: \"tooltip tooltip-icon\",\n          \"data-tooltip\": _ctx.instructions\n        }, null, 8, _hoisted_3)\n      ]),\n      _createVNode(_component_studip_wysiwyg, {\n        modelValue: _ctx.taskDefinition.template,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.taskDefinition.template) = $event)),\n        ref: \"wysiwyg\",\n        \"force-soft-breaks\": \"\",\n        \"remove-wrapping-p-tag\": \"\",\n        \"disable-autoformat\": \"\"\n      }, null, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_4, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Korrigiert wird')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"select\", {\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.taskDefinition.instantFeedback) = $event))\n        }, [\n          _createElementVNode(\"option\", _hoisted_5, _toDisplayString(_ctx.$gettext('manuell per Button')), 1),\n          _createElementVNode(\"option\", _hoisted_6, _toDisplayString(_ctx.$gettext('automatisch nach Eingabe')), 1)\n        ], 512), [\n          [_vModelSelect, _ctx.taskDefinition.instantFeedback]\n        ])\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.instantFeedback ? 'setting-disabled' : '')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: _ctx.taskDefinition.instantFeedback,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.taskDefinition.strings.checkButton) = $event))\n        }, null, 8, _hoisted_7), [\n          [_vModelText, _ctx.taskDefinition.strings.checkButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.taskDefinition.alphabeticOrder) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.alphabeticOrder]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Antworten alphabetisch sortieren')), 1)\n      ]),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.retryAllowed) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _ctx.taskDefinition.retryAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Mehrere Versuche erlauben')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.retryAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.retryAllowed,\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.strings.retryButton) = $event))\n        }, null, 8, _hoisted_8), [\n          [_vModelText, _ctx.taskDefinition.strings.retryButton]\n        ])\n      ], 2),\n      _createElementVNode(\"label\", null, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.taskDefinition.showSolutionsAllowed) = $event)),\n          onChange: _cache[8] || (_cache[8] = ($event: any) => (\n            !_ctx.taskDefinition.showSolutionsAllowed\n              ? (_ctx.taskDefinition.allBlanksMustBeFilledForSolutions =\n                  _ctx.taskDefinition.showSolutionsAllowed)\n              : ''\n          ))\n        }, null, 544), [\n          [_vModelCheckbox, _ctx.taskDefinition.showSolutionsAllowed]\n        ]),\n        _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Lsungen knnen angezeigt werden')), 1)\n      ]),\n      _createElementVNode(\"label\", {\n        class: _normalizeClass(_ctx.taskDefinition.showSolutionsAllowed ? '' : 'setting-disabled')\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Text im Button:')) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          disabled: !_ctx.taskDefinition.showSolutionsAllowed,\n          \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((_ctx.taskDefinition.strings.solutionsButton) = $event))\n        }, null, 8, _hoisted_9), [\n          [_vModelText, _ctx.taskDefinition.strings.solutionsButton]\n        ])\n      ], 2)\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_10, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Feedback')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext(\n            'Ergebnismitteilung (mgliche Variablen :correct und :total):'\n          )) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((_ctx.taskDefinition.strings.resultMessage) = $event)),\n          style: {\"width\":\"100%\"}\n        }, null, 512), [\n          [_vModelText, _ctx.taskDefinition.strings.resultMessage]\n        ])\n      ]),\n      _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Benutzerdefiniertes Feedback fr beliebige Punktebereiche:')), 1),\n      _createElementVNode(\"div\", _hoisted_11, [\n        _createElementVNode(\"div\", _hoisted_12, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Prozent')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n              key: i,\n              type: \"number\",\n              min: \"0\",\n              max: \"100\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].percentage) = $event)\n            }, null, 8, _hoisted_13)), [\n              [_vModelText, _ctx.taskDefinition.feedback[i].percentage]\n            ])\n          }), 128))\n        ]),\n        _createElementVNode(\"div\", _hoisted_14, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Mitteilung')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"feedbackMessagesChildSubdivision\",\n              key: i\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].message) = $event)\n              }, null, 8, _hoisted_15), [\n                [_vModelText, _ctx.taskDefinition.feedback[i].message]\n              ]),\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                title: _ctx.titleForDeleteButtonForFeedback(feedback),\n                onClick: ($event: any) => (_ctx.removeFeedback(feedback))\n              }, [\n                _createElementVNode(\"img\", {\n                  src: _ctx.urlForIcon('trash'),\n                  width: \"16\",\n                  height: \"16\"\n                }, null, 8, _hoisted_17)\n              ], 8, _hoisted_16)\n            ]))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"button\",\n        onClick: _cache[11] || (_cache[11] = \n//@ts-ignore\n(...args) => (_ctx.addFeedback && _ctx.addFeedback(...args)))\n      }, _toDisplayString(_ctx.$gettext('Neuer Bereich')), 1)\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want.\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { DragTheWordsTask, Feedback } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport { $gettext } from '@/language/gettext';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\n\nexport default defineComponent({\n  name: 'DragTheWordsEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<DragTheWordsTask>,\n      required: true,\n    },\n  },\n  computed: {\n    currentUndoRedoState: () =>\n      taskEditorStore.undoRedoStack[taskEditorStore.undoRedoIndex],\n\n    instructions(): string {\n      return $gettext(\n        'Fgen Sie Lcken hinzu, indem Sie ein Sternchen (*) vor und hinter dem korrekten Wort bzw. den Wrtern setzen oder markieren Sie ein Wort und klicken Sie den \"Lcke hinzufgen\"Button.' +\n          ' Auerdem knnen Sie einen Tooltip mit einem Doppelpunkt (:) hinzufgen.'\n      );\n    },\n\n    feedbackSortedByScore(): Feedback[] {\n      return this.taskDefinition.feedback\n        .map((value) => value)\n        .sort((a, b) => b.percentage - a.percentage);\n    },\n  },\n  methods: {\n    $gettext,\n\n    /**\n     * Surround the selected text with two asterisks\n     */\n    addBlank() {\n      const wysiwygEl = (this.$refs.wysiwyg as any)?.$el;\n      const editor = window.STUDIP.wysiwyg.getEditor(wysiwygEl);\n      if (!editor) {\n        console.error('getEditor(wysiwygEl) returned: ', editor);\n        throw new Error('Could not get reference to wysiwyg editor');\n      }\n      const selection = editor.model.document.selection;\n      const start = selection.getFirstPosition();\n      const end = selection.getLastPosition();\n      if (!start || !end) {\n        console.error('selection start: ', start, ' selection end: ', end);\n        throw new Error('Could not get selection in editor');\n      }\n      editor.model.change((writer) => {\n        writer.insertText('*', end);\n        writer.insertText('*', start);\n      });\n    },\n\n    addFeedback(): void {\n      this.taskDefinition.feedback.push({\n        percentage: this.feedbackSortedByScore[0]?.percentage,\n        message: 'Feedback',\n      });\n    },\n\n    removeFeedback(feedbackToRemove: Feedback): void {\n      this.taskDefinition.feedback = this.taskDefinition.feedback.filter(\n        (feedback) => feedback !== feedbackToRemove\n      );\n    },\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n\n    titleForDeleteButtonForFeedback(feedback: Feedback): string {\n      return this.$gettext(\n        'Entferne den Feedback-Bereich, der ab %{ percentage }% anfngt.',\n        { percentage: feedback.percentage.toString() }\n      );\n    },\n  },\n});\n","import { render } from \"./DragTheWordsEditor.vue?vue&type=template&id=8c60d656&scoped=true&ts=true\"\nimport script from \"./DragTheWordsEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./DragTheWordsEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./DragTheWordsEditor.vue?vue&type=style&index=0&id=8c60d656&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8c60d656\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-34809008\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"h5pModule\" }\nconst _hoisted_2 = {\n  class: \"h5pMarkTheWordText\",\n  ref: \"wrapperElement\"\n}\nconst _hoisted_3 = [\"aria-pressed\", \"onClick\", \"onKeydown\", \"onKeyup\", \"innerHTML\"]\nconst _hoisted_4 = {\n  key: 0,\n  class: \"space\"\n}\nconst _hoisted_5 = { class: \"h5pButtonPanel\" }\nconst _hoisted_6 = [\"textContent\"]\nconst _hoisted_7 = [\"textContent\"]\nconst _hoisted_8 = { key: 1 }\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\" Marked words: \")\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\" template: \")\nconst _hoisted_11 = /*#__PURE__*/_createTextVNode(\" Split template: \")\nconst _hoisted_12 = /*#__PURE__*/_createTextVNode(\" Parsed template: \")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_feedback_element = _resolveComponent(\"feedback-element\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.parsedTemplate, (element, index) => {\n        return (_openBlock(), _createElementBlock(\"span\", {\n          key: element.uuid\n        }, [\n          _createElementVNode(\"span\", {\n            tabindex: \"0\",\n            role: \"button\",\n            \"aria-pressed\": _ctx.isMarked(element),\n            onClick: ($event: any) => (_ctx.onClickWord(element)),\n            onKeydown: (event) => _ctx.onWordKeydown(event, element),\n            onKeyup: (event) => _ctx.onWordKeyup(event, element),\n            class: _normalizeClass(_ctx.classForWord(element)),\n            innerHTML: element.text\n          }, null, 42, _hoisted_3),\n          (index < _ctx.parsedTemplate.length)\n            ? (_openBlock(), _createElementBlock(\"pre\", _hoisted_4, \" \"))\n            : _createCommentVNode(\"\", true)\n        ]))\n      }), 128))\n    ], 512),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_feedback_element, {\n          key: 0,\n          \"achieved-points\": _ctx.score,\n          \"max-points\": _ctx.maxScore,\n          feedback: this.task.feedback,\n          \"result-message\": _ctx.resultMessage\n        }, null, 8, [\"achieved-points\", \"max-points\", \"feedback\", \"result-message\"]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_5, [\n      (_ctx.showCheckButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            textContent: _toDisplayString(this.task.strings.checkButton),\n            onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onClickCheck && _ctx.onClickCheck(...args))),\n            type: \"button\",\n            class: \"h5pButton\"\n          }, null, 8, _hoisted_6))\n        : _createCommentVNode(\"\", true),\n      (_ctx.showRetryButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 1,\n            textContent: _toDisplayString(this.task.strings.retryButton),\n            onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onClickRetry && _ctx.onClickRetry(...args))),\n            type: \"button\",\n            class: \"h5pButton\"\n          }, null, 8, _hoisted_7))\n        : _createCommentVNode(\"\", true)\n    ]),\n    (_ctx.debug)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n          _hoisted_9,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.markedWords), 1),\n          _hoisted_10,\n          _createElementVNode(\"pre\", null, _toDisplayString(this.task.template), 1),\n          _hoisted_11,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.splitTemplate), 1),\n          _hoisted_12,\n          _createElementVNode(\"pre\", null, _toDisplayString(_ctx.parsedTemplate), 1)\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { MarkTheWordsTask } from '@/models/TaskDefinition';\nimport { v4 as uuidv4 } from 'uuid';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\ntype MarkTheWordsElement = {\n  uuid: Uuid;\n  text: string;\n  correct: boolean;\n};\n\ntype Uuid = string;\n\nexport default defineComponent({\n  name: 'MarkTheWordsViewer',\n  props: {\n    task: {\n      type: Object as PropType<MarkTheWordsTask>,\n      required: true,\n    },\n  },\n  components: {\n    FeedbackElement,\n  },\n  data() {\n    return {\n      markedWords: new Set<MarkTheWordsElement>(),\n      showResults: false,\n      debug: false,\n    };\n  },\n\n  methods: {\n    onClickCheck() {\n      this.showResults = true;\n    },\n\n    onClickRetry() {\n      this.showResults = false;\n      this.markedWords.clear();\n    },\n\n    onClickWord(word: MarkTheWordsElement) {\n      if (this.showResults) return;\n\n      if (this.isMarked(word)) {\n        this.markedWords.delete(word);\n      } else {\n        this.markedWords.add(word);\n      }\n    },\n\n    /**\n     * Marks/unmarks a word using the enter key.\n     */\n    onWordKeydown(event: KeyboardEvent, word: MarkTheWordsElement) {\n      // The action button is activated by space on the keyup event, but the\n      // default action for space is already triggered on keydown. It needs to be\n      // prevented to stop scrolling the page before activating the button.\n      if (event.code === 'Space') {\n        event.preventDefault();\n      }\n      // If enter is pressed, activate the button\n      else if (event.code === 'Enter' || event.code === 'Return') {\n        event.preventDefault();\n        this.onClickWord(word);\n      }\n    },\n\n    /**\n     * Marks/unmarks a word with the space key.\n     */\n    onWordKeyup(event: KeyboardEvent, word: MarkTheWordsElement) {\n      if (event.code === 'Space') {\n        event.preventDefault();\n        this.onClickWord(word);\n      }\n    },\n\n    classForWord(word: MarkTheWordsElement) {\n      if (this.showResults) {\n        // User is done marking words and wants to see the results\n        if (this.isMarked(word)) {\n          if (word.correct) {\n            return 'h5pCorrectAnswer';\n          } else {\n            return 'h5pIncorrectAnswer';\n          }\n        } else {\n          return 'h5pStaticTextNoHover';\n        }\n      } else {\n        // User is working on the task\n        if (this.isMarked(word)) {\n          return 'h5pMarkedWord';\n        } else {\n          return 'h5pStaticText';\n        }\n      }\n    },\n\n    isMarked(word: MarkTheWordsElement): boolean {\n      return this.markedWords.has(word);\n    },\n  },\n  computed: {\n    /**\n     * Returns an array where the even indexes are the static text portions,\n     * and the odd indexes are the correct words to be marked.\n     */\n    splitTemplate(): string[] {\n      // Split the text into chunks based on pairs of asterisks\n      return this.task.template.split(/\\*([^*]*)\\*/);\n    },\n\n    parsedTemplate(): MarkTheWordsElement[] {\n      let parsedTemplate: MarkTheWordsElement[] = [];\n      this.splitTemplate.forEach((templateElement, i) => {\n        if (i % 2 === 0) {\n          // Even indexes are the static text portions which we split further by spaces here\n          templateElement\n            .trim()\n            .split(' ')\n            .filter((el) => el !== '')\n            .forEach((staticWord) => {\n              parsedTemplate.push({\n                uuid: uuidv4(),\n                text: staticWord,\n                correct: false,\n              });\n            });\n        } else {\n          parsedTemplate.push({\n            uuid: uuidv4(),\n            text: templateElement,\n            correct: true,\n          });\n        }\n      });\n      return parsedTemplate;\n    },\n\n    showCheckButton(): boolean {\n      return !this.showResults;\n    },\n\n    showRetryButton(): boolean {\n      return this.task.retryAllowed && this.showResults;\n    },\n\n    score(): number {\n      let score = 0;\n\n      for (const element of this.markedWords) {\n        if (element.correct) {\n          score++;\n        } else {\n          score--;\n        }\n      }\n\n      if (score < 0) score = 0;\n\n      return score;\n    },\n\n    maxScore(): number {\n      let maxScore = 0;\n      for (const element of this.parsedTemplate) {\n        if (element.correct) maxScore++;\n      }\n      return maxScore;\n    },\n\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.score.toString()\n      );\n\n      resultMessage = resultMessage.replace(':total', this.maxScore.toString());\n\n      return resultMessage;\n    },\n  },\n});\n","import { render } from \"./MarkTheWordsViewer.vue?vue&type=template&id=34809008&scoped=true&ts=true\"\nimport script from \"./MarkTheWordsViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./MarkTheWordsViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./MarkTheWordsViewer.vue?vue&type=style&index=0&id=34809008&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-34809008\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-096b7c32\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = { class: \"h5pEditorTopPanel\" }\nconst _hoisted_3 = [\"data-tooltip\"]\nconst _hoisted_4 = { class: \"collapsable collapsed\" }\nconst _hoisted_5 = { class: \"feedbackContainer\" }\nconst _hoisted_6 = { class: \"feedbackPercentagesChild\" }\nconst _hoisted_7 = [\"onUpdate:modelValue\"]\nconst _hoisted_8 = { class: \"feedbackMessagesChild\" }\nconst _hoisted_9 = [\"onUpdate:modelValue\"]\nconst _hoisted_10 = [\"title\", \"onClick\"]\nconst _hoisted_11 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_StudipWysiwyg = _resolveComponent(\"StudipWysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Mark The Words')), 1),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addSolution && _ctx.addSolution(...args))),\n          class: \"button\",\n          type: \"button\",\n          style: {\"margin-right\":\"0.1em\"}\n        }, _toDisplayString(_ctx.$gettext('Richtiges Wort markieren')), 1),\n        _createElementVNode(\"div\", {\n          class: \"tooltip tooltip-icon\",\n          \"data-tooltip\": _ctx.instructions\n        }, null, 8, _hoisted_3)\n      ]),\n      _createVNode(_component_StudipWysiwyg, {\n        modelValue: _ctx.taskDefinition.template,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.taskDefinition.template) = $event)),\n        ref: \"wysiwyg\",\n        \"force-soft-breaks\": \"\",\n        \"remove-wrapping-p-tag\": \"\",\n        \"disable-autoformat\": \"\"\n      }, null, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"fieldset\", _hoisted_4, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Feedback')), 1),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext(\n            'Ergebnismitteilung (mgliche Variablen :correct und :total):'\n          )) + \" \", 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.taskDefinition.strings.resultMessage) = $event)),\n          style: {\"width\":\"100%\"}\n        }, null, 512), [\n          [_vModelText, _ctx.taskDefinition.strings.resultMessage]\n        ])\n      ]),\n      _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Benutzerdefiniertes Feedback fr beliebige Punktebereiche:')), 1),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Prozent')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n              key: i,\n              type: \"number\",\n              min: \"0\",\n              max: \"100\",\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].percentage) = $event)\n            }, null, 8, _hoisted_7)), [\n              [_vModelText, _ctx.taskDefinition.feedback[i].percentage]\n            ])\n          }), 128))\n        ]),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Mitteilung')), 1),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.feedback, (feedback, i) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"feedbackMessagesChildSubdivision\",\n              key: i\n            }, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"text\",\n                \"onUpdate:modelValue\": ($event: any) => ((_ctx.taskDefinition.feedback[i].message) = $event)\n              }, null, 8, _hoisted_9), [\n                [_vModelText, _ctx.taskDefinition.feedback[i].message]\n              ]),\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                title: _ctx.titleForDeleteButtonForFeedback(feedback),\n                onClick: ($event: any) => (_ctx.removeFeedback(feedback))\n              }, [\n                _createElementVNode(\"img\", {\n                  src: _ctx.urlForIcon('trash'),\n                  width: \"16\",\n                  height: \"16\"\n                }, null, 8, _hoisted_11)\n              ], 8, _hoisted_10)\n            ]))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"button\",\n        onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.addFeedback && _ctx.addFeedback(...args)))\n      }, _toDisplayString(_ctx.$gettext('Neuer Bereich')), 1)\n    ])\n  ]))\n}","\n// Allow us to mutate the prop 'taskDefinition' as much as we want\n// TODO refrain from mutating taskDefinition directly -- it breaks undo/redo\n/* eslint-disable vue/no-mutating-props */\nimport { defineComponent, PropType } from 'vue';\nimport { Feedback, MarkTheWordsTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport { $gettext } from '@/language/gettext';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\n\nexport default defineComponent({\n  name: 'MarkTheWordsEditor',\n  components: { StudipWysiwyg },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<MarkTheWordsTask>,\n      required: true,\n    },\n  },\n  methods: {\n    $gettext,\n\n    /**\n     * Surround the selected text with two asterisks\n     */\n    addSolution() {\n      const wysiwygEl = (this.$refs.wysiwyg as any)?.$el;\n      const editor = window.STUDIP.wysiwyg.getEditor(wysiwygEl);\n      if (!editor) {\n        console.error('getEditor(wysiwygEl) returned: ', editor);\n        throw new Error('Could not get reference to wysiwyg editor');\n      }\n      const selection = editor.model.document.selection;\n      const start = selection.getFirstPosition();\n      const end = selection.getLastPosition();\n      if (!start || !end) {\n        console.error('selection start: ', start, ' selection end: ', end);\n        throw new Error('Could not get selection in editor');\n      }\n      editor.model.change((writer) => {\n        writer.insertText('*', end);\n        writer.insertText('*', start);\n      });\n    },\n\n    titleForDeleteButtonForFeedback(feedback: Feedback): string {\n      return this.$gettext(\n        'Entferne den Feedback-Bereich, der ab %{ percentage }% anfngt.',\n        { percentage: feedback.percentage.toString() }\n      );\n    },\n\n    addFeedback(): void {\n      this.taskDefinition.feedback.push({\n        percentage: this.feedbackSortedByScore[0]?.percentage,\n        message: 'Feedback',\n      });\n    },\n\n    removeFeedback(feedbackToRemove: Feedback): void {\n      this.taskDefinition.feedback = this.taskDefinition.feedback.filter(\n        (feedback) => feedback !== feedbackToRemove\n      );\n    },\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n  },\n\n  computed: {\n    instructions(): string {\n      return $gettext(\n        'Markieren Sie ein Wort als Lsung, indem Sie ein Sternchen (*) vor und hinter dem Wort setzen oder markieren Sie ein Wort und klicken Sie den \"Richtiges Wort markieren\"Button.'\n      );\n    },\n\n    feedbackSortedByScore(): Feedback[] {\n      return this.taskDefinition.feedback\n        .map((value) => value)\n        .sort((a, b) => b.percentage - a.percentage);\n    },\n  },\n});\n","import { render } from \"./MarkTheWordsEditor.vue?vue&type=template&id=096b7c32&scoped=true&ts=true\"\nimport script from \"./MarkTheWordsEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./MarkTheWordsEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./MarkTheWordsEditor.vue?vue&type=style&index=0&id=096b7c32&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-096b7c32\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withModifiers as _withModifiers, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-28c29d1d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"main-flex\" }\nconst _hoisted_2 = { class: \"cards-list\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = [\"onClick\"]\nconst _hoisted_5 = [\"src\", \"alt\"]\nconst _hoisted_6 = {\n  key: 1,\n  class: \"edited-memory-card no-card-selected-placeholder\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_EditedMemoryCard = _resolveComponent(\"EditedMemoryCard\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.cards, (card, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: card.uuid,\n          class: _normalizeClass({\n          'cards-list-item': true,\n          'selected-card': index === this.selectedCardIndex,\n        }),\n          onClick: ($event: any) => (_ctx.selectCard(index))\n        }, [\n          _createTextVNode(_toDisplayString(index) + \". \" + _toDisplayString(card.question === '' ? _ctx.$gettext('Karte') : card.question), 1),\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"flex-child-element removeAnswerButton\",\n            onClick: _withModifiers(($event: any) => (_ctx.deleteCard(index)), [\"stop\"])\n          }, [\n            _createElementVNode(\"img\", {\n              src: _ctx.urlForIcon('trash'),\n              alt: _ctx.$gettext('Karte lschen')\n            }, null, 8, _hoisted_5)\n          ], 8, _hoisted_4)\n        ], 10, _hoisted_3))\n      }), 128)),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addCard && _ctx.addCard(...args)))\n      }, _toDisplayString(_ctx.$gettext('Karte hinzufgen')), 1)\n    ]),\n    (this.taskDefinition.cards[this.selectedCardIndex])\n      ? (_openBlock(), _createBlock(_component_EditedMemoryCard, {\n          key: 0,\n          class: \"edited-memory-card\",\n          card: this.taskDefinition.cards[this.selectedCardIndex],\n          \"card-index\": this.selectedCardIndex\n        }, null, 8, [\"card\", \"card-index\"]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString(_ctx.$gettext('Keine Karte ist zum Bearbeiten ausgewhlt.')), 1))\n  ]))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_EditedMemoryCardImage = _resolveComponent(\"EditedMemoryCardImage\")!\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Karte')), 1),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"h4\", null, _toDisplayString(_ctx.$gettext('Bild')), 1),\n        (_ctx.card.file_id)\n          ? (_openBlock(), _createBlock(_component_EditedMemoryCardImage, {\n              key: 0,\n              card: _ctx.card\n            }, null, 8, [\"card\"]))\n          : (_openBlock(), _createBlock(_component_FileUpload, {\n              key: 1,\n              onFileUploaded: _ctx.onImageUploaded\n            }, null, 8, [\"onFileUploaded\"]))\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Alternativer Text')) + \" \", 1),\n        _createElementVNode(\"input\", {\n          type: \"text\",\n          value: _ctx.taskDefinition.cards[_ctx.cardIndex].altText,\n          onInput: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputAltText && _ctx.onInputAltText(...args)))\n        }, null, 40, _hoisted_2)\n      ])\n    ])\n  ]))\n}","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"src\", \"alt\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"img\", {\n      src: _ctx.fileIdToUrl(_ctx.card.file_id),\n      alt: _ctx.card.altText\n    }, null, 8, _hoisted_1),\n    _createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.deleteImage && _ctx.deleteImage(...args)))\n    }, _toDisplayString(_ctx.$gettext('Bild Lschen')), 1)\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { fileIdToUrl, MemoryCard, MemoryTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'EditedMemoryCardImage',\n  props: {\n    card: {\n      type: Object as PropType<MemoryCard>,\n      required: true,\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as MemoryTask,\n  },\n  methods: {\n    fileIdToUrl,\n    $gettext,\n    deleteImage(): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        const cardIndex = draft.cards.findIndex(\n          (card) => card.uuid === this.card.uuid\n        );\n        draft.cards[cardIndex].file_id = '';\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n  },\n});\n","import { render } from \"./EditedMemoryCardImage.vue?vue&type=template&id=e4171d72&ts=true\"\nimport script from \"./EditedMemoryCardImage.vue?vue&type=script&lang=ts\"\nexport * from \"./EditedMemoryCardImage.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = [\"accept\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (_ctx.uploadRequestPromise)\n      ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, _toDisplayString(_ctx.$gettext('Datei wird hochgeladen')), 1))\n      : (_openBlock(), _createElementBlock(\"input\", {\n          key: 1,\n          ref: \"fileInput\",\n          type: \"file\",\n          accept: _ctx.accept,\n          onChange: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputChange && _ctx.onInputChange(...args)))\n        }, null, 40, _hoisted_2)),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.errors, (error) => {\n      return (_openBlock(), _createElementBlock(\"p\", {\n        class: \"validation-error\",\n        key: error\n      }, _toDisplayString(error), 1))\n    }), 128))\n  ], 64))\n}","\nimport { defineComponent } from 'vue';\nimport { $gettext } from '@/language/gettext';\nimport { mapActions, mapGetters } from 'vuex';\nimport { createFile, FileRef, FolderRef } from '@/routes/jsonApi';\n\nexport default defineComponent({\n  name: 'FileUpload',\n  emits: ['fileUploaded'],\n  props: {\n    // The 'accept' property passed to the <input type=\"file\"> element.  Default: 'image/*'\n    accept: {\n      type: String,\n      required: false,\n      default: 'image/*',\n    },\n  },\n  data() {\n    return {\n      // Wenn dieser Promise vorhanden ist, heit das, dass eine HTTP-Anfrage\n      // unterwegs ist.\n      uploadRequestPromise: undefined as Promise<unknown> | undefined,\n      selectedFolderId: undefined as string | undefined,\n      errors: [] as string[],\n    };\n  },\n  async mounted() {\n    await this.getUserFolders();\n    const wysiwigUploads = this.loadedUserFolders.find(\n      (f) => f.attributes.name === 'Wysiwyg Uploads'\n    );\n    if (wysiwigUploads) {\n      this.selectedFolderId = wysiwigUploads.id;\n    } else {\n      // TODO just create the folder if it's not present.\n      // TODO Consider using a separate folder, like \"Courseware Uploads\"?\n      const error = $gettext(\n        'Das Verzeichnis \"Wysiwyg Uploads\" ist nicht vorhanden. ' +\n          'Es knnen keine Dateien hochgeladen werden.'\n      );\n      this.errors.push(error);\n      console.error(error);\n    }\n  },\n  computed: {\n    ...mapGetters({\n      relatedFolders: 'folders/related',\n    }),\n    userId(): string {\n      // Replaces the vuex getter 'userId'\n      return window.STUDIP.USER_ID;\n    },\n    userObject() {\n      return { type: 'users', id: `${this.userId}` };\n    },\n    loadedUserFolders() {\n      let loadedUserFolders: FolderRef[] = [];\n      let userFolders: FolderRef[] =\n        this.relatedFolders({\n          parent: this.userObject,\n          relationship: 'folders',\n        }) ?? [];\n      userFolders.forEach((folder: FolderRef) => {\n        if (folder.attributes['folder-type'] === 'PublicFolder') {\n          loadedUserFolders.push(folder);\n        }\n      });\n\n      return loadedUserFolders;\n    },\n  },\n  methods: {\n    $gettext,\n    ...mapActions({\n      _loadRelatedFolders: 'folders/loadRelated',\n    }),\n    // Typed shim for vuex action 'folders/loadRelated'\n    loadRelatedFolders(params: {\n      parent: {\n        type: string;\n        id: string;\n      };\n      relationship: string;\n      options: {\n        'page[limit]': number;\n      };\n    }): Promise<unknown> {\n      return this._loadRelatedFolders(params);\n    },\n    async getUserFolders() {\n      const parent = this.userObject;\n      const relationship = 'folders';\n      const options = { 'page[limit]': 10000 };\n      return await this.loadRelatedFolders({ parent, relationship, options });\n    },\n    onInputChange(event: Event): void {\n      if (this.uploadRequestPromise) {\n        console.warn(\n          'FileUpload: onInputChange fired while uploadRequestPromise is already defined.'\n        );\n        return;\n      }\n      const input = this.$refs.fileInput as HTMLInputElement;\n      const file = input.files?.item(0);\n      if (!file) {\n        console.warn(\n          'FileUpload: onInputChange fired, but input.files[] is empty.'\n        );\n        return;\n      }\n      if (!this.selectedFolderId) {\n        const error = $gettext(\n          'Kein Ordner ist ausgewhlt. Die Datei kann nicht hochgeladen werden.'\n        );\n        console.error(error);\n        this.errors.push(error);\n        return;\n      }\n      this.errors = [];\n      this.uploadRequestPromise = createFile({\n        file: {\n          attributes: {\n            name: file.name,\n          },\n        },\n        fileData: file,\n        folder: { id: this.selectedFolderId },\n      })\n        .then((fileRef: FileRef) => {\n          this.$emit('fileUploaded', fileRef);\n          this.uploadRequestPromise = undefined;\n          this.errors = [];\n        })\n        .catch((error) => {\n          console.error(error);\n          this.errors.push(error);\n          this.uploadRequestPromise = undefined;\n        });\n    },\n  },\n});\n","import { render } from \"./FileUpload.vue?vue&type=template&id=7bb17e9c&ts=true\"\nimport script from \"./FileUpload.vue?vue&type=script&lang=ts\"\nexport * from \"./FileUpload.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { MemoryCard, MemoryTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport { $gettext } from '@/language/gettext';\nimport EditedMemoryCardImage from '@/components/EditedMemoryCardImage.vue';\nimport FileUpload from '@/components/FileUpload.vue';\nimport { FileRef } from '@/routes/jsonApi';\n\nexport default defineComponent({\n  name: 'EditedMemoryCard',\n  components: { FileUpload, EditedMemoryCardImage },\n  props: {\n    card: {\n      type: Object as PropType<MemoryCard>,\n      required: true,\n    },\n    cardIndex: {\n      type: Number as PropType<number>,\n      required: true,\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as MemoryTask,\n  },\n  methods: {\n    $gettext,\n    onImageUploaded(file: FileRef): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.cards[this.cardIndex].file_id = file.id;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n    // This is how you write the @input event handler if you want undo-redo and reactivity to work\n    onInputAltText(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.cards[this.cardIndex].altText = value;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: { type: 'EditedAltText' },\n      });\n    },\n    // This is what results if you write v-model=\"taskDefinition.cards[this.cardIndex].altText\"\n    onInputAltTextBAD(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      this.taskDefinition.cards[this.cardIndex].altText = value;\n    },\n  },\n});\n","import { render } from \"./EditedMemoryCard.vue?vue&type=template&id=05fc9592&ts=true\"\nimport script from \"./EditedMemoryCard.vue?vue&type=script&lang=ts\"\nexport * from \"./EditedMemoryCard.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { taskEditorStore } from '@/store';\nimport { MemoryTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport produce from 'immer';\nimport { v4 } from 'uuid';\nimport EditedMemoryCard from '@/components/EditedMemoryCard.vue';\n\nexport default defineComponent({\n  name: 'MemoryEditor',\n  components: { EditedMemoryCard },\n  props: {},\n  data() {\n    return {\n      selectedCardIndex: -1,\n    };\n  },\n  beforeMount(): void {\n    if (this.taskDefinition.cards.length > 0) {\n      this.selectedCardIndex = 0;\n    }\n  },\n  methods: {\n    $gettext,\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n    selectCard(index: number) {\n      this.selectedCardIndex = index;\n    },\n    addCard() {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.cards.push({\n          v: 2,\n          uuid: v4(),\n          file_id: '',\n          altText: '',\n        });\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Select the newly inserted card\n      this.selectedCardIndex = this.taskDefinition.cards.length - 1;\n    },\n    deleteCard(index: number) {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.cards.splice(index, 1);\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Adjust the selection index so the selected card doesn't unexpectedly change\n      if (index <= this.selectedCardIndex) {\n        this.selectedCardIndex = this.selectedCardIndex - 1;\n      }\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as MemoryTask,\n  },\n});\n","import { render } from \"./MemoryEditor.vue?vue&type=template&id=28c29d1d&scoped=true&ts=true\"\nimport script from \"./MemoryEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./MemoryEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./MemoryEditor.vue?vue&type=style&index=0&id=28c29d1d&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-28c29d1d\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-79c877cc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"h5pModule\" }\nconst _hoisted_2 = { class: \"h5pMemoryGame\" }\nconst _hoisted_3 = { class: \"h5pFeedbackContainer\" }\nconst _hoisted_4 = { class: \"h5pFeedbackContainerTop\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"h5pFeedbackText\"\n}\nconst _hoisted_6 = { class: \"h5pFeedbackContainerCenter\" }\nconst _hoisted_7 = {\n  key: 0,\n  class: \"h5pFeedbackText\"\n}\nconst _hoisted_8 = { class: \"h5pButtonPanel\" }\nconst _hoisted_9 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_MemoryCardComponent = _resolveComponent(\"MemoryCardComponent\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", null, _toDisplayString(_ctx.$gettext('Umgedrehte Karten: ') + this.amountOfFlips), 1),\n    _createElementVNode(\"div\", null, _toDisplayString(_ctx.$gettext(\n          'Aufgedeckte Paare: %{ amountOfPairsSolved } von %{ totalAmountOfPairs }',\n          {\n            amountOfPairsSolved: this.amountOfPairsSolved.toString(),\n            totalAmountOfPairs: this.totalAmountOfPairs.toString(),\n          }\n        )), 1),\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.cards, (card) => {\n        return (_openBlock(), _createBlock(_component_MemoryCardComponent, {\n          key: card.uuid,\n          card: card,\n          onClick: ($event: any) => (_ctx.onClickCard(card))\n        }, null, 8, [\"card\", \"onClick\"]))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        (_ctx.showResults && _ctx.feedbackMessage)\n          ? (_openBlock(), _createElementBlock(\"label\", _hoisted_5, _toDisplayString(this.feedbackMessage), 1))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        (_ctx.showResults)\n          ? (_openBlock(), _createElementBlock(\"label\", _hoisted_7, _toDisplayString(this.resultMessage), 1))\n          : _createCommentVNode(\"\", true)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      (_ctx.showRetryButton)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            textContent: _toDisplayString(this.task.strings.retryButton),\n            onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onClickTryAgain && _ctx.onClickTryAgain(...args))),\n            type: \"button\",\n            class: \"h5pButton\"\n          }, null, 8, _hoisted_9))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '../assets/memoryCardBack.png'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d12b3a0a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"memoryCardFront\"\n}\nconst _hoisted_2 = [\"src\", \"alt\"]\nconst _hoisted_3 = {\n  key: 1,\n  class: \"memoryCardBack\"\n}\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  class: \"memoryImage\"\n}, null, -1))\nconst _hoisted_5 = [\n  _hoisted_4\n]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"memoryCard\", { memoryCardFlipped: _ctx.card.flipped }])\n  }, [\n    (_ctx.card.flipped)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createElementVNode(\"img\", {\n            src: _ctx.fileIdToUrl(_ctx.card.file_id),\n            alt: _ctx.card.altText,\n            class: \"memoryImage\"\n          }, null, 8, _hoisted_2)\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _hoisted_5))\n  ], 2))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { ViewerMemoryCard } from '@/components/MemoryViewer.vue';\nimport { fileIdToUrl } from '@/models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'MemoryCard',\n  props: {\n    card: {\n      type: Object as PropType<ViewerMemoryCard>,\n      required: true,\n    },\n  },\n  computed: {},\n  methods: { fileIdToUrl },\n});\n","import { render } from \"./MemoryCard.vue?vue&type=template&id=d12b3a0a&scoped=true&ts=true\"\nimport script from \"./MemoryCard.vue?vue&type=script&lang=ts\"\nexport * from \"./MemoryCard.vue?vue&type=script&lang=ts\"\n\nimport \"./MemoryCard.vue?vue&type=style&index=0&id=d12b3a0a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d12b3a0a\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { MemoryTask, MemoryCard } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport MemoryCardComponent from '@/components/MemoryCard.vue';\nimport { v4 } from 'uuid';\n\nexport interface ViewerMemoryCard extends MemoryCard {\n  flipped: boolean;\n  solved: boolean;\n  matchingCardId: string | undefined;\n}\n\nexport default defineComponent({\n  name: 'MemoryViewer',\n  components: { MemoryCardComponent },\n  emits: ['updateAttempt'],\n  props: {\n    task: {\n      type: Object as PropType<MemoryTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      cards: [] as ViewerMemoryCard[],\n      firstFlippedCardId: undefined as string | undefined,\n      amountOfFlips: 0 as number,\n      showResults: false as boolean,\n      feedbackMessage: undefined as string | undefined,\n      resultMessage: undefined as string | undefined,\n    };\n  },\n  methods: {\n    $gettext,\n\n    onClickCard(card: ViewerMemoryCard): void {\n      // do nothing if card is already open\n      if (card.flipped) return;\n\n      card.flipped = true;\n      console.log('Flipped', card.altText);\n\n      this.amountOfFlips++;\n\n      if (!this.firstFlippedCardId) {\n        // This is the first of two cards to be flipped around\n        // Reset all previous unsuccessful cardflips except the card we just flipped\n        this.resetAllUnsolvedCardsExcept(card.uuid);\n\n        this.firstFlippedCardId = card.uuid;\n      } else {\n        // We flipped the second card around, check if we got a pair\n        if (card.matchingCardId === this.firstFlippedCardId) {\n          // We found a pair!\n          // Set both cards' solved attribute to true\n          card.solved = true;\n          const firstCard = this.getCardById(this.firstFlippedCardId);\n          firstCard.solved = true;\n          console.log('Found a pair of', card.altText);\n        }\n\n        this.firstFlippedCardId = undefined;\n      }\n    },\n\n    resetAllUnsolvedCardsExcept(exceptionId: string): void {\n      for (const card of this.cards) {\n        if (!card.solved && card.uuid !== exceptionId) {\n          card.flipped = false;\n        }\n      }\n    },\n\n    onClickTryAgain(): void {\n      this.amountOfFlips = 0;\n      this.firstFlippedCardId = undefined;\n      this.resetCards();\n      this.shuffleCards();\n    },\n\n    resetCards(): void {\n      // Set all cards' flipped and solved attribute to false\n      for (const card of this.cards) {\n        card.flipped = false;\n        card.solved = false;\n      }\n    },\n\n    shuffleCards(): void {\n      // Shuffle the cards\n      // https://stackoverflow.com/a/46545530\n      this.cards = this.cards\n        .map((card) => ({ card, sort: Math.random() }))\n        .sort((card1, card2) => card1.sort - card2.sort)\n        .map(({ card }) => card);\n    },\n\n    getCardById(cardId: string): ViewerMemoryCard {\n      const card = this.cards.find((card) => card.uuid === cardId);\n      if (!card) {\n        throw new Error('No card found with the given ID: ' + cardId);\n      }\n      return card;\n    },\n  },\n\n  computed: {\n    totalAmountOfPairs(): number {\n      return this.task.cards.length;\n    },\n\n    amountOfPairsSolved(): number {\n      let amountOfCardsSolved = 0;\n      for (const card of this.cards) {\n        if (card.solved) amountOfCardsSolved++;\n      }\n      return amountOfCardsSolved / 2;\n    },\n\n    showRetryButton(): boolean {\n      return this.amountOfPairsSolved === this.totalAmountOfPairs;\n    },\n  },\n  watch: {\n    task: {\n      handler() {\n        console.log('watcher for this.task');\n        this.firstFlippedCardId = undefined;\n        this.amountOfFlips = 0;\n        // Make two copies of each card in the task. Add the flipped, solved and matchingCardId attributes\n        this.cards = this.task.cards.flatMap((card) => {\n          // The two copies of each card are linked to each other through the matchingCardId attribute\n          const duplicateCardId = v4();\n          return [\n            // The original card with the set matchingCardId attribute\n            {\n              ...card,\n              flipped: false,\n              solved: false,\n              uuid: card.uuid,\n              matchingCardId: duplicateCardId,\n            },\n            // The duplicate card\n            {\n              ...card,\n              flipped: false,\n              solved: false,\n              uuid: duplicateCardId,\n              matchingCardId: card.uuid,\n            },\n          ];\n        });\n\n        // Shuffle the cards\n        this.shuffleCards();\n      },\n      immediate: true, // Ensure that the watcher is also called immediately when the component is first mounted\n    },\n  },\n});\n","import { render } from \"./MemoryViewer.vue?vue&type=template&id=79c877cc&scoped=true&ts=true\"\nimport script from \"./MemoryViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./MemoryViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./MemoryViewer.vue?vue&type=style&index=0&id=79c877cc&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-79c877cc\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, withModifiers as _withModifiers, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6d4e6d0e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"imagePairingRow\" }\nconst _hoisted_2 = [\"draggable\", \"onDragstart\", \"onDragend\", \"onClick\"]\nconst _hoisted_3 = [\"src\", \"alt\"]\nconst _hoisted_4 = { class: \"targetImagesColumn\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_6 = { class: \"h5pButtonPanel\" }\nconst _hoisted_7 = [\"textContent\"]\nconst _hoisted_8 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_TargetImage = _resolveComponent(\"TargetImage\")!\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", {\n        class: \"draggableImagesColumn\",\n        draggable: \"false\",\n        onDragover: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"])),\n        onDragenter: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"])),\n        onDrop: _cache[2] || (_cache[2] = ($event: any) => (_ctx.onDropOnInteractiveImages($event)))\n      }, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.draggableImages, (draggableImageId) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: draggableImageId,\n            draggable: \n          !this.isDraggableImageUsed(draggableImageId) && !this.showResults\n        ,\n            onDragstart: ($event: any) => (_ctx.startDragImage($event, draggableImageId)),\n            onDragend: ($event: any) => (_ctx.endDragImage($event, draggableImageId)),\n            onClick: ($event: any) => (_ctx.onClickDraggableImage(draggableImageId)),\n            class: _normalizeClass([\"draggableImageContainer\", {\n          disabled:\n            this.isDraggableImageUsed(draggableImageId) ||\n            this.showResults ||\n            this.draggedImageId === draggableImageId,\n          selected: this.imageIdInteractedWith === draggableImageId,\n        }])\n          }, [\n            _createElementVNode(\"img\", {\n              class: \"draggableImage\",\n              src: _ctx.fileIdToUrl(_ctx.getImageById(draggableImageId).file_id),\n              alt: _ctx.getImageById(draggableImageId).altText,\n              draggable: \"false\",\n              ref_for: true,\n              ref: \"draggableImages\"\n            }, null, 8, _hoisted_3)\n          ], 42, _hoisted_2))\n        }), 128))\n      ], 32),\n      _createElementVNode(\"div\", _hoisted_4, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.task.imagePairs, (imagePair) => {\n          return (_openBlock(), _createBlock(_component_TargetImage, {\n            class: _normalizeClass([\"targetImage\", {\n          outlined:\n            !this.imagesDraggedOntoTargets.hasOwnProperty(\n              imagePair.targetImage.uuid\n            ) &&\n            (this.draggedImageId || this.imageIdInteractedWith),\n        }]),\n            \"draggable-image\": _ctx.getImageDraggedOntoTarget(imagePair.targetImage.uuid),\n            \"target-image\": _ctx.getImageById(imagePair.targetImage.uuid),\n            isCorrect: this.isAnswerCorrect(imagePair.targetImage.uuid),\n            showResult: this.showResults,\n            key: imagePair.uuid,\n            onDrop: ($event: any) => (_ctx.onDropOnTargetImage($event, imagePair.targetImage.uuid)),\n            draggable: \n          _ctx.getImageDraggedOntoTarget(imagePair.targetImage.uuid) &&\n          !this.showResults\n        ,\n            onDragstart: ($event: any) => (_ctx.startDragTargetImage($event, imagePair.targetImage.uuid)),\n            onDragend: ($event: any) => (_ctx.endDragTargetImage($event, imagePair.targetImage.uuid)),\n            onDragover: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"prevent\"])),\n            onDragenter: _cache[4] || (_cache[4] = _withModifiers(() => {}, [\"prevent\"])),\n            onClick: ($event: any) => (_ctx.onClickTargetImage(imagePair.targetImage.uuid))\n          }, null, 8, [\"class\", \"draggable-image\", \"target-image\", \"isCorrect\", \"showResult\", \"onDrop\", \"draggable\", \"onDragstart\", \"onDragend\", \"onClick\"]))\n        }), 128))\n      ])\n    ]),\n    _hoisted_5,\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          achievedPoints: _ctx.correctAnswers,\n          maxPoints: _ctx.maxPoints,\n          resultMessage: _ctx.resultMessage,\n          feedback: _ctx.task.feedback\n        }, null, 8, [\"achievedPoints\", \"maxPoints\", \"resultMessage\", \"feedback\"]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_6, [\n      (!this.showResults)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            textContent: _toDisplayString(this.task.strings.checkButton),\n            onClick: _cache[5] || (_cache[5] = ($event: any) => (_ctx.checkResults())),\n            type: \"button\",\n            class: \"h5pButton\"\n          }, null, 8, _hoisted_7))\n        : _createCommentVNode(\"\", true),\n      (this.showResults)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 1,\n            textContent: _toDisplayString(this.task.strings.retryButton),\n            onClick: _cache[6] || (_cache[6] = ($event: any) => (_ctx.reset())),\n            type: \"button\",\n            class: \"h5pButton\"\n          }, null, 8, _hoisted_8))\n        : _createCommentVNode(\"\", true)\n    ])\n  ], 64))\n}","import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4febacf2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"grid-square two-images\"\n}\nconst _hoisted_2 = { class: \"image-container back\" }\nconst _hoisted_3 = [\"src\", \"alt\"]\nconst _hoisted_4 = { class: \"image-container front\" }\nconst _hoisted_5 = [\"src\", \"alt\"]\nconst _hoisted_6 = {\n  key: 1,\n  class: \"grid-square one-image\"\n}\nconst _hoisted_7 = [\"src\", \"alt\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_ctx.draggableImage)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"img\", {\n            src: _ctx.fileIdToUrl(_ctx.targetImage.file_id),\n            alt: _ctx.targetImage.altText,\n            class: _normalizeClass([\"image\", {\n          correct: this.isCorrect,\n          incorrect: !this.isCorrect,\n          showResult: this.showResult,\n        }]),\n            draggable: \"false\"\n          }, null, 10, _hoisted_3)\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"img\", {\n            src: _ctx.fileIdToUrl(_ctx.draggableImage.file_id),\n            alt: _ctx.draggableImage.altText,\n            class: _normalizeClass([\"image\", {\n          correct: this.isCorrect,\n          incorrect: !this.isCorrect,\n          showResult: this.showResult,\n        }]),\n            draggable: \"false\"\n          }, null, 10, _hoisted_5)\n        ])\n      ]))\n    : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n        _createElementVNode(\"img\", {\n          draggable: \"false\",\n          src: _ctx.fileIdToUrl(_ctx.targetImage.file_id),\n          alt: _ctx.targetImage.altText,\n          class: \"image\"\n        }, null, 8, _hoisted_7)\n      ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { fileIdToUrl, Image } from '@/models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'TargetImage',\n  components: {},\n  props: {\n    draggableImage: {\n      type: Object as PropType<Image>,\n      required: false,\n    },\n    targetImage: {\n      type: Object as PropType<Image>,\n      required: true,\n    },\n    isCorrect: {\n      type: Boolean,\n      required: false,\n    },\n    showResult: {\n      type: Boolean,\n      required: false,\n    },\n  },\n  computed: {},\n  methods: { fileIdToUrl },\n});\n","import { render } from \"./TargetImage.vue?vue&type=template&id=4febacf2&scoped=true&ts=true\"\nimport script from \"./TargetImage.vue?vue&type=script&lang=ts\"\nexport * from \"./TargetImage.vue?vue&type=script&lang=ts\"\n\nimport \"./TargetImage.vue?vue&type=style&index=0&id=4febacf2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4febacf2\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { fileIdToUrl, PairElement, PairingTask } from '@/models/TaskDefinition';\nimport TargetImage from '@/components/TargetImage.vue';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\n\ntype Uuid = string;\n\nexport default defineComponent({\n  name: 'PairingViewer',\n  components: {\n    TargetImage,\n    FeedbackElement,\n  },\n  props: {\n    task: {\n      type: Object as PropType<PairingTask>,\n      required: true,\n    },\n  },\n  emits: ['updateAttempt'],\n  data() {\n    return {\n      imageIdInteractedWith: undefined as Uuid | undefined,\n      draggedImageId: undefined as Uuid | undefined,\n      // We used Record instead of Set because I wasn't sure if sets are\n      // reactive in Vue 3.\n      // Record from target ID -> draggable image ID.\n      imagesDraggedOntoTargets: {} as Record<Uuid, Uuid>,\n      showResults: false as boolean,\n    };\n  },\n  methods: {\n    fileIdToUrl,\n    isAnswerCorrect(targetId: Uuid): boolean {\n      const userInput = this.imagesDraggedOntoTargets[targetId];\n      if (!userInput) {\n        return false;\n      }\n      // A little bit awkward -- we have to find the pair to which the target\n      // belongs so that we can check whether the user's solution is right\n      // This method itself is therefore O(n), giving an O(n^2) if you check\n      // every user answer in a loop every time the user makes an input.\n      // But it should be fine, because even if there are 50 images in a set\n      // (very unlikely), this comes out to 2500 comparisons, which should\n      // complete in under a millisecond.\n      const pair = this.task.pairs.find(\n        (pair) => pair.targetElement.uuid === targetId\n      );\n      if (!pair) {\n        throw new Error(\n          'could not find the pair to which the target id ' +\n            targetId +\n            ' belongs'\n        );\n      }\n      return pair.draggableElement.uuid === userInput;\n    },\n\n    getImageDraggedOntoTarget(targetId: Uuid): PairElement | undefined {\n      const draggedImageId = this.imagesDraggedOntoTargets[targetId];\n      if (draggedImageId) {\n        return this.getImageById(draggedImageId);\n      } else {\n        return undefined;\n      }\n    },\n\n    startDragImage(dragEvent: DragEvent, imageId: Uuid): void {\n      if (!this.isDraggableImageUsed(imageId)) {\n        console.log('Dragging image:', imageId);\n        this.imageIdInteractedWith = imageId;\n        this.draggedImageId = imageId;\n\n        dragEvent.dataTransfer!.dropEffect = 'move';\n        dragEvent.dataTransfer!.effectAllowed = 'move';\n\n        // Change the drag image to the parent element to include the border\n        const refToImage = (\n          this.$refs.draggableImages as HTMLImageElement[]\n        ).find(\n          (value) =>\n            value.src == fileIdToUrl(this.getImageById(imageId).file_id)\n        );\n\n        const parentElementOfImage = refToImage?.parentElement!;\n\n        if (refToImage && parentElementOfImage) {\n          const cloneOfParent = parentElementOfImage.cloneNode(\n            true\n          ) as HTMLElement;\n\n          cloneOfParent.style.top = '0';\n          cloneOfParent.style.left = '0';\n          cloneOfParent.style.position = 'absolute';\n          cloneOfParent.style.zIndex = '-999';\n\n          parentElementOfImage.parentElement!.append(cloneOfParent);\n\n          dragEvent.dataTransfer!.setDragImage(\n            cloneOfParent,\n            parentElementOfImage.clientWidth / 2,\n            parentElementOfImage.clientHeight / 2\n          );\n\n          setTimeout(() => cloneOfParent.remove());\n        }\n      }\n    },\n\n    endDragImage(dragEvent: DragEvent, imageId: string): void {\n      this.imageIdInteractedWith = undefined;\n      this.draggedImageId = undefined;\n    },\n\n    startDragTargetImage(dragEvent: DragEvent, targetImageId: Uuid): void {\n      dragEvent.dataTransfer!.dropEffect = 'move';\n      dragEvent.dataTransfer!.effectAllowed = 'move';\n      // Remember that the image has been dragged away from a target\n      // where it had been placed by the user\n      dragEvent.dataTransfer!.setData('targetId', targetImageId);\n\n      // Check if an image has been dragged onto the target already\n      const userDraggedImageId = this.imagesDraggedOntoTargets[targetImageId];\n      if (userDraggedImageId) {\n        this.imageIdInteractedWith = userDraggedImageId;\n\n        // Add the interactive image to the cursor even if the user\n        // clicked on the target image\n        const refToImage = (\n          this.$refs.draggableImages as HTMLImageElement[]\n        ).find(\n          (value) =>\n            value.src ==\n            fileIdToUrl(this.getImageById(userDraggedImageId).file_id)\n        );\n\n        const parentElementOfImage = refToImage?.parentElement!;\n\n        if (parentElementOfImage) {\n          dragEvent.dataTransfer!.setDragImage(\n            parentElementOfImage,\n            parentElementOfImage.clientWidth / 2,\n            parentElementOfImage.clientHeight / 2\n          );\n        }\n\n        console.log(\n          'Dragging image:',\n          this.imageIdInteractedWith,\n          'from target image',\n          targetImageId\n        );\n      }\n    },\n\n    endDragTargetImage(event: DragEvent, targetImageId: Uuid) {\n      this.imageIdInteractedWith = undefined;\n      this.draggedImageId = undefined;\n    },\n\n    onDropOnTargetImage(event: DragEvent, targetImageId: Uuid): void {\n      if (!this.imageIdInteractedWith) {\n        return;\n      }\n\n      // If the image has been dragged away from another target, then it should\n      // be removed from that target when it is dropped onto this target.\n      const otherTargetId = event.dataTransfer?.getData('targetId');\n      if (otherTargetId) {\n        delete this.imagesDraggedOntoTargets[otherTargetId];\n      }\n      // Save the dragged image onto the target where it has been dropped\n      this.imagesDraggedOntoTargets[targetImageId] = this.imageIdInteractedWith;\n\n      console.log(\n        'Dropped image:',\n        this.imageIdInteractedWith,\n        'on target:',\n        targetImageId\n      );\n      // Mark that the drag interaction is over.\n      this.imageIdInteractedWith = undefined;\n      this.draggedImageId = undefined;\n    },\n\n    getImageById(imageId: string): PairElement {\n      const image = this.imagesById[imageId];\n      if (!image) {\n        throw new Error('No image found with the given ID: ' + imageId);\n      }\n      return image;\n    },\n\n    onClickTargetImage(targetImageId: Uuid): void {\n      console.log('Clicked on target image', targetImageId);\n\n      // Do nothing if we are displaying the results already\n      if (this.showResults) return;\n\n      // Remove the image, if any, that has been dragged by the user onto\n      // the target they have clicked.\n      const usedImageId = this.imagesDraggedOntoTargets[targetImageId];\n      if (usedImageId) {\n        delete this.imagesDraggedOntoTargets[targetImageId];\n      }\n      // Check if the user clicked a draggable image and wants to put it here\n      if (this.imageIdInteractedWith) {\n        this.imagesDraggedOntoTargets[targetImageId] =\n          this.imageIdInteractedWith;\n        this.imageIdInteractedWith = undefined;\n      }\n    },\n\n    // This has a complexity of O(n).  When it is called in our v-for to set\n    // the class of every draggable image element, it makes it O(n^2).\n    // But that should be OK, because no one will put more than (say) 100\n    // images in a single task, right?\n    isDraggableImageUsed(draggableImageId: Uuid): boolean {\n      return Object.values(this.imagesDraggedOntoTargets).includes(\n        draggableImageId\n      );\n    },\n\n    onClickDraggableImage(imageId: Uuid): void {\n      if (!this.isDraggableImageUsed(imageId) && !this.showResults) {\n        console.log('Clicked on image:', imageId);\n        this.imageIdInteractedWith = imageId;\n      }\n    },\n\n    onDropOnInteractiveImages(event: DragEvent): void {\n      if (!this.imageIdInteractedWith) {\n        return;\n      }\n\n      // If the image has been dragged away from a target, then it should\n      // be removed from that target when it is dropped here.\n      const otherTargetId = event.dataTransfer?.getData('targetId');\n      if (otherTargetId) {\n        delete this.imagesDraggedOntoTargets[otherTargetId];\n      }\n\n      console.log('Returned image:', this.imageIdInteractedWith);\n\n      // Mark that the interaction is over.\n      this.imageIdInteractedWith = undefined;\n    },\n\n    checkResults(): void {\n      this.showResults = true;\n    },\n\n    reset(): void {\n      this.showResults = false;\n      this.imagesDraggedOntoTargets = {};\n    },\n  },\n  computed: {\n    draggableImages(): Uuid[] {\n      // Shuffle the images\n      // https://stackoverflow.com/a/46545530\n      return this.task.pairs\n        .map((pair) => ({ pair: pair, sort: Math.random() }))\n        .sort((pair1, pair2) => pair1.sort - pair2.sort)\n        .map(({ pair }) => pair.draggableElement.uuid);\n    },\n\n    imagesById(): Record<Uuid, PairElement> {\n      const imagesById: Record<Uuid, PairElement> = {};\n      for (const pair of this.task.pairs) {\n        imagesById[pair.draggableElement.uuid] = pair.draggableElement;\n        imagesById[pair.targetElement.uuid] = pair.targetElement;\n      }\n      return imagesById;\n    },\n\n    correctAnswers(): number {\n      let correctAnswers = 0;\n      for (const imagePair of this.task.pairs) {\n        if (this.isAnswerCorrect(imagePair.targetElement.uuid))\n          correctAnswers++;\n      }\n      return correctAnswers;\n    },\n\n    maxPoints(): number {\n      return this.task.pairs.length;\n    },\n\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.maxPoints.toString()\n      );\n\n      return resultMessage;\n    },\n  },\n});\n","import { render } from \"./PairingViewer.vue?vue&type=template&id=6d4e6d0e&scoped=true&ts=true\"\nimport script from \"./PairingViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./PairingViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./PairingViewer.vue?vue&type=style&index=0&id=6d4e6d0e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6d4e6d0e\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createBlock as _createBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-da9ec3ea\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"main-flex\" }\nconst _hoisted_2 = { class: \"h5p-elements-overview\" }\nconst _hoisted_3 = { class: \"h5p-elements-settings\" }\nconst _hoisted_4 = { class: \"default\" }\nconst _hoisted_5 = { value: 'image' }\nconst _hoisted_6 = { value: 'text' }\nconst _hoisted_7 = { value: 'audio' }\nconst _hoisted_8 = [\"src\"]\nconst _hoisted_9 = { value: 'image' }\nconst _hoisted_10 = { value: 'text' }\nconst _hoisted_11 = { value: 'audio' }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ElementPair = _resolveComponent(\"ElementPair\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.pairs, (pair, index) => {\n        return (_openBlock(), _createBlock(_component_ElementPair, {\n          key: pair.uuid,\n          class: _normalizeClass({\n          selected: index === this.selectedPairIndex,\n        }),\n          pair: this.taskDefinition.pairs[index],\n          \"pair-index\": index,\n          onClick: ($event: any) => (_ctx.selectPair(index))\n        }, null, 8, [\"class\", \"pair\", \"pair-index\", \"onClick\"]))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"form\", _hoisted_4, [\n        _createElementVNode(\"fieldset\", null, [\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Eigenschaften')), 1),\n          _createElementVNode(\"pre\", null, _toDisplayString(this.taskDefinition.pairs[this.selectedPairIndex]), 1),\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Karte A')), 1),\n          _createElementVNode(\"label\", null, [\n            _createTextVNode(_toDisplayString(_ctx.$gettext('Typ')) + \" \", 1),\n            _withDirectives(_createElementVNode(\"select\", {\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((\n                this.taskDefinition.pairs[this.selectedPairIndex]\n                  .draggableElement.type\n              ) = $event))\n            }, [\n              _createElementVNode(\"option\", _hoisted_5, _toDisplayString(_ctx.$gettext('Bild')), 1),\n              _createElementVNode(\"option\", _hoisted_6, _toDisplayString(_ctx.$gettext('Text')), 1),\n              _createElementVNode(\"option\", _hoisted_7, _toDisplayString(_ctx.$gettext('Audio')), 1)\n            ], 512), [\n              [_vModelSelect, \n                this.taskDefinition.pairs[this.selectedPairIndex]\n                  .draggableElement.type\n              ]\n            ])\n          ]),\n          (\n              this.taskDefinition.pairs[this.selectedPairIndex].draggableElement\n                .type == 'image'\n            )\n            ? (_openBlock(), _createElementBlock(\"img\", {\n                key: 0,\n                src: \n                _ctx.fileIdToUrl(\n                  this.taskDefinition.pairs[this.selectedPairIndex]\n                    .draggableElement.file_id\n                )\n              \n              }, null, 8, _hoisted_8))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"label\", null, _toDisplayString(_ctx.$gettext('Karte B')), 1),\n          _createElementVNode(\"label\", null, [\n            _createTextVNode(_toDisplayString(_ctx.$gettext('Typ')) + \" \", 1),\n            _withDirectives(_createElementVNode(\"select\", {\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((\n                this.taskDefinition.pairs[this.selectedPairIndex].targetElement\n                  .type\n              ) = $event))\n            }, [\n              _createElementVNode(\"option\", _hoisted_9, _toDisplayString(_ctx.$gettext('Bild')), 1),\n              _createElementVNode(\"option\", _hoisted_10, _toDisplayString(_ctx.$gettext('Text')), 1),\n              _createElementVNode(\"option\", _hoisted_11, _toDisplayString(_ctx.$gettext('Audio')), 1)\n            ], 512), [\n              [_vModelSelect, \n                this.taskDefinition.pairs[this.selectedPairIndex].targetElement\n                  .type\n              ]\n            ])\n          ])\n        ])\n      ])\n    ])\n  ]))\n}","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7d2cd1fe\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"h5pElementPair\" }\nconst _hoisted_2 = { class: \"h5pElement\" }\nconst _hoisted_3 = { class: \"h5pElement\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_EditedImagePairImage = _resolveComponent(\"EditedImagePairImage\")!\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_ctx.pair.draggableElement.type === 'image')\n        ? (_openBlock(), _createBlock(_component_EditedImagePairImage, {\n            key: 0,\n            image: _ctx.pair.draggableElement\n          }, null, 8, [\"image\"]))\n        : (_openBlock(), _createBlock(_component_FileUpload, {\n            key: 1,\n            onFileUploaded: _ctx.onUploadDraggableImage\n          }, null, 8, [\"onFileUploaded\"]))\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      (_ctx.pair.targetElement.type === 'image')\n        ? (_openBlock(), _createBlock(_component_EditedImagePairImage, {\n            key: 0,\n            image: _ctx.pair.targetElement\n          }, null, 8, [\"image\"]))\n        : (_openBlock(), _createBlock(_component_FileUpload, {\n            key: 1,\n            onFileUploaded: _ctx.onUploadTargetImage\n          }, null, 8, [\"onFileUploaded\"]))\n    ])\n  ]))\n}","import { openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-87ed8de2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\", \"alt\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"img\", {\n    src: _ctx.fileIdToUrl(_ctx.image.file_id),\n    alt: _ctx.image.altText,\n    class: \"edited-image-pair-image\"\n  }, null, 8, _hoisted_1))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { fileIdToUrl, Image } from '@/models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'EditedImagePairImage',\n  props: {\n    image: {\n      type: Object as PropType<Image>,\n      required: true,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: { fileIdToUrl },\n  computed: {},\n});\n","import { render } from \"./EditedImagePairImage.vue?vue&type=template&id=87ed8de2&scoped=true&ts=true\"\nimport script from \"./EditedImagePairImage.vue?vue&type=script&lang=ts\"\nexport * from \"./EditedImagePairImage.vue?vue&type=script&lang=ts\"\n\nimport \"./EditedImagePairImage.vue?vue&type=style&index=0&id=87ed8de2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-87ed8de2\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { $gettext } from '@/language/gettext';\nimport { Pair } from '@/models/TaskDefinition';\nimport EditedImagePairImage from '@/components/EditedImagePairImage.vue';\nimport FileUpload from '@/components/FileUpload.vue';\n\nexport default defineComponent({\n  name: 'ElementPair',\n  components: { FileUpload, EditedImagePairImage },\n  props: {\n    pair: {\n      type: Object as PropType<Pair>,\n      required: true,\n    },\n    pairIndex: {\n      type: Number as PropType<number>,\n      required: true,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    $gettext,\n  },\n  computed: {},\n});\n","import { render } from \"./ElementPair.vue?vue&type=template&id=7d2cd1fe&scoped=true&ts=true\"\nimport script from \"./ElementPair.vue?vue&type=script&lang=ts\"\nexport * from \"./ElementPair.vue?vue&type=script&lang=ts\"\n\nimport \"./ElementPair.vue?vue&type=style&index=0&id=7d2cd1fe&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7d2cd1fe\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { fileIdToUrl, PairingTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport produce from 'immer';\nimport { taskEditorStore } from '@/store';\nimport { v4 } from 'uuid';\nimport ElementPair from '@/components/ElementPair.vue';\n\nexport default defineComponent({\n  name: 'PairingEditor',\n  components: { ElementPair },\n  props: {\n    task: {\n      type: Object as PropType<PairingTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      selectedPairIndex: -1,\n    };\n  },\n  beforeMount(): void {\n    if (this.taskDefinition.pairs.length > 0) {\n      this.selectedPairIndex = 0;\n    }\n  },\n  methods: {\n    fileIdToUrl,\n    $gettext,\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n    selectPair(index: number) {\n      this.selectedPairIndex = index;\n    },\n    addPair() {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.pairs.push({\n          uuid: v4(),\n          draggableElement: {\n            uuid: v4(),\n            type: 'image',\n            file_id: '',\n            altText: '',\n          },\n          targetElement: {\n            uuid: v4(),\n            type: 'image',\n            file_id: '',\n            altText: '',\n          },\n        });\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Select the newly inserted card\n      this.selectedPairIndex = this.taskDefinition.pairs.length - 1;\n    },\n    deletePair(index: number) {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.pairs.splice(index, 1);\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Adjust the selection index so the selected card doesn't unexpectedly change\n      if (index <= this.selectedPairIndex) {\n        this.selectedPairIndex = this.selectedPairIndex - 1;\n      }\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as PairingTask,\n  },\n});\n","import { render } from \"./PairingEditor.vue?vue&type=template&id=da9ec3ea&scoped=true&ts=true\"\nimport script from \"./PairingEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./PairingEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./PairingEditor.vue?vue&type=style&index=0&id=da9ec3ea&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-da9ec3ea\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8d8093aa\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"imageRow\" }\nconst _hoisted_2 = [\"draggable\", \"onDragstart\", \"onDragover\", \"onDrop\"]\nconst _hoisted_3 = [\"src\", \"alt\"]\nconst _hoisted_4 = { class: \"h5pButtonPanel\" }\nconst _hoisted_5 = [\"textContent\"]\nconst _hoisted_6 = [\"textContent\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FeedbackElement = _resolveComponent(\"FeedbackElement\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.images, (image) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: image.uuid,\n          class: \"imageContainer\",\n          draggable: !this.showResults,\n          onDragstart: ($event: any) => (_ctx.startDragImage($event, image)),\n          onDragover: ($event: any) => (_ctx.onDragOver($event, image)),\n          onDrop: ($event: any) => (_ctx.onDropImage($event, image))\n        }, [\n          _createElementVNode(\"img\", {\n            class: \"image\",\n            draggable: \"false\",\n            onDragover: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"])),\n            onDragenter: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"])),\n            src: _ctx.fileIdToUrl(image.file_id),\n            alt: image.altText\n          }, null, 40, _hoisted_3),\n          _createElementVNode(\"span\", {\n            class: \"imageDescription\",\n            onDragover: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"])),\n            onDragenter: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"prevent\"]))\n          }, _toDisplayString(image.altText), 33)\n        ], 40, _hoisted_2))\n      }), 128))\n    ]),\n    (_ctx.showResults)\n      ? (_openBlock(), _createBlock(_component_FeedbackElement, {\n          key: 0,\n          achievedPoints: _ctx.correctAnswers,\n          maxPoints: _ctx.maxPoints,\n          resultMessage: _ctx.resultMessage,\n          feedback: _ctx.task.feedback\n        }, null, 8, [\"achievedPoints\", \"maxPoints\", \"resultMessage\", \"feedback\"]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_4, [\n      (!this.showResults)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            textContent: _toDisplayString(this.task.strings.checkButton),\n            onClick: _cache[4] || (_cache[4] = ($event: any) => (_ctx.checkResults())),\n            type: \"button\",\n            class: \"h5pButton\"\n          }, null, 8, _hoisted_5))\n        : _createCommentVNode(\"\", true),\n      (this.showResults)\n        ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 1,\n            textContent: _toDisplayString(this.task.strings.retryButton),\n            onClick: _cache[5] || (_cache[5] = ($event: any) => (_ctx.reset())),\n            type: \"button\",\n            class: \"h5pButton\"\n          }, null, 8, _hoisted_6))\n        : _createCommentVNode(\"\", true)\n    ])\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport {\n  fileIdToUrl,\n  Image,\n  ImageSequencingTask,\n} from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport { taskEditorStore } from '@/store';\nimport FeedbackElement from '@/components/FeedbackElement.vue';\nimport { round } from 'lodash';\n\nexport default defineComponent({\n  name: 'ImageSequencingViewer',\n  components: {\n    FeedbackElement,\n  },\n  props: {\n    task: {\n      type: Object as PropType<ImageSequencingTask>,\n      required: true,\n    },\n  },\n  emits: ['updateAttempt'],\n  data() {\n    return {\n      images: [] as Image[],\n      imageInteractedWith: undefined as Image | undefined,\n      showResults: false as boolean,\n    };\n  },\n  beforeMount(): void {\n    console.log('Before Mount');\n  },\n  methods: {\n    fileIdToUrl,\n    $gettext,\n\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n\n    startDragImage(dragEvent: DragEvent, image: Image) {\n      this.imageInteractedWith = image;\n      console.log('Dragging image', image.altText);\n    },\n\n    onDropImage(event: DragEvent, image: Image): void {\n      console.log('Dropped image', this.imageInteractedWith?.altText);\n      this.imageInteractedWith = undefined;\n    },\n\n    onDragOver(event: DragEvent, image: Image): void {\n      if (this.imageInteractedWith && this.imageInteractedWith != image) {\n        const fromIndex = this.images.indexOf(this.imageInteractedWith);\n        const toIndex = this.images.indexOf(image);\n\n        console.log(\n          'Dragging image',\n          this.imageInteractedWith?.altText,\n          '(',\n          fromIndex,\n          ') over target',\n          image.altText,\n          '(',\n          toIndex,\n          ')'\n        );\n\n        this.moveInArray(this.images, fromIndex, toIndex);\n      }\n    },\n\n    moveInArray(array: Image[], fromIndex: number, toIndex: number) {\n      let element = array[fromIndex];\n      array.splice(fromIndex, 1);\n      array.splice(toIndex, 0, element);\n    },\n\n    checkResults(): void {\n      this.showResults = true;\n    },\n\n    reset(): void {\n      this.showResults = false;\n      this.shuffleImages();\n    },\n\n    shuffleImages() {\n      // Shuffle the images\n      // https://stackoverflow.com/a/46545530\n      this.images = this.images\n        .map((image) => ({ image: image, sort: Math.random() }))\n        .sort((image1, image2) => image1.sort - image2.sort)\n        .map(({ image }) => image);\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as ImageSequencingTask,\n    correctAnswers(): Number {\n      let correctAnswers = 0;\n      for (let i = 0; i < this.task.images.length; i++) {\n        if (this.task.images[i].uuid === this.images[i].uuid) {\n          correctAnswers++;\n        }\n      }\n      return correctAnswers;\n    },\n    maxPoints(): Number {\n      return this.task.images.length;\n    },\n    resultMessage(): string {\n      let resultMessage = this.task.strings.resultMessage.replace(\n        ':correct',\n        this.correctAnswers.toString()\n      );\n\n      resultMessage = resultMessage.replace(\n        ':total',\n        this.maxPoints.toString()\n      );\n\n      return resultMessage;\n    },\n  },\n  watch: {\n    task: {\n      handler() {\n        console.log('watcher for this.task');\n        this.images = [...this.task.images];\n        this.shuffleImages();\n      },\n      immediate: true, // Ensure that the watcher is also called immediately when the component is first mounted\n    },\n  },\n});\n","import { render } from \"./ImageSequencingViewer.vue?vue&type=template&id=8d8093aa&scoped=true&ts=true\"\nimport script from \"./ImageSequencingViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./ImageSequencingViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./ImageSequencingViewer.vue?vue&type=style&index=0&id=8d8093aa&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8d8093aa\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2469d7fe\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"main-flex\" }\nconst _hoisted_2 = { class: \"cards-list\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = [\"src\", \"onClick\"]\nconst _hoisted_5 = {\n  key: 1,\n  class: \"edited-memory-card no-card-selected-placeholder\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ImageSequencingEditorImage = _resolveComponent(\"ImageSequencingEditorImage\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.taskDefinition.images, (image, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: image.uuid,\n          class: _normalizeClass({\n          'cards-list-item': true,\n          'selected-card': index === this.selectedImageIndex,\n        }),\n          onClick: ($event: any) => (_ctx.selectImage(index))\n        }, [\n          _createTextVNode(_toDisplayString(index) + \". \", 1),\n          _createElementVNode(\"img\", {\n            class: \"flex-child-element removeAnswerButton\",\n            src: _ctx.urlForIcon('trash'),\n            onClick: _withModifiers(($event: any) => (_ctx.deleteImage(index)), [\"stop\"]),\n            alt: \"an icon showing a trash bin\"\n          }, null, 8, _hoisted_4)\n        ], 10, _hoisted_3))\n      }), 128)),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.addImage && _ctx.addImage(...args)))\n      }, _toDisplayString(_ctx.$gettext('Bild hinzufgen')), 1)\n    ]),\n    (this.taskDefinition.images[this.selectedImageIndex])\n      ? (_openBlock(), _createBlock(_component_ImageSequencingEditorImage, {\n          key: 0,\n          class: \"edited-memory-card\",\n          image: this.taskDefinition.images[this.selectedImageIndex],\n          \"image-index\": this.selectedImageIndex\n        }, null, 8, [\"image\", \"image-index\"]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(_ctx.$gettext('Keine Karte ist zum Bearbeiten ausgewhlt.')), 1))\n  ]))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0dd3efdb\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"default\" }\nconst _hoisted_2 = [\"src\", \"alt\"]\nconst _hoisted_3 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"fieldset\", null, [\n      _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Bild')), 1),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"h4\", null, _toDisplayString(_ctx.$gettext('Das Bild')), 1),\n        (_ctx.image.file_id)\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 0,\n              src: _ctx.fileIdToUrl(_ctx.image.file_id),\n              alt: _ctx.image.altText,\n              class: \"image-sequencing-editor-image\"\n            }, null, 8, _hoisted_2))\n          : (_openBlock(), _createBlock(_component_FileUpload, {\n              key: 1,\n              onFileUploaded: _ctx.onUploadImage\n            }, null, 8, [\"onFileUploaded\"]))\n      ]),\n      _createElementVNode(\"label\", null, [\n        _createTextVNode(_toDisplayString(_ctx.$gettext('Alternativer Text')) + \" \", 1),\n        _createElementVNode(\"input\", {\n          type: \"text\",\n          value: _ctx.taskDefinition.images[_ctx.imageIndex].altText,\n          onInput: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInputImageAltText && _ctx.onInputImageAltText(...args)))\n        }, null, 40, _hoisted_3)\n      ])\n    ])\n  ]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { $gettext } from '@/language/gettext';\nimport {\n  fileIdToUrl,\n  Image,\n  ImageSequencingTask,\n} from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport FileUpload from '@/components/FileUpload.vue';\nimport { FileRef } from '@/routes/jsonApi';\n\nexport default defineComponent({\n  name: 'ImageSequencingEditorImage',\n  components: { FileUpload },\n  props: {\n    image: {\n      type: Object as PropType<Image>,\n      required: true,\n    },\n    imageIndex: {\n      type: Number as PropType<number>,\n      required: true,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    fileIdToUrl,\n    $gettext,\n    onUploadImage(file: FileRef): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.images[this.imageIndex].file_id = file.id;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n    onInputImageAltText(ev: InputEvent): void {\n      const value = (ev.target as HTMLInputElement).value;\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.images[this.imageIndex].altText = value;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition,\n        undoBatch: { type: 'EditedImageAltText' },\n      });\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as ImageSequencingTask,\n  },\n});\n","import { render } from \"./ImageSequencingEditorImage.vue?vue&type=template&id=0dd3efdb&scoped=true&ts=true\"\nimport script from \"./ImageSequencingEditorImage.vue?vue&type=script&lang=ts\"\nexport * from \"./ImageSequencingEditorImage.vue?vue&type=script&lang=ts\"\n\nimport \"./ImageSequencingEditorImage.vue?vue&type=style&index=0&id=0dd3efdb&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0dd3efdb\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { ImageSequencingTask } from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport { taskEditorStore } from '@/store';\nimport produce from 'immer';\nimport { v4 } from 'uuid';\nimport ImageSequencingEditorImage from '@/components/ImageSequencingEditorImage.vue';\n\nexport default defineComponent({\n  name: 'ImageSequencingEditor',\n  components: { ImageSequencingEditorImage },\n  props: {\n    task: {\n      type: Object as PropType<ImageSequencingTask>,\n      required: true,\n    },\n  },\n  data() {\n    return { selectedImageIndex: -1 };\n  },\n  beforeMount(): void {\n    if (this.taskDefinition.images.length > 0) {\n      this.selectedImageIndex = 0;\n    }\n  },\n  methods: {\n    $gettext,\n    urlForIcon(iconName: string) {\n      return (\n        window.STUDIP.ASSETS_URL + 'images/icons/blue/' + iconName + '.svg'\n      );\n    },\n    selectImage(index: number) {\n      this.selectedImageIndex = index;\n    },\n    addImage() {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.images.push({\n          v: 2,\n          uuid: v4(),\n          file_id: '',\n          altText: '',\n        });\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Select the newly inserted image\n      this.selectedImageIndex = this.taskDefinition.images.length - 1;\n    },\n    deleteImage(index: number) {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.images.splice(index, 1);\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n      // Adjust the selection index so the selected card doesn't unexpectedly change\n      if (index <= this.selectedImageIndex) {\n        this.selectedImageIndex = this.selectedImageIndex - 1;\n      }\n    },\n  },\n  computed: {\n    taskDefinition: () => taskEditorStore.taskDefinition as ImageSequencingTask,\n  },\n});\n","import { render } from \"./ImageSequencingEditor.vue?vue&type=template&id=2469d7fe&scoped=true&ts=true\"\nimport script from \"./ImageSequencingEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./ImageSequencingEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./ImageSequencingEditor.vue?vue&type=style&index=0&id=2469d7fe&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2469d7fe\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Find The Hotspot - Editor\", -1)\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _hoisted_2,\n    _createVNode(_component_FileUpload, { onFileUploaded: _ctx.onImageUploaded }, null, 8, [\"onFileUploaded\"])\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { FindTheHotspotTask } from '@/models/TaskDefinition';\nimport { taskEditorStore } from '@/store';\nimport FileUpload from '@/components/FileUpload.vue';\nimport produce from 'immer';\nimport { FileRef } from '@/routes/jsonApi';\n\nexport default defineComponent({\n  name: 'FindTheHotspotEditor',\n  components: { FileUpload },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<FindTheHotspotTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    onImageUploaded(file: FileRef): void {\n      const newTaskDefinition = produce(this.taskDefinition, (draft) => {\n        draft.image.file_id = file.id;\n      });\n      taskEditorStore.performEdit({\n        newTaskDefinition: newTaskDefinition,\n        undoBatch: {},\n      });\n    },\n  },\n  computed: {\n    currentUndoRedoState: () =>\n      taskEditorStore.undoRedoStack[taskEditorStore.undoRedoIndex],\n  },\n});\n","import { render } from \"./FindTheHotspotEditor.vue?vue&type=template&id=14fdfd9e&ts=true\"\nimport script from \"./FindTheHotspotEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./FindTheHotspotEditor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Find The Hotspot - Viewer\", -1)\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_3 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _hoisted_2,\n    _createElementVNode(\"img\", {\n      src: _ctx.fileIdToUrl(_ctx.task.image.file_id)\n    }, null, 8, _hoisted_3)\n  ], 64))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { fileIdToUrl, FindTheHotspotTask } from '@/models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'FindTheHotspotViewer',\n  props: {\n    task: { type: Object as PropType<FindTheHotspotTask>, required: true },\n  },\n  emits: ['updateAttempt'],\n  data() {\n    return {};\n  },\n  methods: { fileIdToUrl },\n  computed: {},\n});\n","import { render } from \"./FindTheHotspotViewer.vue?vue&type=template&id=6357c648&ts=true\"\nimport script from \"./FindTheHotspotViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./FindTheHotspotViewer.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// Types for the Interactive Video task type.\nimport { z } from 'zod';\nimport {\n  iconForTaskType,\n  printTaskType,\n  taskDefinitionSchemaMinusInteractiveVideo,\n} from '@/models/TaskDefinition';\nimport { $gettext } from '@/language/gettext';\nimport { wysiwygUploadedFileSchema } from '@/routes/lernmodule';\n\n// There are different types of 'interaction' which can be added to the video.\n// TODO Maybe put the 'base' attributes shared by all types of interaction all in one place.\n// TODO I think it may be wiser to use 'startTime' and 'duration' rather than 'startTime' and 'endTime'.\n// I chose to use 'start' and 'end' because it made the ui in one place easier to implement\n// (v-model for 'end time' input field), but I have noticed that I must calculate a duration\n// by hand in many other places anyway.\n\n/**\n * @deprecated -- Text field renamed to content_wysiwyg to simplify implementation\n * of file export in PHP.\n */\nconst overlaySchema_v1 = z.object({\n  type: z.literal('overlay'),\n  id: z.string(),\n  startTime: z.number(), // Seconds\n  endTime: z.number(), // Seconds\n  x: z.number(), // Position, as a fraction of video width, between 0 and 1\n  y: z.number(), // Position, as a fraction of video height, between 0 and 1\n  width: z.number(), // Width, as a fraction of video width, between 0 and 1\n  height: z.number(), // Height, as a fraction of video width, between 0 and 1\n  text: z.string(), // Sanitized HTML from Wysiwyg editor\n  pauseWhenVisible: z.boolean().optional().default(true),\n});\nconst overlaySchema_v2 = overlaySchema_v1.omit({ text: true }).extend({\n  v: z.literal(2), // Schema version\n  content_wysiwyg: z.string(), // Sanitized HTML from Wysiwyg editor\n});\n// Overlay: An overlay is shown on top of the video over a span of time\nconst overlaySchema = z\n  .union([overlaySchema_v1, overlaySchema_v2])\n  .transform((val): z.infer<typeof overlaySchema_v2> => {\n    if (!Object.hasOwn(val, 'v')) {\n      // Migration from v1 to v2\n      const val_v1 = val as z.infer<typeof overlaySchema_v1>;\n      const { text, ...val_v1_rest } = val_v1;\n      const val_v2 = {\n        v: 2,\n        content_wysiwyg: text,\n        ...val_v1_rest,\n      } as z.infer<typeof overlaySchema_v2>;\n      console.log(\n        'Migrating from overlaySchema_v1 to overlaySchema_v2',\n        'v1:',\n        val_v1,\n        'v2:',\n        val_v2\n      );\n      return val_v2;\n    } else {\n      return val as z.infer<typeof overlaySchema_v2>;\n    }\n  });\nexport type OverlayInteraction = z.infer<typeof overlaySchema_v2>;\n\n// LMB Task interaction: A Lernmodule Block Task (LMB Task) is shown at a given\n// point in the video for the student to solve.\nconst lmbTaskInteractionSchema = z.object({\n  type: z.literal('lmbTask'),\n  id: z.string(),\n  startTime: z.number(), // Seconds\n  endTime: z.number(), // Seconds\n  x: z.number(), // Position, as a fraction of video width, between 0 and 1\n  y: z.number(), // Position, as a fraction of video height, between 0 and 1\n  taskDefinition: z.lazy(() => taskDefinitionSchemaMinusInteractiveVideo),\n  pauseWhenVisible: z.boolean().optional().default(true),\n});\nexport type LmbTaskInteraction = z.infer<typeof lmbTaskInteractionSchema>;\n\nconst interactiveVideoInteractionSchema = z\n  .union([overlaySchema, lmbTaskInteractionSchema])\n  .refine((data) => data.endTime > data.startTime, {\n    message: 'endTime cannot be earlier than startTime',\n    path: ['endTime'],\n  });\nexport type Interaction = z.infer<typeof interactiveVideoInteractionSchema>;\n\nconst noVideoSchema = z.object({\n  type: z.literal('none'),\n});\nexport type NoVideo = z.infer<typeof noVideoSchema>;\nconst youtubeVideoSchema = z.object({\n  type: z.literal('youtube'),\n  url: z.string(),\n});\nexport type YoutubeVideo = z.infer<typeof youtubeVideoSchema>;\n\n/**\n * @deprecated -- File is now stored as ID instead of url,name,type.\n */\nconst studipFileVideoSchema_v1 = z.object({\n  type: z.literal('studipFileReference'),\n  file: wysiwygUploadedFileSchema,\n});\nconst studipFileVideoSchema_v2 = z.object({\n  v: z.literal(2),\n  type: z.literal('studipFileReference'),\n  file_id: z.string(),\n});\nconst studipFileVideoSchema = z\n  .union([studipFileVideoSchema_v1, studipFileVideoSchema_v2])\n  .transform((val) => {\n    if (!Object.hasOwn(val, 'v')) {\n      // Migration from v1 to v2\n      const val_v1 = val as z.infer<typeof studipFileVideoSchema_v1>;\n      const urlParams = new URLSearchParams(val_v1.file.url);\n      const file_id = urlParams.get('file_id');\n      if (!file_id) {\n        throw new Error(\n          'Could not migrate studip file reference schema v1 to v2. The query param ' +\n            `\"file_id\" was not found in the string file.url: \"${val_v1.file.url}\"`\n        );\n      }\n      const val_v2 = {\n        v: 2,\n        type: 'studipFileReference',\n        file_id,\n      } as z.infer<typeof studipFileVideoSchema_v2>;\n      console.log(\n        'Migrating from studipFileVideoSchema_v1 to studipFileVideoSchema_v2',\n        'v1:',\n        val_v1,\n        'v2:',\n        val_v2\n      );\n      return val_v2;\n    } else {\n      return val as z.infer<typeof studipFileVideoSchema_v2>;\n    }\n  });\nexport type StudipFileVideo = z.infer<typeof studipFileVideoSchema>;\n\nconst videoSchema = z.union([\n  noVideoSchema,\n  youtubeVideoSchema,\n  studipFileVideoSchema,\n]);\nexport type Video = z.infer<typeof videoSchema>;\n\nexport const interactiveVideoTaskSchema = z.object({\n  task_type: z.literal('InteractiveVideo'),\n  video: videoSchema,\n  autoplay: z.boolean().optional().default(false),\n  startAt: z.number().optional().default(0),\n  disableNavigation: z\n    .union([\n      z.literal('not disabled'),\n      z.literal('forward disabled'),\n      z.literal('forward and backward disabled'),\n    ])\n    .default('not disabled'),\n  interactions: z.array(interactiveVideoInteractionSchema),\n});\nexport type InteractiveVideoTask = z.infer<typeof interactiveVideoTaskSchema>;\n\nexport function printInteractionType(interaction: Interaction): string {\n  switch (interaction.type) {\n    case 'lmbTask':\n      return printTaskType(interaction.taskDefinition.task_type);\n    case 'overlay':\n      return $gettext('Einblendung');\n  }\n}\n\nexport function iconForInteraction(interaction: Interaction): string {\n  switch (interaction.type) {\n    case 'overlay':\n      return 'item';\n    case 'lmbTask':\n      return iconForTaskType(interaction.taskDefinition.task_type);\n  }\n}\n\nexport const resizeHandles = [\n  'left',\n  'top-left',\n  'top',\n  'top-right',\n  'right',\n  'bottom-right',\n  'bottom',\n  'bottom-left',\n] as const;\nexport type ResizeHandle = typeof resizeHandles[number];\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { style: {\"display\":\"none\"} }\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" Task definition: \")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_SelectVideo = _resolveComponent(\"SelectVideo\")!\n  const _component_TabComponent = _resolveComponent(\"TabComponent\")!\n  const _component_AddInteractions = _resolveComponent(\"AddInteractions\")!\n  const _component_TabsComponent = _resolveComponent(\"TabsComponent\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_TabsComponent, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_TabComponent, {\n          title: _ctx.$gettext('1. Video auswhlen'),\n          icon: \"video2\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_SelectVideo, { \"task-definition\": _ctx.taskDefinition }, null, 8, [\"task-definition\"])\n          ]),\n          _: 1\n        }, 8, [\"title\"]),\n        _createVNode(_component_TabComponent, {\n          title: _ctx.$gettext('2. Interaktionen hinzufgen'),\n          icon: \"content\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_AddInteractions, { \"task-definition\": _ctx.taskDefinition }, null, 8, [\"task-definition\"])\n          ]),\n          _: 1\n        }, 8, [\"title\"])\n      ]),\n      _: 1\n    }),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _hoisted_2,\n      _createElementVNode(\"pre\", null, _toDisplayString(_ctx.taskDefinition), 1)\n    ])\n  ], 64))\n}","<!-- Adapted from https://zerotomastery.io/blog/tab-component-design-with-vue/ -->\n<template>\n  <div class=\"cw-tabs\">\n    <div role=\"tablist\" class=\"cw-tabs-nav\">\n      <button\n        v-for=\"tab in tabs\"\n        :key=\"tab.title\"\n        @click=\"activeTabHash = tab.hash\"\n        :class=\"{\n          'is-active': tab.hash === activeTabHash,\n          [`cw-tabs-nav-icon-text-${tab.icon}`]:\n            tab.icon !== '' && tab.name !== '',\n          [`cw-tabs-nav-icon-solo-${tab.icon}`]:\n            tab.icon !== '' && tab.name === '',\n        }\"\n        :aria-selected=\"tab.hash === activeTabHash\"\n        :aria-controls=\"tab.hash\"\n        :id=\"'#' + tab.hash\"\n        :tabindex=\"0\"\n      >\n        {{ tab.title }}\n      </button>\n    </div>\n    <slot />\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent } from 'vue';\n\nexport default defineComponent({\n  data() {\n    return {\n      activeTabHash: '',\n      tabs: [],\n    };\n  },\n  provide() {\n    return {\n      addTab: (tab) => {\n        const count = this.tabs.push(tab);\n\n        if (count === 1) {\n          this.activeTabHash = tab.hash;\n        }\n      },\n      activeTabHash: computed(() => this.activeTabHash),\n    };\n  },\n});\n</script>\n","import { render } from \"./TabsComponent.vue?vue&type=template&id=37927ae0\"\nimport script from \"./TabsComponent.vue?vue&type=script&lang=js\"\nexport * from \"./TabsComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- Adapted from https://zerotomastery.io/blog/tab-component-design-with-vue/ -->\n<template>\n  <div\n    role=\"tabpanel\"\n    class=\"cw-tab cw-tabs-content\"\n    :class=\"{ 'cw-tab-active': isActive }\"\n    v-show=\"isActive\"\n    :aria-labelledby=\"buttonSelector\"\n  >\n    <slot />\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nexport default defineComponent({\n  inject: ['activeTabHash', 'addTab'],\n  props: {\n    title: {\n      type: String,\n      required: true,\n    },\n    icon: {\n      type: String,\n      required: false,\n      default: '',\n    },\n  },\n  data() {\n    return { hash: '', isActive: false };\n  },\n  created() {\n    this.hash = '#' + this.title.toLowerCase().replace(/ /g, '-');\n\n    this.addTab({\n      title: this.title,\n      hash: this.hash,\n      icon: this.icon,\n    });\n  },\n  watch: {\n    activeTabHash() {\n      this.isActive = this.activeTabHash === this.hash;\n    },\n  },\n  computed: {\n    buttonSelector() {\n      return '#' + this.hash;\n    },\n  },\n});\n</script>\n","import { render } from \"./TabComponent.vue?vue&type=template&id=800c4dce\"\nimport script from \"./TabComponent.vue?vue&type=script&lang=js\"\nexport * from \"./TabComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, toDisplayString as _toDisplayString, resolveDynamicComponent as _resolveDynamicComponent, withModifiers as _withModifiers, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e926de64\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { ref: \"videoJsContainer\" }\nconst _hoisted_2 = [\"onClick\", \"title\"]\nconst _hoisted_3 = [\"title\"]\nconst _hoisted_4 = [\"title\"]\nconst _hoisted_5 = [\"title\"]\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"arrow\",\n  \"data-popper-arrow\": \"\"\n}, null, -1))\nconst _hoisted_7 = { class: \"active-interaction\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_LmbTaskInteraction = _resolveComponent(\"LmbTaskInteraction\")!\n  const _component_OverlayInteraction = _resolveComponent(\"OverlayInteraction\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"video-player-root\", { 'drag-in-progress': !!_ctx.dragState }]),\n    ref: \"root\"\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, null, 512),\n    (!!_ctx.selectedInteractionId)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: \"cancel-selection-overlay\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.editor!.selectInteraction(undefined)))\n        }))\n      : _createCommentVNode(\"\", true),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.task.interactions, (interaction) => {\n      return (_openBlock(), _createElementBlock(\"button\", {\n        class: \"progress-bar-interaction-marker\",\n        key: interaction.id,\n        style: _normalizeStyle(_ctx.progressBarInteractionMarkerStyle(interaction)),\n        onClick: ($event: any) => (_ctx.onClickInteractionMarker(interaction)),\n        title: \n        _ctx.$gettext('Zu %{ interaction } springen', {\n          interaction: _ctx.printInteractionType(interaction),\n        })\n      \n      }, null, 12, _hoisted_2))\n    }), 128)),\n    (_ctx.editor)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          ref: \"selectedInteractionTooltip\",\n          class: _normalizeClass([\"selected-interaction-tooltip\", {\n        hidden: !_ctx.interactionForPopper,\n      }])\n        }, [\n          (_ctx.selectedInteraction?.type === 'lmbTask')\n            ? (_openBlock(), _createElementBlock(\"button\", {\n                key: 0,\n                type: \"button\",\n                class: \"small-button visibility-visible\",\n                onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.activateInteraction(_ctx.selectedInteraction))),\n                title: _ctx.$gettext('Vorschau')\n              }, null, 8, _hoisted_3))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"small-button edit\",\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.editInteraction(_ctx.selectedInteraction))),\n            title: _ctx.$gettext('Bearbeiten')\n          }, null, 8, _hoisted_4),\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"small-button trash\",\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.editor?.deleteInteraction(_ctx.selectedInteractionId))),\n            title: _ctx.$gettext('Lschen')\n          }, null, 8, _hoisted_5),\n          _hoisted_6\n        ], 2))\n      : _createCommentVNode(\"\", true),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.visibleInteractions, (interaction) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: interaction.id\n      }, [\n        (interaction.type === 'lmbTask')\n          ? (_openBlock(), _createBlock(_component_LmbTaskInteraction, {\n              key: 0,\n              id: `interaction-${_ctx.uid}-${interaction.id}`,\n              class: \"video-player-interaction\",\n              style: _normalizeStyle({\n          left: `${interaction.x * 100}%`,\n          top: `${interaction.y * 100}%`,\n        }),\n              interaction: interaction,\n              onClick: ($event: any) => (_ctx.editor?.selectInteraction(interaction.id)),\n              onPointerdown: ($event: any) => (_ctx.onPointerDownInteraction($event, interaction)),\n              onPointermove: ($event: any) => (_ctx.onPointerMoveInteraction($event, interaction)),\n              onPointerup: ($event: any) => (_ctx.onPointerUpInteraction($event, interaction)),\n              onActivateInteraction: _ctx.activateInteraction\n            }, null, 8, [\"id\", \"style\", \"interaction\", \"onClick\", \"onPointerdown\", \"onPointermove\", \"onPointerup\", \"onActivateInteraction\"]))\n          : (interaction.type === 'overlay')\n            ? (_openBlock(), _createBlock(_component_OverlayInteraction, {\n                key: 1,\n                id: `interaction-${_ctx.uid}-${interaction.id}`,\n                class: \"video-player-interaction\",\n                style: _normalizeStyle({\n          left: `${interaction.x * 100}%`,\n          top: `${interaction.y * 100}%`,\n          width: `${interaction.width * 100}%`,\n          height: `${interaction.height * 100}%`,\n        }),\n                interaction: interaction,\n                onClick: ($event: any) => (_ctx.editor?.selectInteraction(interaction.id)),\n                onPointerdown: ($event: any) => (_ctx.onPointerDownInteraction($event, interaction)),\n                onPointermove: ($event: any) => (_ctx.onPointerMoveInteraction($event, interaction)),\n                onPointerup: ($event: any) => (_ctx.onPointerUpInteraction($event, interaction)),\n                onPointerDownResizeHandle: _ctx.onPointerDownResizeHandle,\n                onPointerMoveResizeHandle: _ctx.onPointerMoveResizeHandle,\n                onPointerUpResizeHandle: _ctx.onPointerUpResizeHandle\n              }, null, 8, [\"id\", \"style\", \"interaction\", \"onClick\", \"onPointerdown\", \"onPointermove\", \"onPointerup\", \"onPointerDownResizeHandle\", \"onPointerMoveResizeHandle\", \"onPointerUpResizeHandle\"]))\n            : _createCommentVNode(\"\", true)\n      ], 64))\n    }), 128)),\n    _createVNode(_Transition, { name: \"fade\" }, {\n      default: _withCtx(() => [\n        (_ctx.activeInteraction?.type === 'lmbTask')\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              class: \"active-interaction-container\",\n              onClick: _cache[5] || (_cache[5] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.closeInteraction && _ctx.closeInteraction(...args)), [\"self\"]))\n            }, [\n              _createElementVNode(\"div\", _hoisted_7, [\n                _createElementVNode(\"h1\", null, _toDisplayString(_ctx.printTaskType(_ctx.activeInteraction.taskDefinition.task_type)), 1),\n                (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.viewerForTaskType(_ctx.activeInteraction.taskDefinition.task_type)), {\n                  task: _ctx.activeInteraction.taskDefinition\n                }, null, 8, [\"task\"])),\n                _createElementVNode(\"button\", {\n                  type: \"button\",\n                  class: \"button cancel\",\n                  onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.closeInteraction && _ctx.closeInteraction(...args)))\n                }, _toDisplayString(_ctx.$gettext('Schlieen')), 1)\n              ])\n            ]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ], 2))\n}","import { InjectionKey, Ref } from 'vue';\n\n/**\n * In the Interactive Video Editor, we use provide/inject to pass data to many\n * different components at once without prop drilling.\n * There is a little bit of ceremony required to have the passed data be statically typed.\n * https://vuejs.org/guide/typescript/composition-api.html#typing-provide-inject\n */\nexport const editorStateSymbol = Symbol(\n  'Interactive Video Editor state'\n) as InjectionKey<EditorState>;\n\nexport interface EditorState {\n  selectedInteractionId: Ref<string | undefined>;\n  selectInteraction(id: string): void;\n  editInteraction(id: string): void;\n  dragInteraction(\n    interactionId: string,\n    clampedXFraction: number,\n    clampedYFraction: number\n  ): void;\n  resizeOverlay(\n    id: string,\n    x: number,\n    y: number,\n    width: number,\n    height: number\n  ): void;\n  deleteInteraction(interactionId: string): void;\n\n  dragInteractionTimeline(id: string, startTime: number): void;\n}\n","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-ab6f7b1e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"data-hover-tooltip\"]\nconst _hoisted_2 = { class: \"interaction-label\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"icon-circle-border\" }, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"button\", {\n    type: \"button\",\n    class: _normalizeClass([\"lmb-task-interaction\", {\n      selected: _ctx.editor?.selectedInteractionId.value === _ctx.interaction.id,\n      editor: !!_ctx.editor,\n    }]),\n    \"data-hover-tooltip\": _ctx.printTaskType(_ctx.interaction.taskDefinition.task_type),\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (!this.editor && _ctx.$emit('activateInteraction', _ctx.interaction)))\n  }, [\n    _createElementVNode(\"div\", _hoisted_2, _toDisplayString(_ctx.printTaskType(_ctx.interaction.taskDefinition.task_type)), 1),\n    _hoisted_3,\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"icon-circle button no-hover-effect\", _ctx.iconForTaskType(_ctx.interaction.taskDefinition.task_type)])\n    }, null, 2)\n  ], 10, _hoisted_1))\n}","\nimport { defineComponent, inject, PropType } from 'vue';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport { Interaction, LmbTaskInteraction } from '@/models/InteractiveVideoTask';\nimport { iconForTaskType, printTaskType } from '../../../models/TaskDefinition';\n\nexport default defineComponent({\n  name: 'LmbTaskInteraction',\n  methods: { iconForTaskType, printTaskType },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    interaction: {\n      type: Object as PropType<LmbTaskInteraction>,\n      required: true,\n    },\n  },\n});\n","import { render } from \"./LmbTaskInteraction.vue?vue&type=template&id=ab6f7b1e&scoped=true&ts=true\"\nimport script from \"./LmbTaskInteraction.vue?vue&type=script&lang=ts\"\nexport * from \"./LmbTaskInteraction.vue?vue&type=script&lang=ts\"\n\nimport \"./LmbTaskInteraction.vue?vue&type=style&index=0&id=ab6f7b1e&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ab6f7b1e\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-314d185c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"data-hover-tooltip\"]\nconst _hoisted_2 = [\"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_3 = [\"innerHTML\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"overlay\", {\n      selected: _ctx.editor?.selectedInteractionId.value === _ctx.interaction.id,\n      editor: !!_ctx.editor,\n    }]),\n    \"data-hover-tooltip\": _ctx.$gettext('Einblendung')\n  }, [\n    (_ctx.editor)\n      ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_ctx.resizeHandles, (handle) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: handle,\n            class: _normalizeClass([\"resize-handle\", handle]),\n            onPointerdown: _withModifiers(($event: any) => (_ctx.onPointerDownResizeHandle($event, handle)), [\"stop\"]),\n            onPointermove: _withModifiers(($event: any) => (_ctx.onPointerMoveResizeHandle($event, handle)), [\"stop\"]),\n            onPointerup: _withModifiers(($event: any) => (_ctx.onPointerUpResizeHandle($event, handle)), [\"stop\"])\n          }, null, 42, _hoisted_2))\n        }), 128))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      class: \"overlay-content\",\n      innerHTML: _ctx.interaction.content_wysiwyg\n    }, null, 8, _hoisted_3)\n  ], 10, _hoisted_1))\n}","\nimport { defineComponent, inject, PropType } from 'vue';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport { OverlayInteraction } from '@/models/InteractiveVideoTask';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'OverlayInteraction',\n  methods: {\n    $gettext,\n    onPointerDownResizeHandle(event: PointerEvent, handle: string) {\n      this.$emit('pointerDownResizeHandle', {\n        event,\n        handle,\n        interaction: this.interaction,\n      });\n    },\n    onPointerMoveResizeHandle(event: PointerEvent, handle: string) {\n      this.$emit('pointerMoveResizeHandle', {\n        event,\n        handle,\n        interaction: this.interaction,\n      });\n    },\n    onPointerUpResizeHandle(event: PointerEvent, handle: string) {\n      this.$emit('pointerUpResizeHandle', {\n        event,\n        handle,\n        interaction: this.interaction,\n      });\n    },\n  },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  data() {\n    return {\n      resizeHandles: [\n        'left',\n        'top-left',\n        'top',\n        'top-right',\n        'right',\n        'bottom-right',\n        'bottom',\n        'bottom-left',\n      ],\n    };\n  },\n  props: {\n    interaction: {\n      type: Object as PropType<OverlayInteraction>,\n      required: true,\n    },\n  },\n});\n","import { render } from \"./OverlayInteraction.vue?vue&type=template&id=314d185c&scoped=true&ts=true\"\nimport script from \"./OverlayInteraction.vue?vue&type=script&lang=ts\"\nexport * from \"./OverlayInteraction.vue?vue&type=script&lang=ts\"\n\nimport \"./OverlayInteraction.vue?vue&type=style&index=0&id=314d185c&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-314d185c\"]])\n\nexport default __exports__","\nimport { defineComponent, inject, PropType } from 'vue';\nimport videojs from 'video.js';\nimport Player from 'video.js/dist/types/player';\nrequire('!style-loader!css-loader!video.js/dist/video-js.css');\nimport 'videojs-youtube/dist/Youtube.min.js';\nimport {\n  Interaction,\n  InteractiveVideoTask,\n  NoVideo,\n  printInteractionType,\n  ResizeHandle,\n  StudipFileVideo,\n  Video,\n  YoutubeVideo,\n} from '@/models/InteractiveVideoTask';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport LmbTaskInteraction from '@/components/interactiveVideo/interactions/LmbTaskInteraction.vue';\nimport { printTaskType, viewerForTaskType } from '@/models/TaskDefinition';\nimport { $gettext } from '../../language/gettext';\nimport { createPopper, Instance } from '@popperjs/core';\nimport type { StrictModifiers } from '@popperjs/core';\nimport { v4 } from 'uuid';\nimport OverlayInteraction from '@/components/interactiveVideo/interactions/OverlayInteraction.vue';\nimport { OverlayInteraction as OverlayInteractionType } from '@/models/InteractiveVideoTask';\nimport { mapActions, mapGetters } from 'vuex';\nimport { fileRefsSchema } from '@/routes/jsonApi';\n\ntype DragState =\n  | {\n      type: 'dragInteraction';\n      interactionId: string;\n      mouseStartPos: [number, number]; // clientX, clientY\n      interactionStartPos: [number, number]; // fraction x, fraction y\n    }\n  | {\n      type: 'resizeInteraction';\n      interactionId: string;\n      mouseStartPos: [number, number]; // clientX, clientY\n      interactionStartPos: [number, number]; // fraction x, fraction y\n      interactionStartSize: [number, number]; // fraction x, fraction y\n      handle: string;\n    }\n  | undefined;\n\ntype LoadedStudipFileVideo = StudipFileVideo & {\n  download_url: string;\n  mime_type: string;\n};\ntype VideoInfo = LoadedStudipFileVideo | NoVideo | YoutubeVideo;\n\nlet popperInstance: Instance | undefined;\nexport default defineComponent({\n  name: 'VideoPlayer',\n  components: { OverlayInteraction, LmbTaskInteraction },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    task: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      player: null as Player | null,\n      // The time the video player is seeked to\n      time: 0,\n      // The time reached by the user watching the video without seeking.\n      // This is used to enforce the setting 'disable navigation'.\n      playedTime: 0,\n      isPlaying: false,\n      dragState: undefined as DragState,\n      activeInteraction: undefined as Interaction | undefined,\n      progressBarParameters: {\n        widthPixels: 1,\n        xOffsetPixels: 0,\n      },\n      progressBarObserver: undefined as ResizeObserver | undefined,\n      videoInfo: Promise.resolve({ type: 'none' }) as Promise<VideoInfo>,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      fileRefById: 'file-refs/byId',\n    }),\n    // A unique ID for this instance of VideoPlayer, so that we can refer\n    // to elements inside of it by ID when there are multiple VideoPlayers\n    // (e.g. viewer on one tab, editor on another tab).\n    uid(): string {\n      return v4();\n    },\n    // Return the Interaction, if any, for which a popper tooltip should be shown\n    interactionForPopper(): Interaction | undefined {\n      // The popper should only be rendered if the selected interaction is visible.\n      if (\n        this.selectedInteraction &&\n        this.visibleInteractions.includes(this.selectedInteraction)\n      ) {\n        return this.selectedInteraction;\n      } else {\n        return undefined;\n      }\n    },\n    selectedInteraction(): Interaction | undefined {\n      return this.task.interactions.find(\n        (i) => i.id === this.selectedInteractionId\n      );\n    },\n    selectedInteractionId(): string | undefined {\n      return this.editor?.selectedInteractionId.value;\n    },\n    /**\n     * @return a list of Interaction objects whose clickable icons (or other elements)\n     * should be shown overlaid over the video at the timestamp given by this.time.\n     */\n    visibleInteractions(): Interaction[] {\n      return this.task.interactions.filter((i) => {\n        return i.startTime <= this.time && i.endTime > this.time;\n      });\n    },\n    // Computed property created so that we can register a watcher which triggers\n    // when either of these things changes.\n    timeAndVisibleInteractions(): [number, Interaction[]] {\n      return [this.time, this.visibleInteractions];\n    },\n  },\n  watch: {\n    'task.video': {\n      handler(video: Video) {\n        console.log('video prop changed', video);\n        this.videoInfo = this.loadVideoInfo(video);\n        this.videoInfo.then((videoInfo) => {\n          this.initializePlayer(videoInfo);\n        });\n      },\n      immediate: true,\n    },\n    // Handle pausing the video when an interaction becomes visible.\n    timeAndVisibleInteractions(\n      [newTime, newVisibleInteractions]: [number, Interaction[]],\n      [oldTime, oldVisibleInteractions]: [number, Interaction[]]\n    ): void {\n      const isPlayingForward = this.isPlaying && newTime > oldTime;\n      const newlyVisibleInteractionWithPause = newVisibleInteractions.find(\n        (i) => !oldVisibleInteractions.includes(i) && i.pauseWhenVisible\n      );\n      if (isPlayingForward && newlyVisibleInteractionWithPause) {\n        console.log(\n          'pausing for interaction: ',\n          newlyVisibleInteractionWithPause\n        );\n        this.player!.pause();\n      }\n    },\n    interactionForPopper: {\n      immediate: true,\n      handler: function (interaction: Interaction | undefined) {\n        popperInstance?.destroy();\n        if (interaction) {\n          // Run on next tick, because we need to wait for the interactionElement\n          // to be rendered by Vue, in case it isn't yet visible at the moment this\n          // watcher is triggered.\n          // For example, if the user clicks on the timeline to jump to a point\n          // in the video where the currently selected interaction is visible,\n          // when it previously was not.\n          this.$nextTick(() => {\n            const interactionElement = document.getElementById(\n              `interaction-${this.uid}-${interaction.id}`\n            ) as HTMLElement;\n            const tooltipElement = this.$refs\n              .selectedInteractionTooltip as HTMLElement;\n            popperInstance = createPopper(interactionElement, tooltipElement, {\n              placement: 'top',\n              modifiers: [\n                {\n                  name: 'offset',\n                  options: {\n                    offset: [0, 8],\n                  },\n                },\n              ],\n            });\n          });\n        }\n      },\n    },\n  },\n  methods: {\n    printInteractionType,\n    $gettext,\n    printTaskType,\n    viewerForTaskType,\n    ...mapActions({\n      loadFileRef: 'file-refs/loadById',\n    }),\n    onPlayerReady() {\n      console.log('player ready');\n    },\n    // TODO This information is needed in other places in the Interactive\n    //  Video Editor, for example, in 'SelectVideo.vue' to display the name and\n    //  file type of the selected file.  This asynchronous method should be\n    //  implemented and called one time in InteractiveVideoEditor.vue.\n    async loadVideoInfo(video: Video): Promise<VideoInfo> {\n      switch (video.type) {\n        case 'youtube':\n        case 'none':\n          return video;\n        case 'studipFileReference': {\n          await this.loadFileRef({ id: video.file_id });\n          const ref = fileRefsSchema.parse(\n            this.fileRefById({ id: video.file_id })\n          );\n          return {\n            ...video,\n            mime_type: ref.attributes['mime-type'],\n            download_url: ref.meta['download-url'],\n          };\n        }\n      }\n    },\n    videoUrl(videoInfo: VideoInfo): string {\n      switch (videoInfo.type) {\n        case 'youtube':\n          return videoInfo.url;\n        case 'studipFileReference':\n          return videoInfo.download_url;\n        default:\n          return '';\n      }\n    },\n    videoType(videoInfo: VideoInfo): string | undefined {\n      switch (videoInfo.type) {\n        case 'youtube':\n          return 'video/youtube';\n        case 'studipFileReference':\n          return videoInfo.mime_type;\n        default:\n          return '';\n      }\n    },\n    initializePlayer(videoInfo: VideoInfo) {\n      // If player has already been created, it must be destroyed before we\n      // create a new one.\n      this.progressBarObserver?.disconnect();\n      this.player?.dispose();\n\n      // The dispose() method removes the player element from the dom, so we must\n      // create and append the player element by hand to the DOM each time.\n      const playerElement = document.createElement('video-js');\n      playerElement.classList.add('video-js', 'vjs-fluid');\n      (this.$refs.videoJsContainer as HTMLDivElement).appendChild(\n        playerElement\n      );\n\n      // Create the player and set up event listeners\n      this.player = videojs(\n        playerElement,\n        {\n          techOrder: ['html5', 'youtube'],\n          sources: [\n            {\n              src: this.videoUrl(videoInfo),\n              type: this.videoType(videoInfo),\n            },\n          ],\n          controls: true,\n          controlBar: {\n            children: [\n              'playToggle',\n              'progressControl',\n              'currentTimeDisplay',\n              'timeDivider',\n              'durationDisplay',\n              'volumePanel',\n              'fullscreenToggle',\n            ],\n            volumePanel: {\n              inline: false,\n            },\n          },\n          autoplay: this.task.autoplay && !this.editor,\n          // Major browsers block autoplay unless the video is muted.\n          muted: this.task.autoplay && !this.editor,\n        },\n        this.onPlayerReady\n      );\n      this.player.on('timeupdate', () => {\n        const time = this.player!.currentTime();\n        if (time) {\n          this.$emit('timeupdate', time);\n          this.time = time;\n          if (this.isPlaying && !this.player!.paused()!) {\n            // Track how far the user has \"watched\" the video without seeking\n            this.playedTime = Math.max(this.playedTime, time);\n          }\n        }\n      });\n      this.player.on('loadedmetadata', () => {\n        this.playedTime = this.task.startAt;\n        this.player!.currentTime(this.task.startAt);\n        if (this.task.autoplay && !this.editor) {\n          this.player!.play();\n        }\n        this.$emit('metadataChange', {\n          length: this.player!.duration(),\n        });\n      });\n      this.player.on('playing', () => {\n        this.isPlaying = true;\n      });\n      this.player.on(['waiting', 'pause'], () => {\n        this.isPlaying = false;\n      });\n\n      const enforceDisabledNavigation = () => {\n        if (this.task.disableNavigation === 'forward disabled') {\n          // Prevent forward navigation\n          if (this.player!.currentTime()! - this.playedTime > 0.5) {\n            this.player!.currentTime(this.playedTime);\n          }\n        } else if (\n          this.task.disableNavigation === 'forward and backward disabled'\n        ) {\n          // Prevent all navigation\n          if (Math.abs(this.player!.currentTime()! - this.playedTime) > 0.5) {\n            this.player!.currentTime(this.playedTime);\n          }\n        }\n      };\n      this.player.on('seeking', () => {\n        if (!this.editor) {\n          enforceDisabledNavigation();\n        }\n      });\n      this.player.on('seeked', () => {\n        if (!this.editor) {\n          enforceDisabledNavigation();\n        }\n      });\n\n      // Observe the progress bar -- we need to know its size and location\n      // in order to position our interaction markers correctly on top of it.\n      const progressBarEls = playerElement.getElementsByClassName(\n        'vjs-progress-holder'\n      );\n      const progressHolder = progressBarEls.item(0) as HTMLElement | undefined;\n      if (!progressHolder) {\n        console.error('no progress holder found');\n      } else {\n        this.progressBarObserver = new ResizeObserver((entries) => {\n          const root = this.$refs.root as HTMLElement;\n          const rootLeft = root.getBoundingClientRect().x;\n          const progressHolderLeft = progressHolder.getBoundingClientRect().x;\n          const offset = progressHolderLeft - rootLeft;\n          this.progressBarParameters.xOffsetPixels = offset;\n          this.progressBarParameters.widthPixels = progressHolder.clientWidth;\n        });\n        this.progressBarObserver.observe(progressHolder);\n      }\n    },\n    activateInteraction(interaction: Interaction) {\n      this.activeInteraction = interaction;\n      this.player!.pause();\n    },\n    closeInteraction() {\n      this.activeInteraction = undefined;\n    },\n    editInteraction(interaction: Interaction) {\n      this.editor!.editInteraction(interaction.id);\n    },\n    onPointerDownResizeHandle(payload: {\n      event: PointerEvent;\n      handle: ResizeHandle;\n      interaction: OverlayInteractionType;\n    }) {\n      console.log('onPointerDownResizeHandle');\n      if (!this.editor) {\n        return;\n      }\n      const { event, handle, interaction } = payload;\n      this.editor.selectInteraction(interaction.id);\n      this.dragState = {\n        type: 'resizeInteraction',\n        interactionId: interaction.id,\n        mouseStartPos: [event.clientX, event.clientY],\n        interactionStartPos: [interaction.x, interaction.y],\n        interactionStartSize: [interaction.width, interaction.height],\n        handle,\n      };\n      (event.target as HTMLElement).setPointerCapture(event.pointerId);\n    },\n    onPointerUpResizeHandle(payload: {\n      event: PointerEvent;\n      handle: ResizeHandle;\n      interaction: Interaction;\n    }) {\n      console.log('onPointerUpResizeHandle');\n      this.dragState = undefined;\n      (payload.event.target as HTMLElement).releasePointerCapture(\n        payload.event.pointerId\n      );\n    },\n    onPointerMoveResizeHandle(payload: {\n      event: PointerEvent;\n      handle: ResizeHandle;\n      interaction: OverlayInteractionType;\n    }) {\n      const { event, handle, interaction } = payload;\n      if (\n        this.dragState?.type === 'resizeInteraction' &&\n        this.dragState.interactionId === interaction.id\n      ) {\n        const rootRect = (\n          this.$refs.root as HTMLElement\n        ).getBoundingClientRect();\n        const interactionEl = document.getElementById(\n          `interaction-${this.uid}-${interaction.id}`\n        ) as HTMLElement;\n\n        // TODO implement resizing\n        const {\n          interactionStartPos: [xInitial, yInitial],\n          interactionStartSize: [widthInitial, heightInitial],\n        } = this.dragState;\n        let newX = xInitial;\n        let newWidth = widthInitial;\n        let newY = yInitial;\n        let newHeight = heightInitial;\n\n        // Convert mouse movement in pixels to fractions of root rect width/height\n        const xPointer = event.clientX / rootRect.width;\n        const dxPointerPixels = event.clientX - this.dragState.mouseStartPos[0];\n        const dxPointer = dxPointerPixels / rootRect.width;\n\n        const yPointer = event.clientY / rootRect.height;\n        const dyPointerPixels = event.clientY - this.dragState.mouseStartPos[1];\n        const dyPointer = dyPointerPixels / rootRect.height;\n\n        // Horizontal resizing\n        if (\n          handle === 'left' ||\n          handle === 'top-left' ||\n          handle === 'bottom-left'\n        ) {\n          if (xPointer > xInitial + widthInitial) {\n            newX = xInitial + widthInitial;\n            newWidth = xPointer - newX;\n          } else {\n            newX = xInitial + dxPointer;\n            newWidth = widthInitial - dxPointer;\n          }\n        } else if (\n          handle === 'right' ||\n          handle === 'top-right' ||\n          handle === 'bottom-right'\n        ) {\n          if (xPointer < xInitial) {\n            newX = xPointer;\n            newWidth = xInitial - xPointer;\n          } else {\n            newX = xInitial;\n            newWidth = widthInitial + dxPointer;\n          }\n        }\n\n        // Vertical resizing\n        if (\n          handle === 'top-left' ||\n          handle === 'top' ||\n          handle === 'top-right'\n        ) {\n          if (yPointer > yInitial + heightInitial) {\n            newY = yInitial + heightInitial;\n            newHeight = yPointer - newY;\n          } else {\n            newY = yInitial + dyPointer;\n            newHeight = heightInitial - dyPointer;\n          }\n        } else if (\n          handle === 'bottom-left' ||\n          handle === 'bottom' ||\n          handle === 'bottom-right'\n        ) {\n          if (yPointer < yInitial) {\n            newY = yPointer;\n            newHeight = yInitial - yPointer;\n          } else {\n            newY = yInitial;\n            newHeight = heightInitial + dyPointer;\n          }\n        }\n\n        // Prevent shrinking the interaction below a minimum size\n        let filteredHeight = interaction.height,\n          filteredWidth = interaction.width,\n          filteredX = interaction.x,\n          filteredY = interaction.y;\n        if (newHeight > 0.05) {\n          filteredHeight = newHeight;\n          filteredY = newY;\n        }\n        if (newWidth > 0.05) {\n          filteredWidth = newWidth;\n          filteredX = newX;\n        }\n\n        // Prevent moving the interaction completely off screen\n        const isOffscreenX =\n          filteredX > 0.95 || filteredX + filteredWidth < 0.05;\n        const isOffscreenY =\n          filteredY > 0.95 || filteredY + filteredHeight < 0.05;\n        if (isOffscreenX) {\n          filteredX = interaction.x;\n          filteredWidth = interaction.width;\n        }\n        if (isOffscreenY) {\n          filteredY = interaction.y;\n          filteredHeight = interaction.height;\n        }\n\n        this.editor!.resizeOverlay(\n          interaction.id,\n          filteredX,\n          filteredY,\n          filteredWidth,\n          filteredHeight\n        );\n        popperInstance?.update();\n      }\n    },\n    onPointerDownInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerDownInteraction');\n      if (!this.editor) {\n        return;\n      }\n      this.editor.selectInteraction(interaction.id);\n      this.dragState = {\n        type: 'dragInteraction',\n        interactionId: interaction.id,\n        mouseStartPos: [event.clientX, event.clientY],\n        interactionStartPos: [interaction.x, interaction.y],\n      };\n      (event.target as HTMLElement).setPointerCapture(event.pointerId);\n    },\n    onPointerUpInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerUpInteraction');\n      this.dragState = undefined;\n      (event.target as HTMLElement).releasePointerCapture(event.pointerId);\n    },\n    onPointerMoveInteraction(event: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'dragInteraction' &&\n        this.dragState.interactionId === interaction.id\n      ) {\n        const rootRect = (\n          this.$refs.root as HTMLElement\n        ).getBoundingClientRect();\n        const interactionEl = event.currentTarget as HTMLElement;\n\n        const clientDx = event.clientX - this.dragState.mouseStartPos[0];\n        const dxFraction = clientDx / rootRect.width;\n        const xFraction = this.dragState.interactionStartPos[0] + dxFraction;\n        const interactionWidth = interactionEl.clientWidth / rootRect.width;\n        const minX = 0.05 - interactionWidth;\n        const maxX = 0.95;\n        const clampedXFraction = Math.min(maxX, Math.max(minX, xFraction));\n\n        const clientDy = event.clientY - this.dragState.mouseStartPos[1];\n        const dyFraction = clientDy / rootRect.height;\n        const yFraction = this.dragState.interactionStartPos[1] + dyFraction;\n        const interactionHeight = interactionEl.clientHeight / rootRect.height;\n        const minY = 0.05 - interactionHeight;\n        const maxY = 0.95;\n        const clampedYFraction = Math.min(maxY, Math.max(minY, yFraction));\n\n        const id = this.dragState.interactionId;\n        this.editor?.dragInteraction(id, clampedXFraction, clampedYFraction);\n        popperInstance?.update();\n      }\n    },\n    progressBarInteractionMarkerStyle(\n      interaction: Interaction\n    ): Partial<CSSStyleDeclaration> {\n      const progressPercentage =\n        interaction.startTime / (this.player?.duration() ?? 1);\n      const timeOffsetPx =\n        this.progressBarParameters.widthPixels * progressPercentage;\n      return {\n        left: `calc(${this.progressBarParameters.xOffsetPixels}px +\n        ${timeOffsetPx}px - 0.25em)`,\n      };\n    },\n    onClickInteractionMarker(interaction: Interaction): void {\n      this.editor?.selectInteraction(interaction.id);\n      // Give keyboard focus to the interaction whose interaction marker was clicked.\n      const focusInteraction = () => {\n        const interactionElement = document.getElementById(\n          `interaction-${this.uid}-${interaction.id}`\n        ) as HTMLElement;\n        interactionElement.focus({\n          focusVisible: true,\n        } as any);\n      };\n      if (!this.visibleInteractions.includes(interaction)) {\n        // Wait for player to seek so the interaction becomes visible\n        this.player!.one('seeked', () => {\n          // Need to wait one Vue 'tick' so that the interaction element appears.\n          this.$nextTick(focusInteraction);\n        });\n      } else {\n        // The interaction is already visible. Focus it immediately.\n        focusInteraction();\n      }\n      // Skip to a time just slightly ahead of the point where the interaction\n      // appears.  This is necessary to avoid off-by-one-frame errors\n      const delta = 0.2;\n      const difference = this.player!.currentTime()! - interaction.startTime;\n      if (difference < 0 || difference > delta) {\n        this.player!.currentTime(interaction.startTime + delta / 2);\n      }\n    },\n  },\n  beforeUnmount() {\n    this.progressBarObserver?.disconnect();\n  },\n});\n","import { render } from \"./VideoPlayer.vue?vue&type=template&id=e926de64&scoped=true&ts=true\"\nimport script from \"./VideoPlayer.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoPlayer.vue?vue&type=script&lang=ts\"\n\nimport \"./VideoPlayer.vue?vue&type=style&index=0&id=e926de64&scoped=true&lang=scss\"\nimport \"./VideoPlayer.vue?vue&type=style&index=1&id=e926de64&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e926de64\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-32afa486\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"tick-label\" }\nconst _hoisted_2 = [\"onClick\", \"title\"]\nconst _hoisted_3 = { class: \"timeline-interactions\" }\nconst _hoisted_4 = [\"title\"]\nconst _hoisted_5 = { class: \"overflow-container\" }\nconst _hoisted_6 = [\"onClick\", \"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_7 = { class: \"timeline-interaction-label\" }\nconst _hoisted_8 = [\"title\", \"onClick\"]\nconst _hoisted_9 = [\"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_10 = [\"onPointerdown\", \"onPointermove\", \"onPointerup\"]\nconst _hoisted_11 = { style: {\"white-space\":\"pre-wrap\",\"display\":\"none\"} }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    ref: \"root\",\n    class: \"timeline-root\",\n    onDragoverCapture: _cache[6] || (_cache[6] = \n//@ts-ignore\n(...args) => (_ctx.onDragOverTimeline && _ctx.onDragOverTimeline(...args)))\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"timeline-axis\",\n      ref: \"timelineAxis\",\n      onPointerdown: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onPointerDownAxis && _ctx.onPointerDownAxis(...args)))\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.axisScale, (point, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"tick\",\n          key: index\n        }, [\n          _createElementVNode(\"div\", _hoisted_1, _toDisplayString(index % 5 === 0 ? _ctx.formatVideoTimestamp(point) : ' '), 1),\n          _createElementVNode(\"div\", {\n            class: _normalizeClass([\"tick-line\", {\n            major: index % 5 === 0,\n          }])\n          }, null, 2)\n        ]))\n      }), 128)),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.visibleInteractions, (interaction) => {\n        return (_openBlock(), _createElementBlock(\"button\", {\n          key: interaction.id,\n          class: \"interaction-marker\",\n          style: _normalizeStyle(_ctx.interactionMarkerStyle(interaction)),\n          onPointerdown: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"])),\n          onClick: _withModifiers(($event: any) => {\n          _ctx.onClickInteraction(interaction);\n          _ctx.$emit('timelineSeek', interaction.startTime + 0.1);\n        }, [\"stop\"]),\n          title: \n          _ctx.$gettext('Zu %{ interaction } springen', {\n            interaction: _ctx.printInteractionType(interaction),\n          })\n        \n        }, null, 44, _hoisted_2))\n      }), 128))\n    ], 544),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"timeline\", { 'pan-timeline': this.dragState?.type === 'panTimeline' }]),\n      ref: \"timeline\",\n      onPointerdown: _cache[3] || (_cache[3] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.onPointerDownAxis && _ctx.onPointerDownAxis(...args)), [\"self\"])),\n      onWheel: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.onWheel && _ctx.onWheel(...args))),\n      onContextmenu: _cache[5] || (_cache[5] = _withModifiers(() => {}, [\"prevent\"]))\n    }, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.visibleInteractions, (interaction) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: interaction.id,\n            class: _normalizeClass([\"timeline-interaction\", {\n            selected: _ctx.selectedInteractionId === interaction.id,\n          }]),\n            style: _normalizeStyle(_ctx.timelineInteractionStyle(interaction)),\n            title: _ctx.printInteractionType(interaction)\n          }, [\n            _createElementVNode(\"div\", _hoisted_5, [\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                class: _normalizeClass([\"button select-interaction\", _ctx.iconForInteraction(interaction)]),\n                onClick: _withModifiers(($event: any) => (_ctx.onClickInteraction(interaction)), [\"stop\"]),\n                onPointerdown: ($event: any) => (_ctx.onPointerDownInteraction($event, interaction)),\n                onPointermove: ($event: any) => (_ctx.onPointerMoveInteraction($event, interaction)),\n                onPointerup: ($event: any) => (_ctx.onPointerUpInteraction($event, interaction))\n              }, [\n                _createElementVNode(\"span\", _hoisted_7, _toDisplayString(_ctx.printInteractionType(interaction)), 1)\n              ], 42, _hoisted_6),\n              (interaction.endTime < _ctx.viewportEnd)\n                ? (_openBlock(), _createElementBlock(\"button\", {\n                    key: 0,\n                    type: \"button\",\n                    class: \"small-button trash delete-interaction\",\n                    title: _ctx.$gettext('Lschen'),\n                    onClick: ($event: any) => (_ctx.$emit('deleteInteraction', interaction.id))\n                  }, null, 8, _hoisted_8))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _createElementVNode(\"div\", {\n              class: \"interaction-drag-handle start\",\n              onPointerdown: ($event: any) => (_ctx.onPointerDownInteractionStart($event, interaction)),\n              onPointermove: ($event: any) => (_ctx.onPointerMoveInteractionStart($event, interaction)),\n              onPointerup: ($event: any) => (_ctx.onPointerUpInteractionStart($event, interaction))\n            }, null, 40, _hoisted_9),\n            _createElementVNode(\"div\", {\n              class: \"interaction-drag-handle end\",\n              onPointerdown: ($event: any) => (_ctx.onPointerDownInteractionEnd($event, interaction)),\n              onPointermove: ($event: any) => (_ctx.onPointerMoveInteractionEnd($event, interaction)),\n              onPointerup: ($event: any) => (_ctx.onPointerUpInteractionEnd($event, interaction))\n            }, null, 40, _hoisted_10)\n          ], 14, _hoisted_4))\n        }), 128))\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"time-marker\",\n        draggable: \"true\",\n        onDragstart: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.onDragStartTimeMarker && _ctx.onDragStartTimeMarker(...args))),\n        style: _normalizeStyle({\n          left: _ctx.positionForTimeMarker,\n        })\n      }, null, 36)\n    ], 34),\n    _createElementVNode(\"div\", _hoisted_11, _toDisplayString({\n          zoomTransform: _ctx.zoomTransform,\n          viewportWidthEm: _ctx.viewportWidthEm,\n          viewportWidthSeconds: _ctx.viewportWidthSeconds,\n          viewportStart: _ctx.viewportStart,\n          viewportEnd: _ctx.viewportEnd,\n          dragState: _ctx.dragState,\n        }), 1)\n  ], 544))\n}","/**\n * Get the equivalent EM value on a given element with a given pixel value.\n *\n * Normally the number of pixel specified should come from the element itself (e.g. element.style.height) since EM is\n * relative.\n *\n * @param {Object} element - The HTML element.\n * @param {Number} pixelValue - The number of pixel to convert in EM on this specific element.\n * @author Nicolas Bouvrette\n * @license CC BY-SA 3.0 https://stackoverflow.com/a/34540037/7359454\n * Adapted by Ann Yanich\n *\n * @returns {Boolean|undefined} The EM value, or undefined if unable to convert.\n */\nexport default function getEmValueFromElement(\n  element: Element,\n  pixelValue: number\n): number | undefined {\n  if (element.parentNode) {\n    const parentFontSize = parseFloat(\n      window.getComputedStyle(element.parentNode as Element).fontSize\n    );\n    const elementFontSize = parseFloat(\n      window.getComputedStyle(element).fontSize\n    );\n    const pixelValueOfOneEm =\n      (elementFontSize / parentFontSize) * elementFontSize;\n    return pixelValue / pixelValueOfOneEm;\n  }\n  return undefined;\n}\n","\nimport {\n  ComponentPublicInstance,\n  defineComponent,\n  inject,\n  PropType,\n  StyleValue,\n} from 'vue';\nimport { VideoMetadata } from '@/components/interactiveVideo/events';\nimport { throttle } from 'lodash';\nimport {\n  iconForInteraction,\n  Interaction,\n  InteractiveVideoTask,\n  printInteractionType,\n} from '@/models/InteractiveVideoTask';\nimport { $gettext } from '../../language/gettext';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport getEmValueFromElement from '@/components/interactiveVideo/getEmValueFromElement';\nimport { select } from 'd3-selection';\nimport { D3DragEvent, drag } from 'd3-drag';\n\ntype DragState =\n  | { type: 'timeMarker' }\n  | { type: 'panTimeline' }\n  | {\n      type: 'interaction';\n      id: string;\n      mouseStartPos: [number, number]; // clientX, clientY\n      interactionStartTime: number; // Seconds\n      interactionDuration: number; // Seconds\n    }\n  | {\n      type: 'interactionStart';\n      id: string;\n      time: number; // Seconds\n    }\n  | {\n      type: 'interactionEnd';\n      id: string;\n      time: number; // Seconds\n    }\n  | undefined;\nexport default defineComponent({\n  name: 'VideoTimeline',\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    currentTime: {\n      type: Number,\n      required: true,\n    },\n    videoMetadata: {\n      type: Object as PropType<VideoMetadata>,\n      required: true,\n    },\n    task: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n    selectedInteractionId: {\n      type: String,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      dragState: undefined as DragState,\n      zoomTransform: { t: 0, k: 1 },\n      viewportWidthEm: 1,\n    };\n  },\n  mounted() {\n    // When timeline axis becomes visible, its width should be recalculated.\n    // TODO recalculate also when it changes size (e.g. window is resized)\n    const observer = new IntersectionObserver(() =>\n      this.recomputeViewportWidth()\n    );\n    observer.observe(this.$refs.timelineAxis as HTMLElement);\n\n    // Set up d3-drag\n    const dragTimeline = (ev: D3DragEvent<HTMLElement, unknown, unknown>) => {\n      const dSeconds = this.pixelsToSeconds(ev.dx);\n      const translate = this.zoomTransform.t - dSeconds;\n      this.zoomTransform.t = this.constrainZoomTranslate(translate);\n    };\n    const dragBehavior = drag<HTMLElement, unknown>()\n      .filter((event: D3DragEvent<HTMLElement, unknown, unknown>) => {\n        return (event as any).button !== 0; // All buttons except 'left click'\n      })\n      .on('start', () => {\n        this.dragState = { type: 'panTimeline' };\n      })\n      .on('drag', dragTimeline)\n      .on('end', () => {\n        this.dragState = undefined;\n      });\n    select(this.$refs.timeline as HTMLElement).call(dragBehavior);\n  },\n  watch: {\n    // Automatically scroll timeline to keep the current playback position in view\n    currentTime(currentTime: number) {\n      if (currentTime < this.viewportStart || currentTime > this.viewportEnd) {\n        this.zoomTransform.t = this.constrainZoomTranslate(currentTime - 0.5);\n      }\n    },\n  },\n  computed: {\n    visibleInteractions(): Interaction[] {\n      const visibleInteractions: Interaction[] = [];\n      for (let i of this.task.interactions) {\n        const isWithinViewport =\n          i.startTime < this.viewportEnd && i.endTime > this.viewportStart;\n        // An Interaction element should not suddenly disappear if it is dragged\n        // outside of the timeline viewport. That would cause the drag-drop\n        // interaction to unexpectedly end in a confusing way.\n        const isBeingDragged =\n          (this.dragState?.type === 'interaction' ||\n            this.dragState?.type === 'interactionStart' ||\n            this.dragState?.type === 'interactionEnd') &&\n          this.dragState.id === i.id;\n        if (isWithinViewport || isBeingDragged) {\n          visibleInteractions.push(i);\n        }\n      }\n      return visibleInteractions;\n    },\n    viewportWidthSeconds(): number {\n      const secondsPerEm = 0.5 / this.zoomTransform.k;\n      return this.viewportWidthEm * secondsPerEm;\n    },\n    viewportStart(): number {\n      return this.zoomTransform.t;\n    },\n    viewportEnd(): number {\n      return this.viewportStart + this.viewportWidthSeconds;\n    },\n    positionForTimeMarker(): string {\n      return `${this.secondsToTimelinePercentage(this.currentTime)}%`;\n    },\n    axisScale(): number[] {\n      const points = 25;\n      const start = this.viewportStart;\n      const end = this.viewportEnd;\n      const scale: number[] = [];\n      for (let i = 0; i < points; i++) {\n        scale.push(start + ((end - start) / points) * i);\n      }\n      scale.push(end);\n      return scale;\n    },\n  },\n  methods: {\n    iconForInteraction,\n    printInteractionType,\n    $gettext,\n    secondsToTimelinePercentage(seconds: number): number {\n      const deltaT = seconds - this.viewportStart;\n      return (deltaT / this.viewportWidthSeconds) * 100;\n    },\n    interactionMarkerStyle(\n      interaction: Interaction\n    ): Partial<CSSStyleDeclaration> {\n      return {\n        left: `${this.secondsToTimelinePercentage(interaction.startTime)}%`,\n      };\n    },\n    zoom(delta: number, time?: number) {\n      if (!time) {\n        time = (this.viewportStart + this.viewportEnd) / 2;\n      }\n      // Save information needed to recalculate 't' (translate) parameter after zoom\n      const viewportStart0 = this.zoomTransform.t;\n      const viewportWidth0 = this.viewportWidthSeconds;\n\n      // Calculate new zoom level\n      const exp = Math.exp(delta);\n      const newK = this.zoomTransform.k * exp;\n      // Prevent zooming too far in/out\n      this.zoomTransform.k = Math.max(0.005, Math.min(5, newK));\n\n      // Calculate new translation in order to keep the point under the mouse\n      // cursor stationary.\n      // viewportWidthSeconds is recalculated (because it's a computed property)\n      // after zoomTransform.k is modified in the previous block of code..\n      const viewportWidth1 = this.viewportWidthSeconds;\n      const viewportStart1 =\n        time - ((time - viewportStart0) / viewportWidth0) * viewportWidth1;\n      // Prevent panning before video start or after video end\n      this.zoomTransform.t = this.constrainZoomTranslate(viewportStart1);\n    },\n    onWheel(event: WheelEvent) {\n      event.preventDefault(); // Prevent scrolling page up/down\n      const t = this.xCoordinateToTime(event.clientX);\n      const delta = -event.deltaY / 1000;\n      this.zoom(delta, t);\n    },\n    constrainZoomTranslate(t: number): number {\n      return Math.max(0, Math.min(this.videoMetadata.length, t));\n    },\n    pixelsToEm(pixels: number): number {\n      const timeline = this.$refs.timelineAxis;\n      if (!timeline) {\n        return 1;\n      }\n      return (\n        getEmValueFromElement(this.$refs.timelineAxis as HTMLElement, pixels) ??\n        NaN\n      );\n    },\n    recomputeViewportWidth() {\n      const axis = this.$refs.timelineAxis as HTMLElement | null;\n      if (!axis) {\n        console.warn('recomputeViewportWidth: timelineAxis is null');\n        return;\n      }\n      const rect = axis.getBoundingClientRect();\n      const widthInEm = this.pixelsToEm(rect.width);\n      this.viewportWidthEm = widthInEm;\n    },\n    // Format video timestamp for timeline axis. e.g. 1m30s becomes 00;01;30;00\n    formatVideoTimestamp(timestampSeconds: number): string {\n      let hours = 0,\n        minutes = 0,\n        seconds = 0,\n        centiseconds = 0;\n      while (timestampSeconds >= 3600) {\n        hours++;\n        timestampSeconds -= 3600;\n      }\n      while (timestampSeconds >= 60) {\n        minutes++;\n        timestampSeconds -= 60;\n      }\n      while (timestampSeconds >= 1) {\n        seconds++;\n        timestampSeconds -= 1;\n      }\n      centiseconds = Math.floor(timestampSeconds * 100);\n      function twoDigits(n: number): string {\n        return n.toLocaleString('de-DE', {\n          minimumIntegerDigits: 2,\n          maximumFractionDigits: 0,\n        });\n      }\n      return `${twoDigits(hours)};${twoDigits(minutes)};${twoDigits(\n        seconds\n      )};${twoDigits(centiseconds)}`;\n    },\n    pixelsToSeconds(pixels: number): number {\n      const rect = (\n        this.$refs.timelineAxis as HTMLElement\n      ).getBoundingClientRect();\n      const fraction = pixels / rect.width;\n      return fraction * this.viewportWidthSeconds;\n    },\n    /**\n     * Convert the x coordinate in pixels on the timeline to a time in seconds\n     * in the video, clamped between 0 and the video's length.\n     */\n    xCoordinateToTime(clientX: number): number {\n      const rect = (\n        this.$refs.timelineAxis as HTMLElement\n      ).getBoundingClientRect();\n      const x = clientX - rect.left; //x position within the element.\n      const xFraction = x / rect.width;\n      const time = this.viewportStart + xFraction * this.viewportWidthSeconds;\n      const clampedTime = Math.min(\n        this.videoMetadata.length,\n        Math.max(0, time)\n      );\n      return clampedTime;\n    },\n    timelineInteractionStyle(interaction: Interaction): StyleValue {\n      const startDeltaT = interaction.startTime - this.viewportStart;\n      const startPercent = (startDeltaT / this.viewportWidthSeconds) * 100;\n      const endDeltaT = interaction.endTime - this.viewportStart;\n      const endPercent = (endDeltaT / this.viewportWidthSeconds) * 100;\n      return {\n        left: `${startPercent}%`,\n        width: `${endPercent - startPercent}%`,\n      };\n    },\n    onClickInteraction(interaction: Interaction) {\n      console.log('onClickInteraction');\n      this.$emit('clickInteraction', interaction);\n    },\n    onPointerDownInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerDownInteraction');\n      if (event.button !== 0) {\n        // Prevent unintentionally selecting interaction when dragging to\n        // scroll around in the timeline\n        return;\n      }\n      const interactionLength = interaction.endTime - interaction.startTime;\n      this.dragState = {\n        type: 'interaction',\n        id: interaction.id,\n        mouseStartPos: [event.clientX, event.clientY],\n        interactionStartTime: interaction.startTime,\n        interactionDuration: interactionLength,\n      };\n      (event.target as HTMLElement).setPointerCapture(event.pointerId);\n      this.editor!.selectInteraction(interaction.id);\n    },\n    onPointerMoveInteraction(event: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'interaction' &&\n        this.dragState.id === interaction.id\n      ) {\n        const mouseDx = event.clientX - this.dragState.mouseStartPos[0];\n        const rect = (\n          this.$refs.timelineAxis as HTMLElement\n        ).getBoundingClientRect();\n        const secondsPerPixel = this.viewportWidthSeconds / rect.width;\n        const dSeconds = mouseDx * secondsPerPixel;\n        const seconds = this.dragState.interactionStartTime + dSeconds;\n        // Prevent from dragging so far that the endTime > video length\n        const maxTime =\n          this.videoMetadata.length - this.dragState.interactionDuration;\n        const secondsClamped = Math.max(0, Math.min(maxTime, seconds));\n        const id = this.dragState.id;\n        this.editor?.dragInteractionTimeline(id, secondsClamped);\n      }\n    },\n    onPointerUpInteraction(event: PointerEvent, interaction: Interaction) {\n      console.log('onPointerUpInteraction');\n      this.dragState = undefined;\n      (event.target as HTMLElement).releasePointerCapture(event.pointerId);\n    },\n    onPointerDownInteractionStart(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = {\n        type: 'interactionStart',\n        id: interaction.id,\n        time: interaction.startTime,\n      };\n      (ev.target as HTMLElement).setPointerCapture(ev.pointerId);\n    },\n    onPointerDownInteractionEnd(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = {\n        type: 'interactionEnd',\n        id: interaction.id,\n        time: interaction.endTime,\n      };\n      (ev.target as HTMLElement).setPointerCapture(ev.pointerId);\n    },\n    onPointerMoveInteractionStart(ev: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'interactionStart' &&\n        this.dragState.id === interaction.id\n      ) {\n        const dSeconds = this.pixelsToSeconds(ev.movementX);\n        this.dragState.time += dSeconds;\n        const timeClamped = Math.max(\n          0,\n          Math.min(interaction.endTime - 1, this.dragState.time)\n        );\n        // TODO make undoable\n        interaction.startTime = timeClamped;\n      }\n    },\n    onPointerMoveInteractionEnd(ev: PointerEvent, interaction: Interaction) {\n      if (\n        this.dragState?.type === 'interactionEnd' &&\n        this.dragState.id === interaction.id\n      ) {\n        const dSeconds = this.pixelsToSeconds(ev.movementX);\n        this.dragState.time += dSeconds;\n        const secondsClamped = Math.max(\n          interaction.startTime + 1,\n          Math.min(this.videoMetadata.length, this.dragState.time)\n        );\n        // TODO make undoable\n        interaction.endTime = secondsClamped;\n      }\n    },\n    onPointerUpInteractionStart(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = undefined;\n      (ev.target as HTMLElement).releasePointerCapture(ev.pointerId);\n    },\n    onPointerUpInteractionEnd(ev: PointerEvent, interaction: Interaction) {\n      this.dragState = undefined;\n      (ev.target as HTMLElement).releasePointerCapture(ev.pointerId);\n    },\n    onPointerDownAxis(e: PointerEvent) {\n      const time = this.xCoordinateToTime(e.clientX);\n      this.$emit('timelineSeek', time);\n    },\n    onDragStartTimeMarker(e: DragEvent) {\n      console.log('dragstart time marker');\n      this.dragState = { type: 'timeMarker' };\n    },\n    onDragOverTimeline(e: DragEvent) {\n      if (this.dragState?.type === 'timeMarker') {\n        e.preventDefault(); // Stop ghost image from flying back after drop\n        const time = this.xCoordinateToTime(e.clientX);\n        this.emitTimelineSeekThrottled(time);\n      }\n    },\n    emitTimelineSeekThrottled: throttle(function emitTimelineSeek(\n      this: ComponentPublicInstance,\n      time: number\n    ) {\n      this.$emit('timelineSeek', time);\n    },\n    100),\n  },\n});\n","import { render } from \"./VideoTimeline.vue?vue&type=template&id=32afa486&scoped=true&ts=true\"\nimport script from \"./VideoTimeline.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoTimeline.vue?vue&type=script&lang=ts\"\n\nimport \"./VideoTimeline.vue?vue&type=style&index=0&id=32afa486&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-32afa486\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, createBlock as _createBlock, KeepAlive as _KeepAlive, resolveDynamicComponent as _resolveDynamicComponent, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e2de05a4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"selected-interaction-properties\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"default\"\n}\nconst _hoisted_3 = { class: \"collapsable\" }\nconst _hoisted_4 = { class: \"start-and-end-time-inputs\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_VideoTimeInput = _resolveComponent(\"VideoTimeInput\")!\n  const _component_StudipWysiwyg = _resolveComponent(\"StudipWysiwyg\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"h3\", null, _toDisplayString(_ctx.$gettext('Interaktion')) + \" \\\"\" + _toDisplayString(_ctx.printInteractionType(_ctx.selectedInteraction)) + \"\\\" \", 1),\n    (_ctx.selectedInteraction)\n      ? (_openBlock(), _createElementBlock(\"form\", _hoisted_2, [\n          _createElementVNode(\"fieldset\", _hoisted_3, [\n            _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createElementVNode(\"label\", null, [\n                _createTextVNode(_toDisplayString(_ctx.$gettext('Start')) + \" \", 1),\n                _createVNode(_component_VideoTimeInput, {\n                  modelValue: _ctx.inputStartTime,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.inputStartTime) = $event)),\n                  \"onUpdate:error\": _cache[1] || (_cache[1] = (error) => (_ctx.inputStartTimeFormatError = error)),\n                  class: _normalizeClass([\"time-input\", {\n                invalid: _ctx.inputStartTimeErrors.length > 0,\n              }]),\n                  \"aria-invalid\": _ctx.inputStartTimeErrors.length > 0\n                }, null, 8, [\"modelValue\", \"class\", \"aria-invalid\"])\n              ]),\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.inputStartTimeErrors, (error) => {\n                return (_openBlock(), _createElementBlock(\"p\", {\n                  class: \"validation-error\",\n                  key: error\n                }, _toDisplayString(error), 1))\n              }), 128)),\n              _createElementVNode(\"label\", null, [\n                _createTextVNode(_toDisplayString(_ctx.$gettext('Ende')) + \" \", 1),\n                _createVNode(_component_VideoTimeInput, {\n                  modelValue: _ctx.inputEndTime,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.inputEndTime) = $event)),\n                  \"onUpdate:error\": _cache[3] || (_cache[3] = (error) => (_ctx.inputEndTimeFormatError = error)),\n                  class: _normalizeClass([\"time-input\", {\n                invalid: _ctx.inputEndTimeErrors.length > 0,\n              }]),\n                  \"aria-invalid\": _ctx.inputEndTimeErrors.length > 0\n                }, null, 8, [\"modelValue\", \"class\", \"aria-invalid\"])\n              ])\n            ]),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.inputEndTimeErrors, (error) => {\n              return (_openBlock(), _createElementBlock(\"p\", {\n                class: \"validation-error\",\n                key: error\n              }, _toDisplayString(error), 1))\n            }), 128)),\n            _createElementVNode(\"label\", null, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"checkbox\",\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.selectedInteraction.pauseWhenVisible) = $event))\n              }, null, 512), [\n                [_vModelCheckbox, _ctx.selectedInteraction.pauseWhenVisible]\n              ]),\n              _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Video pausieren')), 1)\n            ])\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.selectedInteraction.type === 'overlay')\n      ? (_openBlock(), _createBlock(_KeepAlive, { key: 1 }, [\n          _createElementVNode(\"div\", null, [\n            (_openBlock(), _createBlock(_component_StudipWysiwyg, {\n              key: `${_ctx.selectedInteraction.id}-overlay-wysiwyg`,\n              modelValue: _ctx.selectedInteraction.content_wysiwyg,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.selectedInteraction.content_wysiwyg) = $event))\n            }, null, 8, [\"modelValue\"]))\n          ])\n        ], 1024))\n      : (_ctx.selectedInteraction.type === 'lmbTask')\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n            (_openBlock(), _createBlock(_KeepAlive, null, [\n              (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.editorForTaskType(_ctx.selectedInteraction.taskDefinition.task_type)), {\n                key: `${_ctx.selectedInteraction.id}-editor`,\n                taskDefinition: _ctx.selectedInteraction.taskDefinition\n              }, null, 8, [\"taskDefinition\"]))\n            ], 1024)),\n            _createElementVNode(\"h3\", null, _toDisplayString(_ctx.$gettext('Vorschau')), 1),\n            (_openBlock(), _createBlock(_KeepAlive, null, [\n              (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.viewerForTaskType(_ctx.selectedInteraction.taskDefinition.task_type)), {\n                class: \"lmb-task-preview\",\n                key: `${_ctx.selectedInteraction.id}-viewer`,\n                task: _ctx.selectedInteraction.taskDefinition\n              }, null, 8, [\"task\"]))\n            ], 1024))\n          ], 64))\n        : _createCommentVNode(\"\", true)\n  ]))\n}","import { vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.userInput) = $event)),\n    onBlur: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onBlurUserInput && _ctx.onBlurUserInput(...args)))\n  }, null, 544)), [\n    [_vModelText, _ctx.userInput]\n  ])\n}","\nimport { defineComponent } from 'vue';\nimport { $gettext } from '@/language/gettext';\n\nexport default defineComponent({\n  name: 'VideoTimeInput',\n  props: {\n    modelValue: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      userInput: '',\n    };\n  },\n  watch: {\n    modelValue: {\n      immediate: true,\n      handler(newValue: number) {\n        this.userInput = this.formatSeconds(newValue);\n      },\n    },\n    parsedUserInput() {\n      if (this.parsedUserInput instanceof Error) {\n        this.$emit('update:error', this.parsedUserInput);\n      } else {\n        this.$emit('update:error', undefined);\n      }\n    },\n  },\n  methods: {\n    onBlurUserInput() {\n      if (this.parsedUserInput instanceof Error) {\n        // Reset the input to a good value\n        this.userInput = this.formatSeconds(this.modelValue);\n        this.$emit('update:error', undefined);\n      } else {\n        this.$emit('update:modelValue', this.parsedUserInput);\n        this.$emit('update:error', undefined);\n      }\n    },\n    // Format a time in seconds as HH;MM;SS;SS (Centiseconds at end)\n    formatSeconds(time: number): string {\n      let hours = 0,\n        minutes = 0,\n        seconds = 0,\n        centiseconds = 0;\n      while (time >= 3600) {\n        time -= 3600;\n        hours += 1;\n      }\n      while (time >= 60) {\n        time -= 60;\n        minutes += 1;\n      }\n      while (time >= 1) {\n        time -= 1;\n        seconds += 1;\n      }\n      centiseconds = Math.floor(time * 100);\n      function twoDigits(n: number): string {\n        return n.toLocaleString('de-DE', {\n          minimumIntegerDigits: 2,\n          maximumFractionDigits: 0,\n        });\n      }\n      let string = `${twoDigits(hours)};${twoDigits(minutes)};${twoDigits(\n        seconds\n      )};${twoDigits(centiseconds)}`;\n      return string;\n    },\n  },\n  computed: {\n    /**\n     * Either the time the user input, converted into seconds, or an Error with\n     * a message explaining why the user's input was invalid.\n     */\n    parsedUserInput(): number | Error {\n      const timeRegexCentiseconds =\n        /^(\\d?\\d)[;:](\\d?\\d)[;:](\\d?\\d)[;:](\\d?\\d)$/;\n      const centisecondsMatch = timeRegexCentiseconds.exec(this.userInput);\n      if (centisecondsMatch) {\n        return (\n          parseInt(centisecondsMatch[1]) * 3600 +\n          parseInt(centisecondsMatch[2]) * 60 +\n          parseInt(centisecondsMatch[3]) +\n          parseInt(centisecondsMatch[4]) / 100\n        );\n      }\n      // If the exact format for a time with centiseconds isn't matched, use\n      // a more permissive regex.\n      // This regex is adapted from https://stackoverflow.com/a/8318367/7359454\n      // License CC BY-SA 3.0 https://creativecommons.org/licenses/by-sa/3.0/\n      // Accessed and adapted on 10.01.2024 by Ann Yanich\n      const timeRegexHhMmSs =\n        /^(?:(?:([0-9]?\\d)[;:])?([0-5]?\\d)[:;])?([0-5]?\\d)$/;\n      const hhMmSsMatch = timeRegexHhMmSs.exec(this.userInput);\n      if (!hhMmSsMatch || hhMmSsMatch.length !== 4) {\n        return new Error(\n          $gettext(\n            'Die Startposition muss der Syntax HH;MM;SS oder HH;MM;SS;SS entsprechen.'\n          )\n        );\n      }\n      // match[0] is the time string with colons,\n      // match[1] is hours (or undefined if not present),\n      // match[2] is minutes (or undefined if not present),\n      // and match[3] is seconds (always present).\n      if (hhMmSsMatch[1]) {\n        return (\n          parseInt(hhMmSsMatch[1]) * 3600 +\n          parseInt(hhMmSsMatch[2]) * 60 +\n          parseInt(hhMmSsMatch[3])\n        );\n      } else if (hhMmSsMatch[2]) {\n        return parseInt(hhMmSsMatch[2]) * 60 + parseInt(hhMmSsMatch[3]);\n      } else {\n        return parseInt(hhMmSsMatch[3]);\n      }\n    },\n  },\n});\n","import { render } from \"./VideoTimeInput.vue?vue&type=template&id=9aba7cc0&ts=true\"\nimport script from \"./VideoTimeInput.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoTimeInput.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, inject, PropType } from 'vue';\nimport {\n  Interaction,\n  printInteractionType,\n} from '@/models/InteractiveVideoTask';\nimport { editorForTaskType, viewerForTaskType } from '@/models/TaskDefinition';\nimport { $gettext } from '../../language/gettext';\nimport {\n  EditorState,\n  editorStateSymbol,\n} from '@/components/interactiveVideo/editorState';\nimport VideoTimeInput from '@/components/interactiveVideo/VideoTimeInput.vue';\nimport StudipWysiwyg from '@/components/StudipWysiwyg.vue';\n\nexport default defineComponent({\n  name: 'SelectedInteractionProperties',\n  components: { VideoTimeInput, StudipWysiwyg },\n  setup() {\n    return {\n      editor: inject<EditorState>(editorStateSymbol),\n    };\n  },\n  props: {\n    selectedInteraction: {\n      type: Object as PropType<Interaction>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      inputStartTime: 0,\n      inputStartTimeFormatError: undefined as Error | undefined,\n      inputEndTime: 1,\n      inputEndTimeFormatError: undefined as Error | undefined,\n    };\n  },\n  methods: {\n    viewerForTaskType,\n    $gettext,\n    printInteractionType,\n    editorForTaskType,\n  },\n  watch: {\n    inputStartTime(value: number) {\n      if (this.inputStartTimeErrors.length === 0) {\n        // eslint-disable-next-line vue/no-mutating-props\n        this.selectedInteraction.startTime = value;\n      }\n      if (this.inputEndTimeErrors.length === 0) {\n        // eslint-disable-next-line vue/no-mutating-props\n        this.selectedInteraction.endTime = this.inputEndTime;\n      }\n    },\n    'selectedInteraction.startTime': {\n      handler: function (value: number) {\n        this.inputStartTime = value;\n      },\n      immediate: true,\n    },\n    inputEndTime(value: number) {\n      if (this.inputEndTimeErrors.length === 0) {\n        // eslint-disable-next-line vue/no-mutating-props\n        this.selectedInteraction.endTime = value;\n        /*\n         Scenario: startTime = 0, endTime = 4.\n         User begins to edit startTime and sets startTime = 5.\n         This is invalid (startTime > endTime) and is not applied.\n         Then, user edits endTime and sets endTime = 6.\n         Now, both inputs are valid. start < end. So, both should be applied.\n        */\n        if (this.inputStartTimeErrors.length === 0) {\n          // eslint-disable-next-line vue/no-mutating-props\n          this.selectedInteraction.startTime = this.inputStartTime;\n        }\n      }\n    },\n    'selectedInteraction.endTime': {\n      handler: function (value: number) {\n        this.inputEndTime = value;\n      },\n      immediate: true,\n    },\n  },\n  computed: {\n    inputStartTimeErrors(): string[] {\n      const errors: string[] = [];\n      if (this.inputStartTimeFormatError) {\n        errors.push(this.inputStartTimeFormatError.message);\n      }\n      if (this.inputStartTime < 0) {\n        errors.push($gettext('Das eingegebene Wert muss grer als 0 sein.'));\n      }\n      if (this.inputStartTime >= this.selectedInteraction.endTime) {\n        errors.push($gettext('Der Startpunkt muss vor dem Endpunkt sein.'));\n      }\n      // TODO check video length as well.\n      return errors;\n    },\n    inputEndTimeErrors(): string[] {\n      const errors: string[] = [];\n      if (this.inputEndTimeFormatError) {\n        errors.push(this.inputEndTimeFormatError.message);\n      }\n      if (this.inputEndTime < 0) {\n        errors.push($gettext('Das eingegebene Wert muss grer als 0 sein.'));\n      }\n      if (this.inputEndTime <= this.selectedInteraction.startTime) {\n        errors.push($gettext('Der Startpunkt muss vor dem Endpunkt sein.'));\n      }\n      // TODO check video length as well.\n      return errors;\n    },\n  },\n});\n","import { render } from \"./SelectedInteractionProperties.vue?vue&type=template&id=e2de05a4&scoped=true&ts=true\"\nimport script from \"./SelectedInteractionProperties.vue?vue&type=script&lang=ts\"\nexport * from \"./SelectedInteractionProperties.vue?vue&type=script&lang=ts\"\n\nimport \"./SelectedInteractionProperties.vue?vue&type=style&index=0&id=e2de05a4&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e2de05a4\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-dc689978\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"add-interactions-root\" }\nconst _hoisted_2 = { class: \"toolbar-under-video\" }\nconst _hoisted_3 = { class: \"insert-interactions-buttons\" }\nconst _hoisted_4 = [\"title\"]\nconst _hoisted_5 = [\"onClick\", \"title\"]\nconst _hoisted_6 = { class: \"video-controls\" }\nconst _hoisted_7 = [\"title\"]\nconst _hoisted_8 = [\"title\"]\nconst _hoisted_9 = [\"title\"]\nconst _hoisted_10 = [\"title\"]\n\nimport { computed, nextTick, PropType, provide, ref } from 'vue';\nimport type {\n  Interaction,\n  InteractiveVideoTask,\n  OverlayInteraction,\n} from '@/models/InteractiveVideoTask';\nimport VideoPlayer from '@/components/interactiveVideo/VideoPlayer.vue';\nimport VideoTimeline from '@/components/interactiveVideo/VideoTimeline.vue';\nimport SelectedInteractionProperties from '@/components/interactiveVideo/SelectedInteractionProperties.vue';\nimport { VideoMetadata } from '@/components/interactiveVideo/events';\nimport {\n  iconForTaskType,\n  newTask,\n  printTaskType,\n  TaskDefinition,\n} from '@/models/TaskDefinition';\nimport { v4 } from 'uuid';\nimport { editorStateSymbol } from '@/components/interactiveVideo/editorState';\nimport { $gettext } from '../../language/gettext';\nimport { printInteractionType } from '@/models/InteractiveVideoTask';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n  taskDefinition: {\n    type: Object as PropType<InteractiveVideoTask>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props\n\n\nconst currentTime = ref(0);\nconst videoMetadata = ref<VideoMetadata>({ length: 1 });\nconst selectedInteractionId = ref<string | undefined>(undefined);\nconst videoPlayer = ref<InstanceType<typeof VideoPlayer> | undefined>(\n  undefined\n);\nconst videoTimeline = ref<InstanceType<typeof VideoTimeline> | undefined>(\n  undefined\n);\nconst selectedInteractionProperties = ref<\n  InstanceType<typeof SelectedInteractionProperties> | undefined\n>(undefined);\n\nconst taskTypes: Array<TaskDefinition['task_type']> = [\n  'FillInTheBlanks',\n  'DragTheWords',\n  'MarkTheWords',\n  'Question',\n];\n\nprovide(editorStateSymbol, {\n  selectInteraction,\n  selectedInteractionId,\n  editInteraction,\n  dragInteraction,\n  resizeOverlay,\n  deleteInteraction,\n  dragInteractionTimeline,\n});\n\nconst selectedInteraction = computed(() =>\n  props.taskDefinition.interactions.find(\n    (interaction) => interaction.id === selectedInteractionId.value\n  )\n);\n\nfunction selectInteraction(selectionId: string) {\n  selectedInteractionId.value = selectionId;\n}\nfunction editInteraction(id: string) {\n  selectedInteractionId.value = id;\n  nextTick(() => {\n    const el = selectedInteractionProperties.value?.$el as HTMLElement;\n    el.scrollIntoView({\n      behavior: 'smooth',\n      block: 'start',\n    });\n  });\n}\nfunction onVideoMetadataChange(data: VideoMetadata) {\n  videoMetadata.value = data;\n}\nfunction onTimeUpdate(time: number) {\n  currentTime.value = time;\n}\nfunction onTimelineSeek(time: number) {\n  console.log('onTImelineSeek', time);\n  videoPlayer.value!.player!.currentTime(time);\n}\nfunction onClickZoomIn() {\n  videoTimeline.value!.zoom(0.18);\n}\nfunction onClickZoomOut() {\n  videoTimeline.value!.zoom(-0.18);\n}\nfunction onClickPlay() {\n  videoPlayer.value!.player!.play();\n}\nfunction onClickPause() {\n  videoPlayer.value!.player!.pause();\n}\nfunction insertOverlay() {\n  const interaction: OverlayInteraction = {\n    type: 'overlay',\n    v: 2,\n    id: v4(),\n    startTime: currentTime.value,\n    endTime: Math.min(videoMetadata.value.length, currentTime.value + 10),\n    x: 0.4,\n    y: 0.4,\n    width: 0.2,\n    height: 0.2,\n    content_wysiwyg: $gettext('Einblendung'),\n    pauseWhenVisible: true,\n  };\n  // TODO make undoable ?\n  // eslint-disable-next-line vue/no-mutating-props\n  props.taskDefinition.interactions.push(interaction);\n  selectedInteractionId.value = interaction.id;\n}\n\nfunction insertLmbTaskInteraction(type: TaskDefinition['task_type']) {\n  console.log('insertLmbTaskInteraction', type);\n  const task = newTask(type);\n  const interaction: Interaction = {\n    type: 'lmbTask',\n    id: v4(),\n    taskDefinition: task,\n    startTime: currentTime.value,\n    endTime: Math.min(videoMetadata.value.length, currentTime.value + 10),\n    x: 0.5,\n    y: 0.5,\n    pauseWhenVisible: true,\n  };\n  // TODO make undoable ?\n  // eslint-disable-next-line vue/no-mutating-props\n  props.taskDefinition.interactions.push(interaction);\n  selectedInteractionId.value = interaction.id;\n}\nfunction deleteInteraction(id: string) {\n  console.log('deleteInteraction', id);\n  const interaction = props.taskDefinition.interactions.find(\n    (i) => i.id === id\n  );\n  const prompt = $gettext('%{ interaction } lschen', {\n    interaction: printInteractionType(interaction),\n  });\n  const confirmed = window.confirm(prompt);\n  if (!confirmed) {\n    console.info('Delete prompt canceled by user');\n    return;\n  }\n  const index = props.taskDefinition.interactions.findIndex((i) => i.id === id);\n  // TODO make undoable... Don't want to delete a whole task permanently with no undo\n  // eslint-disable-next-line vue/no-mutating-props\n  props.taskDefinition.interactions.splice(index, 1);\n}\nfunction dragInteraction(id: string, xFraction: number, yFraction: number) {\n  const interaction = props.taskDefinition?.interactions.find(\n    (i) => i.id === id\n  );\n  if (!interaction) {\n    throw new Error(`Interaction with id ${id} not found`);\n  }\n  // TODO make undoable ?\n  interaction.x = xFraction;\n  interaction.y = yFraction;\n}\nfunction resizeOverlay(\n  id: string,\n  x: number,\n  y: number,\n  width: number,\n  height: number\n) {\n  const interaction = props.taskDefinition?.interactions.find(\n    (i) => i.id === id\n  );\n  if (!interaction) {\n    throw new Error(`Interaction with id ${id} not found`);\n  }\n  // TODO make undoable ?\n  interaction.x = x;\n  interaction.y = y;\n  interaction.width = width;\n  interaction.height = height;\n}\nfunction dragInteractionTimeline(id: string, startTime: number) {\n  const interaction = props.taskDefinition?.interactions.find(\n    (i) => i.id === id\n  );\n  if (!interaction) {\n    throw new Error(`Interaction with id ${id} not found`);\n  }\n  // TODO make undoable ?\n  const duration = interaction.endTime - interaction.startTime;\n  interaction.endTime = startTime + duration;\n  interaction.startTime = startTime;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(VideoPlayer, {\n      ref_key: \"videoPlayer\",\n      ref: videoPlayer,\n      task: __props.taskDefinition,\n      onTimeupdate: onTimeUpdate,\n      onMetadataChange: onVideoMetadataChange,\n      onClickInteraction: _cache[0] || (_cache[0] = (i) => selectInteraction(i.id))\n    }, null, 8, [\"task\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button item\",\n          onClick: insertOverlay,\n          title: \n            _unref($gettext)('%{ interactionType } einfgen', {\n              interactionType: _unref($gettext)('Einblendung'),\n            })\n          \n        }, null, 8, _hoisted_4),\n        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(taskTypes, (taskType) => {\n          return _createElementVNode(\"button\", {\n            key: taskType,\n            type: \"button\",\n            class: _normalizeClass([\"button\", _unref(iconForTaskType)(taskType)]),\n            onClick: ($event: any) => (insertLmbTaskInteraction(taskType)),\n            title: \n            _unref($gettext)('%{ interactionType } einfgen', {\n              interactionType: _unref(printTaskType)(taskType),\n            })\n          \n          }, null, 10, _hoisted_5)\n        }), 64))\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button zoom-in\",\n          title: _unref($gettext)('Vergrern'),\n          onClick: onClickZoomIn\n        }, null, 8, _hoisted_7),\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button zoom-out\",\n          title: _unref($gettext)('Verkleinern'),\n          onClick: onClickZoomOut\n        }, null, 8, _hoisted_8),\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button play\",\n          title: _unref($gettext)('Abspielen'),\n          onClick: onClickPlay\n        }, null, 8, _hoisted_9),\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"button pause\",\n          title: _unref($gettext)('Pausieren'),\n          onClick: onClickPause\n        }, null, 8, _hoisted_10)\n      ])\n    ]),\n    _createVNode(VideoTimeline, {\n      class: \"video-timeline\",\n      ref_key: \"videoTimeline\",\n      ref: videoTimeline,\n      task: __props.taskDefinition,\n      currentTime: currentTime.value,\n      videoMetadata: videoMetadata.value,\n      selectedInteractionId: selectedInteractionId.value,\n      onTimelineSeek: onTimelineSeek,\n      onClickInteraction: _cache[1] || (_cache[1] = (i) => selectInteraction(i.id)),\n      onDeleteInteraction: deleteInteraction\n    }, null, 8, [\"task\", \"currentTime\", \"videoMetadata\", \"selectedInteractionId\"]),\n    (_unref(selectedInteraction))\n      ? (_openBlock(), _createBlock(SelectedInteractionProperties, {\n          key: 0,\n          ref_key: \"selectedInteractionProperties\",\n          ref: selectedInteractionProperties,\n          selectedInteraction: _unref(selectedInteraction)\n        }, null, 8, [\"selectedInteraction\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./AddInteractions.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AddInteractions.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./AddInteractions.vue?vue&type=style&index=0&id=dc689978&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-dc689978\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelCheckbox as _vModelCheckbox, normalizeClass as _normalizeClass, vModelSelect as _vModelSelect, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3980b12c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"picker\" }\nconst _hoisted_2 = { class: \"default\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_4 = { class: \"bottom-actions\" }\nconst _hoisted_5 = { class: \"default\" }\nconst _hoisted_6 = { class: \"bottom-actions\" }\nconst _hoisted_7 = {\n  key: 1,\n  class: \"video-preview\"\n}\nconst _hoisted_8 = { key: 0 }\nconst _hoisted_9 = [\"href\"]\nconst _hoisted_10 = { key: 1 }\nconst _hoisted_11 = [\"href\"]\nconst _hoisted_12 = { class: \"video-preview-actions\" }\nconst _hoisted_13 = { class: \"form default\" }\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  disabled: \"\",\n  style: {\"display\":\"none\"},\n  \"aria-hidden\": \"true\"\n}, null, -1))\nconst _hoisted_15 = { class: \"start-at-setting\" }\nconst _hoisted_16 = { class: \"start-at-setting-flex\" }\nconst _hoisted_17 = {\n  key: 0,\n  class: \"errors\"\n}\nconst _hoisted_18 = { key: 0 }\nconst _hoisted_19 = { value: 'not disabled' }\nconst _hoisted_20 = { value: 'forward disabled' }\nconst _hoisted_21 = { value: 'forward and backward disabled' }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FileUpload = _resolveComponent(\"FileUpload\")!\n  const _component_FilePicker = _resolveComponent(\"FilePicker\")!\n  const _component_VideoPlayer = _resolveComponent(\"VideoPlayer\")!\n  const _component_VideoTimeInput = _resolveComponent(\"VideoTimeInput\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (_ctx.taskDefinition.video.type === 'none')\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"p\", null, _toDisplayString(_ctx.$gettext(\n          'Lade ein Video hoch oder fge einen Link zu einem Youtube-Video ein.'\n        )), 1),\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createElementVNode(\"form\", _hoisted_2, [\n              _createElementVNode(\"fieldset\", null, [\n                _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Stud.IP-Video')), 1),\n                _createElementVNode(\"label\", null, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Neues Video hochladen')) + \" \", 1),\n                  _hoisted_3,\n                  _createVNode(_component_FileUpload, {\n                    onFileUploaded: _ctx.onUploadStudipVideo,\n                    accept: 'video/*'\n                  }, null, 8, [\"onFileUploaded\"])\n                ]),\n                _createElementVNode(\"label\", null, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Vorhandenes Video auswhlen')) + \" \", 1),\n                  _createVNode(_component_FilePicker, {\n                    modelValue: _ctx.selectedFileId,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selectedFileId) = $event)),\n                    \"is-video\": \"\",\n                    onSelectFile: _ctx.updateCurrentFile\n                  }, null, 8, [\"modelValue\", \"onSelectFile\"])\n                ]),\n                _createElementVNode(\"div\", _hoisted_4, [\n                  _createElementVNode(\"button\", {\n                    type: \"button\",\n                    class: \"button accept\",\n                    onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.onSaveUploadedFile && _ctx.onSaveUploadedFile(...args)))\n                  }, _toDisplayString(_ctx.$gettext('bernehmen')), 1)\n                ])\n              ])\n            ]),\n            _createElementVNode(\"form\", _hoisted_5, [\n              _createElementVNode(\"fieldset\", null, [\n                _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Youtube-Video')), 1),\n                _createElementVNode(\"label\", null, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Youtube-URL')) + \" \", 1),\n                  _withDirectives(_createElementVNode(\"input\", {\n                    class: \"youtube-url-input\",\n                    type: \"text\",\n                    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.youtubeUrlInput) = $event))\n                  }, null, 512), [\n                    [_vModelText, _ctx.youtubeUrlInput]\n                  ])\n                ]),\n                _createElementVNode(\"div\", _hoisted_6, [\n                  _createElementVNode(\"button\", {\n                    type: \"submit\",\n                    class: \"button accept\",\n                    onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.onSaveYoutubeVideo && _ctx.onSaveYoutubeVideo(...args)))\n                  }, _toDisplayString(_ctx.$gettext('bernehmen')), 1)\n                ])\n              ])\n            ])\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true),\n    (_ctx.taskDefinition.video.type !== 'none')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n          _createVNode(_component_VideoPlayer, {\n            ref: \"videoPlayer\",\n            task: _ctx.taskDefinition,\n            class: \"video-player\",\n            onTimeupdate: _ctx.onTimeUpdate\n          }, null, 8, [\"task\", \"onTimeupdate\"]),\n          (_ctx.taskDefinition.video.type === 'youtube')\n            ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, [\n                _createTextVNode(_toDisplayString(_ctx.$gettext('Youtube-Video: ')) + \" \", 1),\n                _createElementVNode(\"a\", {\n                  href: _ctx.taskDefinition.video.url,\n                  target: \"_blank\"\n                }, _toDisplayString(_ctx.taskDefinition.video.url), 9, _hoisted_9)\n              ]))\n            : (_ctx.taskDefinition.video.type === 'studipFileReference')\n              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_10, [\n                  _createTextVNode(_toDisplayString(_ctx.$gettext('Hochgeladenes Video: ')) + \" \", 1),\n                  _createElementVNode(\"a\", {\n                    href: _ctx.fileDetailsUrl(_ctx.taskDefinition.video.file_id),\n                    target: \"_blank\"\n                  }, [\n                    (_ctx.selectedFile)\n                      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                          _createTextVNode(_toDisplayString(_ctx.selectedFile.name), 1)\n                        ], 64))\n                      : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                          _createTextVNode(_toDisplayString(_ctx.taskDefinition.video.file_id), 1)\n                        ], 64))\n                  ], 8, _hoisted_11)\n                ]))\n              : _createCommentVNode(\"\", true),\n          _createElementVNode(\"div\", _hoisted_12, [\n            _createElementVNode(\"button\", {\n              class: \"button trash\",\n              onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.deleteVideo && _ctx.deleteVideo(...args)))\n            }, _toDisplayString(_ctx.$gettext('Video lschen')), 1)\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"form\", _hoisted_13, [\n      _hoisted_14,\n      _createElementVNode(\"fieldset\", null, [\n        _createElementVNode(\"legend\", null, _toDisplayString(_ctx.$gettext('Einstellungen')), 1),\n        _createElementVNode(\"label\", null, [\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"checkbox\",\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.taskDefinition.autoplay) = $event))\n          }, null, 512), [\n            [_vModelCheckbox, _ctx.taskDefinition.autoplay]\n          ]),\n          _createTextVNode(\" \" + _toDisplayString(_ctx.$gettext('Automatisch abspielen')), 1)\n        ]),\n        _createElementVNode(\"div\", _hoisted_15, [\n          _createElementVNode(\"div\", _hoisted_16, [\n            _createElementVNode(\"label\", null, [\n              _createTextVNode(_toDisplayString(_ctx.$gettext('Anfangen um')) + \" \", 1),\n              _createVNode(_component_VideoTimeInput, {\n                class: _normalizeClass({ invalid: !!_ctx.startPositionInputError }),\n                \"aria-invalid\": !!_ctx.startPositionInputError,\n                modelValue: _ctx.taskDefinition.startAt,\n                \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.taskDefinition.startAt) = $event)),\n                \"onUpdate:error\": _cache[7] || (_cache[7] = (error) => (_ctx.startPositionInputError = error))\n              }, null, 8, [\"class\", \"aria-invalid\", \"modelValue\"])\n            ]),\n            _createElementVNode(\"button\", {\n              type: \"button\",\n              class: \"button\",\n              onClick: _cache[8] || (_cache[8] = \n//@ts-ignore\n(...args) => (_ctx.onClickUseCurrentTime && _ctx.onClickUseCurrentTime(...args)))\n            }, _toDisplayString(_ctx.$gettext('Aktuelle Position setzen')), 1)\n          ]),\n          (_ctx.startPositionInputError)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, _toDisplayString(_ctx.startPositionInputError), 1))\n            : _createCommentVNode(\"\", true)\n        ]),\n        false\n          ? (_openBlock(), _createElementBlock(\"label\", _hoisted_18, [\n              _createTextVNode(_toDisplayString(_ctx.$gettext('Navigation deaktivieren')) + \" \", 1),\n              _withDirectives(_createElementVNode(\"select\", {\n                \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((_ctx.taskDefinition.disableNavigation) = $event))\n              }, [\n                _createElementVNode(\"option\", _hoisted_19, _toDisplayString(_ctx.$gettext('Nicht deaktiviert')), 1),\n                _createElementVNode(\"option\", _hoisted_20, _toDisplayString(_ctx.$gettext('Vorspulen deaktiviert')), 1),\n                _createElementVNode(\"option\", _hoisted_21, _toDisplayString(_ctx.$gettext('Vorspulen und Rckspulen deaktiviert')), 1)\n              ], 512), [\n                [_vModelSelect, _ctx.taskDefinition.disableNavigation]\n              ])\n            ]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ])\n  ], 64))\n}","import { toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, vShow as _vShow, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect } from \"vue\"\n\nconst _hoisted_1 = { class: \"cw-file-chooser\" }\nconst _hoisted_2 = { value: \"\" }\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"Keine Auswahl\")\nconst _hoisted_4 = [\"value\"]\nconst _hoisted_5 = { disabled: \"\" }\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"Keine Dateien vorhanden\")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FolderPicker = _resolveComponent(\"FolderPicker\")!\n  const _component_translate = _resolveComponent(\"translate\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"label\", null, [\n      _createTextVNode(_toDisplayString(_ctx.$gettext('Ordner-Filter')) + \" \", 1),\n      _createVNode(_component_FolderPicker, {\n        allowUserFolders: \"\",\n        unchoose: \"\",\n        modelValue: _ctx.selectedFolderId,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selectedFolderId) = $event))\n      }, null, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"label\", null, [\n      _createTextVNode(_toDisplayString(_ctx.$gettext('Datei')) + \" \", 1),\n      _withDirectives(_createElementVNode(\"select\", {\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.currentValue) = $event)),\n        onChange: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.selectFile && _ctx.selectFile(...args)))\n      }, [\n        _withDirectives(_createElementVNode(\"option\", _hoisted_2, [\n          _createVNode(_component_translate, null, {\n            default: _withCtx(() => [\n              _hoisted_3\n            ]),\n            _: 1\n          })\n        ], 512), [\n          [_vShow, _ctx.canBeEmpty]\n        ]),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.files, (file, index) => {\n          return (_openBlock(), _createElementBlock(\"option\", {\n            key: index,\n            value: file.id\n          }, _toDisplayString(file.name), 9, _hoisted_4))\n        }), 128)),\n        _withDirectives(_createElementVNode(\"option\", _hoisted_5, [\n          _createVNode(_component_translate, null, {\n            default: _withCtx(() => [\n              _hoisted_6\n            ]),\n            _: 1\n          })\n        ], 512), [\n          [_vShow, _ctx.files.length === 0]\n        ])\n      ], 544), [\n        [_vModelSelect, _ctx.currentValue]\n      ])\n    ])\n  ]))\n}","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  value: \"\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"kein Ordner ausgewhlt\")\nconst _hoisted_3 = [\"label\"]\nconst _hoisted_4 = [\"value\"]\nconst _hoisted_5 = [\"label\"]\nconst _hoisted_6 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_translate = _resolveComponent(\"translate\")!\n\n  return _withDirectives((_openBlock(), _createElementBlock(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.currentValue) = $event)),\n    onChange: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.changeSelection && _ctx.changeSelection(...args)))\n  }, [\n    (_ctx.unchoose)\n      ? (_openBlock(), _createElementBlock(\"option\", _hoisted_1, [\n          _createVNode(_component_translate, null, {\n            default: _withCtx(() => [\n              _hoisted_2\n            ]),\n            _: 1\n          })\n        ]))\n      : _createCommentVNode(\"\", true),\n    (this.context.type === 'courses')\n      ? (_openBlock(), _createElementBlock(\"optgroup\", {\n          key: 1,\n          label: _ctx.textOptGroupCourse\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.loadedCourseFolders, (folder) => {\n            return (_openBlock(), _createElementBlock(\"option\", {\n              key: folder.id,\n              value: folder.id\n            }, _toDisplayString(folder.attributes.name), 9, _hoisted_4))\n          }), 128))\n        ], 8, _hoisted_3))\n      : _createCommentVNode(\"\", true),\n    (_ctx.allowUserFolders)\n      ? (_openBlock(), _createElementBlock(\"optgroup\", {\n          key: 2,\n          label: _ctx.textOptGroupUser\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.loadedUserFolders, (folder) => {\n            return (_openBlock(), _createElementBlock(\"option\", {\n              key: folder.id,\n              value: folder.id\n            }, _toDisplayString(folder.attributes.name), 9, _hoisted_6))\n          }), 128))\n        ], 8, _hoisted_5))\n      : _createCommentVNode(\"\", true)\n  ], 544)), [\n    [_vModelSelect, _ctx.currentValue]\n  ])\n}","\nimport { defineComponent } from 'vue';\nimport { Context } from '@/models/CoursewareBlockIframeMessages';\nimport { coursewareBlockStore } from '@/store';\nimport { mapActions, mapGetters } from 'vuex';\nimport { FolderRef } from '@/routes/jsonApi';\n\nfunction filterCourseFolders(\n  folders: FolderRef[],\n  { allowHomeworkFolders }: { allowHomeworkFolders: boolean }\n) {\n  const validatedParents = new Map();\n\n  return folders.filter((folder: FolderRef) => {\n    if (validateParentFolder(folder)) {\n      switch (folder.attributes['folder-type']) {\n        case 'HiddenFolder':\n          if (folder.attributes['data-content']['download_allowed'] === 1) {\n            return true;\n          }\n          break;\n        case 'HomeworkFolder':\n          if (allowHomeworkFolders) {\n            return true;\n          }\n          break;\n        default:\n          return true;\n      }\n    }\n  });\n\n  function validateParentFolder(folder: FolderRef): boolean {\n    let isValid = true;\n    if (folder?.relationships?.parent) {\n      let parentId = folder.relationships.parent.data.id;\n      if (validatedParents.has(parentId)) {\n        isValid = validatedParents.get(parentId);\n      } else {\n        let parent = folders.find((f) => f.id === parentId);\n        if (parent) {\n          isValid = hiddenParentFolderValidation(parent);\n          validatedParents.set(parentId, isValid);\n        }\n      }\n    }\n    return isValid;\n  }\n\n  function hiddenParentFolderValidation(parentFolder: FolderRef): boolean {\n    if (parentFolder.attributes['folder-type'] === 'HiddenFolder') {\n      return false;\n    } else if (parentFolder?.relationships?.parent) {\n      // Recursively validating the parents.\n      return validateParentFolder(parentFolder);\n    } else {\n      return true;\n    }\n  }\n}\n\nexport default defineComponent({\n  name: 'FolderPicker',\n  props: {\n    value: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    allowUserFolders: { type: Boolean, default: false },\n    allowHomeworkFolders: { type: Boolean, default: false },\n    unchoose: { type: Boolean, default: false },\n  },\n  data() {\n    return {\n      currentValue: '',\n      textOptGroupCourse: this.$gettext('Dateibereich dieser Veranstaltung'),\n      textOptGroupUser: this.$gettext('Persnlicher Dateibereich'),\n    };\n  },\n  computed: {\n    ...mapGetters({\n      relatedFolders: 'folders/related',\n    }),\n    context(): Context {\n      // Replaces the vuex getter 'context'\n      return coursewareBlockStore.studipContext;\n    },\n    userId(): string {\n      // Replaces the vuex getter 'userId'\n      return window.STUDIP.USER_ID;\n    },\n    courseObject() {\n      return { type: 'courses', id: `${this.context.id}` };\n    },\n    userObject() {\n      return { type: 'users', id: `${this.userId}` };\n    },\n    loadedCourseFolders() {\n      return filterCourseFolders(\n        this.relatedFolders({\n          parent: this.courseObject,\n          relationship: 'folders',\n        }) ?? [],\n        {\n          allowHomeworkFolders: this.allowHomeworkFolders,\n        }\n      );\n    },\n    loadedUserFolders() {\n      let loadedUserFolders: FolderRef[] = [];\n      let userFolders: FolderRef[] =\n        this.relatedFolders({\n          parent: this.userObject,\n          relationship: 'folders',\n        }) ?? [];\n      userFolders.forEach((folder: FolderRef) => {\n        if (folder.attributes['folder-type'] === 'PublicFolder') {\n          loadedUserFolders.push(folder);\n        }\n      });\n\n      return loadedUserFolders;\n    },\n  },\n  methods: {\n    ...mapActions({\n      _loadRelatedFolders: 'folders/loadRelated',\n    }),\n    // Typed shim for vuex action 'folders/loadRelated'\n    loadRelatedFolders(params: {\n      parent: {\n        type: string;\n        id: string;\n      };\n      relationship: string;\n      options: {\n        'page[limit]': number;\n      };\n    }): Promise<unknown> {\n      return this._loadRelatedFolders(params);\n    },\n\n    changeSelection() {\n      this.$emit('input', this.currentValue);\n    },\n\n    getCourseFolders() {\n      const parent = this.courseObject;\n      const relationship = 'folders';\n      const options = { 'page[limit]': 10000 };\n\n      return this.loadRelatedFolders({ parent, relationship, options });\n    },\n\n    getUserFolders() {\n      const parent = this.userObject;\n      const relationship = 'folders';\n      const options = { 'page[limit]': 10000 };\n\n      return this.loadRelatedFolders({ parent, relationship, options });\n    },\n\n    confirmSelectedFolder() {\n      const folders: FolderRef[] = this.loadedUserFolders.concat(\n        this.loadedCourseFolders\n      );\n\n      let folder = folders.find((folder) => folder.id === this.currentValue);\n\n      if (this.currentValue !== '' && folder === undefined) {\n        this.currentValue = '';\n        this.changeSelection();\n      }\n    },\n  },\n  async mounted() {\n    this.currentValue = this.value;\n    if (this.context.type !== 'users') {\n      await this.getCourseFolders();\n    }\n    await this.getUserFolders();\n    this.confirmSelectedFolder();\n  },\n  watch: {\n    value() {\n      this.currentValue = this.value;\n    },\n  },\n});\n","import { render } from \"./FolderPicker.vue?vue&type=template&id=4e52882a&ts=true\"\nimport script from \"./FolderPicker.vue?vue&type=script&lang=ts\"\nexport * from \"./FolderPicker.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport FolderPicker from '@/components/courseware-components-ported-to-vue3/FolderPicker.vue';\nimport { mapActions, mapGetters } from 'vuex';\nimport { defineComponent } from 'vue';\nimport { $gettext } from '../../language/gettext';\n\n// TODO #21 Refactor to remove this datatype\nexport interface FilePickerFile {\n  id: string;\n  name: string;\n  mime_type: string;\n  download_url: string;\n}\n\nexport default defineComponent({\n  name: 'FilePicker',\n  components: { FolderPicker },\n  props: {\n    value: String,\n    mimeType: { type: String, default: '' },\n    isImage: { type: Boolean, default: false },\n    isVideo: { type: Boolean, default: false },\n    isAudio: { type: Boolean, default: false },\n    isDocument: { type: Boolean, default: false },\n    canBeEmpty: { type: Boolean, default: false },\n  },\n  data() {\n    return {\n      currentValue: '',\n      selectedFolderId: '',\n      files: [] as any[],\n    };\n  },\n  computed: {\n    ...mapGetters({\n      fileRefById: 'file-refs/byId',\n      relatedFileRefs: 'file-refs/related',\n      relatedTermOfUse: 'terms-of-use/related',\n    }),\n    userId(): string {\n      return window.STUDIP.USER_ID;\n    },\n  },\n  methods: {\n    $gettext,\n    ...mapActions({\n      loadFileRef: 'file-refs/loadById',\n      loadRelatedFileRefs: 'file-refs/loadRelated',\n    }),\n    selectFile() {\n      this.$emit(\n        'selectFile',\n        this.files.find((file) => file.id === this.currentValue)\n      );\n    },\n    filterFiles(loadArray: any[]) {\n      const filterFile = (file: any) => {\n        let fileTermsOfUse = this.relatedTermOfUse({\n          parent: file,\n          relationship: 'terms-of-use',\n        });\n\n        if (\n          fileTermsOfUse !== null &&\n          fileTermsOfUse.attributes['download-condition'] !== 0\n        ) {\n          return false;\n        }\n        if (\n          this.mimeType !== '' &&\n          this.mimeType !== file.attributes['mime-type']\n        ) {\n          return false;\n        }\n        if (this.isImage && !file.attributes['mime-type'].includes('image')) {\n          return false;\n        }\n        const videoConditions = ['video/mp4', 'video/ogg', 'video/webm'];\n        if (\n          this.isVideo &&\n          !videoConditions.some((condition) =>\n            file.attributes['mime-type'].includes(condition)\n          )\n        ) {\n          return false;\n        }\n        const audioConditions = [\n          'audio/wav',\n          'audio/ogg',\n          'audio/webm',\n          'audio/flac',\n          'audio/mpeg',\n          'audio/x-m4a',\n          'audio/mp4',\n        ];\n        if (\n          this.isAudio &&\n          !audioConditions.some((condition) =>\n            file.attributes['mime-type'].includes(condition)\n          )\n        ) {\n          return false;\n        }\n        const officeConditions = ['application/pdf']; //TODO enable more mime types\n        if (\n          this.isDocument &&\n          !officeConditions.some((condition) =>\n            file.attributes['mime-type'].includes(condition)\n          )\n        ) {\n          return false;\n        }\n\n        return true;\n      };\n\n      // TODO #21 Refactor.. I'm not sure it is useful to map the file-ref,\n      // which we fetched from the JSON API, to a subset of its keys here.\n      // Clients may need other values, like the folder ID, which we do not\n      // provide here.\n      return loadArray.filter(filterFile).map((file) => ({\n        id: file.id,\n        name: file.attributes.name,\n        mime_type: file.attributes['mime-type'],\n        download_url: window.STUDIP.URLHelper.getURL(\n          'sendfile.php',\n          { type: 0, file_id: file.id, file_name: file.attributes.name },\n          true\n        ),\n      }));\n    },\n    async getFolderFiles() {\n      const parent = { type: 'folders', id: `${this.selectedFolderId}` };\n      const relationship = 'file-refs';\n      const options = { include: 'terms-of-use', 'page[limit]': 10000 };\n      await this.loadRelatedFileRefs({ parent, relationship, options });\n\n      const fileRefs = this.relatedFileRefs({ parent, relationship });\n      this.files = this.filterFiles(fileRefs);\n    },\n  },\n  async mounted() {\n    console.log('mounted');\n    if (this.value !== '') {\n      await this.loadFileRef({ id: this.value });\n      const fileRef = this.fileRefById({ id: this.value });\n\n      if (fileRef) {\n        this.selectedFolderId = fileRef.relationships.parent.data.id;\n        this.currentValue = this.value ?? '';\n      }\n    }\n  },\n  watch: {\n    selectedFolderId() {\n      if (this.selectedFolderId !== '') {\n        this.getFolderFiles();\n      }\n    },\n    value(newValue, oldValue) {\n      if (newValue === '') {\n        this.selectedFolderId = '';\n        this.currentValue = '';\n      }\n    },\n  },\n});\n","import { render } from \"./FilePicker.vue?vue&type=template&id=e6cfcc38&ts=true\"\nimport script from \"./FilePicker.vue?vue&type=script&lang=ts\"\nexport * from \"./FilePicker.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport VideoPlayer from '@/components/interactiveVideo/VideoPlayer.vue';\nimport { $gettext } from '@/language/gettext';\nimport { InteractiveVideoTask, Video } from '@/models/InteractiveVideoTask';\nimport FileUpload from '@/components/FileUpload.vue';\nimport VideoTimeInput from '@/components/interactiveVideo/VideoTimeInput.vue';\nimport FilePicker, {\n  FilePickerFile,\n} from '@/components/courseware-components-ported-to-vue3/FilePicker.vue';\nimport { FileRef, fileRefsSchema } from '@/routes/jsonApi';\nimport { fileDetailsUrl, fileIdToUrl } from '@/models/TaskDefinition';\nimport { mapActions, mapGetters } from 'vuex';\n\nfunction formatSecondsToHhMmSs(time: number): string {\n  let hours = 0,\n    minutes = 0,\n    seconds = 0;\n  while (time > 3600) {\n    time -= 3600;\n    hours += 1;\n  }\n  while (time > 60) {\n    time -= 60;\n    minutes += 1;\n  }\n  seconds = time;\n  function twoDigits(n: number): string {\n    return n.toLocaleString('de-DE', {\n      minimumIntegerDigits: 2,\n      maximumFractionDigits: 0,\n    });\n  }\n  return `${twoDigits(hours)}:${twoDigits(minutes)}:${twoDigits(seconds)}`;\n}\n\nexport default defineComponent({\n  name: 'SelectVideo',\n  props: {\n    taskDefinition: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      youtubeUrlInput: '',\n      startPositionInputError: undefined as Error | undefined,\n      currentTime: 0,\n      selectedFolderId: '',\n      selectedFile: undefined as FilePickerFile | undefined,\n      selectedFileId: '',\n    };\n  },\n  watch: {\n    'taskDefinition.video': {\n      immediate: true,\n      handler: async function (value: Video) {\n        switch (value.type) {\n          case 'none':\n            break;\n          case 'studipFileReference':\n            if (\n              this.selectedFile === undefined ||\n              this.selectedFile.id !== value.file_id\n            ) {\n              // Get metadata for file\n              await this.loadFileRef({ id: value.file_id });\n              const ref = fileRefsSchema.parse(\n                this.fileRefById({ id: value.file_id })\n              );\n              this.selectedFile = {\n                id: value.file_id,\n                name: ref.attributes.name,\n                mime_type: ref.attributes['mime-type'],\n                download_url: ref.meta['download-url'],\n              };\n            }\n            break;\n          case 'youtube':\n            this.youtubeUrlInput = value.url;\n        }\n      },\n    },\n  },\n  computed: {\n    ...mapGetters({\n      fileRefById: 'file-refs/byId',\n    }),\n  },\n  methods: {\n    fileDetailsUrl,\n    fileIdToUrl,\n    $gettext,\n    ...mapActions({\n      loadFileRef: 'file-refs/loadById',\n    }),\n    onTimeUpdate(time: number) {\n      this.currentTime = time;\n    },\n    onClickUseCurrentTime() {\n      this.taskDefinition.startAt = this.currentTime;\n    },\n    updateCurrentFile(file: FilePickerFile) {\n      this.selectedFile = file;\n      this.selectedFileId = file.id;\n    },\n    onSaveYoutubeVideo() {\n      this.taskDefinition.video = {\n        type: 'youtube',\n        url: this.youtubeUrlInput,\n      };\n    },\n    onSaveUploadedFile() {\n      if (!this.selectedFile) {\n        return;\n      }\n      this.taskDefinition.video = {\n        v: 2,\n        type: 'studipFileReference',\n        file_id: this.selectedFile.id,\n      };\n    },\n    deleteVideo() {\n      this.taskDefinition.video = {\n        type: 'none',\n      };\n    },\n    onUploadStudipVideo(file: FileRef) {\n      this.taskDefinition.video = {\n        v: 2,\n        type: 'studipFileReference',\n        file_id: file.id,\n      };\n      this.selectedFile = {\n        id: file.id,\n        name: file.attributes.name,\n        mime_type: file.attributes['mime-type'],\n        download_url: file.meta['download-url'],\n      };\n    },\n  },\n  components: {\n    VideoTimeInput,\n    FileUpload,\n    VideoPlayer,\n    FilePicker,\n  },\n});\n","import { render } from \"./SelectVideo.vue?vue&type=template&id=3980b12c&scoped=true&ts=true\"\nimport script from \"./SelectVideo.vue?vue&type=script&lang=ts\"\nexport * from \"./SelectVideo.vue?vue&type=script&lang=ts\"\n\nimport \"./SelectVideo.vue?vue&type=style&index=0&id=3980b12c&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3980b12c\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType } from 'vue';\nimport { InteractiveVideoTask } from '@/models/InteractiveVideoTask';\nimport { $gettext } from '@/language/gettext';\nimport TabsComponent from '@/components/courseware-components-ported-to-vue3/TabsComponent.vue';\nimport TabComponent from '@/components/courseware-components-ported-to-vue3/TabComponent.vue';\nimport AddInteractions from '@/components/interactiveVideo/AddInteractions.vue';\nimport SelectVideo from '@/components/interactiveVideo/SelectVideo.vue';\n\nexport default defineComponent({\n  name: 'InteractiveVideoEditor',\n  data() {\n    return {};\n  },\n  methods: {\n    $gettext,\n  },\n  props: {\n    taskDefinition: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  computed: {},\n  components: {\n    SelectVideo,\n    AddInteractions,\n    TabComponent,\n    TabsComponent,\n  },\n});\n","import { render } from \"./InteractiveVideoEditor.vue?vue&type=template&id=4ad9d729&ts=true\"\nimport script from \"./InteractiveVideoEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./InteractiveVideoEditor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_VideoPlayer = _resolveComponent(\"VideoPlayer\")!\n\n  return (_openBlock(), _createBlock(_component_VideoPlayer, { task: _ctx.task }, null, 8, [\"task\"]))\n}","\nimport { defineComponent, PropType } from 'vue';\nimport { InteractiveVideoTask } from '@/models/InteractiveVideoTask';\nimport VideoPlayer from '@/components/interactiveVideo/VideoPlayer.vue';\n\nexport default defineComponent({\n  name: 'InteractiveVideoViewer',\n  components: { VideoPlayer },\n  props: {\n    task: {\n      type: Object as PropType<InteractiveVideoTask>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      counter: 0,\n    };\n  },\n});\n","import { render } from \"./InteractiveVideoViewer.vue?vue&type=template&id=80198370&ts=true\"\nimport script from \"./InteractiveVideoViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./InteractiveVideoViewer.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import FillInTheBlanksViewer from '@/components/FillInTheBlanksViewer.vue';\nimport FillInTheBlanksEditor from '@/components/FillInTheBlanksEditor.vue';\nimport FindTheWordsEditor from '@/components/FindTheWordsEditor.vue';\nimport FindTheWordsViewer from '@/components/FindTheWordsViewer.vue';\nimport QuestionEditor from '@/components/QuestionEditor.vue';\nimport QuestionViewer from '@/components/QuestionViewer.vue';\nimport DragTheWordsViewer from '@/components/DragTheWordsViewer.vue';\nimport DragTheWordsEditor from '@/components/DragTheWordsEditor.vue';\nimport MarkTheWordsViewer from '@/components/MarkTheWordsViewer.vue';\nimport MarkTheWordsEditor from '@/components/MarkTheWordsEditor.vue';\nimport MemoryEditor from '@/components/MemoryEditor.vue';\nimport MemoryViewer from '@/components/MemoryViewer.vue';\nimport PairingViewer from '@/components/PairingViewer.vue';\nimport PairingEditor from '@/components/PairingEditor.vue';\nimport ImageSequencingViewer from '@/components/ImageSequencingViewer.vue';\nimport ImageSequencingEditor from '@/components/ImageSequencingEditor.vue';\nimport { v4 } from 'uuid';\nimport { z } from 'zod';\nimport FindTheHotspotEditor from '@/components/FindTheHotspotEditor.vue';\nimport FindTheHotspotViewer from '@/components/FindTheHotspotViewer.vue';\nimport { interactiveVideoTaskSchema } from '@/models/InteractiveVideoTask';\nimport { $gettext } from '@/language/gettext';\nimport InteractiveVideoEditor from '@/components/interactiveVideo/InteractiveVideoEditor.vue';\nimport InteractiveVideoViewer from '@/components/interactiveVideo/InteractiveVideoViewer.vue';\n\nexport const feedbackSchema = z.object({\n  percentage: z.number(),\n  message: z.string(),\n});\nexport type Feedback = z.infer<typeof feedbackSchema>;\n\n/**\n * @deprecated Images are now stored as IDs rather than as absolute URLs.\n */\nconst imageSchema_v1 = z.object({\n  uuid: z.string(),\n  imageUrl: z.string(),\n  altText: z.string(),\n});\nconst imageSchema_v2 = z.object({\n  v: z.literal(2),\n  uuid: z.string(),\n  file_id: z.string(),\n  altText: z.string(),\n});\n\nconst imageSchema = z\n  .union([imageSchema_v1, imageSchema_v2])\n  .transform((val) => {\n    if (!Object.hasOwn(val, 'v')) {\n      // Migration from v1 to v2\n      const val_v1 = val as z.infer<typeof imageSchema_v1>;\n      const urlParams = new URLSearchParams(val_v1.imageUrl);\n      const file_id = urlParams.get('file_id');\n      if (!file_id) {\n        throw new Error(\n          'Could not migrate imageUrl to file_id. The query param ' +\n            '\"file_id\" was not found in the imageUrl string.'\n        );\n      }\n      const val_v2 = {\n        v: 2,\n        uuid: val_v1.uuid,\n        altText: val_v1.altText,\n        file_id,\n      } as z.infer<typeof imageSchema_v2>;\n      console.log(\n        'Migrating from imageSchema_v1 to imageSchema_v2',\n        'v1:',\n        val_v1,\n        'v2:',\n        val_v2\n      );\n      return val_v2;\n    } else {\n      return val as z.infer<typeof imageSchema_v2>;\n    }\n  });\n\nexport type Image = z.infer<typeof imageSchema>;\n\n/**\n * @return The Stud.IP download URL for the file with the given ID, or '' if id is ''\n */\nexport function fileIdToUrl(fileId: string): string {\n  if (fileId === '') {\n    return '';\n  }\n  return window.STUDIP.URLHelper.getURL('sendfile.php', {\n    file_id: fileId,\n  });\n}\n\n/**\n * @return The Stud.IP URL to view 'details' about the file with the given ID.\n */\nexport function fileDetailsUrl(fileId: string): string {\n  return window.STUDIP.URLHelper.getURL(`dispatch.php/file/details/${fileId}`);\n}\n\nexport const dragTheWordsTaskSchema = z.object({\n  task_type: z.literal('DragTheWords'),\n  template: z.string(),\n  retryAllowed: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  instantFeedback: z.boolean(),\n  allBlanksMustBeFilledForSolutions: z.boolean(),\n  alphabeticOrder: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    fillInAllBlanksMessage: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type DragTheWordsTask = z.infer<typeof dragTheWordsTaskSchema>;\n\nexport const findTheHotspotTaskSchema = z.object({\n  task_type: z.literal('FindTheHotspot'),\n  image: imageSchema,\n});\nexport type FindTheHotspotTask = z.infer<typeof findTheHotspotTaskSchema>;\n\nexport const findTheWordsTaskSchema = z.object({\n  task_type: z.literal('FindTheWords'),\n  words: z.array(z.string()),\n});\nexport type FindTheWordsTask = z.infer<typeof findTheWordsTaskSchema>;\n\nexport const markTheWordsTaskSchema = z.object({\n  task_type: z.literal('MarkTheWords'),\n  template: z.string(),\n  retryAllowed: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema).default(() => defaultFeedback()),\n});\nexport type MarkTheWordsTask = z.infer<typeof markTheWordsTaskSchema>;\n\nexport const memoryCardSchema = imageSchema;\nexport type MemoryCard = z.infer<typeof memoryCardSchema>;\n\nexport const memoryTaskSchema = z.object({\n  task_type: z.literal('Memory'),\n  cards: z.array(memoryCardSchema),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n});\nexport type MemoryTask = z.infer<typeof memoryTaskSchema>;\n\nexport const fillInTheBlanksTaskSchema = z.object({\n  task_type: z.literal('FillInTheBlanks'),\n  template: z.string(),\n  retryAllowed: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  caseSensitive: z.boolean(),\n  autoCorrect: z.boolean(),\n  allBlanksMustBeFilledForSolutions: z.boolean(),\n  acceptTypos: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    fillInAllBlanksMessage: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type FillInTheBlanksTask = z.infer<typeof fillInTheBlanksTaskSchema>;\n\nexport const questionAnswerSchema = z.object({\n  text: z.string(),\n  correct: z.boolean(),\n  strings: z.object({\n    hint: z.string(),\n    feedbackSelected: z.string(),\n    feedbackNotSelected: z.string(),\n  }),\n});\nexport type QuestionAnswer = z.infer<typeof questionAnswerSchema>;\n\nexport const questionTaskSchema = z.object({\n  task_type: z.literal('Question'),\n  question: z.string(),\n  answers: z.array(questionAnswerSchema),\n  canAnswerMultiple: z.boolean(),\n  retryAllowed: z.boolean(),\n  randomOrder: z.boolean(),\n  showSolutionsAllowed: z.boolean(),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n  }),\n});\nexport type QuestionTask = z.infer<typeof questionTaskSchema>;\n\nconst imageElementSchema = z.object({\n  uuid: z.string(),\n  type: z.literal('image'),\n  file_id: z.string(),\n  altText: z.string(),\n});\nconst audioElementSchema = z.object({\n  uuid: z.string(),\n  type: z.literal('audio'),\n  file_id: z.string(),\n  altText: z.string(),\n});\nexport const pairElementSchema = z.union([\n  imageElementSchema,\n  audioElementSchema,\n]);\nexport type PairElement = z.infer<typeof pairElementSchema>;\n\nexport const pairSchema = z.object({\n  uuid: z.string(),\n  draggableElement: pairElementSchema,\n  targetElement: pairElementSchema,\n});\nexport type Pair = z.infer<typeof pairSchema>;\n\nexport const pairingTaskSchema = z.object({\n  task_type: z.literal('Pairing'),\n  pairs: z.array(pairSchema),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type PairingTask = z.infer<typeof pairingTaskSchema>;\n\nexport const imageSequencingTaskSchema = z.object({\n  task_type: z.literal('ImageSequencing'),\n  images: z.array(imageSchema),\n  strings: z.object({\n    checkButton: z.string(),\n    retryButton: z.string(),\n    solutionsButton: z.string(),\n    resultMessage: z.string(),\n  }),\n  feedback: z.array(feedbackSchema),\n});\nexport type ImageSequencingTask = z.infer<typeof imageSequencingTaskSchema>;\n\nexport const taskDefinitionSchema = z.union([\n  dragTheWordsTaskSchema,\n  fillInTheBlanksTaskSchema,\n  findTheHotspotTaskSchema,\n  findTheWordsTaskSchema,\n  imageSequencingTaskSchema,\n  interactiveVideoTaskSchema,\n  markTheWordsTaskSchema,\n  memoryTaskSchema,\n  pairingTaskSchema,\n  questionTaskSchema,\n]);\nexport type TaskDefinition = z.infer<typeof taskDefinitionSchema>;\n\n// Allowed lmb task types to be inserted in the Interactive Video Editor.\n// Excludes the type 'interactive video' to avoid a recursive reference, which\n// is cumbersome to solve in Typescript/Zod.\n// I at first used the workaround described at https://github.com/colinhacks/zod#recursive-types\n// but I later ran into hard-to-resolve typechecking errors when I started to\n// use .optional() inside of schemas. I decided this is the better option for now. -Ann\nexport const taskDefinitionSchemaMinusInteractiveVideo = z.union([\n  dragTheWordsTaskSchema,\n  fillInTheBlanksTaskSchema,\n  findTheHotspotTaskSchema,\n  findTheWordsTaskSchema,\n  imageSequencingTaskSchema,\n  markTheWordsTaskSchema,\n  memoryTaskSchema,\n  pairingTaskSchema,\n  questionTaskSchema,\n]);\n\n// Here, a bit of boilerplate is required to create a schema for the union of\n// all possible 'task_type' values\nexport const taskTypeSchema = z.union([\n  dragTheWordsTaskSchema.shape.task_type,\n  fillInTheBlanksTaskSchema.shape.task_type,\n  findTheHotspotTaskSchema.shape.task_type,\n  findTheWordsTaskSchema.shape.task_type,\n  imageSequencingTaskSchema.shape.task_type,\n  interactiveVideoTaskSchema.shape.task_type,\n  markTheWordsTaskSchema.shape.task_type,\n  memoryTaskSchema.shape.task_type,\n  pairingTaskSchema.shape.task_type,\n  questionTaskSchema.shape.task_type,\n]);\n\nfunction defaultFeedback(): Feedback[] {\n  return [\n    { percentage: 0, message: 'Versuchen Sie es noch einmal.' },\n    { percentage: 50, message: 'Gut.' },\n    { percentage: 75, message: 'Sehr gut.' },\n    { percentage: 100, message: 'Perfekt!' },\n  ];\n}\n\nexport function newTask(type: TaskDefinition['task_type']): TaskDefinition {\n  switch (type) {\n    case 'DragTheWords':\n      return {\n        task_type: 'DragTheWords',\n        template: 'Drag the *words* to the matching *gaps*.',\n        retryAllowed: true,\n        showSolutionsAllowed: true,\n        instantFeedback: false,\n        allBlanksMustBeFilledForSolutions: false,\n        alphabeticOrder: false,\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          fillInAllBlanksMessage:\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen.',\n          resultMessage: ':correct von :total Lcken richtig ausgefllt.',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'FillInTheBlanks':\n      return {\n        task_type: 'FillInTheBlanks',\n        template: 'Hier entsteht der *Lcken*text.',\n        retryAllowed: true,\n        showSolutionsAllowed: true,\n        caseSensitive: false,\n        autoCorrect: false,\n        allBlanksMustBeFilledForSolutions: false,\n        acceptTypos: true,\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          fillInAllBlanksMessage:\n            'Alle Lcken mssen ausgefllt sein, um Lsungen anzuzeigen.',\n          resultMessage: ':correct von :total Lcken richtig ausgefllt.',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'FindTheHotspot':\n      return {\n        task_type: 'FindTheHotspot',\n        image: {\n          v: 2,\n          uuid: v4(),\n          file_id: '',\n          altText: '',\n        },\n      };\n    case 'FindTheWords':\n      return {\n        task_type: 'FindTheWords',\n        words: ['apple', 'banana', 'orange'],\n      };\n    case 'Pairing':\n      return {\n        task_type: 'Pairing',\n        pairs: [\n          {\n            uuid: v4(),\n            draggableElement: {\n              uuid: v4(),\n              type: 'image',\n              file_id: '',\n              altText: '',\n            },\n            targetElement: {\n              uuid: v4(),\n              type: 'image',\n              file_id: '',\n              altText: '',\n            },\n          },\n        ],\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          resultMessage: ':correct von :total Bilder richtig zugeordnet.',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'ImageSequencing':\n      return {\n        task_type: 'ImageSequencing',\n        images: [\n          {\n            uuid: v4(),\n            v: 2,\n            file_id: '',\n            altText: '',\n          },\n        ],\n        strings: {\n          checkButton: 'Reihenfolge berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          resultMessage: ':correct von :total Elemente richtig sortiert.',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'InteractiveVideo':\n      return {\n        task_type: 'InteractiveVideo',\n        interactions: [],\n        video: {\n          type: 'none',\n        },\n        autoplay: false,\n        startAt: 0,\n        disableNavigation: 'not disabled',\n      };\n    case 'MarkTheWords':\n      return {\n        task_type: 'MarkTheWords',\n        template:\n          '*The* moon is our natural satellite, *i.e.* it revolves around the *Earth!*',\n        retryAllowed: true,\n        showSolutionsAllowed: true,\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          resultMessage: ':correct von :total Wrter richtig ausgewhlt.',\n        },\n        feedback: defaultFeedback(),\n      };\n    case 'Memory':\n      return {\n        task_type: 'Memory',\n        cards: [\n          {\n            uuid: v4(),\n            v: 2,\n            file_id: '',\n            altText: '',\n          },\n        ],\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n          resultMessage: ':correct von :total Wrter richtig ausgewhlt.',\n        },\n      };\n    case 'Question':\n      return {\n        task_type: 'Question',\n        question:\n          'Welche dieser Himmelskrper sind Planeten in unserem Sonnensystem?',\n        answers: [\n          {\n            text: 'Mond',\n            correct: false,\n            strings: {\n              hint: '',\n              feedbackSelected: 'Dies ist ein Mond, kein Planet.',\n              feedbackNotSelected: 'Genau, der Mond ist ein Mond.',\n            },\n          },\n          {\n            text: 'Merkur',\n            correct: true,\n            strings: {\n              hint: '',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n          {\n            text: 'Venus',\n            correct: true,\n            strings: {\n              hint: '',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n          {\n            text: 'Mars',\n            correct: true,\n            strings: {\n              hint: '',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n          {\n            text: 'Pluto',\n            correct: false,\n            strings: {\n              hint: 'Hat sich hier was gendert?',\n              feedbackSelected: '',\n              feedbackNotSelected: '',\n            },\n          },\n          {\n            text: 'Titan',\n            correct: false,\n            strings: {\n              hint: '',\n              feedbackSelected:\n                'Das ist leider nicht richtig. Der Titan ist ein Mond vom Saturn.',\n              feedbackNotSelected: 'Genau, der Titan ist ein Mond vom Saturn.',\n            },\n          },\n          {\n            text: 'Sonne',\n            correct: false,\n            strings: {\n              hint: '',\n              feedbackSelected:\n                'Das ist leider nicht richtig. Die Sonne ist ein Stern.',\n              feedbackNotSelected: 'Genau, die Sonne ist ein Stern.',\n            },\n          },\n        ],\n        canAnswerMultiple: true,\n        retryAllowed: true,\n        randomOrder: true,\n        showSolutionsAllowed: true,\n        strings: {\n          checkButton: 'Antworten berprfen',\n          retryButton: 'Erneut versuchen',\n          solutionsButton: 'Lsungen anzeigen',\n        },\n      };\n    default:\n      throw new Error('Unimplemented type: ' + type);\n  }\n}\n\nexport function viewerForTaskType(type: TaskDefinition['task_type']) {\n  switch (type) {\n    case 'DragTheWords':\n      return DragTheWordsViewer;\n    case 'FillInTheBlanks':\n      return FillInTheBlanksViewer;\n    case 'FindTheHotspot':\n      return FindTheHotspotViewer;\n    case 'FindTheWords':\n      return FindTheWordsViewer;\n    case 'Pairing':\n      return PairingViewer;\n    case 'ImageSequencing':\n      return ImageSequencingViewer;\n    case 'InteractiveVideo':\n      return InteractiveVideoViewer;\n    case 'MarkTheWords':\n      return MarkTheWordsViewer;\n    case 'Memory':\n      return MemoryViewer;\n    case 'Question':\n      return QuestionViewer;\n    default:\n      throw new Error('Unimplemented task type: ' + type);\n  }\n}\n\nexport function editorForTaskType(type: TaskDefinition['task_type']) {\n  switch (type) {\n    case 'DragTheWords':\n      return DragTheWordsEditor;\n    case 'FillInTheBlanks':\n      return FillInTheBlanksEditor;\n    case 'FindTheHotspot':\n      return FindTheHotspotEditor;\n    case 'FindTheWords':\n      return FindTheWordsEditor;\n    case 'Pairing':\n      return PairingEditor;\n    case 'ImageSequencing':\n      return ImageSequencingEditor;\n    case 'InteractiveVideo':\n      return InteractiveVideoEditor;\n    case 'MarkTheWords':\n      return MarkTheWordsEditor;\n    case 'Memory':\n      return MemoryEditor;\n    case 'Question':\n      return QuestionEditor;\n    default:\n      throw new Error('Unimplemented task type: ' + type);\n  }\n}\n\nexport function printTaskType(type: TaskDefinition['task_type']): string {\n  switch (type) {\n    case 'DragTheWords':\n      return $gettext('Drag The Words');\n    case 'FillInTheBlanks':\n      return $gettext('Fill In The Blanks');\n    case 'FindTheHotspot':\n      return $gettext('Find The Hotspot');\n    case 'FindTheWords':\n      return $gettext('Find The Words');\n    case 'Pairing':\n      return $gettext('Pairing');\n    case 'ImageSequencing':\n      return $gettext('Image Sequencing');\n    case 'InteractiveVideo':\n      return $gettext('Interactive Video');\n    case 'MarkTheWords':\n      return $gettext('Mark The Words');\n    case 'Memory':\n      return $gettext('Memory');\n    case 'Question':\n      return $gettext('Question');\n  }\n}\n\n/**\n * @return true if the viewer for the given task type should be visible\n * while the editor for that task type is open.\n */\nexport function showViewerAboveEditor(\n  type: TaskDefinition['task_type']\n): boolean {\n  return type !== 'InteractiveVideo';\n}\n\nexport function iconForTaskType(type: TaskDefinition['task_type']): string {\n  switch (type) {\n    case 'Memory':\n      break;\n    case 'FillInTheBlanks':\n      return 'file-office';\n    case 'FindTheWords':\n      break;\n    case 'Question':\n      return 'question';\n    case 'DragTheWords':\n      return 'tan3';\n    case 'MarkTheWords':\n      return 'tan3';\n    case 'Pairing':\n      break;\n    case 'ImageSequencing':\n      break;\n    case 'InteractiveVideo':\n      break;\n  }\n  return 'question';\n}\n","import axios from 'axios';\nimport { z } from 'zod';\n\nexport const httpClient = axios.create({\n  baseURL: window.STUDIP.URLHelper.getURL(`jsonapi.php/v1`, {}, true),\n  headers: {\n    'Content-Type': 'application/vnd.api+json',\n  },\n});\n\n/**\n * Send a request to the JSON API to create a file. Adapted from the file\n * \"courseware.module.js\" in the Stud.IP core.\n */\nexport async function createFile({\n  file,\n  fileData,\n  folder,\n}: {\n  file: CreateFileSpec;\n  fileData: File | Blob;\n  folder: Pick<FolderRef, 'id'>;\n}): Promise<FileRef> {\n  const termId = file?.relationships?.['terms-of-use']?.data?.id ?? null;\n  const formData = new FormData();\n  formData.append('file', fileData, file.attributes.name);\n  if (termId) {\n    formData.append('term-id', termId);\n  }\n  const url = `folders/${folder.id}/file-refs`;\n  const request = await httpClient.post(url, formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n  const response = await httpClient.get(request.headers.location);\n  const data = response.data.data;\n  return fileRefsSchema.parse(data);\n}\n\n/**\n * Datatype 'file-refs' provided by the Stud.IP JSON API.\n */\nexport const fileRefsSchema = z.object({\n  type: z.literal('file-refs'),\n  id: z.string(),\n  attributes: z.object({\n    name: z.string(),\n    mkdate: z.string(),\n    chdate: z.string(),\n    description: z.string(),\n    downloads: z.number(),\n    filesize: z.number(),\n    'is-downloadable': z.boolean(),\n    'is-editable': z.boolean(),\n    'is-readable': z.boolean(),\n    'is-writable': z.boolean(),\n    'mime-type': z.string(),\n  }),\n  links: z.object({\n    self: z.string(),\n  }),\n  meta: z.object({\n    'download-url': z.string(),\n  }),\n  // 'unknown' for the moment because I did not care to write out types for this\n  // field and do not have a use for it in the code I have written thus far.\n  relationships: z.unknown(),\n});\nexport type FileRef = z.infer<typeof fileRefsSchema>;\n\nexport interface FolderRef {\n  id: string;\n  attributes: {\n    'folder-type': string;\n    'data-content': {\n      download_allowed: number;\n    };\n    name: string;\n  };\n  relationships?: {\n    parent?: {\n      data: {\n        id: string;\n      };\n    };\n  };\n}\n\n/**\n * A subset of the information contained in FileRef, containing the information\n * necessary to send a request to create a new file on the server.\n */\nexport interface CreateFileSpec {\n  relationships?: {\n    'terms-of-use'?: {\n      data?: {\n        id?: string;\n      };\n    };\n  };\n  attributes: {\n    name: string;\n  };\n}\n","import { TaskDefinition } from '@/models/TaskDefinition';\nimport { z } from 'zod';\n\n/**\n * Save a Vue.js Lernmodul that is being edited in the \"Lernmodule\" tab of a\n * course.\n * @param taskDefinition The definition of the task\n * @param moduleName The name of the Lernmodul\n * @param infoText The HTML description of the Lernmodul\n * @param module_id The id from lernmodule_module\n * @param block_id The id from lernmodule_blocks where the module is to be\n *                 inserted.  (This only applies for newly created modules.)\n */\nexport async function saveTask(\n  taskDefinition: TaskDefinition,\n  moduleName: string,\n  infoText: string,\n  module_id: string,\n  block_id?: string\n): Promise<SaveTaskResponse> {\n  const url = window.STUDIP.LernmoduleVueJS.saveRoute;\n  const token = window.STUDIP.CSRF_TOKEN;\n  const formData = new FormData();\n  // TODO Maybe we should parse taskDefinition here to ensure it has no extra\n  //   fields we didn't intend to save.\n  formData.append('task_definition', JSON.stringify(taskDefinition));\n  formData.append('module_id', module_id);\n  formData.append('name', moduleName);\n  formData.append('infotext', infoText);\n  if (block_id) {\n    formData.append('block_id', block_id);\n  }\n  formData.append(token.name, token.value);\n  return fetch(url, {\n    method: 'POST',\n    body: formData,\n  }).then((response) => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    // TODO Maybe we should parse the server's response to ensure it really is\n    //  an instance of SaveTaskResponse.\n    return response.json() as Promise<SaveTaskResponse>;\n  });\n}\n\nexport interface SaveTaskResponse {\n  status: 'success';\n  taskDefinition: TaskDefinition;\n  moduleName: string;\n  infotext: string;\n}\n\n/**\n * Send a request to Stud.IP to update the number of points earned by the student\n * for the Lernmodul that is currently viewed.\n * @param points -- a map describing how many points the student should be reported\n * as having for each part of the Lernmodul.\n * Key: The ID or name of the part.  Value: The number of points.\n * @param success - If true, the attempt will be marked as 'successful'.\n */\nexport async function updateAttempt(\n  points: Record<string, number>,\n  success: boolean\n): Promise<void> {\n  // The ID of the Lernmodul is encoded in this URL provided to us by the server.\n  const url = window.STUDIP.LernmoduleVueJS.updateAttemptRoute;\n  const formData = new FormData();\n  const token = window.STUDIP.CSRF_TOKEN;\n  formData.append(token.name, token.value);\n  // Convert object into a nested array which PHP will understand\n  Object.entries(points).forEach(([name, score]) => {\n    formData.append(`message[points][${name}]`, score.toString());\n  });\n  if (success) {\n    formData.append('message[success]', 'true');\n  }\n  return fetch(url, {\n    method: 'POST',\n    body: formData,\n  }).then((response) => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n  });\n}\n\nexport const wysiwygUploadedFileSchema = z.object({\n  name: z.string(),\n  type: z.string(),\n  url: z.string(),\n});\n","import { Action, Module, Mutation, VuexModule } from 'vuex-module-decorators';\nimport {\n  newTask,\n  TaskDefinition,\n  taskDefinitionSchema,\n} from '@/models/TaskDefinition';\nimport { isArray, isEqual } from 'lodash';\nimport { saveTask, SaveTaskResponse } from '@/routes/lernmodule';\nimport { setAutoFreeze } from 'immer';\n\n// Prevent immer from freezing objects.  This behavior causes trouble when we\n// attempt to use v-model with an object produced by immer, because v-model\n// works by mutating objects.\nsetAutoFreeze(false);\n\ntype Saved = {\n  status: 'saved';\n};\ntype Saving = {\n  status: 'saving';\n};\ntype SaveError = {\n  status: 'error';\n  error: unknown;\n};\ntype SaveStatus = Saved | Saving | SaveError;\n\ninterface UndoRedoState {\n  taskDefinition: TaskDefinition;\n  undoBatch: unknown;\n}\n\nfunction sleep(ms: number) {\n  return new Promise((r) => setTimeout(r, ms));\n}\n\n@Module({ name: 'taskEditor' })\nexport class TaskEditorModule extends VuexModule {\n  saveStatus: SaveStatus = { status: 'saved' };\n  fatalErrors: string[] = [];\n  nonFatalErrors: string[] = [];\n  serverTaskDefinition: TaskDefinition | [] = [];\n  serverModuleName: string = '';\n  serverInfotext: string = '';\n  moduleName: string = '';\n  infotext: string = '';\n  undoRedoStack: UndoRedoState[] = [\n    {\n      taskDefinition: newTask('FillInTheBlanks'),\n      undoBatch: {},\n    },\n  ];\n  undoRedoIndex = 0;\n\n  get taskDefinition(): TaskDefinition {\n    return this.undoRedoStack[this.undoRedoIndex].taskDefinition;\n  }\n\n  get hasUnsavedChanges(): boolean {\n    return (\n      !isEqual(this.taskDefinition, this.serverTaskDefinition) ||\n      this.serverModuleName !== this.moduleName ||\n      this.serverInfotext !== this.infotext\n    );\n  }\n\n  get canUndo() {\n    return this.undoRedoIndex > 0;\n  }\n\n  get canRedo() {\n    return this.undoRedoIndex < this.undoRedoStack.length - 1;\n  }\n\n  @Mutation\n  undo() {\n    if (this.undoRedoIndex > 0) {\n      const currentState = this.undoRedoStack[this.undoRedoIndex];\n      this.undoRedoIndex--;\n\n      // Focus the input field whose contents will change as a result of this undo.\n      // That's how undo/redo behaves in native apps like Microsoft Word.\n      // When you press undo, it scrolls to the point in the document where\n      // the undo took place.  This lets you observe the result of your action.\n      const inputElements = document.querySelectorAll(\n        `[data-undo-focus-id=\"${currentState.undoBatch}\"]`\n      );\n      if (inputElements.length > 0) {\n        const inputEl = inputElements.item(0) as HTMLElement;\n        // If the input is inside of a collapsed <fieldset>, then the <fieldset>\n        // should be un-collapsed so that the user can see the input field.\n        const collapsedParents = [\n          ...document.querySelectorAll('fieldset.collapsable.collapsed'),\n        ].filter((element) => element.contains(inputEl));\n        collapsedParents.forEach((parent) =>\n          parent.classList.remove('collapsed')\n        );\n        inputEl.focus();\n      }\n    }\n  }\n\n  @Mutation\n  redo() {\n    if (this.undoRedoIndex < this.undoRedoStack.length - 1) {\n      this.undoRedoIndex++;\n      const nextState = this.undoRedoStack[this.undoRedoIndex];\n\n      // Manage focus -- see comments in undo()\n      const inputElements = document.querySelectorAll(\n        `[data-undo-focus-id=\"${nextState.undoBatch}\"]`\n      );\n      if (inputElements.length > 0) {\n        const inputEl = inputElements.item(0) as HTMLElement;\n        const collapsedParents = [\n          ...document.querySelectorAll('fieldset.collapsable.collapsed'),\n        ].filter((element) => element.contains(inputEl));\n        collapsedParents.forEach((parent) =>\n          parent.classList.remove('collapsed')\n        );\n        inputEl.focus();\n      }\n    }\n  }\n\n  // Initialize the editor store to a state usable for courseware\n  @Mutation\n  initializeCourseware(task_json: TaskDefinition) {\n    console.info('initializeCourseware()', task_json);\n    this.serverTaskDefinition = task_json;\n    this.undoRedoStack = [\n      { taskDefinition: this.serverTaskDefinition, undoBatch: {} },\n    ];\n  }\n\n  // Initialize the editor store to a state usable for the non-courseware version\n  // of Lernmodule (AKA the 'Lernmodule' tab in a course).\n  @Mutation\n  initializeNonCourseware() {\n    // In Linux on Anns PC this is an empty array but on Windows on Thomas PC it's just NULL.\n    // We don't know why this is, but for now, we will just accept it and handle both cases.\n    if (\n      window.STUDIP.LernmoduleVueJS.module.customdata &&\n      !isArray(window.STUDIP.LernmoduleVueJS.module.customdata)\n    ) {\n      this.serverTaskDefinition = taskDefinitionSchema.parse(\n        window.STUDIP.LernmoduleVueJS.module.customdata\n      );\n      this.undoRedoStack = [\n        { taskDefinition: this.serverTaskDefinition, undoBatch: {} },\n      ];\n    }\n    this.serverModuleName = window.STUDIP.LernmoduleVueJS.module.name;\n    this.serverInfotext = window.STUDIP.LernmoduleVueJS.infotext;\n    this.moduleName = window.STUDIP.LernmoduleVueJS.module.name;\n    this.infotext = window.STUDIP.LernmoduleVueJS.infotext;\n  }\n\n  @Mutation\n  startedSaving() {\n    this.saveStatus = { status: 'saving' };\n  }\n\n  @Mutation\n  saveSuccess(payload: SaveTaskResponse) {\n    this.saveStatus = { status: 'saved' };\n    this.serverTaskDefinition = payload.taskDefinition;\n    this.serverModuleName = payload.moduleName;\n    this.serverInfotext = payload.infotext;\n  }\n\n  @Mutation\n  saveFailure(error: unknown) {\n    this.saveStatus = { status: 'error', error };\n    this.nonFatalErrors.push(\n      'The task could not be saved.  Check the console for more details. '\n    );\n    console.log(error);\n  }\n\n  @Action\n  async saveTask() {\n    if (this.saveStatus.status === 'saving') {\n      return;\n    }\n    this.context.commit('startedSaving');\n    try {\n      const saveResult = await saveTask(\n        this.taskDefinition,\n        this.moduleName,\n        this.infotext,\n        window.STUDIP.LernmoduleVueJS.module.module_id,\n        window.STUDIP.LernmoduleVueJS.block_id\n      );\n      await sleep(500);\n      this.context.commit('saveSuccess', saveResult);\n    } catch (error) {\n      this.context.commit('saveFailure', { error });\n    }\n  }\n\n  /**\n   * Modify the currently edited task definition, creating a new undo/redo state\n   * if appropriate.  Edits are batched together based on the parameter 'undoBatch'.\n   * @param payload.taskDefinition The new state of the task being edited\n   * @param payload.undoBatch Any value.\n   * If undoBatch is an empty object, a new undo/redo state will always be created.\n   * Otherwise, a new undo/redo state will be created if undoBatch is different\n   * from the undoBatch of the previously performed action.\n   */\n  @Mutation\n  performEdit(payload: {\n    newTaskDefinition: TaskDefinition;\n    undoBatch: unknown;\n  }) {\n    const currentUndoRedoState = this.undoRedoStack[this.undoRedoIndex];\n    if (\n      isEqual(currentUndoRedoState.taskDefinition, payload.newTaskDefinition)\n    ) {\n      return; // Do not pollute the undo-redo history with no-op changes\n    }\n    const shouldMergeEdits =\n      !isEqual(payload.undoBatch, {}) &&\n      isEqual(payload.undoBatch, currentUndoRedoState.undoBatch);\n    if (shouldMergeEdits) {\n      // Amend the last undo state instead of creating a new one.\n      currentUndoRedoState.taskDefinition = payload.newTaskDefinition;\n      this.undoRedoStack = this.undoRedoStack.slice(0, this.undoRedoIndex + 1);\n    } else {\n      // Create a new undo state and append it to the stack.\n      this.undoRedoStack = this.undoRedoStack\n        .slice(0, this.undoRedoIndex + 1)\n        .concat([\n          {\n            taskDefinition: payload.newTaskDefinition,\n            undoBatch: payload.undoBatch,\n          },\n        ]);\n      this.undoRedoIndex += 1;\n    }\n  }\n\n  @Mutation\n  setModuleName(name: string) {\n    this.moduleName = name;\n  }\n\n  @Mutation\n  setInfoText(value: string) {\n    this.infotext = value;\n  }\n}\n","import { Action, Module, Mutation, VuexModule } from 'vuex-module-decorators';\nimport { taskEditorStore } from '@/store';\nimport { Context } from '@/models/CoursewareBlockIframeMessages';\n\n@Module({ name: 'coursewareBlock' })\nexport class CoursewareBlockModule extends VuexModule {\n  showEditorUI: boolean = false;\n  studipContext: Context = {\n    id: '',\n    type: '',\n  };\n\n  // Toggle whether to show the editing UI in the courseware block.\n  // This should be triggered via messages posted to the iframe.\n  // See courseware-main.ts and LernmoduleCoursewareBlockBase.vue.\n  @Mutation\n  setShowEditorUI(state: boolean) {\n    this.showEditorUI = state;\n  }\n\n  @Mutation\n  saveBlock() {\n    console.log('coursewareBlockStore: saveBlock() mutation called');\n    // Tell the Vue 2 component we are wrapped in to save the block.\n    // See the method 'onWindowMessage' of LernmoduleCoursewareBlockBase.vue\n    // The taskDefinition must be serialized in order for it to be passed\n    // between windows.\n    const taskDefinition = JSON.parse(\n      JSON.stringify(taskEditorStore.taskDefinition)\n    );\n    window.parent.postMessage({\n      type: 'SaveCoursewareBlock',\n      taskDefinition,\n    });\n  }\n\n  @Mutation\n  cancelEditing() {\n    console.log('coursewareBlockStore: cancelEditing() mutation called');\n    // Tell the Vue 2 component we are wrapped in to stop editing the block\n    // without saving the user's changes.\n    // See the method 'onWindowMessage' of LernmoduleCoursewareBlockBase.vue\n    window.parent.postMessage({\n      type: 'CancelEditingCoursewareBlock',\n    });\n  }\n\n  @Mutation\n  setContext(context: Context) {\n    this.studipContext = context;\n  }\n}\n","import { createStore } from 'vuex';\nimport { getModule } from 'vuex-module-decorators';\nimport { TaskEditorModule } from '@/store/modules/taskEditor';\nimport { CoursewareBlockModule } from '@/store/modules/coursewareBlock';\nimport { httpClient } from '@/routes/jsonApi';\nconst reststateVuex = require('@elan-ev/reststate-vuex');\nconst mapResourceModules = reststateVuex.mapResourceModules;\n\nexport const store = createStore({\n  modules: {\n    taskEditor: TaskEditorModule,\n    coursewareBlock: CoursewareBlockModule,\n    // Dynamically generated store modules used to access Stud.IP's JSON API\n    ...mapResourceModules({\n      names: [\n        'courses',\n        'course-memberships',\n        'courseware-blocks',\n        'courseware-block-comments',\n        'courseware-block-feedback',\n        'courseware-clipboards',\n        'courseware-containers',\n        'courseware-instances',\n        'courseware-public-links',\n        'courseware-structural-elements',\n        'courseware-structural-element-comments',\n        'courseware-structural-element-feedback',\n        'courseware-task-feedback',\n        'courseware-task-groups',\n        'courseware-tasks',\n        'courseware-templates',\n        'courseware-user-data-fields',\n        'courseware-user-progresses',\n        'courseware-units',\n        'files',\n        'file-refs',\n        'folders',\n        'lti-tools',\n        'status-groups',\n        'users',\n        'institutes',\n        'institute-memberships',\n        'semesters',\n        'sem-classes',\n        'sem-types',\n        'terms-of-use',\n        'user-data-field',\n        'studip-properties',\n      ],\n      httpClient,\n    }),\n  },\n});\n// These variables have type information attached to them, thanks to\n// the library vuex-module-decorators.\nexport const taskEditorStore = getModule(TaskEditorModule, store);\nexport const coursewareBlockStore = getModule(CoursewareBlockModule, store);\n","import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"textarea\", {\n    value: _ctx.modelValue,\n    ref: \"studip_wysiwyg\",\n    class: \"studip-wysiwyg\",\n    onInput: _cache[0] || (_cache[0] = ($event: any) => (_ctx.updateValue($event.target.value)))\n  }, null, 40, _hoisted_1))\n}","\n// need v-model to provide and get content -> <studip-wysiwyg v-model=\"content\" />\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'studip-wysiwyg',\n  props: {\n    modelValue: String,\n    forceSoftBreaks: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    removeWrappingPTag: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    disableAutoformat: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    insertHtmlComment: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      fallbackActive: false,\n    };\n  },\n  mounted() {\n    let ckeInit = this.initCKE();\n    if (!ckeInit) {\n      this.fallbackActive = true;\n    }\n  },\n  methods: {\n    initCKE() {\n      if (!window.STUDIP.wysiwyg_enabled) {\n        return false;\n      }\n      const textAreaElement = this.$refs.studip_wysiwyg as HTMLTextAreaElement;\n      // Process the jQuery event 'wysiwyg.load' which is triggered asynchronously\n      // after the wysiwyg editor is mounted using the 'replace()' method.\n      textAreaElement.onload = (event: any) => {\n        console.info('load');\n        let ckeditor = window.STUDIP.wysiwyg.getEditor(textAreaElement)!;\n        ckeditor.model.document.on('change:data', () => {\n          let data = ckeditor.getData();\n          if (this.removeWrappingPTag) {\n            // Remove the <p> tag wrapping the editor's contents.\n            // These tags are inserted automatically by CKEditor5.\n            // It appears to be a WONTFIX on their end.\n            // See https://github.com/ckeditor/ckeditor5/issues/1537\n            data = data.replace(/<p>(.*?)/, '$1').replace(/(.*?)<\\/p>/, '$1');\n          }\n          if (this.insertHtmlComment) {\n            /**\n             Insert <!--HTML--> at the start of the text so it is recognized by studip as a\n             raw HTML that should be inserted as-is into a PHP page when formatted\n             using htmlReady.\n             */\n            // This regex is the one used in Markup.class.php to recognize HTML\n            const regex = /^\\s*<!--\\s*HTML.*?-->/i;\n            if (!regex.test(data)) {\n              data = '<!--HTML-->'.concat(data);\n            }\n          }\n          this.$emit('update:modelValue', data);\n        });\n        ckeditor.editing.view.document.on(\n          'enter',\n          (evt, data) => {\n            if (this.forceSoftBreaks) {\n              // Override 'enter' to insert <br /> instead of <p></p> in the editor.\n              // This produces HTML which is more easily parsed in our various learning tasks.\n              // Source: https://github.com/ckeditor/ckeditor5/issues/1141#issuecomment-403403526\n              ckeditor.execute('shiftEnter');\n              data.preventDefault();\n              evt.stop();\n            }\n          },\n          { priority: 'high' }\n        );\n        if (this.disableAutoformat) {\n          // Disable the autoformat plugin so that *asterisks* surrounding text\n          // are not automatically converted into italic formatting.\n          // We use this syntax in the editor for various tasks, such as Fill In The Blanks.\n          // (It might be nicer to disable this using 'removePlugins' option in\n          // the config for CKEditor5, but the interface of STUDIP.wysiwyg.replace()\n          // does not allow us to alter the CKEditor5 config.)\n          const autoformat = ckeditor.plugins.get('Autoformat');\n          (autoformat as unknown as { isEnabled: boolean }).isEnabled = false;\n        }\n      };\n      // This asynchronous method does not return a promise.  Instead, it fires\n      // a 'load' event, which is processed in the above event handler. >:|\n      window.STUDIP.wysiwyg.replace(textAreaElement);\n      return true;\n    },\n    updateValue(value: unknown) {\n      if (this.fallbackActive) {\n        this.$emit('update:modelValue', value);\n      }\n    },\n  },\n});\n","import { render } from \"./StudipWysiwyg.vue?vue&type=template&id=02095a60&ts=true\"\nimport script from \"./StudipWysiwyg.vue?vue&type=script&lang=ts\"\nexport * from \"./StudipWysiwyg.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/ann/dev/studip/54-uol/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["modelUndoable","mounted","el","binding","vnode","prevVnode","validEl","validateElement","setElValueFromStore","splitPath","parsePath","storeValue","getValueAtPath","taskEditorStore","validatedStoreValue","validateBoundValue","value","toString","setAttribute","join","addEventListener","ev","firstPathEl","restOfPath","newState","JSON","parse","stringify","setValueAtPath","newTaskDefinition","undoBatch","console","log","store","Error","bindingMustBeStringError","split","bindingMustUseTaskDefinitionError","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","invalidElementTypeError","val","boundValueMustBePrimitiveError","o","path","reduce","accumulator","pathComponent","Object","prototype","hasOwnProperty","call","invalidPathError","lastPathComponent","pop","undefined","targetObject","selectedLanguage","values","window","STUDIP","INSTALLED_LANGUAGES","find","lang","selected","gettextPlugin","createGettext","availableLanguages","en","de","defaultLanguage","translations","$gettext","memoize","args","$pgettext","$npgettext","_hoisted_1","class","ref","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","key","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","render","_ctx","_cache","$props","$setup","$data","$options","_component_FeedbackElement","_resolveComponent","_openBlock","_createElementBlock","_createElementVNode","_Fragment","_renderList","parsedTemplate","element","uuid","type","innerHTML","text","_withDirectives","$event","userInputs","readonly","this","editable","disabled","_normalizeClass","classForInput","onBlur","onInputBlurOrEnter","onKeyup","_withKeys","onInput","_vModelText","hint","_createCommentVNode","showSolutions","submittedAnswerIsCorrect","_toDisplayString","solutions","showResults","_createBlock","achievedPoints","correctAnswers","maxPoints","feedback","task","resultMessage","showFillInAllTheBlanksMessage","textContent","fillInAllTheBlanksMessage","showCheckButton","strings","checkButton","onClick","onClickCheck","showExtraButtons","showSolutionButton","solutionsButton","onClickShowSolution","showRetryButton","retryButton","onClickTryAgain","min","low","lowNumber","high","highNumber","optimum","max","achievedMaxPoints","src","urlForIcon","width","height","feedbackMessage","defineComponent","name","props","Number","String","data","methods","iconName","ASSETS_URL","computed","feedbackSortedByScore","map","sort","a","b","percentage","percentageCorrect","round","message","__exports__","dljs","require","components","FeedbackElement","required","submittedAnswers","userWantsToSeeSolutions","blank","submittedAnswer","some","solution","isAnswerCorrect","userAnswer","caseSensitive","acceptTypos","isAnswerCorrectWithTypo","toLowerCase","distance","length","updateAttempt","points","blanks","forEach","index","$emit","success","autoGrowTextField","input","computedStyles","getComputedStyle","computedFontSize","getPropertyValue","computedFontFamily","computedPadding","fontSize","parseInt","minEm","minPx","rightPadEm","rightPadPx","static_min_pad","setTimeout","tmp","document","createElement","tmpStyles","position","padding","entries","style","parentElement","append","clientWidth","parentWidth","$refs","wrapperElement","remove","taskEditableAfterCheck","autoCorrect","event","target","splitTemplate","template","uuidv4","splitString","filter","word","blanksFilled","keys","allBlanksAreFilled","allAnswersAreCorrect","every","inputHasChanged","isEqual","showSolutionsAllowed","retryAllowed","allBlanksMustBeFilledForSolutions","replace","fillInAllBlanksMessage","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_component_studip_wysiwyg","addBlank","instructions","_createVNode","modelValue","taskDefinition","_vModelCheckbox","_createTextVNode","_vModelSelect","onChange","i","title","titleForDeleteButtonForFeedback","removeFeedback","addFeedback","StudipWysiwyg","wysiwygEl","wysiwyg","$el","editor","getEditor","error","selection","model","start","getFirstPosition","end","getLastPosition","change","writer","insertText","push","feedbackToRemove","onSubmit","addWord","_withScopeId","n","_pushScopeId","_popScopeId","words","emits","question","answers","answer","correct","removeAnswer","feedbackSelected","feedbackNotSelected","addAnswer","canAnswerMultiple","randomOrder","answerToRemove","currentUndoRedoState","classForAnswer","selectedAnswers","isSubmitted","selectedAnswer","_vModelRadio","showSolutionsButton","selectAnswer","Math","random","classForFilledBlank","draggable","onDragstart","startDragUsedAnswer","onDrop","onDropBlank","onDragover","_withModifiers","onDragenter","getAnswerById","onClickBlank","onDropUnusedAnswers","unusedAnswers","startDragUnusedAnswer","onClickUnusedAnswer","draggedAnswerId","draggedSourceId","clickedAnswerId","submittedAnswerId","getElement","elementId","dragEvent","answerId","dataTransfer","dropEffect","effectAllowed","property","draggedAnswer","previousBlank","preventDefault","instantFeedback","id","randomizedAnswers","sortedAnswers","localeCompare","alphabeticOrder","includes","_component_feedback_element","tabindex","role","isMarked","onClickWord","onKeydown","onWordKeydown","onWordKeyup","classForWord","score","maxScore","onClickRetry","debug","markedWords","Set","clear","delete","add","code","has","templateElement","trim","staticWord","_component_StudipWysiwyg","addSolution","_component_EditedMemoryCard","cards","card","selectedCardIndex","selectCard","deleteCard","alt","addCard","_component_EditedMemoryCardImage","_component_FileUpload","file_id","onFileUploaded","onImageUploaded","cardIndex","altText","onInputAltText","fileIdToUrl","deleteImage","produce","draft","findIndex","uploadRequestPromise","accept","onInputChange","errors","default","selectedFolderId","async","getUserFolders","wysiwigUploads","loadedUserFolders","f","attributes","mapGetters","relatedFolders","userId","USER_ID","userObject","userFolders","parent","relationship","folder","mapActions","_loadRelatedFolders","loadRelatedFolders","params","options","warn","fileInput","file","files","item","createFile","fileData","then","fileRef","catch","FileUpload","EditedMemoryCardImage","onInputAltTextBAD","EditedMemoryCard","beforeMount","v","v4","splice","_component_MemoryCardComponent","amountOfFlips","amountOfPairsSolved","totalAmountOfPairs","onClickCard","_imports_0","memoryCardFlipped","flipped","MemoryCardComponent","firstFlippedCardId","matchingCardId","solved","firstCard","getCardById","resetAllUnsolvedCardsExcept","exceptionId","resetCards","shuffleCards","card1","card2","cardId","amountOfCardsSolved","watch","handler","flatMap","duplicateCardId","immediate","_component_TargetImage","onDropOnInteractiveImages","draggableImages","draggableImageId","isDraggableImageUsed","startDragImage","onDragend","endDragImage","onClickDraggableImage","draggedImageId","imageIdInteractedWith","getImageById","ref_for","imagePairs","imagePair","outlined","imagesDraggedOntoTargets","targetImage","getImageDraggedOntoTarget","isCorrect","showResult","onDropOnTargetImage","startDragTargetImage","endDragTargetImage","onClickTargetImage","checkResults","reset","draggableImage","incorrect","Boolean","TargetImage","targetId","userInput","pair","pairs","targetElement","draggableElement","imageId","refToImage","parentElementOfImage","cloneOfParent","cloneNode","top","left","zIndex","setDragImage","clientHeight","targetImageId","setData","userDraggedImageId","otherTargetId","getData","image","imagesById","usedImageId","pair1","pair2","_component_ElementPair","selectedPairIndex","selectPair","_component_EditedImagePairImage","onUploadDraggableImage","onUploadTargetImage","EditedImagePairImage","pairIndex","ElementPair","addPair","deletePair","images","onDragOver","onDropImage","imageInteractedWith","fromIndex","indexOf","toIndex","moveInArray","array","shuffleImages","image1","image2","_component_ImageSequencingEditorImage","selectedImageIndex","selectImage","addImage","onUploadImage","imageIndex","onInputImageAltText","ImageSequencingEditorImage","overlaySchema_v1","z","startTime","endTime","x","y","pauseWhenVisible","optional","overlaySchema_v2","omit","extend","content_wysiwyg","overlaySchema","transform","hasOwn","val_v1","val_v1_rest","val_v2","lmbTaskInteractionSchema","taskDefinitionSchemaMinusInteractiveVideo","interactiveVideoInteractionSchema","refine","noVideoSchema","youtubeVideoSchema","url","studipFileVideoSchema_v1","wysiwygUploadedFileSchema","studipFileVideoSchema_v2","studipFileVideoSchema","urlParams","URLSearchParams","get","videoSchema","interactiveVideoTaskSchema","task_type","video","autoplay","startAt","disableNavigation","interactions","printInteractionType","interaction","printTaskType","iconForInteraction","iconForTaskType","_component_SelectVideo","_component_TabComponent","_component_AddInteractions","_component_TabsComponent","_withCtx","icon","_","tab","hash","_renderSlot","activeTabHash","tabs","provide","addTab","count","inject","isActive","created","buttonSelector","_component_LmbTaskInteraction","_component_OverlayInteraction","dragState","selectedInteractionId","selectInteraction","_normalizeStyle","progressBarInteractionMarkerStyle","onClickInteractionMarker","hidden","interactionForPopper","selectedInteraction","activateInteraction","editInteraction","deleteInteraction","visibleInteractions","uid","onPointerdown","onPointerDownInteraction","onPointermove","onPointerMoveInteraction","onPointerup","onPointerUpInteraction","onActivateInteraction","onPointerDownResizeHandle","onPointerMoveResizeHandle","onPointerUpResizeHandle","_Transition","activeInteraction","closeInteraction","_resolveDynamicComponent","viewerForTaskType","editorStateSymbol","Symbol","setup","resizeHandles","handle","popperInstance","OverlayInteraction","LmbTaskInteraction","player","time","playedTime","isPlaying","progressBarParameters","widthPixels","xOffsetPixels","progressBarObserver","videoInfo","Promise","resolve","fileRefById","timeAndVisibleInteractions","loadVideoInfo","initializePlayer","newTime","newVisibleInteractions","oldTime","oldVisibleInteractions","isPlayingForward","newlyVisibleInteractionWithPause","pause","destroy","$nextTick","interactionElement","getElementById","tooltipElement","selectedInteractionTooltip","createPopper","placement","modifiers","offset","loadFileRef","onPlayerReady","fileRefsSchema","mime_type","download_url","meta","videoUrl","videoType","disconnect","dispose","playerElement","classList","videoJsContainer","appendChild","videojs","techOrder","sources","controls","controlBar","children","volumePanel","inline","muted","on","currentTime","paused","play","duration","enforceDisabledNavigation","abs","progressBarEls","getElementsByClassName","progressHolder","ResizeObserver","root","rootLeft","getBoundingClientRect","progressHolderLeft","observe","payload","interactionId","mouseStartPos","clientX","clientY","interactionStartPos","interactionStartSize","setPointerCapture","pointerId","releasePointerCapture","rootRect","xInitial","yInitial","widthInitial","heightInitial","newX","newWidth","newY","newHeight","xPointer","dxPointerPixels","dxPointer","yPointer","dyPointerPixels","dyPointer","filteredHeight","filteredWidth","filteredX","filteredY","isOffscreenX","isOffscreenY","resizeOverlay","update","interactionEl","currentTarget","clientDx","dxFraction","xFraction","interactionWidth","minX","maxX","clampedXFraction","clientDy","dyFraction","yFraction","interactionHeight","minY","maxY","clampedYFraction","dragInteraction","progressPercentage","timeOffsetPx","focusInteraction","focus","focusVisible","one","delta","difference","beforeUnmount","onDragoverCapture","onDragOverTimeline","onPointerDownAxis","axisScale","point","formatVideoTimestamp","major","interactionMarkerStyle","onClickInteraction","onWheel","onContextmenu","timelineInteractionStyle","viewportEnd","onPointerDownInteractionStart","onPointerMoveInteractionStart","onPointerUpInteractionStart","onPointerDownInteractionEnd","onPointerMoveInteractionEnd","onPointerUpInteractionEnd","onDragStartTimeMarker","positionForTimeMarker","zoomTransform","viewportWidthEm","viewportWidthSeconds","viewportStart","getEmValueFromElement","pixelValue","parentNode","parentFontSize","parseFloat","elementFontSize","pixelValueOfOneEm","videoMetadata","t","k","observer","IntersectionObserver","recomputeViewportWidth","timelineAxis","dragTimeline","dSeconds","pixelsToSeconds","dx","translate","constrainZoomTranslate","dragBehavior","drag","button","select","timeline","isWithinViewport","isBeingDragged","secondsPerEm","secondsToTimelinePercentage","scale","seconds","deltaT","zoom","viewportStart0","viewportWidth0","exp","newK","viewportWidth1","viewportStart1","xCoordinateToTime","deltaY","pixelsToEm","pixels","NaN","axis","rect","widthInEm","timestampSeconds","hours","minutes","centiseconds","twoDigits","toLocaleString","minimumIntegerDigits","maximumFractionDigits","floor","fraction","clampedTime","startDeltaT","startPercent","endDeltaT","endPercent","interactionLength","interactionStartTime","interactionDuration","mouseDx","secondsPerPixel","maxTime","secondsClamped","dragInteractionTimeline","movementX","timeClamped","e","emitTimelineSeekThrottled","throttle","_component_VideoTimeInput","inputStartTime","inputStartTimeFormatError","invalid","inputStartTimeErrors","inputEndTime","inputEndTimeFormatError","inputEndTimeErrors","_KeepAlive","editorForTaskType","onBlurUserInput","newValue","formatSeconds","parsedUserInput","string","timeRegexCentiseconds","centisecondsMatch","exec","timeRegexHhMmSs","hhMmSsMatch","VideoTimeInput","_defineComponent","__props","videoPlayer","videoTimeline","selectedInteractionProperties","taskTypes","selectionId","nextTick","scrollIntoView","behavior","block","onVideoMetadataChange","onTimeUpdate","onTimelineSeek","onClickZoomIn","onClickZoomOut","onClickPlay","onClickPause","insertOverlay","insertLmbTaskInteraction","newTask","prompt","confirmed","confirm","info","VideoPlayer","ref_key","onTimeupdate","onMetadataChange","_unref","interactionType","taskType","VideoTimeline","onDeleteInteraction","SelectedInteractionProperties","_component_FilePicker","_component_VideoPlayer","onUploadStudipVideo","selectedFileId","onSelectFile","updateCurrentFile","onSaveUploadedFile","youtubeUrlInput","onSaveYoutubeVideo","href","fileDetailsUrl","selectedFile","deleteVideo","startPositionInputError","onClickUseCurrentTime","_component_FolderPicker","_component_translate","allowUserFolders","unchoose","currentValue","selectFile","_vShow","canBeEmpty","changeSelection","context","label","textOptGroupCourse","loadedCourseFolders","textOptGroupUser","filterCourseFolders","folders","allowHomeworkFolders","validatedParents","Map","validateParentFolder","isValid","relationships","parentId","hiddenParentFolderValidation","set","parentFolder","coursewareBlockStore","courseObject","getCourseFolders","confirmSelectedFolder","concat","FolderPicker","mimeType","isImage","isVideo","isAudio","isDocument","relatedFileRefs","relatedTermOfUse","loadRelatedFileRefs","filterFiles","loadArray","filterFile","fileTermsOfUse","videoConditions","condition","audioConditions","officeConditions","URLHelper","getURL","file_name","include","fileRefs","getFolderFiles","oldValue","FilePicker","SelectVideo","AddInteractions","TabComponent","TabsComponent","counter","feedbackSchema","imageSchema_v1","imageUrl","imageSchema_v2","imageSchema","fileId","dragTheWordsTaskSchema","findTheHotspotTaskSchema","findTheWordsTaskSchema","markTheWordsTaskSchema","defaultFeedback","memoryCardSchema","memoryTaskSchema","fillInTheBlanksTaskSchema","questionAnswerSchema","questionTaskSchema","imageElementSchema","audioElementSchema","pairElementSchema","pairSchema","pairingTaskSchema","imageSequencingTaskSchema","taskDefinitionSchema","taskTypeSchema","shape","DragTheWordsViewer","FillInTheBlanksViewer","FindTheHotspotViewer","FindTheWordsViewer","PairingViewer","ImageSequencingViewer","InteractiveVideoViewer","MarkTheWordsViewer","MemoryViewer","QuestionViewer","DragTheWordsEditor","FillInTheBlanksEditor","FindTheHotspotEditor","FindTheWordsEditor","PairingEditor","ImageSequencingEditor","InteractiveVideoEditor","MarkTheWordsEditor","MemoryEditor","QuestionEditor","showViewerAboveEditor","httpClient","axios","baseURL","headers","termId","formData","FormData","request","post","response","location","mkdate","chdate","description","downloads","filesize","links","self","saveTask","moduleName","infoText","module_id","block_id","LernmoduleVueJS","saveRoute","token","CSRF_TOKEN","fetch","method","body","ok","statusText","json","updateAttemptRoute","sleep","ms","r","setAutoFreeze","TaskEditorModule","VuexModule","status","undoRedoStack","undoRedoIndex","hasUnsavedChanges","serverTaskDefinition","serverModuleName","serverInfotext","infotext","canUndo","canRedo","undo","currentState","inputElements","querySelectorAll","inputEl","collapsedParents","contains","redo","nextState","initializeCourseware","task_json","initializeNonCourseware","module","customdata","isArray","startedSaving","saveStatus","saveSuccess","saveFailure","nonFatalErrors","commit","saveResult","performEdit","shouldMergeEdits","slice","setModuleName","setInfoText","__decorate","Mutation","Action","Module","CoursewareBlockModule","setShowEditorUI","state","showEditorUI","saveBlock","postMessage","cancelEditing","setContext","studipContext","reststateVuex","mapResourceModules","createStore","modules","taskEditor","coursewareBlock","names","getModule","updateValue","forceSoftBreaks","removeWrappingPTag","disableAutoformat","insertHtmlComment","fallbackActive","ckeInit","initCKE","wysiwyg_enabled","textAreaElement","studip_wysiwyg","onload","ckeditor","regex","test","editing","view","evt","execute","stop","priority","autoformat","plugins","isEnabled"],"sourceRoot":""}