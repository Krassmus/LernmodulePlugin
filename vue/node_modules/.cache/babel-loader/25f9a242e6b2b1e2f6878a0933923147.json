{"ast":null,"code":"import { H as Host, e as effect, f as setAttribute, j as computed } from './vidstack-b8ba7e3c.js';\nimport { u as useMediaContext, M as MediaProvider, a as MediaPlayer } from './vidstack-1c6c4f6e.js';\n\nclass MediaProviderElement extends Host(HTMLElement, MediaProvider) {\n  constructor() {\n    super(...arguments);\n    this._mediaElement = null;\n  }\n\n  onSetup() {\n    this._media = useMediaContext();\n    this.setAttribute(\"keep-alive\", \"\");\n  }\n\n  onDestroy() {\n    this._mediaElement?.remove();\n    this._mediaElement = null;\n  }\n\n  onConnect() {\n    effect(() => {\n      const loader = this.$state.loader();\n      const media = loader ? loader.mediaType() === \"audio\" ? this._createAudio() : this._createVideo() : null;\n\n      if (this._mediaElement !== media) {\n        const parent = this._mediaElement?.parentElement ?? this;\n        this._mediaElement?.remove();\n        this._mediaElement = media;\n        if (media) parent.prepend(media);\n      }\n\n      this.load(media);\n    });\n  }\n\n  _createAudio() {\n    const audio = this._mediaElement instanceof HTMLAudioElement ? this._mediaElement : document.createElement(\"audio\");\n    setAttribute(audio, \"preload\", \"none\");\n    setAttribute(audio, \"aria-hidden\", \"true\");\n    const {\n      controls,\n      crossorigin\n    } = this._media.$state;\n    effect(() => {\n      setAttribute(audio, \"controls\", controls());\n      setAttribute(audio, \"crossorigin\", crossorigin());\n    });\n    return audio;\n  }\n\n  _createVideo() {\n    const video = this._mediaElement instanceof HTMLVideoElement ? this._mediaElement : document.createElement(\"video\");\n    const {\n      controls,\n      crossorigin,\n      poster\n    } = this._media.$state,\n          $poster = computed(() => poster() && controls() ? poster() : null);\n    effect(() => {\n      setAttribute(video, \"controls\", controls());\n      setAttribute(video, \"crossorigin\", crossorigin());\n      setAttribute(video, \"poster\", $poster());\n    });\n    return video;\n  }\n\n}\n\nMediaProviderElement.tagName = \"media-provider\";\n\nclass MediaPlayerElement extends Host(HTMLElement, MediaPlayer) {}\n\nMediaPlayerElement.tagName = \"media-player\";\nMediaPlayerElement.attrs = {\n  preferNativeHLS: \"prefer-native-hls\"\n};\nexport { MediaProviderElement as M, MediaPlayerElement as a };","map":{"version":3,"sources":["/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vidstack/dist/dev/chunks/vidstack-af302770.js"],"names":["H","Host","e","effect","f","setAttribute","j","computed","u","useMediaContext","M","MediaProvider","a","MediaPlayer","MediaProviderElement","HTMLElement","constructor","arguments","_mediaElement","onSetup","_media","onDestroy","remove","onConnect","loader","$state","media","mediaType","_createAudio","_createVideo","parent","parentElement","prepend","load","audio","HTMLAudioElement","document","createElement","controls","crossorigin","video","HTMLVideoElement","poster","$poster","tagName","MediaPlayerElement","attrs","preferNativeHLS"],"mappings":"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","sourcesContent":["import { H as Host, e as effect, f as setAttribute, j as computed } from './vidstack-b8ba7e3c.js';\nimport { u as useMediaContext, M as MediaProvider, a as MediaPlayer } from './vidstack-1c6c4f6e.js';\n\nclass MediaProviderElement extends Host(HTMLElement, MediaProvider) {\n  constructor() {\n    super(...arguments);\n    this._mediaElement = null;\n  }\n  static {\n    this.tagName = \"media-provider\";\n  }\n  onSetup() {\n    this._media = useMediaContext();\n    this.setAttribute(\"keep-alive\", \"\");\n  }\n  onDestroy() {\n    this._mediaElement?.remove();\n    this._mediaElement = null;\n  }\n  onConnect() {\n    effect(() => {\n      const loader = this.$state.loader();\n      const media = loader ? loader.mediaType() === \"audio\" ? this._createAudio() : this._createVideo() : null;\n      if (this._mediaElement !== media) {\n        const parent = this._mediaElement?.parentElement ?? this;\n        this._mediaElement?.remove();\n        this._mediaElement = media;\n        if (media)\n          parent.prepend(media);\n      }\n      this.load(media);\n    });\n  }\n  _createAudio() {\n    const audio = this._mediaElement instanceof HTMLAudioElement ? this._mediaElement : document.createElement(\"audio\");\n    setAttribute(audio, \"preload\", \"none\");\n    setAttribute(audio, \"aria-hidden\", \"true\");\n    const { controls, crossorigin } = this._media.$state;\n    effect(() => {\n      setAttribute(audio, \"controls\", controls());\n      setAttribute(audio, \"crossorigin\", crossorigin());\n    });\n    return audio;\n  }\n  _createVideo() {\n    const video = this._mediaElement instanceof HTMLVideoElement ? this._mediaElement : document.createElement(\"video\");\n    const { controls, crossorigin, poster } = this._media.$state, $poster = computed(() => poster() && controls() ? poster() : null);\n    effect(() => {\n      setAttribute(video, \"controls\", controls());\n      setAttribute(video, \"crossorigin\", crossorigin());\n      setAttribute(video, \"poster\", $poster());\n    });\n    return video;\n  }\n}\n\nclass MediaPlayerElement extends Host(HTMLElement, MediaPlayer) {\n  static {\n    this.tagName = \"media-player\";\n  }\n  static {\n    this.attrs = {\n      preferNativeHLS: \"prefer-native-hls\"\n    };\n  }\n}\n\nexport { MediaProviderElement as M, MediaPlayerElement as a };\n"]},"metadata":{},"sourceType":"module"}