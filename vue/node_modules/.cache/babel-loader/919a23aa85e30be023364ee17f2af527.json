{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { H as Host, e as effect, f as setAttribute, h as signal, j as computed, C as Component, l as listenEvent, k as isString, u as useState, N as BOOLEAN } from './vidstack-b8ba7e3c.js';\nimport { am as Captions, al as Gesture, u as useMediaContext, an as Poster, T as Thumbnail, ao as Time, N as Controls, P as PlayerQueryList, U as PlayButton, Y as MuteButton, W as CaptionButton, X as FullscreenButton, Z as PIPButton, _ as SeekButton, R as ToggleButton, $ as LiveButton, O as Tooltip, Q as TooltipContent, ah as AudioRadioGroup, ai as CaptionsRadioGroup, a9 as Menu, aa as MenuButton, ab as MenuPortal, ad as MenuItems, ag as ChaptersRadioGroup, aj as SpeedRadioGroup, ak as QualityRadioGroup, af as Radio, ae as RadioGroup, S as Slider, a3 as SliderValue, a2 as SliderVideo, a7 as TimeSlider, a4 as SliderPreview, a6 as VolumeSlider, a8 as SliderChapters } from './vidstack-1c6c4f6e.js';\nimport { C as ControlsGroup, T as TooltipTrigger, M as MenuItem } from './vidstack-5ca95e20.js';\nimport { o as observeActiveTextTrack } from './vidstack-dd29a7a5.js';\nimport { c as cloneTemplateContent, a as createTemplate, r as requestScopedAnimationFrame, b as cloneTemplate } from './vidstack-b97c0002.js';\n\nclass MediaCaptionsElement extends Host(HTMLElement, Captions) {}\n\nMediaCaptionsElement.tagName = \"media-captions\";\n\nclass MediaGestureElement extends Host(HTMLElement, Gesture) {}\n\nMediaGestureElement.tagName = \"media-gesture\";\n\nclass MediaPosterElement extends Host(HTMLElement, Poster) {\n  constructor() {\n    super(...arguments);\n    this._img = document.createElement(\"img\");\n  }\n\n  onSetup() {\n    this._media = useMediaContext();\n    this.$state.img.set(this._img);\n  }\n\n  onConnect() {\n    const {\n      src,\n      alt\n    } = this.$state,\n          {\n      crossorigin\n    } = this._media.$state;\n\n    if (this._img.parentNode !== this) {\n      this.prepend(this._img);\n    }\n\n    effect(() => {\n      setAttribute(this._img, \"src\", src());\n      setAttribute(this._img, \"alt\", alt());\n      setAttribute(this._img, \"crossorigin\", crossorigin());\n    });\n  }\n\n}\n\nMediaPosterElement.tagName = \"media-poster\";\nconst imgTemplate = /* @__PURE__ */createTemplate('<img loading=\"eager\" decoding=\"async\" aria-hidden=\"true\">');\n\nclass MediaThumbnailElement extends Host(HTMLElement, Thumbnail) {\n  constructor() {\n    super(...arguments);\n    this._img = this._createImg();\n  }\n\n  onSetup() {\n    this._media = useMediaContext();\n    this.$state.img.set(this._img);\n  }\n\n  onConnect() {\n    const {\n      src\n    } = this.$state,\n          {\n      crossorigin\n    } = this._media.$props;\n\n    if (this._img.parentNode !== this) {\n      this.prepend(this._img);\n    }\n\n    effect(() => {\n      setAttribute(this._img, \"src\", src());\n      setAttribute(this._img, \"crossorigin\", crossorigin());\n    });\n  }\n\n  _createImg() {\n    return cloneTemplateContent(imgTemplate);\n  }\n\n}\n\nMediaThumbnailElement.tagName = \"media-thumbnail\";\n\nclass MediaTimeElement extends Host(HTMLElement, Time) {\n  onConnect() {\n    effect(() => {\n      this.textContent = this.$state.timeText();\n    });\n  }\n\n}\n\nMediaTimeElement.tagName = \"media-time\";\n\nclass MediaControlsElement extends Host(HTMLElement, Controls) {}\n\nMediaControlsElement.tagName = \"media-controls\";\n\nclass MediaControlsGroupElement extends Host(HTMLElement, ControlsGroup) {}\n\nMediaControlsGroupElement.tagName = \"media-controls-group\";\n\nclass ChapterTitle extends Component {}\n\nclass MediaChapterTitleElement extends Host(HTMLElement, ChapterTitle) {\n  constructor() {\n    super(...arguments);\n    this._chapterTitle = signal(\"\");\n    this._title = computed(() => {\n      const {\n        title,\n        started\n      } = this._media.$state;\n      return started() ? this._chapterTitle() || title() : title();\n    });\n  }\n\n  onSetup() {\n    this._media = useMediaContext();\n  }\n\n  onConnect() {\n    observeActiveTextTrack(this._media.textTracks, \"chapters\", track => {\n      if (!track) {\n        this._chapterTitle.set(\"\");\n\n        return;\n      }\n\n      const onCueChange = () => {\n        const activeCue = track?.activeCues[0];\n\n        this._chapterTitle.set(activeCue?.text || \"\");\n      };\n\n      onCueChange();\n      listenEvent(track, \"cue-change\", onCueChange);\n    });\n    effect(() => {\n      this.textContent = this._title();\n    });\n  }\n\n}\n\nMediaChapterTitleElement.tagName = \"media-chapter-title\";\n\nclass MediaLayout extends Component {}\n\nMediaLayout.props = {\n  when: \"\"\n};\n\nclass MediaLayoutElement extends Host(HTMLElement, MediaLayout) {\n  onSetup() {\n    this.query = PlayerQueryList.create(this.$props.when);\n  }\n\n  onConnect() {\n    effect(this._watchQuery.bind(this));\n  }\n\n  _watchQuery() {\n    const root = this.firstElementChild,\n          isTemplate = root?.localName === \"template\",\n          isHTMLElement = root instanceof HTMLElement;\n\n    if (!this.query.matches) {\n      if (isTemplate) {\n        for (const el of this.children) {\n          if (el.localName !== \"template\") el.remove();\n        }\n      } else if (isHTMLElement) {\n        root.style.display = \"none\";\n      }\n\n      return;\n    }\n\n    if (isTemplate) {\n      this.append(root.cloneNode(true));\n    } else if (isHTMLElement) {\n      root.style.display = \"\";\n    }\n  }\n\n}\n\nMediaLayoutElement.tagName = \"media-layout\";\n\nclass MediaPlayButtonElement extends Host(HTMLElement, PlayButton) {}\n\nMediaPlayButtonElement.tagName = \"media-play-button\";\n\nclass MediaMuteButtonElement extends Host(HTMLElement, MuteButton) {}\n\nMediaMuteButtonElement.tagName = \"media-mute-button\";\n\nclass MediaCaptionButtonElement extends Host(HTMLElement, CaptionButton) {}\n\nMediaCaptionButtonElement.tagName = \"media-caption-button\";\n\nclass MediaFullscreenButtonElement extends Host(HTMLElement, FullscreenButton) {}\n\nMediaFullscreenButtonElement.tagName = \"media-fullscreen-button\";\n\nclass MediaPIPButtonElement extends Host(HTMLElement, PIPButton) {}\n\nMediaPIPButtonElement.tagName = \"media-pip-button\";\n\nclass MediaSeekButtonElement extends Host(HTMLElement, SeekButton) {}\n\nMediaSeekButtonElement.tagName = \"media-seek-button\";\n\nclass MediaToggleButtonElement extends Host(HTMLElement, ToggleButton) {}\n\nMediaToggleButtonElement.tagName = \"media-toggle-button\";\n\nclass MediaLiveButtonElement extends Host(HTMLElement, LiveButton) {}\n\nMediaLiveButtonElement.tagName = \"media-live-button\";\n\nclass MediaTooltipElement extends Host(HTMLElement, Tooltip) {}\n\nMediaTooltipElement.tagName = \"media-tooltip\";\n\nclass MediaTooltipTriggerElement extends Host(HTMLElement, TooltipTrigger) {\n  onConnect() {\n    this.style.display = \"contents\";\n  }\n\n}\n\nMediaTooltipTriggerElement.tagName = \"media-tooltip-trigger\";\n\nclass MediaTooltipContentElement extends Host(HTMLElement, TooltipContent) {}\n\nMediaTooltipContentElement.tagName = \"media-tooltip-content\";\n\nfunction renderMenuItemsTemplate(el, onCreate) {\n  requestScopedAnimationFrame(() => {\n    if (!el.connectScope) return;\n    const template = el.querySelector(\"template\");\n    if (!template) return;\n    effect(() => {\n      if (!template.content.firstElementChild?.localName && !template.firstElementChild) {\n        throw Error(\"[vidstack] menu items template requires root element\");\n      }\n\n      const options = el.getOptions();\n      cloneTemplate(template, options.length, (radio, i) => {\n        const {\n          label,\n          value\n        } = options[i],\n              labelEl = radio.querySelector(`[data-part=\"label\"]`);\n        radio.setAttribute(\"value\", value);\n\n        if (labelEl) {\n          if (isString(label)) {\n            labelEl.textContent = label;\n          } else {\n            effect(() => {\n              labelEl.textContent = label();\n            });\n          }\n        }\n\n        onCreate?.(radio, options[i], i);\n      });\n    });\n  });\n}\n\nclass MediaAudioRadioGroupElement extends Host(HTMLElement, AudioRadioGroup) {\n  onConnect() {\n    renderMenuItemsTemplate(this);\n  }\n\n}\n\nMediaAudioRadioGroupElement.tagName = \"media-audio-radio-group\";\n\nclass MediaCaptionsRadioGroupElement extends Host(HTMLElement, CaptionsRadioGroup) {\n  onConnect() {\n    renderMenuItemsTemplate(this);\n  }\n\n}\n\nMediaCaptionsRadioGroupElement.tagName = \"media-captions-radio-group\";\n\nclass MediaMenuElement extends Host(HTMLElement, Menu) {}\n\nMediaMenuElement.tagName = \"media-menu\";\n\nclass MediaMenuButtonElement extends Host(HTMLElement, MenuButton) {}\n\nMediaMenuButtonElement.tagName = \"media-menu-button\";\n\nclass MediaMenuPortalElement extends Host(HTMLElement, MenuPortal) {}\n\nMediaMenuPortalElement.tagName = \"media-menu-portal\";\nMediaMenuPortalElement.attrs = {\n  disabled: {\n    converter(value) {\n      if (isString(value)) return value;\n      return value !== null;\n    }\n\n  }\n};\n\nclass MediaMenuItemElement extends Host(HTMLElement, MenuItem) {}\n\nMediaMenuItemElement.tagName = \"media-menu-item\";\n\nclass MediaMenuItemsElement extends Host(HTMLElement, MenuItems) {}\n\nMediaMenuItemsElement.tagName = \"media-menu-items\";\n\nclass MediaChaptersRadioGroupElement extends Host(HTMLElement, ChaptersRadioGroup) {\n  onConnect() {\n    renderMenuItemsTemplate(this, (el, option) => {\n      const {\n        cue,\n        startTime,\n        duration\n      } = option,\n            thumbnailEl = el.querySelector(\".vds-thumbnail,media-thumbnail\"),\n            startEl = el.querySelector('[data-part=\"start-time\"]'),\n            durationEl = el.querySelector('[data-part=\"duration\"]');\n      if (startEl) startEl.textContent = startTime;\n      if (durationEl) durationEl.textContent = duration;\n\n      if (thumbnailEl) {\n        thumbnailEl.setAttribute(\"time\", cue.startTime + \"\");\n        effect(() => {\n          const {\n            thumbnails\n          } = this.$props;\n          thumbnailEl.setAttribute(\"src\", thumbnails());\n        });\n      }\n    });\n  }\n\n}\n\nMediaChaptersRadioGroupElement.tagName = \"media-chapters-radio-group\";\n\nclass MediaSpeedRadioGroupElement extends Host(HTMLElement, SpeedRadioGroup) {\n  onConnect() {\n    renderMenuItemsTemplate(this);\n  }\n\n}\n\nMediaSpeedRadioGroupElement.tagName = \"media-speed-radio-group\";\n\nclass MediaQualityRadioGroupElement extends Host(HTMLElement, QualityRadioGroup) {\n  onConnect() {\n    renderMenuItemsTemplate(this, (el, option) => {\n      const bitrate = option.bitrate,\n            bitrateEl = el.querySelector('[data-part=\"bitrate\"]');\n\n      if (bitrate && bitrateEl) {\n        effect(() => {\n          bitrateEl.textContent = bitrate() || \"\";\n        });\n      }\n    });\n  }\n\n}\n\nMediaQualityRadioGroupElement.tagName = \"media-quality-radio-group\";\n\nclass MediaRadioElement extends Host(HTMLElement, Radio) {}\n\nMediaRadioElement.tagName = \"media-radio\";\n\nclass MediaRadioGroupElement extends Host(HTMLElement, RadioGroup) {}\n\nMediaRadioGroupElement.tagName = \"media-radio-group\";\n\nclass MediaSliderElement extends Host(HTMLElement, Slider) {}\n\nMediaSliderElement.tagName = \"media-slider\";\n\nclass MediaSliderThumbnailElement extends MediaThumbnailElement {\n  onSetup() {\n    super.onSetup();\n    this._slider = useState(Slider.state);\n  }\n\n  onConnect() {\n    super.onConnect();\n    effect(this._watchTime.bind(this));\n  }\n\n  _watchTime() {\n    const {\n      duration\n    } = this._media.$state;\n    this.time = this._slider.pointerRate() * duration();\n  }\n\n}\n\nMediaSliderThumbnailElement.tagName = \"media-slider-thumbnail\";\n\nclass MediaSliderValueElement extends Host(HTMLElement, SliderValue) {\n  onConnect() {\n    effect(() => {\n      this.textContent = this.getValueText();\n    });\n  }\n\n}\n\nMediaSliderValueElement.tagName = \"media-slider-value\";\nMediaSliderValueElement.attrs = {\n  padMinutes: {\n    converter: BOOLEAN\n  }\n};\nconst videoTemplate = /* @__PURE__ */createTemplate(`<video muted playsinline preload=\"none\" style=\"max-width: unset;\"></video>`);\n\nclass MediaSliderVideoElement extends Host(HTMLElement, SliderVideo) {\n  constructor() {\n    super(...arguments);\n    this._video = this._createVideo();\n  }\n\n  onSetup() {\n    this._media = useMediaContext();\n    this.$state.video.set(this._video);\n  }\n\n  onConnect() {\n    const {\n      crossorigin,\n      canLoad\n    } = this._media.$state,\n          {\n      src\n    } = this.$state;\n\n    if (this._video.parentNode !== this) {\n      this.prepend(this._video);\n    }\n\n    effect(() => {\n      setAttribute(this._video, \"src\", src());\n      setAttribute(this._video, \"crossorigin\", crossorigin());\n      setAttribute(this._video, \"preload\", canLoad() ? \"auto\" : \"none\");\n    });\n  }\n\n  _createVideo() {\n    return cloneTemplateContent(videoTemplate);\n  }\n\n}\n\nMediaSliderVideoElement.tagName = \"media-slider-video\";\n\nclass MediaTimeSliderElement extends Host(HTMLElement, TimeSlider) {}\n\nMediaTimeSliderElement.tagName = \"media-time-slider\";\n\nclass MediaSliderPreviewElement extends Host(HTMLElement, SliderPreview) {}\n\nMediaSliderPreviewElement.tagName = \"media-slider-preview\";\n\nclass MediaVolumeSliderElement extends Host(HTMLElement, VolumeSlider) {}\n\nMediaVolumeSliderElement.tagName = \"media-volume-slider\";\n\nclass MediaSliderChaptersElement extends Host(HTMLElement, SliderChapters) {\n  constructor() {\n    super(...arguments);\n    this._template = null;\n  }\n\n  onConnect() {\n    requestScopedAnimationFrame(() => {\n      if (!this.connectScope) return;\n      const template = this.querySelector(\"template\");\n\n      if (template) {\n        this._template = template;\n        effect(this._renderTemplate.bind(this));\n      }\n    });\n  }\n\n  _renderTemplate() {\n    if (!this._template) return;\n    const elements = cloneTemplate(this._template, this.cues.length || 1);\n    this.setRefs(elements);\n  }\n\n}\n\nMediaSliderChaptersElement.tagName = \"media-slider-chapters\";\nexport { MediaChaptersRadioGroupElement as A, MediaSpeedRadioGroupElement as B, MediaQualityRadioGroupElement as C, MediaRadioElement as D, MediaRadioGroupElement as E, MediaSliderElement as F, MediaSliderThumbnailElement as G, MediaSliderValueElement as H, MediaSliderVideoElement as I, MediaTimeSliderElement as J, MediaSliderPreviewElement as K, MediaVolumeSliderElement as L, MediaCaptionsElement as M, MediaSliderChaptersElement as N, MediaGestureElement as a, MediaPosterElement as b, MediaThumbnailElement as c, MediaTimeElement as d, MediaControlsElement as e, MediaControlsGroupElement as f, MediaChapterTitleElement as g, MediaLayoutElement as h, MediaPlayButtonElement as i, MediaMuteButtonElement as j, MediaCaptionButtonElement as k, MediaFullscreenButtonElement as l, MediaPIPButtonElement as m, MediaSeekButtonElement as n, MediaToggleButtonElement as o, MediaLiveButtonElement as p, MediaTooltipElement as q, MediaTooltipTriggerElement as r, MediaTooltipContentElement as s, MediaAudioRadioGroupElement as t, MediaCaptionsRadioGroupElement as u, MediaMenuElement as v, MediaMenuButtonElement as w, MediaMenuPortalElement as x, MediaMenuItemElement as y, MediaMenuItemsElement as z };","map":{"version":3,"sources":["/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/vidstack/dist/dev/chunks/vidstack-3484a78d.js"],"names":["H","Host","e","effect","f","setAttribute","h","signal","j","computed","C","Component","l","listenEvent","k","isString","u","useState","N","BOOLEAN","am","Captions","al","Gesture","useMediaContext","an","Poster","T","Thumbnail","ao","Time","Controls","P","PlayerQueryList","U","PlayButton","Y","MuteButton","W","CaptionButton","X","FullscreenButton","Z","PIPButton","_","SeekButton","R","ToggleButton","$","LiveButton","O","Tooltip","Q","TooltipContent","ah","AudioRadioGroup","ai","CaptionsRadioGroup","a9","Menu","aa","MenuButton","ab","MenuPortal","ad","MenuItems","ag","ChaptersRadioGroup","aj","SpeedRadioGroup","ak","QualityRadioGroup","af","Radio","ae","RadioGroup","S","Slider","a3","SliderValue","a2","SliderVideo","a7","TimeSlider","a4","SliderPreview","a6","VolumeSlider","a8","SliderChapters","ControlsGroup","TooltipTrigger","M","MenuItem","o","observeActiveTextTrack","c","cloneTemplateContent","a","createTemplate","r","requestScopedAnimationFrame","b","cloneTemplate","MediaCaptionsElement","HTMLElement","tagName","MediaGestureElement","MediaPosterElement","constructor","arguments","_img","document","createElement","onSetup","_media","$state","img","set","onConnect","src","alt","crossorigin","parentNode","prepend","imgTemplate","MediaThumbnailElement","_createImg","$props","MediaTimeElement","textContent","timeText","MediaControlsElement","MediaControlsGroupElement","ChapterTitle","MediaChapterTitleElement","_chapterTitle","_title","title","started","textTracks","track","onCueChange","activeCue","activeCues","text","MediaLayout","props","when","MediaLayoutElement","query","create","_watchQuery","bind","root","firstElementChild","isTemplate","localName","isHTMLElement","matches","el","children","remove","style","display","append","cloneNode","MediaPlayButtonElement","MediaMuteButtonElement","MediaCaptionButtonElement","MediaFullscreenButtonElement","MediaPIPButtonElement","MediaSeekButtonElement","MediaToggleButtonElement","MediaLiveButtonElement","MediaTooltipElement","MediaTooltipTriggerElement","MediaTooltipContentElement","renderMenuItemsTemplate","onCreate","connectScope","template","querySelector","content","Error","options","getOptions","length","radio","i","label","value","labelEl","MediaAudioRadioGroupElement","MediaCaptionsRadioGroupElement","MediaMenuElement","MediaMenuButtonElement","MediaMenuPortalElement","attrs","disabled","converter","MediaMenuItemElement","MediaMenuItemsElement","MediaChaptersRadioGroupElement","option","cue","startTime","duration","thumbnailEl","startEl","durationEl","thumbnails","MediaSpeedRadioGroupElement","MediaQualityRadioGroupElement","bitrate","bitrateEl","MediaRadioElement","MediaRadioGroupElement","MediaSliderElement","MediaSliderThumbnailElement","_slider","state","_watchTime","time","pointerRate","MediaSliderValueElement","getValueText","padMinutes","videoTemplate","MediaSliderVideoElement","_video","_createVideo","video","canLoad","MediaTimeSliderElement","MediaSliderPreviewElement","MediaVolumeSliderElement","MediaSliderChaptersElement","_template","_renderTemplate","elements","cues","setRefs","A","B","D","E","F","G","I","J","K","L","d","g","m","n","p","q","s","t","v","w","x","y","z"],"mappings":"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","sourcesContent":["import { H as Host, e as effect, f as setAttribute, h as signal, j as computed, C as Component, l as listenEvent, k as isString, u as useState, N as BOOLEAN } from './vidstack-b8ba7e3c.js';\nimport { am as Captions, al as Gesture, u as useMediaContext, an as Poster, T as Thumbnail, ao as Time, N as Controls, P as PlayerQueryList, U as PlayButton, Y as MuteButton, W as CaptionButton, X as FullscreenButton, Z as PIPButton, _ as SeekButton, R as ToggleButton, $ as LiveButton, O as Tooltip, Q as TooltipContent, ah as AudioRadioGroup, ai as CaptionsRadioGroup, a9 as Menu, aa as MenuButton, ab as MenuPortal, ad as MenuItems, ag as ChaptersRadioGroup, aj as SpeedRadioGroup, ak as QualityRadioGroup, af as Radio, ae as RadioGroup, S as Slider, a3 as SliderValue, a2 as SliderVideo, a7 as TimeSlider, a4 as SliderPreview, a6 as VolumeSlider, a8 as SliderChapters } from './vidstack-1c6c4f6e.js';\nimport { C as ControlsGroup, T as TooltipTrigger, M as MenuItem } from './vidstack-5ca95e20.js';\nimport { o as observeActiveTextTrack } from './vidstack-dd29a7a5.js';\nimport { c as cloneTemplateContent, a as createTemplate, r as requestScopedAnimationFrame, b as cloneTemplate } from './vidstack-b97c0002.js';\n\nclass MediaCaptionsElement extends Host(HTMLElement, Captions) {\n  static {\n    this.tagName = \"media-captions\";\n  }\n}\n\nclass MediaGestureElement extends Host(HTMLElement, Gesture) {\n  static {\n    this.tagName = \"media-gesture\";\n  }\n}\n\nclass MediaPosterElement extends Host(HTMLElement, Poster) {\n  constructor() {\n    super(...arguments);\n    this._img = document.createElement(\"img\");\n  }\n  static {\n    this.tagName = \"media-poster\";\n  }\n  onSetup() {\n    this._media = useMediaContext();\n    this.$state.img.set(this._img);\n  }\n  onConnect() {\n    const { src, alt } = this.$state, { crossorigin } = this._media.$state;\n    if (this._img.parentNode !== this) {\n      this.prepend(this._img);\n    }\n    effect(() => {\n      setAttribute(this._img, \"src\", src());\n      setAttribute(this._img, \"alt\", alt());\n      setAttribute(this._img, \"crossorigin\", crossorigin());\n    });\n  }\n}\n\nconst imgTemplate = /* @__PURE__ */ createTemplate(\n  '<img loading=\"eager\" decoding=\"async\" aria-hidden=\"true\">'\n);\nclass MediaThumbnailElement extends Host(HTMLElement, Thumbnail) {\n  constructor() {\n    super(...arguments);\n    this._img = this._createImg();\n  }\n  static {\n    this.tagName = \"media-thumbnail\";\n  }\n  onSetup() {\n    this._media = useMediaContext();\n    this.$state.img.set(this._img);\n  }\n  onConnect() {\n    const { src } = this.$state, { crossorigin } = this._media.$props;\n    if (this._img.parentNode !== this) {\n      this.prepend(this._img);\n    }\n    effect(() => {\n      setAttribute(this._img, \"src\", src());\n      setAttribute(this._img, \"crossorigin\", crossorigin());\n    });\n  }\n  _createImg() {\n    return cloneTemplateContent(imgTemplate);\n  }\n}\n\nclass MediaTimeElement extends Host(HTMLElement, Time) {\n  static {\n    this.tagName = \"media-time\";\n  }\n  onConnect() {\n    effect(() => {\n      this.textContent = this.$state.timeText();\n    });\n  }\n}\n\nclass MediaControlsElement extends Host(HTMLElement, Controls) {\n  static {\n    this.tagName = \"media-controls\";\n  }\n}\n\nclass MediaControlsGroupElement extends Host(HTMLElement, ControlsGroup) {\n  static {\n    this.tagName = \"media-controls-group\";\n  }\n}\n\nclass ChapterTitle extends Component {\n}\nclass MediaChapterTitleElement extends Host(HTMLElement, ChapterTitle) {\n  constructor() {\n    super(...arguments);\n    this._chapterTitle = signal(\"\");\n    this._title = computed(() => {\n      const { title, started } = this._media.$state;\n      return started() ? this._chapterTitle() || title() : title();\n    });\n  }\n  static {\n    this.tagName = \"media-chapter-title\";\n  }\n  onSetup() {\n    this._media = useMediaContext();\n  }\n  onConnect() {\n    observeActiveTextTrack(this._media.textTracks, \"chapters\", (track) => {\n      if (!track) {\n        this._chapterTitle.set(\"\");\n        return;\n      }\n      const onCueChange = () => {\n        const activeCue = track?.activeCues[0];\n        this._chapterTitle.set(activeCue?.text || \"\");\n      };\n      onCueChange();\n      listenEvent(track, \"cue-change\", onCueChange);\n    });\n    effect(() => {\n      this.textContent = this._title();\n    });\n  }\n}\n\nclass MediaLayout extends Component {\n  static {\n    this.props = {\n      when: \"\"\n    };\n  }\n}\nclass MediaLayoutElement extends Host(HTMLElement, MediaLayout) {\n  static {\n    this.tagName = \"media-layout\";\n  }\n  onSetup() {\n    this.query = PlayerQueryList.create(this.$props.when);\n  }\n  onConnect() {\n    effect(this._watchQuery.bind(this));\n  }\n  _watchQuery() {\n    const root = this.firstElementChild, isTemplate = root?.localName === \"template\", isHTMLElement = root instanceof HTMLElement;\n    if (!this.query.matches) {\n      if (isTemplate) {\n        for (const el of this.children) {\n          if (el.localName !== \"template\")\n            el.remove();\n        }\n      } else if (isHTMLElement) {\n        root.style.display = \"none\";\n      }\n      return;\n    }\n    if (isTemplate) {\n      this.append(root.cloneNode(true));\n    } else if (isHTMLElement) {\n      root.style.display = \"\";\n    }\n  }\n}\n\nclass MediaPlayButtonElement extends Host(HTMLElement, PlayButton) {\n  static {\n    this.tagName = \"media-play-button\";\n  }\n}\n\nclass MediaMuteButtonElement extends Host(HTMLElement, MuteButton) {\n  static {\n    this.tagName = \"media-mute-button\";\n  }\n}\n\nclass MediaCaptionButtonElement extends Host(HTMLElement, CaptionButton) {\n  static {\n    this.tagName = \"media-caption-button\";\n  }\n}\n\nclass MediaFullscreenButtonElement extends Host(HTMLElement, FullscreenButton) {\n  static {\n    this.tagName = \"media-fullscreen-button\";\n  }\n}\n\nclass MediaPIPButtonElement extends Host(HTMLElement, PIPButton) {\n  static {\n    this.tagName = \"media-pip-button\";\n  }\n}\n\nclass MediaSeekButtonElement extends Host(HTMLElement, SeekButton) {\n  static {\n    this.tagName = \"media-seek-button\";\n  }\n}\n\nclass MediaToggleButtonElement extends Host(HTMLElement, ToggleButton) {\n  static {\n    this.tagName = \"media-toggle-button\";\n  }\n}\n\nclass MediaLiveButtonElement extends Host(HTMLElement, LiveButton) {\n  static {\n    this.tagName = \"media-live-button\";\n  }\n}\n\nclass MediaTooltipElement extends Host(HTMLElement, Tooltip) {\n  static {\n    this.tagName = \"media-tooltip\";\n  }\n}\n\nclass MediaTooltipTriggerElement extends Host(HTMLElement, TooltipTrigger) {\n  static {\n    this.tagName = \"media-tooltip-trigger\";\n  }\n  onConnect() {\n    this.style.display = \"contents\";\n  }\n}\n\nclass MediaTooltipContentElement extends Host(HTMLElement, TooltipContent) {\n  static {\n    this.tagName = \"media-tooltip-content\";\n  }\n}\n\nfunction renderMenuItemsTemplate(el, onCreate) {\n  requestScopedAnimationFrame(() => {\n    if (!el.connectScope)\n      return;\n    const template = el.querySelector(\"template\");\n    if (!template)\n      return;\n    effect(() => {\n      if (!template.content.firstElementChild?.localName && !template.firstElementChild) {\n        throw Error(\"[vidstack] menu items template requires root element\");\n      }\n      const options = el.getOptions();\n      cloneTemplate(template, options.length, (radio, i) => {\n        const { label, value } = options[i], labelEl = radio.querySelector(`[data-part=\"label\"]`);\n        radio.setAttribute(\"value\", value);\n        if (labelEl) {\n          if (isString(label)) {\n            labelEl.textContent = label;\n          } else {\n            effect(() => {\n              labelEl.textContent = label();\n            });\n          }\n        }\n        onCreate?.(radio, options[i], i);\n      });\n    });\n  });\n}\n\nclass MediaAudioRadioGroupElement extends Host(HTMLElement, AudioRadioGroup) {\n  static {\n    this.tagName = \"media-audio-radio-group\";\n  }\n  onConnect() {\n    renderMenuItemsTemplate(this);\n  }\n}\n\nclass MediaCaptionsRadioGroupElement extends Host(HTMLElement, CaptionsRadioGroup) {\n  static {\n    this.tagName = \"media-captions-radio-group\";\n  }\n  onConnect() {\n    renderMenuItemsTemplate(this);\n  }\n}\n\nclass MediaMenuElement extends Host(HTMLElement, Menu) {\n  static {\n    this.tagName = \"media-menu\";\n  }\n}\n\nclass MediaMenuButtonElement extends Host(HTMLElement, MenuButton) {\n  static {\n    this.tagName = \"media-menu-button\";\n  }\n}\n\nclass MediaMenuPortalElement extends Host(HTMLElement, MenuPortal) {\n  static {\n    this.tagName = \"media-menu-portal\";\n  }\n  static {\n    this.attrs = {\n      disabled: {\n        converter(value) {\n          if (isString(value))\n            return value;\n          return value !== null;\n        }\n      }\n    };\n  }\n}\n\nclass MediaMenuItemElement extends Host(HTMLElement, MenuItem) {\n  static {\n    this.tagName = \"media-menu-item\";\n  }\n}\n\nclass MediaMenuItemsElement extends Host(HTMLElement, MenuItems) {\n  static {\n    this.tagName = \"media-menu-items\";\n  }\n}\n\nclass MediaChaptersRadioGroupElement extends Host(HTMLElement, ChaptersRadioGroup) {\n  static {\n    this.tagName = \"media-chapters-radio-group\";\n  }\n  onConnect() {\n    renderMenuItemsTemplate(this, (el, option) => {\n      const { cue, startTime, duration } = option, thumbnailEl = el.querySelector(\".vds-thumbnail,media-thumbnail\"), startEl = el.querySelector('[data-part=\"start-time\"]'), durationEl = el.querySelector('[data-part=\"duration\"]');\n      if (startEl)\n        startEl.textContent = startTime;\n      if (durationEl)\n        durationEl.textContent = duration;\n      if (thumbnailEl) {\n        thumbnailEl.setAttribute(\"time\", cue.startTime + \"\");\n        effect(() => {\n          const { thumbnails } = this.$props;\n          thumbnailEl.setAttribute(\"src\", thumbnails());\n        });\n      }\n    });\n  }\n}\n\nclass MediaSpeedRadioGroupElement extends Host(HTMLElement, SpeedRadioGroup) {\n  static {\n    this.tagName = \"media-speed-radio-group\";\n  }\n  onConnect() {\n    renderMenuItemsTemplate(this);\n  }\n}\n\nclass MediaQualityRadioGroupElement extends Host(HTMLElement, QualityRadioGroup) {\n  static {\n    this.tagName = \"media-quality-radio-group\";\n  }\n  onConnect() {\n    renderMenuItemsTemplate(this, (el, option) => {\n      const bitrate = option.bitrate, bitrateEl = el.querySelector('[data-part=\"bitrate\"]');\n      if (bitrate && bitrateEl) {\n        effect(() => {\n          bitrateEl.textContent = bitrate() || \"\";\n        });\n      }\n    });\n  }\n}\n\nclass MediaRadioElement extends Host(HTMLElement, Radio) {\n  static {\n    this.tagName = \"media-radio\";\n  }\n}\n\nclass MediaRadioGroupElement extends Host(HTMLElement, RadioGroup) {\n  static {\n    this.tagName = \"media-radio-group\";\n  }\n}\n\nclass MediaSliderElement extends Host(HTMLElement, Slider) {\n  static {\n    this.tagName = \"media-slider\";\n  }\n}\n\nclass MediaSliderThumbnailElement extends MediaThumbnailElement {\n  static {\n    this.tagName = \"media-slider-thumbnail\";\n  }\n  onSetup() {\n    super.onSetup();\n    this._slider = useState(Slider.state);\n  }\n  onConnect() {\n    super.onConnect();\n    effect(this._watchTime.bind(this));\n  }\n  _watchTime() {\n    const { duration } = this._media.$state;\n    this.time = this._slider.pointerRate() * duration();\n  }\n}\n\nclass MediaSliderValueElement extends Host(HTMLElement, SliderValue) {\n  static {\n    this.tagName = \"media-slider-value\";\n  }\n  static {\n    this.attrs = {\n      padMinutes: {\n        converter: BOOLEAN\n      }\n    };\n  }\n  onConnect() {\n    effect(() => {\n      this.textContent = this.getValueText();\n    });\n  }\n}\n\nconst videoTemplate = /* @__PURE__ */ createTemplate(\n  `<video muted playsinline preload=\"none\" style=\"max-width: unset;\"></video>`\n);\nclass MediaSliderVideoElement extends Host(HTMLElement, SliderVideo) {\n  constructor() {\n    super(...arguments);\n    this._video = this._createVideo();\n  }\n  static {\n    this.tagName = \"media-slider-video\";\n  }\n  onSetup() {\n    this._media = useMediaContext();\n    this.$state.video.set(this._video);\n  }\n  onConnect() {\n    const { crossorigin, canLoad } = this._media.$state, { src } = this.$state;\n    if (this._video.parentNode !== this) {\n      this.prepend(this._video);\n    }\n    effect(() => {\n      setAttribute(this._video, \"src\", src());\n      setAttribute(this._video, \"crossorigin\", crossorigin());\n      setAttribute(this._video, \"preload\", canLoad() ? \"auto\" : \"none\");\n    });\n  }\n  _createVideo() {\n    return cloneTemplateContent(videoTemplate);\n  }\n}\n\nclass MediaTimeSliderElement extends Host(HTMLElement, TimeSlider) {\n  static {\n    this.tagName = \"media-time-slider\";\n  }\n}\n\nclass MediaSliderPreviewElement extends Host(HTMLElement, SliderPreview) {\n  static {\n    this.tagName = \"media-slider-preview\";\n  }\n}\n\nclass MediaVolumeSliderElement extends Host(HTMLElement, VolumeSlider) {\n  static {\n    this.tagName = \"media-volume-slider\";\n  }\n}\n\nclass MediaSliderChaptersElement extends Host(HTMLElement, SliderChapters) {\n  constructor() {\n    super(...arguments);\n    this._template = null;\n  }\n  static {\n    this.tagName = \"media-slider-chapters\";\n  }\n  onConnect() {\n    requestScopedAnimationFrame(() => {\n      if (!this.connectScope)\n        return;\n      const template = this.querySelector(\"template\");\n      if (template) {\n        this._template = template;\n        effect(this._renderTemplate.bind(this));\n      }\n    });\n  }\n  _renderTemplate() {\n    if (!this._template)\n      return;\n    const elements = cloneTemplate(this._template, this.cues.length || 1);\n    this.setRefs(elements);\n  }\n}\n\nexport { MediaChaptersRadioGroupElement as A, MediaSpeedRadioGroupElement as B, MediaQualityRadioGroupElement as C, MediaRadioElement as D, MediaRadioGroupElement as E, MediaSliderElement as F, MediaSliderThumbnailElement as G, MediaSliderValueElement as H, MediaSliderVideoElement as I, MediaTimeSliderElement as J, MediaSliderPreviewElement as K, MediaVolumeSliderElement as L, MediaCaptionsElement as M, MediaSliderChaptersElement as N, MediaGestureElement as a, MediaPosterElement as b, MediaThumbnailElement as c, MediaTimeElement as d, MediaControlsElement as e, MediaControlsGroupElement as f, MediaChapterTitleElement as g, MediaLayoutElement as h, MediaPlayButtonElement as i, MediaMuteButtonElement as j, MediaCaptionButtonElement as k, MediaFullscreenButtonElement as l, MediaPIPButtonElement as m, MediaSeekButtonElement as n, MediaToggleButtonElement as o, MediaLiveButtonElement as p, MediaTooltipElement as q, MediaTooltipTriggerElement as r, MediaTooltipContentElement as s, MediaAudioRadioGroupElement as t, MediaCaptionsRadioGroupElement as u, MediaMenuElement as v, MediaMenuButtonElement as w, MediaMenuPortalElement as x, MediaMenuItemElement as y, MediaMenuItemsElement as z };\n"]},"metadata":{},"sourceType":"module"}