{"ast":null,"code":"export default {\n  name: 'courseware-tabs',\n  props: {\n    setSelected: {\n      type: Number,\n      required: false,\n      default: 0\n    }\n  },\n\n  data() {\n    return {\n      tabs: []\n    };\n  },\n\n  created() {\n    this.tabs = this.$children.sort((a, b) => {\n      return a.index - b.index;\n    });\n  },\n\n  methods: {\n    selectTab(selectorId) {\n      let view = this;\n      this.tabs.forEach(tab => {\n        tab.isActive = false;\n\n        if (tab.selectorId === selectorId) {\n          tab.isActive = true;\n          view.$refs[selectorId][0].focus();\n          view.$emit('selectTab', tab);\n        }\n      });\n    },\n\n    selectTabByIndex(selectedIndex) {\n      let view = this;\n      this.tabs.forEach(tab => {\n        tab.isActive = false;\n\n        if (tab.index === selectedIndex) {\n          tab.isActive = true;\n          view.$refs[tab.selectorId][0].focus();\n          view.$emit('selectTab', tab);\n        }\n      });\n    },\n\n    handleKeyEvent(e) {\n      let tablist = e.target.parentElement;\n\n      switch (e.keyCode) {\n        case 37: // left\n\n        case 38:\n          // up\n          if (tablist.firstChild.id !== e.target.id) {\n            this.selectTab(e.target.previousElementSibling.id);\n          } else {\n            this.selectTab(tablist.lastChild.id);\n          }\n\n          break;\n\n        case 39: // right\n\n        case 40:\n          // down\n          if (tablist.lastChild.id !== e.target.id) {\n            this.selectTab(e.target.nextElementSibling.id);\n          } else {\n            this.selectTab(tablist.firstChild.id);\n          }\n\n          break;\n\n        case 36:\n          //pos1\n          this.selectTab(tablist.firstChild.id);\n          break;\n\n        case 35:\n          //end\n          this.selectTab(tablist.lastChild.id);\n          break;\n      }\n    },\n\n    getButtonById(id) {\n      return this.$refs[id][0];\n    },\n\n    getFirstTabButton() {\n      let selectorId = this.tabs[0].selectorId;\n      return this.$refs[selectorId][0];\n    },\n\n    getTabButtonByName(name) {\n      let selectorId = null;\n      this.tabs.forEach(tab => {\n        if (tab.name === name) {\n          selectorId = tab.selectorId;\n        }\n      });\n\n      if (selectorId) {\n        return this.$refs[selectorId][0];\n      }\n\n      return null;\n    },\n\n    getTabButtonByAlias(alias) {\n      let selectorId = null;\n      this.tabs.forEach(tab => {\n        if (tab.alias === alias) {\n          selectorId = tab.selectorId;\n        }\n      });\n\n      if (selectorId) {\n        return this.$refs[selectorId][0];\n      }\n\n      return null;\n    }\n\n  },\n  watch: {\n    setSelected(tab) {\n      this.selectTabByIndex(tab);\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["name","props","setSelected","type","Number","required","default","data","tabs","created","$children","sort","a","b","index","methods","selectTab","selectorId","view","forEach","tab","isActive","$refs","focus","$emit","selectTabByIndex","selectedIndex","handleKeyEvent","e","tablist","target","parentElement","keyCode","firstChild","id","previousElementSibling","lastChild","nextElementSibling","getButtonById","getFirstTabButton","getTabButtonByName","getTabButtonByAlias","alias","watch"],"sourceRoot":"","sources":["/home/ann/dev/studip/54/resources/vue/components/courseware/CoursewareTabs.vue"],"sourcesContent":["<template>\n    <div class=\"cw-tabs\">\n        <div role=\"tablist\" class=\"cw-tabs-nav\">\n            <button\n                v-for=\"(tab, index) in tabs\"\n                :key=\"index\"\n                :class=\"[\n                    tab.isActive ? 'is-active' : '',\n                    tab.icon !== '' && tab.name !== '' ? 'cw-tabs-nav-icon-text-' + tab.icon : '',\n                    tab.icon !== '' && tab.name === '' ? 'cw-tabs-nav-icon-solo-' + tab.icon : '',\n                ]\"\n                :aria-selected=\"tab.isActive\"\n                :aria-controls=\"tab.id\"\n                :id=\"tab.selectorId\"\n                :tabindex=\"tab.isActive ? 0 : -1\"\n                @click=\"selectTab(tab.selectorId)\"\n                @keydown=\"handleKeyEvent($event)\"\n                :ref=\"tab.selectorId\"\n            >\n                {{ tab.name }}\n            </button>\n        </div>\n        <div class=\"cw-tabs-content\">\n            <slot></slot>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'courseware-tabs',\n    props: {\n        setSelected: { type: Number, required: false, default: 0 },\n    },\n    data() {\n        return {\n            tabs: [],\n        };\n    },\n    created() {\n        this.tabs = this.$children.sort((a, b) => {\n            return a.index - b.index;\n        });\n    },\n    methods: {\n        selectTab(selectorId) {\n            let view = this;\n            this.tabs.forEach((tab) => {\n                tab.isActive = false;\n                if (tab.selectorId === selectorId) {\n                    tab.isActive = true;\n                    view.$refs[selectorId][0].focus();\n                    view.$emit('selectTab', tab);\n                }\n            });\n        },\n        selectTabByIndex(selectedIndex) {\n            let view = this;\n            this.tabs.forEach((tab) => {\n                tab.isActive = false;\n                if (tab.index === selectedIndex) {\n                    tab.isActive = true;\n                    view.$refs[tab.selectorId][0].focus();\n                    view.$emit('selectTab', tab);\n                }\n            });\n        },\n        handleKeyEvent(e) {\n            let tablist = e.target.parentElement;\n            switch (e.keyCode) {\n                case 37: // left\n                case 38: // up\n                    if (tablist.firstChild.id !== e.target.id) {\n                        this.selectTab(e.target.previousElementSibling.id);\n                    } else {\n                        this.selectTab(tablist.lastChild.id);\n                    }\n                    break;\n                case 39: // right\n                case 40: // down\n                    if (tablist.lastChild.id !== e.target.id) {\n                        this.selectTab(e.target.nextElementSibling.id);\n                    } else {\n                        this.selectTab(tablist.firstChild.id);\n                    }\n                    break;\n                case 36: //pos1\n                    this.selectTab(tablist.firstChild.id);\n                    break;\n                case 35: //end\n                    this.selectTab(tablist.lastChild.id);\n                    break;\n            }\n        },\n        getButtonById(id) {\n            return this.$refs[id][0];\n        },\n        getFirstTabButton() {\n            let selectorId = this.tabs[0].selectorId;\n            return this.$refs[selectorId][0];\n        },\n        getTabButtonByName(name) {\n            let selectorId = null;\n            this.tabs.forEach((tab) => {\n                if (tab.name === name) {\n                    selectorId = tab.selectorId;\n                }\n            });\n            if (selectorId) {\n                return this.$refs[selectorId][0];\n            }\n            return null;\n        },\n        getTabButtonByAlias(alias) {\n            let selectorId = null;\n            this.tabs.forEach((tab) => {\n                if (tab.alias === alias) {\n                    selectorId = tab.selectorId;\n                }\n            });\n            if (selectorId) {\n                return this.$refs[selectorId][0];\n            }\n            return null;\n        },\n    },\n    watch: {\n        setSelected(tab) {\n            this.selectTabByIndex(tab);\n        },\n    },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}