{"ast":null,"code":"// see https://stackoverflow.com/a/1144249/477480\nexport default function deepEquals() {\n  let i, l, leftChain, rightChain;\n  function compare2Objects(x, y) {\n    let p;\n\n    // remember that NaN === NaN returns false\n    // and isNaN(undefined) returns true\n    if (isNaN(x) && isNaN(y) && typeof x === 'number' && typeof y === 'number') {\n      return true;\n    }\n\n    // Compare primitives and functions.\n    // Check if both arguments link to the same object.\n    // Especially useful on the step where we compare prototypes\n    if (x === y) {\n      return true;\n    }\n\n    // Works in case when functions are created in constructor.\n    // Comparing dates is a common scenario. Another built-ins?\n    // We can even handle functions passed across iframes\n    if (typeof x === 'function' && typeof y === 'function' || x instanceof Date && y instanceof Date || x instanceof RegExp && y instanceof RegExp || x instanceof String && y instanceof String || x instanceof Number && y instanceof Number) {\n      return x.toString() === y.toString();\n    }\n\n    // At last checking prototypes as good as we can\n    if (!(x instanceof Object && y instanceof Object)) {\n      return false;\n    }\n    if (x.isPrototypeOf(y) || y.isPrototypeOf(x)) {\n      return false;\n    }\n    if (x.constructor !== y.constructor) {\n      return false;\n    }\n    if (x.prototype !== y.prototype) {\n      return false;\n    }\n\n    // Check for infinitive linking loops\n    if (leftChain.indexOf(x) > -1 || rightChain.indexOf(y) > -1) {\n      return false;\n    }\n\n    // Quick checking of one object being a subset of another.\n    // todo: cache the structure of arguments[0] for performance\n    for (p in y) {\n      if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n        return false;\n      } else if (typeof y[p] !== typeof x[p]) {\n        return false;\n      }\n    }\n    for (p in x) {\n      if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n        return false;\n      } else if (typeof y[p] !== typeof x[p]) {\n        return false;\n      }\n      switch (typeof x[p]) {\n        case 'object':\n        case 'function':\n          leftChain.push(x);\n          rightChain.push(y);\n          if (!compare2Objects(x[p], y[p])) {\n            return false;\n          }\n          leftChain.pop();\n          rightChain.pop();\n          break;\n        default:\n          if (x[p] !== y[p]) {\n            return false;\n          }\n          break;\n      }\n    }\n    return true;\n  }\n  if (arguments.length < 1) {\n    return true; //Die silently? Don't know how to handle such case, please help...\n    // throw \"Need two or more arguments to compare\";\n  }\n  for (i = 1, l = arguments.length; i < l; i++) {\n    leftChain = []; //Todo: this can be cached\n    rightChain = [];\n    if (!compare2Objects(arguments[0], arguments[i])) {\n      return false;\n    }\n  }\n  return true;\n}","map":{"version":3,"names":["deepEquals","i","l","leftChain","rightChain","compare2Objects","x","y","p","isNaN","Date","RegExp","String","Number","toString","Object","isPrototypeOf","constructor","prototype","indexOf","hasOwnProperty","push","pop","arguments","length"],"sources":["/home/greg/dev/54/node_modules/@elan-ev/reststate-vuex/src/deepEquals.js"],"sourcesContent":["// see https://stackoverflow.com/a/1144249/477480\nexport default function deepEquals() {\n  let i, l, leftChain, rightChain;\n\n  function compare2Objects(x, y) {\n    let p;\n\n    // remember that NaN === NaN returns false\n    // and isNaN(undefined) returns true\n    if (\n      isNaN(x) &&\n      isNaN(y) &&\n      typeof x === 'number' &&\n      typeof y === 'number'\n    ) {\n      return true;\n    }\n\n    // Compare primitives and functions.\n    // Check if both arguments link to the same object.\n    // Especially useful on the step where we compare prototypes\n    if (x === y) {\n      return true;\n    }\n\n    // Works in case when functions are created in constructor.\n    // Comparing dates is a common scenario. Another built-ins?\n    // We can even handle functions passed across iframes\n    if (\n      (typeof x === 'function' && typeof y === 'function') ||\n      (x instanceof Date && y instanceof Date) ||\n      (x instanceof RegExp && y instanceof RegExp) ||\n      (x instanceof String && y instanceof String) ||\n      (x instanceof Number && y instanceof Number)\n    ) {\n      return x.toString() === y.toString();\n    }\n\n    // At last checking prototypes as good as we can\n    if (!(x instanceof Object && y instanceof Object)) {\n      return false;\n    }\n\n    if (x.isPrototypeOf(y) || y.isPrototypeOf(x)) {\n      return false;\n    }\n\n    if (x.constructor !== y.constructor) {\n      return false;\n    }\n\n    if (x.prototype !== y.prototype) {\n      return false;\n    }\n\n    // Check for infinitive linking loops\n    if (leftChain.indexOf(x) > -1 || rightChain.indexOf(y) > -1) {\n      return false;\n    }\n\n    // Quick checking of one object being a subset of another.\n    // todo: cache the structure of arguments[0] for performance\n    for (p in y) {\n      if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n        return false;\n      } else if (typeof y[p] !== typeof x[p]) {\n        return false;\n      }\n    }\n\n    for (p in x) {\n      if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n        return false;\n      } else if (typeof y[p] !== typeof x[p]) {\n        return false;\n      }\n\n      switch (typeof x[p]) {\n        case 'object':\n        case 'function':\n          leftChain.push(x);\n          rightChain.push(y);\n\n          if (!compare2Objects(x[p], y[p])) {\n            return false;\n          }\n\n          leftChain.pop();\n          rightChain.pop();\n          break;\n\n        default:\n          if (x[p] !== y[p]) {\n            return false;\n          }\n          break;\n      }\n    }\n\n    return true;\n  }\n\n  if (arguments.length < 1) {\n    return true; //Die silently? Don't know how to handle such case, please help...\n    // throw \"Need two or more arguments to compare\";\n  }\n\n  for (i = 1, l = arguments.length; i < l; i++) {\n    leftChain = []; //Todo: this can be cached\n    rightChain = [];\n\n    if (!compare2Objects(arguments[0], arguments[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n"],"mappings":"AAAA;AACA,eAAe,SAASA,UAAUA,CAAA,EAAG;EACnC,IAAIC,CAAC,EAAEC,CAAC,EAAEC,SAAS,EAAEC,UAAU;EAE/B,SAASC,eAAeA,CAACC,CAAC,EAAEC,CAAC,EAAE;IAC7B,IAAIC,CAAC;;IAEL;IACA;IACA,IACEC,KAAK,CAACH,CAAC,CAAC,IACRG,KAAK,CAACF,CAAC,CAAC,IACR,OAAOD,CAAC,KAAK,QAAQ,IACrB,OAAOC,CAAC,KAAK,QAAQ,EACrB;MACA,OAAO,IAAI;IACb;;IAEA;IACA;IACA;IACA,IAAID,CAAC,KAAKC,CAAC,EAAE;MACX,OAAO,IAAI;IACb;;IAEA;IACA;IACA;IACA,IACG,OAAOD,CAAC,KAAK,UAAU,IAAI,OAAOC,CAAC,KAAK,UAAU,IAClDD,CAAC,YAAYI,IAAI,IAAIH,CAAC,YAAYG,IAAK,IACvCJ,CAAC,YAAYK,MAAM,IAAIJ,CAAC,YAAYI,MAAO,IAC3CL,CAAC,YAAYM,MAAM,IAAIL,CAAC,YAAYK,MAAO,IAC3CN,CAAC,YAAYO,MAAM,IAAIN,CAAC,YAAYM,MAAO,EAC5C;MACA,OAAOP,CAAC,CAACQ,QAAQ,CAAC,CAAC,KAAKP,CAAC,CAACO,QAAQ,CAAC,CAAC;IACtC;;IAEA;IACA,IAAI,EAAER,CAAC,YAAYS,MAAM,IAAIR,CAAC,YAAYQ,MAAM,CAAC,EAAE;MACjD,OAAO,KAAK;IACd;IAEA,IAAIT,CAAC,CAACU,aAAa,CAACT,CAAC,CAAC,IAAIA,CAAC,CAACS,aAAa,CAACV,CAAC,CAAC,EAAE;MAC5C,OAAO,KAAK;IACd;IAEA,IAAIA,CAAC,CAACW,WAAW,KAAKV,CAAC,CAACU,WAAW,EAAE;MACnC,OAAO,KAAK;IACd;IAEA,IAAIX,CAAC,CAACY,SAAS,KAAKX,CAAC,CAACW,SAAS,EAAE;MAC/B,OAAO,KAAK;IACd;;IAEA;IACA,IAAIf,SAAS,CAACgB,OAAO,CAACb,CAAC,CAAC,GAAG,CAAC,CAAC,IAAIF,UAAU,CAACe,OAAO,CAACZ,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE;MAC3D,OAAO,KAAK;IACd;;IAEA;IACA;IACA,KAAKC,CAAC,IAAID,CAAC,EAAE;MACX,IAAIA,CAAC,CAACa,cAAc,CAACZ,CAAC,CAAC,KAAKF,CAAC,CAACc,cAAc,CAACZ,CAAC,CAAC,EAAE;QAC/C,OAAO,KAAK;MACd,CAAC,MAAM,IAAI,OAAOD,CAAC,CAACC,CAAC,CAAC,KAAK,OAAOF,CAAC,CAACE,CAAC,CAAC,EAAE;QACtC,OAAO,KAAK;MACd;IACF;IAEA,KAAKA,CAAC,IAAIF,CAAC,EAAE;MACX,IAAIC,CAAC,CAACa,cAAc,CAACZ,CAAC,CAAC,KAAKF,CAAC,CAACc,cAAc,CAACZ,CAAC,CAAC,EAAE;QAC/C,OAAO,KAAK;MACd,CAAC,MAAM,IAAI,OAAOD,CAAC,CAACC,CAAC,CAAC,KAAK,OAAOF,CAAC,CAACE,CAAC,CAAC,EAAE;QACtC,OAAO,KAAK;MACd;MAEA,QAAQ,OAAOF,CAAC,CAACE,CAAC,CAAC;QACjB,KAAK,QAAQ;QACb,KAAK,UAAU;UACbL,SAAS,CAACkB,IAAI,CAACf,CAAC,CAAC;UACjBF,UAAU,CAACiB,IAAI,CAACd,CAAC,CAAC;UAElB,IAAI,CAACF,eAAe,CAACC,CAAC,CAACE,CAAC,CAAC,EAAED,CAAC,CAACC,CAAC,CAAC,CAAC,EAAE;YAChC,OAAO,KAAK;UACd;UAEAL,SAAS,CAACmB,GAAG,CAAC,CAAC;UACflB,UAAU,CAACkB,GAAG,CAAC,CAAC;UAChB;QAEF;UACE,IAAIhB,CAAC,CAACE,CAAC,CAAC,KAAKD,CAAC,CAACC,CAAC,CAAC,EAAE;YACjB,OAAO,KAAK;UACd;UACA;MACJ;IACF;IAEA,OAAO,IAAI;EACb;EAEA,IAAIe,SAAS,CAACC,MAAM,GAAG,CAAC,EAAE;IACxB,OAAO,IAAI,CAAC,CAAC;IACb;EACF;EAEA,KAAKvB,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGqB,SAAS,CAACC,MAAM,EAAEvB,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;IAC5CE,SAAS,GAAG,EAAE,CAAC,CAAC;IAChBC,UAAU,GAAG,EAAE;IAEf,IAAI,CAACC,eAAe,CAACkB,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAACtB,CAAC,CAAC,CAAC,EAAE;MAChD,OAAO,KAAK;IACd;EACF;EAEA,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}