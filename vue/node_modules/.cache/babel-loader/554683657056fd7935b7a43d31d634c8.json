{"ast":null,"code":"/**\n * MIT License\n *\n * Copyright (c) 2018 Fabvalaaah - fabvalaaah@laposte.net\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * DISCLAIMER:\n * I am not responsible in any way of any consequence of the usage of this piece\n * of software. You are warned, use it at your own risks.\n */\nconst initMatrix = (s1, s2) => {\n  /* istanbul ignore next */\n  if (undefined == s1 || undefined == s2) {\n    return null;\n  }\n\n  let d = [];\n\n  for (let i = 0; i <= s1.length; i++) {\n    d[i] = [];\n    d[i][0] = i;\n  }\n\n  for (let j = 0; j <= s2.length; j++) {\n    d[0][j] = j;\n  }\n\n  return d;\n};\n\nconst damerau = (i, j, s1, s2, d, cost) => {\n  if (i > 1 && j > 1 && s1[i - 1] === s2[j - 2] && s1[i - 2] === s2[j - 1]) {\n    d[i][j] = Math.min.apply(null, [d[i][j], d[i - 2][j - 2] + cost]);\n  }\n};\n\nconst distance = (s1, s2) => {\n  if (undefined == s1 || undefined == s2 || \"string\" !== typeof s1 || \"string\" !== typeof s2) {\n    return -1;\n  }\n\n  let d = initMatrix(s1, s2);\n  /* istanbul ignore next */\n\n  if (null === d) {\n    return -1;\n  }\n\n  for (var i = 1; i <= s1.length; i++) {\n    let cost;\n\n    for (let j = 1; j <= s2.length; j++) {\n      if (s1.charAt(i - 1) === s2.charAt(j - 1)) {\n        cost = 0;\n      } else {\n        cost = 1;\n      }\n\n      d[i][j] = Math.min.apply(null, [d[i - 1][j] + 1, d[i][j - 1] + 1, d[i - 1][j - 1] + cost]);\n      damerau(i, j, s1, s2, d, cost);\n    }\n  }\n\n  return d[s1.length][s2.length];\n};\n\nconst distanceProm = (s1, s2) => new Promise((resolve, reject) => {\n  let result = distance(s1, s2);\n\n  if (0 <= result) {\n    resolve(result);\n  } else {\n    reject(result);\n  }\n});\n\nconst minDistanceProm = (s1, list) => new Promise((resolve, reject) => {\n  if (undefined == list || !Array.isArray(list)) {\n    reject(-1);\n    return;\n  } else if (0 === list.length) {\n    resolve(distance(s1, \"\"));\n    return;\n  }\n\n  let min = -2;\n  list.forEach(s2 => {\n    let d = distance(s1, s2);\n\n    if (-2 === min || d < min) {\n      min = d;\n    }\n  });\n\n  if (0 <= min) {\n    resolve(min);\n  } else {\n    reject(min);\n  }\n});\n\nmodule.exports = {\n  distanceProm,\n  distance,\n  minDistanceProm\n};","map":{"version":3,"sources":["/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/node_modules/damerau-levenshtein-js/app.js"],"names":["initMatrix","s1","s2","undefined","d","i","length","j","damerau","cost","Math","min","apply","distance","charAt","distanceProm","Promise","resolve","reject","result","minDistanceProm","list","Array","isArray","forEach","module","exports"],"mappings":"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","sourcesContent":["/**\n * MIT License\n *\n * Copyright (c) 2018 Fabvalaaah - fabvalaaah@laposte.net\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * DISCLAIMER:\n * I am not responsible in any way of any consequence of the usage of this piece\n * of software. You are warned, use it at your own risks.\n */\n\nconst initMatrix = (s1, s2) => {\n  /* istanbul ignore next */\n  if (undefined == s1 || undefined == s2) {\n    return null;\n  }\n\n  let d = [];\n  for (let i = 0; i <= s1.length; i++) {\n    d[i] = [];\n    d[i][0] = i;\n  }\n  for (let j = 0; j <= s2.length; j++) {\n    d[0][j] = j;\n  }\n\n  return d;\n};\n\nconst damerau = (i, j, s1, s2, d, cost) => {\n  if (i > 1 && j > 1 && s1[i - 1] === s2[j - 2] && s1[i - 2] === s2[j - 1]) {\n    d[i][j] = Math.min.apply(null, [d[i][j], d[i - 2][j - 2] + cost]);\n  }\n};\n\nconst distance = (s1, s2) => {\n  if (\n    undefined == s1 ||\n    undefined == s2 ||\n    \"string\" !== typeof s1 ||\n    \"string\" !== typeof s2\n  ) {\n    return -1;\n  }\n\n  let d = initMatrix(s1, s2);\n  /* istanbul ignore next */\n  if (null === d) {\n    return -1;\n  }\n  for (var i = 1; i <= s1.length; i++) {\n    let cost;\n    for (let j = 1; j <= s2.length; j++) {\n      if (s1.charAt(i - 1) === s2.charAt(j - 1)) {\n        cost = 0;\n      } else {\n        cost = 1;\n      }\n\n      d[i][j] = Math.min.apply(null, [\n        d[i - 1][j] + 1,\n        d[i][j - 1] + 1,\n        d[i - 1][j - 1] + cost,\n      ]);\n\n      damerau(i, j, s1, s2, d, cost);\n    }\n  }\n\n  return d[s1.length][s2.length];\n};\n\nconst distanceProm = (s1, s2) =>\n  new Promise((resolve, reject) => {\n    let result = distance(s1, s2);\n    if (0 <= result) {\n      resolve(result);\n    } else {\n      reject(result);\n    }\n  });\n\nconst minDistanceProm = (s1, list) =>\n  new Promise((resolve, reject) => {\n    if (undefined == list || !Array.isArray(list)) {\n      reject(-1);\n      return;\n    } else if (0 === list.length) {\n      resolve(distance(s1, \"\"));\n      return;\n    }\n\n    let min = -2;\n\n    list.forEach((s2) => {\n      let d = distance(s1, s2);\n      if (-2 === min || d < min) {\n        min = d;\n      }\n    });\n\n    if (0 <= min) {\n      resolve(min);\n    } else {\n      reject(min);\n    }\n  });\n\nmodule.exports = {\n  distanceProm,\n  distance,\n  minDistanceProm,\n};\n"]},"metadata":{},"sourceType":"script"}