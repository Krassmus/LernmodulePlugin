{"ast":null,"code":"import { defineComponent } from 'vue';\nexport default defineComponent({\n  name: 'courseware-tabs',\n  props: {\n    setSelected: {\n      type: Number,\n      required: false,\n      default: 0\n    }\n  },\n\n  data() {\n    return {\n      tabs: []\n    };\n  },\n\n  created() {\n    const children = this.$refs?.children ?? [];\n    this.tabs = children.sort((a, b) => {\n      return a.index - b.index;\n    });\n  },\n\n  methods: {\n    selectTab(selectorId) {\n      let view = this;\n      this.tabs.forEach(tab => {\n        tab.isActive = false;\n\n        if (tab.selectorId === selectorId) {\n          tab.isActive = true;\n          view.$refs[selectorId][0].focus();\n          view.$emit('selectTab', tab);\n        }\n      });\n    },\n\n    selectTabByIndex(selectedIndex) {\n      let view = this;\n      this.tabs.forEach(tab => {\n        tab.isActive = false;\n\n        if (tab.index === selectedIndex) {\n          tab.isActive = true;\n          view.$refs[tab.selectorId][0].focus();\n          view.$emit('selectTab', tab);\n        }\n      });\n    },\n\n    handleKeyEvent(e) {\n      let tablist = e.target.parentElement;\n\n      switch (e.keyCode) {\n        case 37: // left\n\n        case 38:\n          // up\n          if (tablist.firstChild.id !== e.target.id) {\n            this.selectTab(e.target.previousElementSibling.id);\n          } else {\n            this.selectTab(tablist.lastChild.id);\n          }\n\n          break;\n\n        case 39: // right\n\n        case 40:\n          // down\n          if (tablist.lastChild.id !== e.target.id) {\n            this.selectTab(e.target.nextElementSibling.id);\n          } else {\n            this.selectTab(tablist.firstChild.id);\n          }\n\n          break;\n\n        case 36:\n          //pos1\n          this.selectTab(tablist.firstChild.id);\n          break;\n\n        case 35:\n          //end\n          this.selectTab(tablist.lastChild.id);\n          break;\n      }\n    },\n\n    getButtonById(id) {\n      return this.$refs[id][0];\n    },\n\n    getFirstTabButton() {\n      let selectorId = this.tabs[0].selectorId;\n      return this.$refs[selectorId][0];\n    },\n\n    getTabButtonByName(name) {\n      let selectorId = null;\n      this.tabs.forEach(tab => {\n        if (tab.name === name) {\n          selectorId = tab.selectorId;\n        }\n      });\n\n      if (selectorId) {\n        return this.$refs[selectorId][0];\n      }\n\n      return null;\n    },\n\n    getTabButtonByAlias(alias) {\n      let selectorId = null;\n      this.tabs.forEach(tab => {\n        if (tab.alias === alias) {\n          selectorId = tab.selectorId;\n        }\n      });\n\n      if (selectorId) {\n        return this.$refs[selectorId][0];\n      }\n\n      return null;\n    }\n\n  },\n  watch: {\n    setSelected(tab) {\n      this.selectTabByIndex(tab);\n    }\n\n  }\n});","map":{"version":3,"mappings":"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","names":["defineComponent","name","props","setSelected","type","Number","required","default","data","tabs","created","children","$refs","sort","a","b","index","methods","selectTab","selectorId","view","forEach","tab","isActive","focus","$emit","selectTabByIndex","selectedIndex","handleKeyEvent","e","tablist","target","parentElement","keyCode","firstChild","id","previousElementSibling","lastChild","nextElementSibling","getButtonById","getFirstTabButton","getTabButtonByName","getTabButtonByAlias","alias","watch"],"sourceRoot":"","sources":["/home/ann/dev/studip/54/public/plugins_packages/RasmusFuhse/LernmodulePlugin/vue/src/components/interactiveVideo/CoursewareTabs.vue"],"sourcesContent":["<template>\n  <div class=\"cw-tabs\">\n    <div role=\"tablist\" class=\"cw-tabs-nav\">\n      <button\n        v-for=\"(tab, index) in tabs\"\n        :key=\"index\"\n        :class=\"[\n          tab.isActive ? 'is-active' : '',\n          tab.icon !== '' && tab.name !== ''\n            ? 'cw-tabs-nav-icon-text-' + tab.icon\n            : '',\n          tab.icon !== '' && tab.name === ''\n            ? 'cw-tabs-nav-icon-solo-' + tab.icon\n            : '',\n        ]\"\n        :aria-selected=\"tab.isActive\"\n        :aria-controls=\"tab.id\"\n        :id=\"tab.selectorId\"\n        :tabindex=\"tab.isActive ? 0 : -1\"\n        @click=\"selectTab(tab.selectorId)\"\n        @keydown=\"handleKeyEvent($event)\"\n        :ref=\"tab.selectorId\"\n      >\n        {{ tab.name }}\n      </button>\n    </div>\n    <div class=\"cw-tabs-content\">\n      <slot ref=\"children\"></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nexport default defineComponent({\n  name: 'courseware-tabs',\n  props: {\n    setSelected: { type: Number, required: false, default: 0 },\n  },\n  data() {\n    return {\n      tabs: [],\n    };\n  },\n  created() {\n    const children = this.$refs?.children ?? [];\n    this.tabs = children.sort((a, b) => {\n      return a.index - b.index;\n    });\n  },\n  methods: {\n    selectTab(selectorId) {\n      let view = this;\n      this.tabs.forEach((tab) => {\n        tab.isActive = false;\n        if (tab.selectorId === selectorId) {\n          tab.isActive = true;\n          view.$refs[selectorId][0].focus();\n          view.$emit('selectTab', tab);\n        }\n      });\n    },\n    selectTabByIndex(selectedIndex) {\n      let view = this;\n      this.tabs.forEach((tab) => {\n        tab.isActive = false;\n        if (tab.index === selectedIndex) {\n          tab.isActive = true;\n          view.$refs[tab.selectorId][0].focus();\n          view.$emit('selectTab', tab);\n        }\n      });\n    },\n    handleKeyEvent(e) {\n      let tablist = e.target.parentElement;\n      switch (e.keyCode) {\n        case 37: // left\n        case 38: // up\n          if (tablist.firstChild.id !== e.target.id) {\n            this.selectTab(e.target.previousElementSibling.id);\n          } else {\n            this.selectTab(tablist.lastChild.id);\n          }\n          break;\n        case 39: // right\n        case 40: // down\n          if (tablist.lastChild.id !== e.target.id) {\n            this.selectTab(e.target.nextElementSibling.id);\n          } else {\n            this.selectTab(tablist.firstChild.id);\n          }\n          break;\n        case 36: //pos1\n          this.selectTab(tablist.firstChild.id);\n          break;\n        case 35: //end\n          this.selectTab(tablist.lastChild.id);\n          break;\n      }\n    },\n    getButtonById(id) {\n      return this.$refs[id][0];\n    },\n    getFirstTabButton() {\n      let selectorId = this.tabs[0].selectorId;\n      return this.$refs[selectorId][0];\n    },\n    getTabButtonByName(name) {\n      let selectorId = null;\n      this.tabs.forEach((tab) => {\n        if (tab.name === name) {\n          selectorId = tab.selectorId;\n        }\n      });\n      if (selectorId) {\n        return this.$refs[selectorId][0];\n      }\n      return null;\n    },\n    getTabButtonByAlias(alias) {\n      let selectorId = null;\n      this.tabs.forEach((tab) => {\n        if (tab.alias === alias) {\n          selectorId = tab.selectorId;\n        }\n      });\n      if (selectorId) {\n        return this.$refs[selectorId][0];\n      }\n      return null;\n    },\n  },\n  watch: {\n    setSelected(tab) {\n      this.selectTabByIndex(tab);\n    },\n  },\n});\n</script>\n"]},"metadata":{},"sourceType":"module"}