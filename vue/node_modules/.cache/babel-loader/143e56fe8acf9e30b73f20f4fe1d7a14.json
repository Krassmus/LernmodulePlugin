{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, renderSlot as _renderSlot } from \"vue\";\nconst _hoisted_1 = {\n  class: \"cw-tabs\"\n};\nconst _hoisted_2 = {\n  role: \"tablist\",\n  class: \"cw-tabs-nav\"\n};\nconst _hoisted_3 = [\"aria-selected\", \"aria-controls\", \"id\", \"tabindex\", \"onClick\"];\nconst _hoisted_4 = {\n  class: \"cw-tabs-content\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.tabs, (tab, index) => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: index,\n      class: _normalizeClass([tab.isActive ? 'is-active' : '', tab.icon !== '' && tab.name !== '' ? 'cw-tabs-nav-icon-text-' + tab.icon : '', tab.icon !== '' && tab.name === '' ? 'cw-tabs-nav-icon-solo-' + tab.icon : '']),\n      \"aria-selected\": tab.isActive,\n      \"aria-controls\": tab.id,\n      id: tab.selectorId,\n      tabindex: tab.isActive ? 0 : -1,\n      onClick: $event => $options.selectTab(tab.selectorId),\n      onKeydown: _cache[0] || (_cache[0] = $event => $options.handleKeyEvent($event)),\n      ref_for: true,\n      ref: tab.selectorId\n    }, _toDisplayString(tab.name), 43\n    /* TEXT, CLASS, PROPS, HYDRATE_EVENTS */\n    , _hoisted_3);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _createElementVNode(\"div\", _hoisted_4, [_renderSlot(_ctx.$slots, \"default\")])]);\n}","map":{"version":3,"mappings":";;AACSA,OAAK,EAAC;;;AACFC,MAAI,EAAC;AAAUD,OAAK,EAAC;;;;AAoBrBA,OAAK,EAAC;;;uBArBfE,oBAwBM,KAxBN,cAwBM,CAvBFC,oBAmBM,KAnBN,cAmBM,oBAlBFD,oBAiBSE,SAjBT,EAiBS,IAjBT,EAiBSC,YAhBkBC,UAgBlB,EAhBsB,CAAnBC,GAAmB,EAAdC,KAAc,KAAT;yBADtBN,oBAiBS,QAjBT,EAiBS;AAfJO,SAAG,EAAED,KAeD;AAdJR,WAAK,mBAAwBO,GAAG,CAACG,QAAJ,GAAY,WAAZ,GAAY,EAApC,EAA6EH,GAAG,CAACI,IAAJ,KAAQ,EAAR,IAAmBJ,GAAG,CAACK,IAAJ,KAAQ,EAA3B,GAA2B,2BAAqCL,GAAG,CAACI,IAApE,GAAwE,EAArJ,EAAgLJ,GAAG,CAACI,IAAJ,KAAQ,EAAR,IAAmBJ,GAAG,CAACK,IAAJ,KAAQ,EAA3B,GAA2B,2BAAqCL,GAAG,CAACI,IAApE,GAAwE,EAAxP,EAcD;AATJ,uBAAeJ,GAAG,CAACG,QASf;AARJ,uBAAeH,GAAG,CAACM,EAQf;AAPJA,QAAE,EAAEN,GAAG,CAACO,UAOJ;AANJC,cAAQ,EAAER,GAAG,CAACG,QAAJ,GAAY,CAAZ,GAAY,EAMlB;AALJM,aAAK,YAAEC,mBAAUV,GAAG,CAACO,UAAd,CAKH;AAJJI,eAAO,sCAAED,wBAAeE,MAAf,CAAF,CAIH;mBAAA;AAHJC,SAAG,EAAEb,GAAG,CAACO;AAGL,KAjBT,mBAgBOP,GAAG,CAACK,KAhBX,EAgBe;AAAA;AAhBf,MAgBeS,UAhBf;GAiBS,CAjBT;;AAAA,GAkBE,EAnBN,CAuBE,EAHFlB,oBAEM,KAFN,cAEM,CADFmB,YAAaC,WAAb,EAAa,SAAb,CACE,CAFN,CAGE,CAxBN","names":["class","role","_createElementBlock","_createElementVNode","_Fragment","_renderList","$data","tab","index","key","isActive","icon","name","id","selectorId","tabindex","onClick","$options","onKeydown","$event","ref","_hoisted_3","_renderSlot","_ctx"],"sourceRoot":"","sources":["/home/ann/dev/studip/54/resources/vue/components/courseware/CoursewareTabs.vue"],"sourcesContent":["<template>\n    <div class=\"cw-tabs\">\n        <div role=\"tablist\" class=\"cw-tabs-nav\">\n            <button\n                v-for=\"(tab, index) in tabs\"\n                :key=\"index\"\n                :class=\"[\n                    tab.isActive ? 'is-active' : '',\n                    tab.icon !== '' && tab.name !== '' ? 'cw-tabs-nav-icon-text-' + tab.icon : '',\n                    tab.icon !== '' && tab.name === '' ? 'cw-tabs-nav-icon-solo-' + tab.icon : '',\n                ]\"\n                :aria-selected=\"tab.isActive\"\n                :aria-controls=\"tab.id\"\n                :id=\"tab.selectorId\"\n                :tabindex=\"tab.isActive ? 0 : -1\"\n                @click=\"selectTab(tab.selectorId)\"\n                @keydown=\"handleKeyEvent($event)\"\n                :ref=\"tab.selectorId\"\n            >\n                {{ tab.name }}\n            </button>\n        </div>\n        <div class=\"cw-tabs-content\">\n            <slot></slot>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'courseware-tabs',\n    props: {\n        setSelected: { type: Number, required: false, default: 0 },\n    },\n    data() {\n        return {\n            tabs: [],\n        };\n    },\n    created() {\n        this.tabs = this.$children.sort((a, b) => {\n            return a.index - b.index;\n        });\n    },\n    methods: {\n        selectTab(selectorId) {\n            let view = this;\n            this.tabs.forEach((tab) => {\n                tab.isActive = false;\n                if (tab.selectorId === selectorId) {\n                    tab.isActive = true;\n                    view.$refs[selectorId][0].focus();\n                    view.$emit('selectTab', tab);\n                }\n            });\n        },\n        selectTabByIndex(selectedIndex) {\n            let view = this;\n            this.tabs.forEach((tab) => {\n                tab.isActive = false;\n                if (tab.index === selectedIndex) {\n                    tab.isActive = true;\n                    view.$refs[tab.selectorId][0].focus();\n                    view.$emit('selectTab', tab);\n                }\n            });\n        },\n        handleKeyEvent(e) {\n            let tablist = e.target.parentElement;\n            switch (e.keyCode) {\n                case 37: // left\n                case 38: // up\n                    if (tablist.firstChild.id !== e.target.id) {\n                        this.selectTab(e.target.previousElementSibling.id);\n                    } else {\n                        this.selectTab(tablist.lastChild.id);\n                    }\n                    break;\n                case 39: // right\n                case 40: // down\n                    if (tablist.lastChild.id !== e.target.id) {\n                        this.selectTab(e.target.nextElementSibling.id);\n                    } else {\n                        this.selectTab(tablist.firstChild.id);\n                    }\n                    break;\n                case 36: //pos1\n                    this.selectTab(tablist.firstChild.id);\n                    break;\n                case 35: //end\n                    this.selectTab(tablist.lastChild.id);\n                    break;\n            }\n        },\n        getButtonById(id) {\n            return this.$refs[id][0];\n        },\n        getFirstTabButton() {\n            let selectorId = this.tabs[0].selectorId;\n            return this.$refs[selectorId][0];\n        },\n        getTabButtonByName(name) {\n            let selectorId = null;\n            this.tabs.forEach((tab) => {\n                if (tab.name === name) {\n                    selectorId = tab.selectorId;\n                }\n            });\n            if (selectorId) {\n                return this.$refs[selectorId][0];\n            }\n            return null;\n        },\n        getTabButtonByAlias(alias) {\n            let selectorId = null;\n            this.tabs.forEach((tab) => {\n                if (tab.alias === alias) {\n                    selectorId = tab.selectorId;\n                }\n            });\n            if (selectorId) {\n                return this.$refs[selectorId][0];\n            }\n            return null;\n        },\n    },\n    watch: {\n        setSelected(tab) {\n            this.selectTabByIndex(tab);\n        },\n    },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}